var Cye=Object.defineProperty;var Eye=(e,t,n)=>t in e?Cye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $A=(e,t,n)=>(Eye(e,typeof t!="symbol"?t+"":t,n),n);function mJ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kye(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(t,i);return new a}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var gJ={exports:{}},RC={},vJ={exports:{}},Rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2=Symbol.for("react.element"),Aye=Symbol.for("react.portal"),_ye=Symbol.for("react.fragment"),Mye=Symbol.for("react.strict_mode"),Tye=Symbol.for("react.profiler"),Nye=Symbol.for("react.provider"),Dye=Symbol.for("react.context"),Rye=Symbol.for("react.forward_ref"),Iye=Symbol.for("react.suspense"),Oye=Symbol.for("react.memo"),Pye=Symbol.for("react.lazy"),kL=Symbol.iterator;function jye(e){return e===null||typeof e!="object"?null:(e=kL&&e[kL]||e["@@iterator"],typeof e=="function"?e:null)}var yJ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bJ=Object.assign,wJ={};function v1(e,t,n){this.props=e,this.context=t,this.refs=wJ,this.updater=n||yJ}v1.prototype.isReactComponent={};v1.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};v1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xJ(){}xJ.prototype=v1.prototype;function YN(e,t,n){this.props=e,this.context=t,this.refs=wJ,this.updater=n||yJ}var JN=YN.prototype=new xJ;JN.constructor=YN;bJ(JN,v1.prototype);JN.isPureReactComponent=!0;var AL=Array.isArray,SJ=Object.prototype.hasOwnProperty,QN={current:null},CJ={key:!0,ref:!0,__self:!0,__source:!0};function EJ(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)SJ.call(t,r)&&!CJ.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:s2,type:e,key:a,ref:o,props:i,_owner:QN.current}}function Lye(e,t){return{$$typeof:s2,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function XN(e){return typeof e=="object"&&e!==null&&e.$$typeof===s2}function Fye(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _L=/\/+/g;function UA(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fye(""+e.key):t.toString(36)}function D3(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s2:case Aye:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+UA(o,0):r,AL(i)?(n="",e!=null&&(n=e.replace(_L,"$&/")+"/"),D3(i,t,n,"",function(u){return u})):i!=null&&(XN(i)&&(i=Lye(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_L,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",AL(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+UA(a,s);o+=D3(a,t,n,l,i)}else if(l=jye(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+UA(a,s++),o+=D3(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function nx(e,t,n){if(e==null)return e;var r=[],i=0;return D3(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Bye(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Do={current:null},R3={transition:null},zye={ReactCurrentDispatcher:Do,ReactCurrentBatchConfig:R3,ReactCurrentOwner:QN};Rn.Children={map:nx,forEach:function(e,t,n){nx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nx(e,function(){t++}),t},toArray:function(e){return nx(e,function(t){return t})||[]},only:function(e){if(!XN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Rn.Component=v1;Rn.Fragment=_ye;Rn.Profiler=Tye;Rn.PureComponent=YN;Rn.StrictMode=Mye;Rn.Suspense=Iye;Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zye;Rn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=bJ({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=QN.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)SJ.call(t,l)&&!CJ.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:s2,type:e.type,key:i,ref:a,props:r,_owner:o}};Rn.createContext=function(e){return e={$$typeof:Dye,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nye,_context:e},e.Consumer=e};Rn.createElement=EJ;Rn.createFactory=function(e){var t=EJ.bind(null,e);return t.type=e,t};Rn.createRef=function(){return{current:null}};Rn.forwardRef=function(e){return{$$typeof:Rye,render:e}};Rn.isValidElement=XN;Rn.lazy=function(e){return{$$typeof:Pye,_payload:{_status:-1,_result:e},_init:Bye}};Rn.memo=function(e,t){return{$$typeof:Oye,type:e,compare:t===void 0?null:t}};Rn.startTransition=function(e){var t=R3.transition;R3.transition={};try{e()}finally{R3.transition=t}};Rn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Rn.useCallback=function(e,t){return Do.current.useCallback(e,t)};Rn.useContext=function(e){return Do.current.useContext(e)};Rn.useDebugValue=function(){};Rn.useDeferredValue=function(e){return Do.current.useDeferredValue(e)};Rn.useEffect=function(e,t){return Do.current.useEffect(e,t)};Rn.useId=function(){return Do.current.useId()};Rn.useImperativeHandle=function(e,t,n){return Do.current.useImperativeHandle(e,t,n)};Rn.useInsertionEffect=function(e,t){return Do.current.useInsertionEffect(e,t)};Rn.useLayoutEffect=function(e,t){return Do.current.useLayoutEffect(e,t)};Rn.useMemo=function(e,t){return Do.current.useMemo(e,t)};Rn.useReducer=function(e,t,n){return Do.current.useReducer(e,t,n)};Rn.useRef=function(e){return Do.current.useRef(e)};Rn.useState=function(e){return Do.current.useState(e)};Rn.useSyncExternalStore=function(e,t,n){return Do.current.useSyncExternalStore(e,t,n)};Rn.useTransition=function(){return Do.current.useTransition()};Rn.version="18.2.0";vJ.exports=Rn;var j=vJ.exports;const O=Rs(j),ZN=mJ({__proto__:null,default:O},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $ye=j,Uye=Symbol.for("react.element"),Vye=Symbol.for("react.fragment"),Hye=Object.prototype.hasOwnProperty,qye=$ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wye={key:!0,ref:!0,__self:!0,__source:!0};function kJ(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Hye.call(t,r)&&!Wye.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Uye,type:e,key:a,ref:o,props:i,_owner:qye.current}}RC.Fragment=Vye;RC.jsx=kJ;RC.jsxs=kJ;gJ.exports=RC;var p=gJ.exports;var w_={},AJ={exports:{}},Is={},_J={exports:{}},MJ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,B){var H=V.length;V.push(B);e:for(;0<H;){var K=H-1>>>1,W=V[K];if(0<i(W,B))V[K]=B,V[H]=W,H=K;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],H=V.pop();if(H!==B){V[0]=H;e:for(var K=0,W=V.length,L=W>>>1;K<L;){var G=2*(K+1)-1,de=V[G],Q=G+1,ee=V[Q];if(0>i(de,H))Q<W&&0>i(ee,de)?(V[K]=ee,V[Q]=H,K=Q):(V[K]=de,V[G]=H,K=G);else if(Q<W&&0>i(ee,H))V[K]=ee,V[Q]=H,K=Q;else break e}}return B}function i(V,B){var H=V.sortIndex-B.sortIndex;return H!==0?H:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,f=3,h=!1,m=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=V)r(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(u)}}function v(V){if(g=!1,x(V),!m)if(n(l)!==null)m=!0,D(C);else{var B=n(u);B!==null&&P(v,B.startTime-V)}}function C(V,B){m=!1,g&&(g=!1,y(_),_=-1),h=!0;var H=f;try{for(x(B),d=n(l);d!==null&&(!(d.expirationTime>B)||V&&!N());){var K=d.callback;if(typeof K=="function"){d.callback=null,f=d.priorityLevel;var W=K(d.expirationTime<=B);B=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),x(B)}else r(l);d=n(l)}if(d!==null)var L=!0;else{var G=n(u);G!==null&&P(v,G.startTime-B),L=!1}return L}finally{d=null,f=H,h=!1}}var b=!1,A=null,_=-1,T=5,M=-1;function N(){return!(e.unstable_now()-M<T)}function I(){if(A!==null){var V=e.unstable_now();M=V;var B=!0;try{B=A(!0,V)}finally{B?F():(b=!1,A=null)}}else b=!1}var F;if(typeof E=="function")F=function(){E(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,z=$.port2;$.port1.onmessage=I,F=function(){z.postMessage(null)}}else F=function(){S(I,0)};function D(V){A=V,b||(b=!0,F())}function P(V,B){_=S(function(){V(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,D(C))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var H=f;f=B;try{return V()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var H=f;f=V;try{return B()}finally{f=H}},e.unstable_scheduleCallback=function(V,B,H){var K=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,V){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,V={id:c++,callback:B,priorityLevel:V,startTime:H,expirationTime:W,sortIndex:-1},H>K?(V.sortIndex=H,t(u,V),n(l)===null&&V===n(u)&&(g?(y(_),_=-1):g=!0,P(v,H-K))):(V.sortIndex=W,t(l,V),m||h||(m=!0,D(C))),V},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(V){var B=f;return function(){var H=f;f=B;try{return V.apply(this,arguments)}finally{f=H}}}})(MJ);_J.exports=MJ;var Gye=_J.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TJ=j,As=Gye;function lt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NJ=new Set,lb={};function lm(e,t){k0(e,t),k0(e+"Capture",t)}function k0(e,t){for(lb[e]=t,e=0;e<t.length;e++)NJ.add(t[e])}var Jc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x_=Object.prototype.hasOwnProperty,Kye=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ML={},TL={};function Yye(e){return x_.call(TL,e)?!0:x_.call(ML,e)?!1:Kye.test(e)?TL[e]=!0:(ML[e]=!0,!1)}function Jye(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qye(e,t,n,r){if(t===null||typeof t>"u"||Jye(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ro(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ca={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ca[e]=new Ro(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ca[t]=new Ro(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ca[e]=new Ro(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ca[e]=new Ro(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ca[e]=new Ro(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ca[e]=new Ro(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ca[e]=new Ro(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ca[e]=new Ro(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ca[e]=new Ro(e,5,!1,e.toLowerCase(),null,!1,!1)});var eD=/[\-:]([a-z])/g;function tD(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(eD,tD);Ca[t]=new Ro(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(eD,tD);Ca[t]=new Ro(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(eD,tD);Ca[t]=new Ro(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ca[e]=new Ro(e,1,!1,e.toLowerCase(),null,!1,!1)});Ca.xlinkHref=new Ro("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ca[e]=new Ro(e,1,!1,e.toLowerCase(),null,!0,!0)});function nD(e,t,n,r){var i=Ca.hasOwnProperty(t)?Ca[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qye(t,n,i,r)&&(n=null),r||i===null?Yye(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var dd=TJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rx=Symbol.for("react.element"),Ng=Symbol.for("react.portal"),Dg=Symbol.for("react.fragment"),rD=Symbol.for("react.strict_mode"),S_=Symbol.for("react.profiler"),DJ=Symbol.for("react.provider"),RJ=Symbol.for("react.context"),iD=Symbol.for("react.forward_ref"),C_=Symbol.for("react.suspense"),E_=Symbol.for("react.suspense_list"),aD=Symbol.for("react.memo"),Kd=Symbol.for("react.lazy"),IJ=Symbol.for("react.offscreen"),NL=Symbol.iterator;function Mv(e){return e===null||typeof e!="object"?null:(e=NL&&e[NL]||e["@@iterator"],typeof e=="function"?e:null)}var ii=Object.assign,VA;function sy(e){if(VA===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);VA=t&&t[1]||""}return`
`+VA+e}var HA=!1;function qA(e,t){if(!e||HA)return"";HA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{HA=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sy(e):""}function Xye(e){switch(e.tag){case 5:return sy(e.type);case 16:return sy("Lazy");case 13:return sy("Suspense");case 19:return sy("SuspenseList");case 0:case 2:case 15:return e=qA(e.type,!1),e;case 11:return e=qA(e.type.render,!1),e;case 1:return e=qA(e.type,!0),e;default:return""}}function k_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dg:return"Fragment";case Ng:return"Portal";case S_:return"Profiler";case rD:return"StrictMode";case C_:return"Suspense";case E_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RJ:return(e.displayName||"Context")+".Consumer";case DJ:return(e._context.displayName||"Context")+".Provider";case iD:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case aD:return t=e.displayName||null,t!==null?t:k_(e.type)||"Memo";case Kd:t=e._payload,e=e._init;try{return k_(e(t))}catch{}}return null}function Zye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k_(t);case 8:return t===rD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $f(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function OJ(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ebe(e){var t=OJ(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ix(e){e._valueTracker||(e._valueTracker=ebe(e))}function PJ(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=OJ(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function A_(e,t){var n=t.checked;return ii({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function DL(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$f(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jJ(e,t){t=t.checked,t!=null&&nD(e,"checked",t,!1)}function __(e,t){jJ(e,t);var n=$f(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?M_(e,t.type,n):t.hasOwnProperty("defaultValue")&&M_(e,t.type,$f(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function RL(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function M_(e,t,n){(t!=="number"||dS(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ly=Array.isArray;function a0(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$f(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function T_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(lt(91));return ii({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function IL(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(lt(92));if(ly(n)){if(1<n.length)throw Error(lt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$f(n)}}function LJ(e,t){var n=$f(t.value),r=$f(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function OL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function FJ(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?FJ(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ax,BJ=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ax=ax||document.createElement("div"),ax.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ax.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ub(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ay={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tbe=["Webkit","ms","Moz","O"];Object.keys(Ay).forEach(function(e){tbe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ay[t]=Ay[e]})});function zJ(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ay.hasOwnProperty(e)&&Ay[e]?(""+t).trim():t+"px"}function $J(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zJ(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var nbe=ii({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D_(e,t){if(t){if(nbe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(lt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(lt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(lt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(lt(62))}}function R_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I_=null;function oD(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var O_=null,o0=null,s0=null;function PL(e){if(e=c2(e)){if(typeof O_!="function")throw Error(lt(280));var t=e.stateNode;t&&(t=LC(t),O_(e.stateNode,e.type,t))}}function UJ(e){o0?s0?s0.push(e):s0=[e]:o0=e}function VJ(){if(o0){var e=o0,t=s0;if(s0=o0=null,PL(e),t)for(e=0;e<t.length;e++)PL(t[e])}}function HJ(e,t){return e(t)}function qJ(){}var WA=!1;function WJ(e,t,n){if(WA)return e(t,n);WA=!0;try{return HJ(e,t,n)}finally{WA=!1,(o0!==null||s0!==null)&&(qJ(),VJ())}}function cb(e,t){var n=e.stateNode;if(n===null)return null;var r=LC(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(lt(231,t,typeof n));return n}var P_=!1;if(Jc)try{var Tv={};Object.defineProperty(Tv,"passive",{get:function(){P_=!0}}),window.addEventListener("test",Tv,Tv),window.removeEventListener("test",Tv,Tv)}catch{P_=!1}function rbe(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var _y=!1,fS=null,hS=!1,j_=null,ibe={onError:function(e){_y=!0,fS=e}};function abe(e,t,n,r,i,a,o,s,l){_y=!1,fS=null,rbe.apply(ibe,arguments)}function obe(e,t,n,r,i,a,o,s,l){if(abe.apply(this,arguments),_y){if(_y){var u=fS;_y=!1,fS=null}else throw Error(lt(198));hS||(hS=!0,j_=u)}}function um(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function GJ(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jL(e){if(um(e)!==e)throw Error(lt(188))}function sbe(e){var t=e.alternate;if(!t){if(t=um(e),t===null)throw Error(lt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return jL(i),e;if(a===r)return jL(i),t;a=a.sibling}throw Error(lt(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(lt(189))}}if(n.alternate!==r)throw Error(lt(190))}if(n.tag!==3)throw Error(lt(188));return n.stateNode.current===n?e:t}function KJ(e){return e=sbe(e),e!==null?YJ(e):null}function YJ(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=YJ(e);if(t!==null)return t;e=e.sibling}return null}var JJ=As.unstable_scheduleCallback,LL=As.unstable_cancelCallback,lbe=As.unstable_shouldYield,ube=As.unstable_requestPaint,wi=As.unstable_now,cbe=As.unstable_getCurrentPriorityLevel,sD=As.unstable_ImmediatePriority,QJ=As.unstable_UserBlockingPriority,pS=As.unstable_NormalPriority,dbe=As.unstable_LowPriority,XJ=As.unstable_IdlePriority,IC=null,Uu=null;function fbe(e){if(Uu&&typeof Uu.onCommitFiberRoot=="function")try{Uu.onCommitFiberRoot(IC,e,void 0,(e.current.flags&128)===128)}catch{}}var eu=Math.clz32?Math.clz32:mbe,hbe=Math.log,pbe=Math.LN2;function mbe(e){return e>>>=0,e===0?32:31-(hbe(e)/pbe|0)|0}var ox=64,sx=4194304;function uy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mS(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=uy(s):(a&=o,a!==0&&(r=uy(a)))}else o=n&~i,o!==0?r=uy(o):a!==0&&(r=uy(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-eu(t),i=1<<n,r|=e[n],t&=~i;return r}function gbe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vbe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-eu(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=gbe(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function L_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ZJ(){var e=ox;return ox<<=1,!(ox&4194240)&&(ox=64),e}function GA(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function l2(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-eu(t),e[t]=n}function ybe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-eu(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function lD(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-eu(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var cr=0;function eQ(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tQ,uD,nQ,rQ,iQ,F_=!1,lx=[],Sf=null,Cf=null,Ef=null,db=new Map,fb=new Map,sf=[],bbe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FL(e,t){switch(e){case"focusin":case"focusout":Sf=null;break;case"dragenter":case"dragleave":Cf=null;break;case"mouseover":case"mouseout":Ef=null;break;case"pointerover":case"pointerout":db.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fb.delete(t.pointerId)}}function Nv(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=c2(t),t!==null&&uD(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wbe(e,t,n,r,i){switch(t){case"focusin":return Sf=Nv(Sf,e,t,n,r,i),!0;case"dragenter":return Cf=Nv(Cf,e,t,n,r,i),!0;case"mouseover":return Ef=Nv(Ef,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return db.set(a,Nv(db.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,fb.set(a,Nv(fb.get(a)||null,e,t,n,r,i)),!0}return!1}function aQ(e){var t=gp(e.target);if(t!==null){var n=um(t);if(n!==null){if(t=n.tag,t===13){if(t=GJ(n),t!==null){e.blockedOn=t,iQ(e.priority,function(){nQ(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function I3(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=B_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);I_=r,n.target.dispatchEvent(r),I_=null}else return t=c2(n),t!==null&&uD(t),e.blockedOn=n,!1;t.shift()}return!0}function BL(e,t,n){I3(e)&&n.delete(t)}function xbe(){F_=!1,Sf!==null&&I3(Sf)&&(Sf=null),Cf!==null&&I3(Cf)&&(Cf=null),Ef!==null&&I3(Ef)&&(Ef=null),db.forEach(BL),fb.forEach(BL)}function Dv(e,t){e.blockedOn===t&&(e.blockedOn=null,F_||(F_=!0,As.unstable_scheduleCallback(As.unstable_NormalPriority,xbe)))}function hb(e){function t(i){return Dv(i,e)}if(0<lx.length){Dv(lx[0],e);for(var n=1;n<lx.length;n++){var r=lx[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Sf!==null&&Dv(Sf,e),Cf!==null&&Dv(Cf,e),Ef!==null&&Dv(Ef,e),db.forEach(t),fb.forEach(t),n=0;n<sf.length;n++)r=sf[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sf.length&&(n=sf[0],n.blockedOn===null);)aQ(n),n.blockedOn===null&&sf.shift()}var l0=dd.ReactCurrentBatchConfig,gS=!0;function Sbe(e,t,n,r){var i=cr,a=l0.transition;l0.transition=null;try{cr=1,cD(e,t,n,r)}finally{cr=i,l0.transition=a}}function Cbe(e,t,n,r){var i=cr,a=l0.transition;l0.transition=null;try{cr=4,cD(e,t,n,r)}finally{cr=i,l0.transition=a}}function cD(e,t,n,r){if(gS){var i=B_(e,t,n,r);if(i===null)r8(e,t,r,vS,n),FL(e,r);else if(wbe(i,e,t,n,r))r.stopPropagation();else if(FL(e,r),t&4&&-1<bbe.indexOf(e)){for(;i!==null;){var a=c2(i);if(a!==null&&tQ(a),a=B_(e,t,n,r),a===null&&r8(e,t,r,vS,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else r8(e,t,r,null,n)}}var vS=null;function B_(e,t,n,r){if(vS=null,e=oD(r),e=gp(e),e!==null)if(t=um(e),t===null)e=null;else if(n=t.tag,n===13){if(e=GJ(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vS=e,null}function oQ(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cbe()){case sD:return 1;case QJ:return 4;case pS:case dbe:return 16;case XJ:return 536870912;default:return 16}default:return 16}}var hf=null,dD=null,O3=null;function sQ(){if(O3)return O3;var e,t=dD,n=t.length,r,i="value"in hf?hf.value:hf.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return O3=i.slice(e,1<r?1-r:void 0)}function P3(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ux(){return!0}function zL(){return!1}function Os(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ux:zL,this.isPropagationStopped=zL,this}return ii(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ux)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ux)},persist:function(){},isPersistent:ux}),t}var y1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fD=Os(y1),u2=ii({},y1,{view:0,detail:0}),Ebe=Os(u2),KA,YA,Rv,OC=ii({},u2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hD,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rv&&(Rv&&e.type==="mousemove"?(KA=e.screenX-Rv.screenX,YA=e.screenY-Rv.screenY):YA=KA=0,Rv=e),KA)},movementY:function(e){return"movementY"in e?e.movementY:YA}}),$L=Os(OC),kbe=ii({},OC,{dataTransfer:0}),Abe=Os(kbe),_be=ii({},u2,{relatedTarget:0}),JA=Os(_be),Mbe=ii({},y1,{animationName:0,elapsedTime:0,pseudoElement:0}),Tbe=Os(Mbe),Nbe=ii({},y1,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dbe=Os(Nbe),Rbe=ii({},y1,{data:0}),UL=Os(Rbe),Ibe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Obe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pbe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jbe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pbe[e])?!!t[e]:!1}function hD(){return jbe}var Lbe=ii({},u2,{key:function(e){if(e.key){var t=Ibe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=P3(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Obe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hD,charCode:function(e){return e.type==="keypress"?P3(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?P3(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fbe=Os(Lbe),Bbe=ii({},OC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VL=Os(Bbe),zbe=ii({},u2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hD}),$be=Os(zbe),Ube=ii({},y1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vbe=Os(Ube),Hbe=ii({},OC,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qbe=Os(Hbe),Wbe=[9,13,27,32],pD=Jc&&"CompositionEvent"in window,My=null;Jc&&"documentMode"in document&&(My=document.documentMode);var Gbe=Jc&&"TextEvent"in window&&!My,lQ=Jc&&(!pD||My&&8<My&&11>=My),HL=String.fromCharCode(32),qL=!1;function uQ(e,t){switch(e){case"keyup":return Wbe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cQ(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rg=!1;function Kbe(e,t){switch(e){case"compositionend":return cQ(t);case"keypress":return t.which!==32?null:(qL=!0,HL);case"textInput":return e=t.data,e===HL&&qL?null:e;default:return null}}function Ybe(e,t){if(Rg)return e==="compositionend"||!pD&&uQ(e,t)?(e=sQ(),O3=dD=hf=null,Rg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lQ&&t.locale!=="ko"?null:t.data;default:return null}}var Jbe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jbe[e.type]:t==="textarea"}function dQ(e,t,n,r){UJ(r),t=yS(t,"onChange"),0<t.length&&(n=new fD("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ty=null,pb=null;function Qbe(e){SQ(e,0)}function PC(e){var t=Pg(e);if(PJ(t))return e}function Xbe(e,t){if(e==="change")return t}var fQ=!1;if(Jc){var QA;if(Jc){var XA="oninput"in document;if(!XA){var GL=document.createElement("div");GL.setAttribute("oninput","return;"),XA=typeof GL.oninput=="function"}QA=XA}else QA=!1;fQ=QA&&(!document.documentMode||9<document.documentMode)}function KL(){Ty&&(Ty.detachEvent("onpropertychange",hQ),pb=Ty=null)}function hQ(e){if(e.propertyName==="value"&&PC(pb)){var t=[];dQ(t,pb,e,oD(e)),WJ(Qbe,t)}}function Zbe(e,t,n){e==="focusin"?(KL(),Ty=t,pb=n,Ty.attachEvent("onpropertychange",hQ)):e==="focusout"&&KL()}function e2e(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return PC(pb)}function t2e(e,t){if(e==="click")return PC(t)}function n2e(e,t){if(e==="input"||e==="change")return PC(t)}function r2e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ou=typeof Object.is=="function"?Object.is:r2e;function mb(e,t){if(ou(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!x_.call(t,i)||!ou(e[i],t[i]))return!1}return!0}function YL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function JL(e,t){var n=YL(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=YL(n)}}function pQ(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pQ(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mQ(){for(var e=window,t=dS();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dS(e.document)}return t}function mD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function i2e(e){var t=mQ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pQ(n.ownerDocument.documentElement,n)){if(r!==null&&mD(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=JL(n,a);var o=JL(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var a2e=Jc&&"documentMode"in document&&11>=document.documentMode,Ig=null,z_=null,Ny=null,$_=!1;function QL(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$_||Ig==null||Ig!==dS(r)||(r=Ig,"selectionStart"in r&&mD(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ny&&mb(Ny,r)||(Ny=r,r=yS(z_,"onSelect"),0<r.length&&(t=new fD("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ig)))}function cx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Og={animationend:cx("Animation","AnimationEnd"),animationiteration:cx("Animation","AnimationIteration"),animationstart:cx("Animation","AnimationStart"),transitionend:cx("Transition","TransitionEnd")},ZA={},gQ={};Jc&&(gQ=document.createElement("div").style,"AnimationEvent"in window||(delete Og.animationend.animation,delete Og.animationiteration.animation,delete Og.animationstart.animation),"TransitionEvent"in window||delete Og.transitionend.transition);function jC(e){if(ZA[e])return ZA[e];if(!Og[e])return e;var t=Og[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gQ)return ZA[e]=t[n];return e}var vQ=jC("animationend"),yQ=jC("animationiteration"),bQ=jC("animationstart"),wQ=jC("transitionend"),xQ=new Map,XL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uh(e,t){xQ.set(e,t),lm(t,[e])}for(var e8=0;e8<XL.length;e8++){var t8=XL[e8],o2e=t8.toLowerCase(),s2e=t8[0].toUpperCase()+t8.slice(1);uh(o2e,"on"+s2e)}uh(vQ,"onAnimationEnd");uh(yQ,"onAnimationIteration");uh(bQ,"onAnimationStart");uh("dblclick","onDoubleClick");uh("focusin","onFocus");uh("focusout","onBlur");uh(wQ,"onTransitionEnd");k0("onMouseEnter",["mouseout","mouseover"]);k0("onMouseLeave",["mouseout","mouseover"]);k0("onPointerEnter",["pointerout","pointerover"]);k0("onPointerLeave",["pointerout","pointerover"]);lm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lm("onBeforeInput",["compositionend","keypress","textInput","paste"]);lm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2e=new Set("cancel close invalid load scroll toggle".split(" ").concat(cy));function ZL(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,obe(r,t,void 0,e),e.currentTarget=null}function SQ(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;ZL(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;ZL(i,s,u),a=l}}}if(hS)throw e=j_,hS=!1,j_=null,e}function Pr(e,t){var n=t[W_];n===void 0&&(n=t[W_]=new Set);var r=e+"__bubble";n.has(r)||(CQ(t,e,2,!1),n.add(r))}function n8(e,t,n){var r=0;t&&(r|=4),CQ(n,e,r,t)}var dx="_reactListening"+Math.random().toString(36).slice(2);function gb(e){if(!e[dx]){e[dx]=!0,NJ.forEach(function(n){n!=="selectionchange"&&(l2e.has(n)||n8(n,!1,e),n8(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dx]||(t[dx]=!0,n8("selectionchange",!1,t))}}function CQ(e,t,n,r){switch(oQ(t)){case 1:var i=Sbe;break;case 4:i=Cbe;break;default:i=cD}n=i.bind(null,t,n,e),i=void 0,!P_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function r8(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=gp(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}WJ(function(){var u=a,c=oD(n),d=[];e:{var f=xQ.get(e);if(f!==void 0){var h=fD,m=e;switch(e){case"keypress":if(P3(n)===0)break e;case"keydown":case"keyup":h=Fbe;break;case"focusin":m="focus",h=JA;break;case"focusout":m="blur",h=JA;break;case"beforeblur":case"afterblur":h=JA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=$L;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Abe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=$be;break;case vQ:case yQ:case bQ:h=Tbe;break;case wQ:h=Vbe;break;case"scroll":h=Ebe;break;case"wheel":h=qbe;break;case"copy":case"cut":case"paste":h=Dbe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=VL}var g=(t&4)!==0,S=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var E=u,x;E!==null;){x=E;var v=x.stateNode;if(x.tag===5&&v!==null&&(x=v,y!==null&&(v=cb(E,y),v!=null&&g.push(vb(E,v,x)))),S)break;E=E.return}0<g.length&&(f=new h(f,m,null,n,c),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==I_&&(m=n.relatedTarget||n.fromElement)&&(gp(m)||m[Qc]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?gp(m):null,m!==null&&(S=um(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(g=$L,v="onMouseLeave",y="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(g=VL,v="onPointerLeave",y="onPointerEnter",E="pointer"),S=h==null?f:Pg(h),x=m==null?f:Pg(m),f=new g(v,E+"leave",h,n,c),f.target=S,f.relatedTarget=x,v=null,gp(c)===u&&(g=new g(y,E+"enter",m,n,c),g.target=x,g.relatedTarget=S,v=g),S=v,h&&m)t:{for(g=h,y=m,E=0,x=g;x;x=ng(x))E++;for(x=0,v=y;v;v=ng(v))x++;for(;0<E-x;)g=ng(g),E--;for(;0<x-E;)y=ng(y),x--;for(;E--;){if(g===y||y!==null&&g===y.alternate)break t;g=ng(g),y=ng(y)}g=null}else g=null;h!==null&&eF(d,f,h,g,!1),m!==null&&S!==null&&eF(d,S,m,g,!0)}}e:{if(f=u?Pg(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=Xbe;else if(WL(f))if(fQ)C=n2e;else{C=e2e;var b=Zbe}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=t2e);if(C&&(C=C(e,u))){dQ(d,C,n,c);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&M_(f,"number",f.value)}switch(b=u?Pg(u):window,e){case"focusin":(WL(b)||b.contentEditable==="true")&&(Ig=b,z_=u,Ny=null);break;case"focusout":Ny=z_=Ig=null;break;case"mousedown":$_=!0;break;case"contextmenu":case"mouseup":case"dragend":$_=!1,QL(d,n,c);break;case"selectionchange":if(a2e)break;case"keydown":case"keyup":QL(d,n,c)}var A;if(pD)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Rg?uQ(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(lQ&&n.locale!=="ko"&&(Rg||_!=="onCompositionStart"?_==="onCompositionEnd"&&Rg&&(A=sQ()):(hf=c,dD="value"in hf?hf.value:hf.textContent,Rg=!0)),b=yS(u,_),0<b.length&&(_=new UL(_,e,null,n,c),d.push({event:_,listeners:b}),A?_.data=A:(A=cQ(n),A!==null&&(_.data=A)))),(A=Gbe?Kbe(e,n):Ybe(e,n))&&(u=yS(u,"onBeforeInput"),0<u.length&&(c=new UL("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=A))}SQ(d,t)})}function vb(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yS(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=cb(e,n),a!=null&&r.unshift(vb(e,a,i)),a=cb(e,t),a!=null&&r.push(vb(e,a,i))),e=e.return}return r}function ng(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eF(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=cb(n,a),l!=null&&o.unshift(vb(n,l,s))):i||(l=cb(n,a),l!=null&&o.push(vb(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var u2e=/\r\n?/g,c2e=/\u0000|\uFFFD/g;function tF(e){return(typeof e=="string"?e:""+e).replace(u2e,`
`).replace(c2e,"")}function fx(e,t,n){if(t=tF(t),tF(e)!==t&&n)throw Error(lt(425))}function bS(){}var U_=null,V_=null;function H_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var q_=typeof setTimeout=="function"?setTimeout:void 0,d2e=typeof clearTimeout=="function"?clearTimeout:void 0,nF=typeof Promise=="function"?Promise:void 0,f2e=typeof queueMicrotask=="function"?queueMicrotask:typeof nF<"u"?function(e){return nF.resolve(null).then(e).catch(h2e)}:q_;function h2e(e){setTimeout(function(){throw e})}function i8(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),hb(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hb(t)}function kf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rF(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var b1=Math.random().toString(36).slice(2),Pu="__reactFiber$"+b1,yb="__reactProps$"+b1,Qc="__reactContainer$"+b1,W_="__reactEvents$"+b1,p2e="__reactListeners$"+b1,m2e="__reactHandles$"+b1;function gp(e){var t=e[Pu];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qc]||n[Pu]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rF(e);e!==null;){if(n=e[Pu])return n;e=rF(e)}return t}e=n,n=e.parentNode}return null}function c2(e){return e=e[Pu]||e[Qc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(lt(33))}function LC(e){return e[yb]||null}var G_=[],jg=-1;function ch(e){return{current:e}}function Lr(e){0>jg||(e.current=G_[jg],G_[jg]=null,jg--)}function Mr(e,t){jg++,G_[jg]=e.current,e.current=t}var Uf={},Wa=ch(Uf),Wo=ch(!1),$p=Uf;function A0(e,t){var n=e.type.contextTypes;if(!n)return Uf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Go(e){return e=e.childContextTypes,e!=null}function wS(){Lr(Wo),Lr(Wa)}function iF(e,t,n){if(Wa.current!==Uf)throw Error(lt(168));Mr(Wa,t),Mr(Wo,n)}function EQ(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(lt(108,Zye(e)||"Unknown",i));return ii({},n,r)}function xS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Uf,$p=Wa.current,Mr(Wa,e),Mr(Wo,Wo.current),!0}function aF(e,t,n){var r=e.stateNode;if(!r)throw Error(lt(169));n?(e=EQ(e,t,$p),r.__reactInternalMemoizedMergedChildContext=e,Lr(Wo),Lr(Wa),Mr(Wa,e)):Lr(Wo),Mr(Wo,n)}var Rc=null,FC=!1,a8=!1;function kQ(e){Rc===null?Rc=[e]:Rc.push(e)}function g2e(e){FC=!0,kQ(e)}function dh(){if(!a8&&Rc!==null){a8=!0;var e=0,t=cr;try{var n=Rc;for(cr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rc=null,FC=!1}catch(i){throw Rc!==null&&(Rc=Rc.slice(e+1)),JJ(sD,dh),i}finally{cr=t,a8=!1}}return null}var Lg=[],Fg=0,SS=null,CS=0,rl=[],il=0,Up=null,Pc=1,jc="";function Zh(e,t){Lg[Fg++]=CS,Lg[Fg++]=SS,SS=e,CS=t}function AQ(e,t,n){rl[il++]=Pc,rl[il++]=jc,rl[il++]=Up,Up=e;var r=Pc;e=jc;var i=32-eu(r)-1;r&=~(1<<i),n+=1;var a=32-eu(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pc=1<<32-eu(t)+i|n<<i|r,jc=a+e}else Pc=1<<a|n<<i|r,jc=e}function gD(e){e.return!==null&&(Zh(e,1),AQ(e,1,0))}function vD(e){for(;e===SS;)SS=Lg[--Fg],Lg[Fg]=null,CS=Lg[--Fg],Lg[Fg]=null;for(;e===Up;)Up=rl[--il],rl[il]=null,jc=rl[--il],rl[il]=null,Pc=rl[--il],rl[il]=null}var ws=null,vs=null,qr=!1,Wl=null;function _Q(e,t){var n=cl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function oF(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ws=e,vs=kf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ws=e,vs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Up!==null?{id:Pc,overflow:jc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cl(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ws=e,vs=null,!0):!1;default:return!1}}function K_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Y_(e){if(qr){var t=vs;if(t){var n=t;if(!oF(e,t)){if(K_(e))throw Error(lt(418));t=kf(n.nextSibling);var r=ws;t&&oF(e,t)?_Q(r,n):(e.flags=e.flags&-4097|2,qr=!1,ws=e)}}else{if(K_(e))throw Error(lt(418));e.flags=e.flags&-4097|2,qr=!1,ws=e}}}function sF(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ws=e}function hx(e){if(e!==ws)return!1;if(!qr)return sF(e),qr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!H_(e.type,e.memoizedProps)),t&&(t=vs)){if(K_(e))throw MQ(),Error(lt(418));for(;t;)_Q(e,t),t=kf(t.nextSibling)}if(sF(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(lt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vs=kf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vs=null}}else vs=ws?kf(e.stateNode.nextSibling):null;return!0}function MQ(){for(var e=vs;e;)e=kf(e.nextSibling)}function _0(){vs=ws=null,qr=!1}function yD(e){Wl===null?Wl=[e]:Wl.push(e)}var v2e=dd.ReactCurrentBatchConfig;function $l(e,t){if(e&&e.defaultProps){t=ii({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ES=ch(null),kS=null,Bg=null,bD=null;function wD(){bD=Bg=kS=null}function xD(e){var t=ES.current;Lr(ES),e._currentValue=t}function J_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function u0(e,t){kS=e,bD=Bg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qo=!0),e.firstContext=null)}function bl(e){var t=e._currentValue;if(bD!==e)if(e={context:e,memoizedValue:t,next:null},Bg===null){if(kS===null)throw Error(lt(308));Bg=e,kS.dependencies={lanes:0,firstContext:e}}else Bg=Bg.next=e;return t}var vp=null;function SD(e){vp===null?vp=[e]:vp.push(e)}function TQ(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,SD(t)):(n.next=i.next,i.next=n),t.interleaved=n,Xc(e,r)}function Xc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yd=!1;function CD(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NQ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $c(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Af(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,qn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Xc(e,n)}return i=r.interleaved,i===null?(t.next=t,SD(r)):(t.next=i.next,i.next=t),r.interleaved=t,Xc(e,n)}function j3(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lD(e,n)}}function lF(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function AS(e,t,n,r){var i=e.updateQueue;Yd=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var f=s.lane,h=s.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(f=t,h=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=ii({},d,f);break e;case 2:Yd=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Hp|=o,e.lanes=o,e.memoizedState=d}}function uF(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(lt(191,i));i.call(r)}}}var DQ=new TJ.Component().refs;function Q_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ii({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var BC={isMounted:function(e){return(e=e._reactInternals)?um(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yo(),i=Mf(e),a=$c(r,i);a.payload=t,n!=null&&(a.callback=n),t=Af(e,a,i),t!==null&&(tu(t,e,i,r),j3(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yo(),i=Mf(e),a=$c(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Af(e,a,i),t!==null&&(tu(t,e,i,r),j3(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yo(),r=Mf(e),i=$c(n,r);i.tag=2,t!=null&&(i.callback=t),t=Af(e,i,r),t!==null&&(tu(t,e,r,n),j3(t,e,r))}};function cF(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!mb(n,r)||!mb(i,a):!0}function RQ(e,t,n){var r=!1,i=Uf,a=t.contextType;return typeof a=="object"&&a!==null?a=bl(a):(i=Go(t)?$p:Wa.current,r=t.contextTypes,a=(r=r!=null)?A0(e,i):Uf),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=BC,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function dF(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&BC.enqueueReplaceState(t,t.state,null)}function X_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=DQ,CD(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=bl(a):(a=Go(t)?$p:Wa.current,i.context=A0(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Q_(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&BC.enqueueReplaceState(i,i.state,null),AS(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Iv(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(lt(309));var r=n.stateNode}if(!r)throw Error(lt(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;s===DQ&&(s=i.refs={}),o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(lt(284));if(!n._owner)throw Error(lt(290,e))}return e}function px(e,t){throw e=Object.prototype.toString.call(t),Error(lt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fF(e){var t=e._init;return t(e._payload)}function IQ(e){function t(y,E){if(e){var x=y.deletions;x===null?(y.deletions=[E],y.flags|=16):x.push(E)}}function n(y,E){if(!e)return null;for(;E!==null;)t(y,E),E=E.sibling;return null}function r(y,E){for(y=new Map;E!==null;)E.key!==null?y.set(E.key,E):y.set(E.index,E),E=E.sibling;return y}function i(y,E){return y=Tf(y,E),y.index=0,y.sibling=null,y}function a(y,E,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<E?(y.flags|=2,E):x):(y.flags|=2,E)):(y.flags|=1048576,E)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,E,x,v){return E===null||E.tag!==6?(E=f8(x,y.mode,v),E.return=y,E):(E=i(E,x),E.return=y,E)}function l(y,E,x,v){var C=x.type;return C===Dg?c(y,E,x.props.children,v,x.key):E!==null&&(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kd&&fF(C)===E.type)?(v=i(E,x.props),v.ref=Iv(y,E,x),v.return=y,v):(v=U3(x.type,x.key,x.props,null,y.mode,v),v.ref=Iv(y,E,x),v.return=y,v)}function u(y,E,x,v){return E===null||E.tag!==4||E.stateNode.containerInfo!==x.containerInfo||E.stateNode.implementation!==x.implementation?(E=h8(x,y.mode,v),E.return=y,E):(E=i(E,x.children||[]),E.return=y,E)}function c(y,E,x,v,C){return E===null||E.tag!==7?(E=Dp(x,y.mode,v,C),E.return=y,E):(E=i(E,x),E.return=y,E)}function d(y,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return E=f8(""+E,y.mode,x),E.return=y,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case rx:return x=U3(E.type,E.key,E.props,null,y.mode,x),x.ref=Iv(y,null,E),x.return=y,x;case Ng:return E=h8(E,y.mode,x),E.return=y,E;case Kd:var v=E._init;return d(y,v(E._payload),x)}if(ly(E)||Mv(E))return E=Dp(E,y.mode,x,null),E.return=y,E;px(y,E)}return null}function f(y,E,x,v){var C=E!==null?E.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:s(y,E,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rx:return x.key===C?l(y,E,x,v):null;case Ng:return x.key===C?u(y,E,x,v):null;case Kd:return C=x._init,f(y,E,C(x._payload),v)}if(ly(x)||Mv(x))return C!==null?null:c(y,E,x,v,null);px(y,x)}return null}function h(y,E,x,v,C){if(typeof v=="string"&&v!==""||typeof v=="number")return y=y.get(x)||null,s(E,y,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rx:return y=y.get(v.key===null?x:v.key)||null,l(E,y,v,C);case Ng:return y=y.get(v.key===null?x:v.key)||null,u(E,y,v,C);case Kd:var b=v._init;return h(y,E,x,b(v._payload),C)}if(ly(v)||Mv(v))return y=y.get(x)||null,c(E,y,v,C,null);px(E,v)}return null}function m(y,E,x,v){for(var C=null,b=null,A=E,_=E=0,T=null;A!==null&&_<x.length;_++){A.index>_?(T=A,A=null):T=A.sibling;var M=f(y,A,x[_],v);if(M===null){A===null&&(A=T);break}e&&A&&M.alternate===null&&t(y,A),E=a(M,E,_),b===null?C=M:b.sibling=M,b=M,A=T}if(_===x.length)return n(y,A),qr&&Zh(y,_),C;if(A===null){for(;_<x.length;_++)A=d(y,x[_],v),A!==null&&(E=a(A,E,_),b===null?C=A:b.sibling=A,b=A);return qr&&Zh(y,_),C}for(A=r(y,A);_<x.length;_++)T=h(A,y,_,x[_],v),T!==null&&(e&&T.alternate!==null&&A.delete(T.key===null?_:T.key),E=a(T,E,_),b===null?C=T:b.sibling=T,b=T);return e&&A.forEach(function(N){return t(y,N)}),qr&&Zh(y,_),C}function g(y,E,x,v){var C=Mv(x);if(typeof C!="function")throw Error(lt(150));if(x=C.call(x),x==null)throw Error(lt(151));for(var b=C=null,A=E,_=E=0,T=null,M=x.next();A!==null&&!M.done;_++,M=x.next()){A.index>_?(T=A,A=null):T=A.sibling;var N=f(y,A,M.value,v);if(N===null){A===null&&(A=T);break}e&&A&&N.alternate===null&&t(y,A),E=a(N,E,_),b===null?C=N:b.sibling=N,b=N,A=T}if(M.done)return n(y,A),qr&&Zh(y,_),C;if(A===null){for(;!M.done;_++,M=x.next())M=d(y,M.value,v),M!==null&&(E=a(M,E,_),b===null?C=M:b.sibling=M,b=M);return qr&&Zh(y,_),C}for(A=r(y,A);!M.done;_++,M=x.next())M=h(A,y,_,M.value,v),M!==null&&(e&&M.alternate!==null&&A.delete(M.key===null?_:M.key),E=a(M,E,_),b===null?C=M:b.sibling=M,b=M);return e&&A.forEach(function(I){return t(y,I)}),qr&&Zh(y,_),C}function S(y,E,x,v){if(typeof x=="object"&&x!==null&&x.type===Dg&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case rx:e:{for(var C=x.key,b=E;b!==null;){if(b.key===C){if(C=x.type,C===Dg){if(b.tag===7){n(y,b.sibling),E=i(b,x.props.children),E.return=y,y=E;break e}}else if(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kd&&fF(C)===b.type){n(y,b.sibling),E=i(b,x.props),E.ref=Iv(y,b,x),E.return=y,y=E;break e}n(y,b);break}else t(y,b);b=b.sibling}x.type===Dg?(E=Dp(x.props.children,y.mode,v,x.key),E.return=y,y=E):(v=U3(x.type,x.key,x.props,null,y.mode,v),v.ref=Iv(y,E,x),v.return=y,y=v)}return o(y);case Ng:e:{for(b=x.key;E!==null;){if(E.key===b)if(E.tag===4&&E.stateNode.containerInfo===x.containerInfo&&E.stateNode.implementation===x.implementation){n(y,E.sibling),E=i(E,x.children||[]),E.return=y,y=E;break e}else{n(y,E);break}else t(y,E);E=E.sibling}E=h8(x,y.mode,v),E.return=y,y=E}return o(y);case Kd:return b=x._init,S(y,E,b(x._payload),v)}if(ly(x))return m(y,E,x,v);if(Mv(x))return g(y,E,x,v);px(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,E!==null&&E.tag===6?(n(y,E.sibling),E=i(E,x),E.return=y,y=E):(n(y,E),E=f8(x,y.mode,v),E.return=y,y=E),o(y)):n(y,E)}return S}var M0=IQ(!0),OQ=IQ(!1),d2={},Vu=ch(d2),bb=ch(d2),wb=ch(d2);function yp(e){if(e===d2)throw Error(lt(174));return e}function ED(e,t){switch(Mr(wb,t),Mr(bb,e),Mr(Vu,d2),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:N_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=N_(t,e)}Lr(Vu),Mr(Vu,t)}function T0(){Lr(Vu),Lr(bb),Lr(wb)}function PQ(e){yp(wb.current);var t=yp(Vu.current),n=N_(t,e.type);t!==n&&(Mr(bb,e),Mr(Vu,n))}function kD(e){bb.current===e&&(Lr(Vu),Lr(bb))}var Zr=ch(0);function _S(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var o8=[];function AD(){for(var e=0;e<o8.length;e++)o8[e]._workInProgressVersionPrimary=null;o8.length=0}var L3=dd.ReactCurrentDispatcher,s8=dd.ReactCurrentBatchConfig,Vp=0,ni=null,Bi=null,Yi=null,MS=!1,Dy=!1,xb=0,y2e=0;function Ra(){throw Error(lt(321))}function _D(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ou(e[n],t[n]))return!1;return!0}function MD(e,t,n,r,i,a){if(Vp=a,ni=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L3.current=e===null||e.memoizedState===null?S2e:C2e,e=n(r,i),Dy){a=0;do{if(Dy=!1,xb=0,25<=a)throw Error(lt(301));a+=1,Yi=Bi=null,t.updateQueue=null,L3.current=E2e,e=n(r,i)}while(Dy)}if(L3.current=TS,t=Bi!==null&&Bi.next!==null,Vp=0,Yi=Bi=ni=null,MS=!1,t)throw Error(lt(300));return e}function TD(){var e=xb!==0;return xb=0,e}function Mu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yi===null?ni.memoizedState=Yi=e:Yi=Yi.next=e,Yi}function wl(){if(Bi===null){var e=ni.alternate;e=e!==null?e.memoizedState:null}else e=Bi.next;var t=Yi===null?ni.memoizedState:Yi.next;if(t!==null)Yi=t,Bi=e;else{if(e===null)throw Error(lt(310));Bi=e,e={memoizedState:Bi.memoizedState,baseState:Bi.baseState,baseQueue:Bi.baseQueue,queue:Bi.queue,next:null},Yi===null?ni.memoizedState=Yi=e:Yi=Yi.next=e}return Yi}function Sb(e,t){return typeof t=="function"?t(e):t}function l8(e){var t=wl(),n=t.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=e;var r=Bi,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Vp&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=r):l=l.next=d,ni.lanes|=c,Hp|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,ou(r,t.memoizedState)||(qo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,ni.lanes|=a,Hp|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function u8(e){var t=wl(),n=t.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);ou(a,t.memoizedState)||(qo=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function jQ(){}function LQ(e,t){var n=ni,r=wl(),i=t(),a=!ou(r.memoizedState,i);if(a&&(r.memoizedState=i,qo=!0),r=r.queue,ND(zQ.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Yi!==null&&Yi.memoizedState.tag&1){if(n.flags|=2048,Cb(9,BQ.bind(null,n,r,i,t),void 0,null),Qi===null)throw Error(lt(349));Vp&30||FQ(n,t,i)}return i}function FQ(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ni.updateQueue,t===null?(t={lastEffect:null,stores:null},ni.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function BQ(e,t,n,r){t.value=n,t.getSnapshot=r,$Q(t)&&UQ(e)}function zQ(e,t,n){return n(function(){$Q(t)&&UQ(e)})}function $Q(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ou(e,n)}catch{return!0}}function UQ(e){var t=Xc(e,1);t!==null&&tu(t,e,1,-1)}function hF(e){var t=Mu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sb,lastRenderedState:e},t.queue=e,e=e.dispatch=x2e.bind(null,ni,e),[t.memoizedState,e]}function Cb(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ni.updateQueue,t===null?(t={lastEffect:null,stores:null},ni.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function VQ(){return wl().memoizedState}function F3(e,t,n,r){var i=Mu();ni.flags|=e,i.memoizedState=Cb(1|t,n,void 0,r===void 0?null:r)}function zC(e,t,n,r){var i=wl();r=r===void 0?null:r;var a=void 0;if(Bi!==null){var o=Bi.memoizedState;if(a=o.destroy,r!==null&&_D(r,o.deps)){i.memoizedState=Cb(t,n,a,r);return}}ni.flags|=e,i.memoizedState=Cb(1|t,n,a,r)}function pF(e,t){return F3(8390656,8,e,t)}function ND(e,t){return zC(2048,8,e,t)}function HQ(e,t){return zC(4,2,e,t)}function qQ(e,t){return zC(4,4,e,t)}function WQ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GQ(e,t,n){return n=n!=null?n.concat([e]):null,zC(4,4,WQ.bind(null,t,e),n)}function DD(){}function KQ(e,t){var n=wl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_D(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function YQ(e,t){var n=wl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_D(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function JQ(e,t,n){return Vp&21?(ou(n,t)||(n=ZJ(),ni.lanes|=n,Hp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qo=!0),e.memoizedState=n)}function b2e(e,t){var n=cr;cr=n!==0&&4>n?n:4,e(!0);var r=s8.transition;s8.transition={};try{e(!1),t()}finally{cr=n,s8.transition=r}}function QQ(){return wl().memoizedState}function w2e(e,t,n){var r=Mf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XQ(e))ZQ(t,n);else if(n=TQ(e,t,n,r),n!==null){var i=yo();tu(n,e,r,i),eX(n,t,r)}}function x2e(e,t,n){var r=Mf(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XQ(e))ZQ(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ou(s,o)){var l=t.interleaved;l===null?(i.next=i,SD(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=TQ(e,t,i,r),n!==null&&(i=yo(),tu(n,e,r,i),eX(n,t,r))}}function XQ(e){var t=e.alternate;return e===ni||t!==null&&t===ni}function ZQ(e,t){Dy=MS=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eX(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lD(e,n)}}var TS={readContext:bl,useCallback:Ra,useContext:Ra,useEffect:Ra,useImperativeHandle:Ra,useInsertionEffect:Ra,useLayoutEffect:Ra,useMemo:Ra,useReducer:Ra,useRef:Ra,useState:Ra,useDebugValue:Ra,useDeferredValue:Ra,useTransition:Ra,useMutableSource:Ra,useSyncExternalStore:Ra,useId:Ra,unstable_isNewReconciler:!1},S2e={readContext:bl,useCallback:function(e,t){return Mu().memoizedState=[e,t===void 0?null:t],e},useContext:bl,useEffect:pF,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,F3(4194308,4,WQ.bind(null,t,e),n)},useLayoutEffect:function(e,t){return F3(4194308,4,e,t)},useInsertionEffect:function(e,t){return F3(4,2,e,t)},useMemo:function(e,t){var n=Mu();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mu();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=w2e.bind(null,ni,e),[r.memoizedState,e]},useRef:function(e){var t=Mu();return e={current:e},t.memoizedState=e},useState:hF,useDebugValue:DD,useDeferredValue:function(e){return Mu().memoizedState=e},useTransition:function(){var e=hF(!1),t=e[0];return e=b2e.bind(null,e[1]),Mu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ni,i=Mu();if(qr){if(n===void 0)throw Error(lt(407));n=n()}else{if(n=t(),Qi===null)throw Error(lt(349));Vp&30||FQ(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,pF(zQ.bind(null,r,a,e),[e]),r.flags|=2048,Cb(9,BQ.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Mu(),t=Qi.identifierPrefix;if(qr){var n=jc,r=Pc;n=(r&~(1<<32-eu(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xb++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=y2e++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},C2e={readContext:bl,useCallback:KQ,useContext:bl,useEffect:ND,useImperativeHandle:GQ,useInsertionEffect:HQ,useLayoutEffect:qQ,useMemo:YQ,useReducer:l8,useRef:VQ,useState:function(){return l8(Sb)},useDebugValue:DD,useDeferredValue:function(e){var t=wl();return JQ(t,Bi.memoizedState,e)},useTransition:function(){var e=l8(Sb)[0],t=wl().memoizedState;return[e,t]},useMutableSource:jQ,useSyncExternalStore:LQ,useId:QQ,unstable_isNewReconciler:!1},E2e={readContext:bl,useCallback:KQ,useContext:bl,useEffect:ND,useImperativeHandle:GQ,useInsertionEffect:HQ,useLayoutEffect:qQ,useMemo:YQ,useReducer:u8,useRef:VQ,useState:function(){return u8(Sb)},useDebugValue:DD,useDeferredValue:function(e){var t=wl();return Bi===null?t.memoizedState=e:JQ(t,Bi.memoizedState,e)},useTransition:function(){var e=u8(Sb)[0],t=wl().memoizedState;return[e,t]},useMutableSource:jQ,useSyncExternalStore:LQ,useId:QQ,unstable_isNewReconciler:!1};function N0(e,t){try{var n="",r=t;do n+=Xye(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function c8(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Z_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var k2e=typeof WeakMap=="function"?WeakMap:Map;function tX(e,t,n){n=$c(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){DS||(DS=!0,uM=r),Z_(e,t)},n}function nX(e,t,n){n=$c(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Z_(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Z_(e,t),typeof r!="function"&&(_f===null?_f=new Set([this]):_f.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function mF(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new k2e;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=B2e.bind(null,e,t,n),t.then(e,e))}function gF(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vF(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$c(-1,1),t.tag=2,Af(n,t,1))),n.lanes|=1),e)}var A2e=dd.ReactCurrentOwner,qo=!1;function ho(e,t,n,r){t.child=e===null?OQ(t,null,n,r):M0(t,e.child,n,r)}function yF(e,t,n,r,i){n=n.render;var a=t.ref;return u0(t,i),r=MD(e,t,n,r,a,i),n=TD(),e!==null&&!qo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zc(e,t,i)):(qr&&n&&gD(t),t.flags|=1,ho(e,t,r,i),t.child)}function bF(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!BD(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,rX(e,t,a,r,i)):(e=U3(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:mb,n(o,r)&&e.ref===t.ref)return Zc(e,t,i)}return t.flags|=1,e=Tf(a,r),e.ref=t.ref,e.return=t,t.child=e}function rX(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(mb(a,r)&&e.ref===t.ref)if(qo=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(qo=!0);else return t.lanes=e.lanes,Zc(e,t,i)}return eM(e,t,n,r,i)}function iX(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mr($g,ms),ms|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mr($g,ms),ms|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Mr($g,ms),ms|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Mr($g,ms),ms|=r;return ho(e,t,i,n),t.child}function aX(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function eM(e,t,n,r,i){var a=Go(n)?$p:Wa.current;return a=A0(t,a),u0(t,i),n=MD(e,t,n,r,a,i),r=TD(),e!==null&&!qo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zc(e,t,i)):(qr&&r&&gD(t),t.flags|=1,ho(e,t,n,i),t.child)}function wF(e,t,n,r,i){if(Go(n)){var a=!0;xS(t)}else a=!1;if(u0(t,i),t.stateNode===null)B3(e,t),RQ(t,n,r),X_(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bl(u):(u=Go(n)?$p:Wa.current,u=A0(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&dF(t,o,r,u),Yd=!1;var f=t.memoizedState;o.state=f,AS(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Wo.current||Yd?(typeof c=="function"&&(Q_(t,n,c,r),l=t.memoizedState),(s=Yd||cF(t,n,s,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,NQ(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:$l(t.type,s),o.props=u,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bl(l):(l=Go(n)?$p:Wa.current,l=A0(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||f!==l)&&dF(t,o,r,l),Yd=!1,f=t.memoizedState,o.state=f,AS(t,r,o,i);var m=t.memoizedState;s!==d||f!==m||Wo.current||Yd?(typeof h=="function"&&(Q_(t,n,h,r),m=t.memoizedState),(u=Yd||cF(t,n,u,r,f,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return tM(e,t,n,r,a,i)}function tM(e,t,n,r,i,a){aX(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&aF(t,n,!1),Zc(e,t,a);r=t.stateNode,A2e.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=M0(t,e.child,null,a),t.child=M0(t,null,s,a)):ho(e,t,s,a),t.memoizedState=r.state,i&&aF(t,n,!0),t.child}function oX(e){var t=e.stateNode;t.pendingContext?iF(e,t.pendingContext,t.pendingContext!==t.context):t.context&&iF(e,t.context,!1),ED(e,t.containerInfo)}function xF(e,t,n,r,i){return _0(),yD(i),t.flags|=256,ho(e,t,n,r),t.child}var nM={dehydrated:null,treeContext:null,retryLane:0};function rM(e){return{baseLanes:e,cachePool:null,transitions:null}}function sX(e,t,n){var r=t.pendingProps,i=Zr.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Mr(Zr,i&1),e===null)return Y_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=VC(o,r,0,null),e=Dp(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=rM(n),t.memoizedState=nM,e):RD(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return _2e(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Tf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Tf(s,a):(a=Dp(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?rM(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=nM,r}return a=e.child,e=a.sibling,r=Tf(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function RD(e,t){return t=VC({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mx(e,t,n,r){return r!==null&&yD(r),M0(t,e.child,null,n),e=RD(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _2e(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=c8(Error(lt(422))),mx(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=VC({mode:"visible",children:r.children},i,0,null),a=Dp(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&M0(t,e.child,null,o),t.child.memoizedState=rM(o),t.memoizedState=nM,a);if(!(t.mode&1))return mx(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(lt(419)),r=c8(a,r,void 0),mx(e,t,o,r)}if(s=(o&e.childLanes)!==0,qo||s){if(r=Qi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Xc(e,i),tu(r,e,i,-1))}return FD(),r=c8(Error(lt(421))),mx(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=z2e.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,vs=kf(i.nextSibling),ws=t,qr=!0,Wl=null,e!==null&&(rl[il++]=Pc,rl[il++]=jc,rl[il++]=Up,Pc=e.id,jc=e.overflow,Up=t),t=RD(t,r.children),t.flags|=4096,t)}function SF(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),J_(e.return,t,n)}function d8(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function lX(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ho(e,t,r.children,n),r=Zr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&SF(e,n,t);else if(e.tag===19)SF(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Mr(Zr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_S(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),d8(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_S(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}d8(t,!0,n,null,a);break;case"together":d8(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function B3(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(lt(153));if(t.child!==null){for(e=t.child,n=Tf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function M2e(e,t,n){switch(t.tag){case 3:oX(t),_0();break;case 5:PQ(t);break;case 1:Go(t.type)&&xS(t);break;case 4:ED(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Mr(ES,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Mr(Zr,Zr.current&1),t.flags|=128,null):n&t.child.childLanes?sX(e,t,n):(Mr(Zr,Zr.current&1),e=Zc(e,t,n),e!==null?e.sibling:null);Mr(Zr,Zr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lX(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mr(Zr,Zr.current),r)break;return null;case 22:case 23:return t.lanes=0,iX(e,t,n)}return Zc(e,t,n)}var uX,iM,cX,dX;uX=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iM=function(){};cX=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,yp(Vu.current);var a=null;switch(n){case"input":i=A_(e,i),r=A_(e,r),a=[];break;case"select":i=ii({},i,{value:void 0}),r=ii({},r,{value:void 0}),a=[];break;case"textarea":i=T_(e,i),r=T_(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bS)}D_(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lb.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lb.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pr("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};dX=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ov(e,t){if(!qr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ia(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function T2e(e,t,n){var r=t.pendingProps;switch(vD(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ia(t),null;case 1:return Go(t.type)&&wS(),Ia(t),null;case 3:return r=t.stateNode,T0(),Lr(Wo),Lr(Wa),AD(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wl!==null&&(fM(Wl),Wl=null))),iM(e,t),Ia(t),null;case 5:kD(t);var i=yp(wb.current);if(n=t.type,e!==null&&t.stateNode!=null)cX(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(lt(166));return Ia(t),null}if(e=yp(Vu.current),hx(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Pu]=t,r[yb]=a,e=(t.mode&1)!==0,n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(i=0;i<cy.length;i++)Pr(cy[i],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":DL(r,a),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Pr("invalid",r);break;case"textarea":IL(r,a),Pr("invalid",r)}D_(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&fx(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&fx(r.textContent,s,e),i=["children",""+s]):lb.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Pr("scroll",r)}switch(n){case"input":ix(r),RL(r,a,!0);break;case"textarea":ix(r),OL(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bS)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=FJ(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Pu]=t,e[yb]=r,uX(e,t,!1,!1),t.stateNode=e;e:{switch(o=R_(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),i=r;break;case"iframe":case"object":case"embed":Pr("load",e),i=r;break;case"video":case"audio":for(i=0;i<cy.length;i++)Pr(cy[i],e);i=r;break;case"source":Pr("error",e),i=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),i=r;break;case"details":Pr("toggle",e),i=r;break;case"input":DL(e,r),i=A_(e,r),Pr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ii({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":IL(e,r),i=T_(e,r),Pr("invalid",e);break;default:i=r}D_(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?$J(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BJ(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ub(e,l):typeof l=="number"&&ub(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(lb.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Pr("scroll",e):l!=null&&nD(e,a,l,o))}switch(n){case"input":ix(e),RL(e,r,!1);break;case"textarea":ix(e),OL(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$f(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?a0(e,!!r.multiple,a,!1):r.defaultValue!=null&&a0(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=bS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ia(t),null;case 6:if(e&&t.stateNode!=null)dX(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(lt(166));if(n=yp(wb.current),yp(Vu.current),hx(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pu]=t,(a=r.nodeValue!==n)&&(e=ws,e!==null))switch(e.tag){case 3:fx(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fx(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pu]=t,t.stateNode=r}return Ia(t),null;case 13:if(Lr(Zr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qr&&vs!==null&&t.mode&1&&!(t.flags&128))MQ(),_0(),t.flags|=98560,a=!1;else if(a=hx(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(lt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(lt(317));a[Pu]=t}else _0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ia(t),a=!1}else Wl!==null&&(fM(Wl),Wl=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Zr.current&1?Ui===0&&(Ui=3):FD())),t.updateQueue!==null&&(t.flags|=4),Ia(t),null);case 4:return T0(),iM(e,t),e===null&&gb(t.stateNode.containerInfo),Ia(t),null;case 10:return xD(t.type._context),Ia(t),null;case 17:return Go(t.type)&&wS(),Ia(t),null;case 19:if(Lr(Zr),a=t.memoizedState,a===null)return Ia(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Ov(a,!1);else{if(Ui!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_S(e),o!==null){for(t.flags|=128,Ov(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mr(Zr,Zr.current&1|2),t.child}e=e.sibling}a.tail!==null&&wi()>D0&&(t.flags|=128,r=!0,Ov(a,!1),t.lanes=4194304)}else{if(!r)if(e=_S(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ov(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!qr)return Ia(t),null}else 2*wi()-a.renderingStartTime>D0&&n!==1073741824&&(t.flags|=128,r=!0,Ov(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=wi(),t.sibling=null,n=Zr.current,Mr(Zr,r?n&1|2:n&1),t):(Ia(t),null);case 22:case 23:return LD(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ms&1073741824&&(Ia(t),t.subtreeFlags&6&&(t.flags|=8192)):Ia(t),null;case 24:return null;case 25:return null}throw Error(lt(156,t.tag))}function N2e(e,t){switch(vD(t),t.tag){case 1:return Go(t.type)&&wS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return T0(),Lr(Wo),Lr(Wa),AD(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kD(t),null;case 13:if(Lr(Zr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(lt(340));_0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lr(Zr),null;case 4:return T0(),null;case 10:return xD(t.type._context),null;case 22:case 23:return LD(),null;case 24:return null;default:return null}}var gx=!1,Fa=!1,D2e=typeof WeakSet=="function"?WeakSet:Set,St=null;function zg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){li(e,t,r)}else n.current=null}function aM(e,t,n){try{n()}catch(r){li(e,t,r)}}var CF=!1;function R2e(e,t){if(U_=gS,e=mQ(),mD(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(s=o),f===a&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(V_={focusedElem:e,selectionRange:n},gS=!1,St=t;St!==null;)if(t=St,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,St=e;else for(;St!==null;){t=St;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,S=m.memoizedState,y=t.stateNode,E=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:$l(t.type,g),S);y.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(v){li(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,St=e;break}St=t.return}return m=CF,CF=!1,m}function Ry(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&aM(t,n,a)}i=i.next}while(i!==r)}}function $C(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oM(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fX(e){var t=e.alternate;t!==null&&(e.alternate=null,fX(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pu],delete t[yb],delete t[W_],delete t[p2e],delete t[m2e])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hX(e){return e.tag===5||e.tag===3||e.tag===4}function EF(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hX(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bS));else if(r!==4&&(e=e.child,e!==null))for(sM(e,t,n),e=e.sibling;e!==null;)sM(e,t,n),e=e.sibling}function lM(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lM(e,t,n),e=e.sibling;e!==null;)lM(e,t,n),e=e.sibling}var ua=null,Ul=!1;function Fd(e,t,n){for(n=n.child;n!==null;)pX(e,t,n),n=n.sibling}function pX(e,t,n){if(Uu&&typeof Uu.onCommitFiberUnmount=="function")try{Uu.onCommitFiberUnmount(IC,n)}catch{}switch(n.tag){case 5:Fa||zg(n,t);case 6:var r=ua,i=Ul;ua=null,Fd(e,t,n),ua=r,Ul=i,ua!==null&&(Ul?(e=ua,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ua.removeChild(n.stateNode));break;case 18:ua!==null&&(Ul?(e=ua,n=n.stateNode,e.nodeType===8?i8(e.parentNode,n):e.nodeType===1&&i8(e,n),hb(e)):i8(ua,n.stateNode));break;case 4:r=ua,i=Ul,ua=n.stateNode.containerInfo,Ul=!0,Fd(e,t,n),ua=r,Ul=i;break;case 0:case 11:case 14:case 15:if(!Fa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&aM(n,t,o),i=i.next}while(i!==r)}Fd(e,t,n);break;case 1:if(!Fa&&(zg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){li(n,t,s)}Fd(e,t,n);break;case 21:Fd(e,t,n);break;case 22:n.mode&1?(Fa=(r=Fa)||n.memoizedState!==null,Fd(e,t,n),Fa=r):Fd(e,t,n);break;default:Fd(e,t,n)}}function kF(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new D2e),t.forEach(function(r){var i=$2e.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ll(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:ua=s.stateNode,Ul=!1;break e;case 3:ua=s.stateNode.containerInfo,Ul=!0;break e;case 4:ua=s.stateNode.containerInfo,Ul=!0;break e}s=s.return}if(ua===null)throw Error(lt(160));pX(a,o,i),ua=null,Ul=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){li(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mX(t,e),t=t.sibling}function mX(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ll(t,e),ku(e),r&4){try{Ry(3,e,e.return),$C(3,e)}catch(g){li(e,e.return,g)}try{Ry(5,e,e.return)}catch(g){li(e,e.return,g)}}break;case 1:Ll(t,e),ku(e),r&512&&n!==null&&zg(n,n.return);break;case 5:if(Ll(t,e),ku(e),r&512&&n!==null&&zg(n,n.return),e.flags&32){var i=e.stateNode;try{ub(i,"")}catch(g){li(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&jJ(i,a),R_(s,o);var u=R_(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?$J(i,d):c==="dangerouslySetInnerHTML"?BJ(i,d):c==="children"?ub(i,d):nD(i,c,d,u)}switch(s){case"input":__(i,a);break;case"textarea":LJ(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?a0(i,!!a.multiple,h,!1):f!==!!a.multiple&&(a.defaultValue!=null?a0(i,!!a.multiple,a.defaultValue,!0):a0(i,!!a.multiple,a.multiple?[]:"",!1))}i[yb]=a}catch(g){li(e,e.return,g)}}break;case 6:if(Ll(t,e),ku(e),r&4){if(e.stateNode===null)throw Error(lt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){li(e,e.return,g)}}break;case 3:if(Ll(t,e),ku(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hb(t.containerInfo)}catch(g){li(e,e.return,g)}break;case 4:Ll(t,e),ku(e);break;case 13:Ll(t,e),ku(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(PD=wi())),r&4&&kF(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Fa=(u=Fa)||c,Ll(t,e),Fa=u):Ll(t,e),ku(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(St=e,c=e.child;c!==null;){for(d=St=c;St!==null;){switch(f=St,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ry(4,f,f.return);break;case 1:zg(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){li(r,n,g)}}break;case 5:zg(f,f.return);break;case 22:if(f.memoizedState!==null){_F(d);continue}}h!==null?(h.return=f,St=h):_F(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=zJ("display",o))}catch(g){li(e,e.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){li(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ll(t,e),ku(e),r&4&&kF(e);break;case 21:break;default:Ll(t,e),ku(e)}}function ku(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hX(n)){var r=n;break e}n=n.return}throw Error(lt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ub(i,""),r.flags&=-33);var a=EF(e);lM(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=EF(e);sM(e,s,o);break;default:throw Error(lt(161))}}catch(l){li(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function I2e(e,t,n){St=e,gX(e)}function gX(e,t,n){for(var r=(e.mode&1)!==0;St!==null;){var i=St,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gx;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Fa;s=gx;var u=Fa;if(gx=o,(Fa=l)&&!u)for(St=i;St!==null;)o=St,l=o.child,o.tag===22&&o.memoizedState!==null?MF(i):l!==null?(l.return=o,St=l):MF(i);for(;a!==null;)St=a,gX(a),a=a.sibling;St=i,gx=s,Fa=u}AF(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,St=a):AF(e)}}function AF(e){for(;St!==null;){var t=St;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fa||$C(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fa)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:$l(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&uF(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uF(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&hb(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}Fa||t.flags&512&&oM(t)}catch(f){li(t,t.return,f)}}if(t===e){St=null;break}if(n=t.sibling,n!==null){n.return=t.return,St=n;break}St=t.return}}function _F(e){for(;St!==null;){var t=St;if(t===e){St=null;break}var n=t.sibling;if(n!==null){n.return=t.return,St=n;break}St=t.return}}function MF(e){for(;St!==null;){var t=St;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$C(4,t)}catch(l){li(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){li(t,i,l)}}var a=t.return;try{oM(t)}catch(l){li(t,a,l)}break;case 5:var o=t.return;try{oM(t)}catch(l){li(t,o,l)}}}catch(l){li(t,t.return,l)}if(t===e){St=null;break}var s=t.sibling;if(s!==null){s.return=t.return,St=s;break}St=t.return}}var O2e=Math.ceil,NS=dd.ReactCurrentDispatcher,ID=dd.ReactCurrentOwner,ml=dd.ReactCurrentBatchConfig,qn=0,Qi=null,Ii=null,xa=0,ms=0,$g=ch(0),Ui=0,Eb=null,Hp=0,UC=0,OD=0,Iy=null,Vo=null,PD=0,D0=1/0,Nc=null,DS=!1,uM=null,_f=null,vx=!1,pf=null,RS=0,Oy=0,cM=null,z3=-1,$3=0;function yo(){return qn&6?wi():z3!==-1?z3:z3=wi()}function Mf(e){return e.mode&1?qn&2&&xa!==0?xa&-xa:v2e.transition!==null?($3===0&&($3=ZJ()),$3):(e=cr,e!==0||(e=window.event,e=e===void 0?16:oQ(e.type)),e):1}function tu(e,t,n,r){if(50<Oy)throw Oy=0,cM=null,Error(lt(185));l2(e,n,r),(!(qn&2)||e!==Qi)&&(e===Qi&&(!(qn&2)&&(UC|=n),Ui===4&&lf(e,xa)),Ko(e,r),n===1&&qn===0&&!(t.mode&1)&&(D0=wi()+500,FC&&dh()))}function Ko(e,t){var n=e.callbackNode;vbe(e,t);var r=mS(e,e===Qi?xa:0);if(r===0)n!==null&&LL(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&LL(n),t===1)e.tag===0?g2e(TF.bind(null,e)):kQ(TF.bind(null,e)),f2e(function(){!(qn&6)&&dh()}),n=null;else{switch(eQ(r)){case 1:n=sD;break;case 4:n=QJ;break;case 16:n=pS;break;case 536870912:n=XJ;break;default:n=pS}n=EX(n,vX.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vX(e,t){if(z3=-1,$3=0,qn&6)throw Error(lt(327));var n=e.callbackNode;if(c0()&&e.callbackNode!==n)return null;var r=mS(e,e===Qi?xa:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=IS(e,r);else{t=r;var i=qn;qn|=2;var a=bX();(Qi!==e||xa!==t)&&(Nc=null,D0=wi()+500,Np(e,t));do try{L2e();break}catch(s){yX(e,s)}while(1);wD(),NS.current=a,qn=i,Ii!==null?t=0:(Qi=null,xa=0,t=Ui)}if(t!==0){if(t===2&&(i=L_(e),i!==0&&(r=i,t=dM(e,i))),t===1)throw n=Eb,Np(e,0),lf(e,r),Ko(e,wi()),n;if(t===6)lf(e,r);else{if(i=e.current.alternate,!(r&30)&&!P2e(i)&&(t=IS(e,r),t===2&&(a=L_(e),a!==0&&(r=a,t=dM(e,a))),t===1))throw n=Eb,Np(e,0),lf(e,r),Ko(e,wi()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(lt(345));case 2:ep(e,Vo,Nc);break;case 3:if(lf(e,r),(r&130023424)===r&&(t=PD+500-wi(),10<t)){if(mS(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){yo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=q_(ep.bind(null,e,Vo,Nc),t);break}ep(e,Vo,Nc);break;case 4:if(lf(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-eu(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=wi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O2e(r/1960))-r,10<r){e.timeoutHandle=q_(ep.bind(null,e,Vo,Nc),r);break}ep(e,Vo,Nc);break;case 5:ep(e,Vo,Nc);break;default:throw Error(lt(329))}}}return Ko(e,wi()),e.callbackNode===n?vX.bind(null,e):null}function dM(e,t){var n=Iy;return e.current.memoizedState.isDehydrated&&(Np(e,t).flags|=256),e=IS(e,t),e!==2&&(t=Vo,Vo=n,t!==null&&fM(t)),e}function fM(e){Vo===null?Vo=e:Vo.push.apply(Vo,e)}function P2e(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ou(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lf(e,t){for(t&=~OD,t&=~UC,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-eu(t),r=1<<n;e[n]=-1,t&=~r}}function TF(e){if(qn&6)throw Error(lt(327));c0();var t=mS(e,0);if(!(t&1))return Ko(e,wi()),null;var n=IS(e,t);if(e.tag!==0&&n===2){var r=L_(e);r!==0&&(t=r,n=dM(e,r))}if(n===1)throw n=Eb,Np(e,0),lf(e,t),Ko(e,wi()),n;if(n===6)throw Error(lt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ep(e,Vo,Nc),Ko(e,wi()),null}function jD(e,t){var n=qn;qn|=1;try{return e(t)}finally{qn=n,qn===0&&(D0=wi()+500,FC&&dh())}}function qp(e){pf!==null&&pf.tag===0&&!(qn&6)&&c0();var t=qn;qn|=1;var n=ml.transition,r=cr;try{if(ml.transition=null,cr=1,e)return e()}finally{cr=r,ml.transition=n,qn=t,!(qn&6)&&dh()}}function LD(){ms=$g.current,Lr($g)}function Np(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,d2e(n)),Ii!==null)for(n=Ii.return;n!==null;){var r=n;switch(vD(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wS();break;case 3:T0(),Lr(Wo),Lr(Wa),AD();break;case 5:kD(r);break;case 4:T0();break;case 13:Lr(Zr);break;case 19:Lr(Zr);break;case 10:xD(r.type._context);break;case 22:case 23:LD()}n=n.return}if(Qi=e,Ii=e=Tf(e.current,null),xa=ms=t,Ui=0,Eb=null,OD=UC=Hp=0,Vo=Iy=null,vp!==null){for(t=0;t<vp.length;t++)if(n=vp[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}vp=null}return e}function yX(e,t){do{var n=Ii;try{if(wD(),L3.current=TS,MS){for(var r=ni.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}MS=!1}if(Vp=0,Yi=Bi=ni=null,Dy=!1,xb=0,ID.current=null,n===null||n.return===null){Ui=1,Eb=t,Ii=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=xa,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=gF(o);if(h!==null){h.flags&=-257,vF(h,o,s,a,t),h.mode&1&&mF(a,u,t),t=h,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){mF(a,u,t),FD();break e}l=Error(lt(426))}}else if(qr&&s.mode&1){var S=gF(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),vF(S,o,s,a,t),yD(N0(l,s));break e}}a=l=N0(l,s),Ui!==4&&(Ui=2),Iy===null?Iy=[a]:Iy.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=tX(a,l,t);lF(a,y);break e;case 1:s=l;var E=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(_f===null||!_f.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var v=nX(a,s,t);lF(a,v);break e}}a=a.return}while(a!==null)}xX(n)}catch(C){t=C,Ii===n&&n!==null&&(Ii=n=n.return);continue}break}while(1)}function bX(){var e=NS.current;return NS.current=TS,e===null?TS:e}function FD(){(Ui===0||Ui===3||Ui===2)&&(Ui=4),Qi===null||!(Hp&268435455)&&!(UC&268435455)||lf(Qi,xa)}function IS(e,t){var n=qn;qn|=2;var r=bX();(Qi!==e||xa!==t)&&(Nc=null,Np(e,t));do try{j2e();break}catch(i){yX(e,i)}while(1);if(wD(),qn=n,NS.current=r,Ii!==null)throw Error(lt(261));return Qi=null,xa=0,Ui}function j2e(){for(;Ii!==null;)wX(Ii)}function L2e(){for(;Ii!==null&&!lbe();)wX(Ii)}function wX(e){var t=CX(e.alternate,e,ms);e.memoizedProps=e.pendingProps,t===null?xX(e):Ii=t,ID.current=null}function xX(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=N2e(n,t),n!==null){n.flags&=32767,Ii=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ui=6,Ii=null;return}}else if(n=T2e(n,t,ms),n!==null){Ii=n;return}if(t=t.sibling,t!==null){Ii=t;return}Ii=t=e}while(t!==null);Ui===0&&(Ui=5)}function ep(e,t,n){var r=cr,i=ml.transition;try{ml.transition=null,cr=1,F2e(e,t,n,r)}finally{ml.transition=i,cr=r}return null}function F2e(e,t,n,r){do c0();while(pf!==null);if(qn&6)throw Error(lt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(lt(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(ybe(e,a),e===Qi&&(Ii=Qi=null,xa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vx||(vx=!0,EX(pS,function(){return c0(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ml.transition,ml.transition=null;var o=cr;cr=1;var s=qn;qn|=4,ID.current=null,R2e(e,n),mX(n,e),i2e(V_),gS=!!U_,V_=U_=null,e.current=n,I2e(n),ube(),qn=s,cr=o,ml.transition=a}else e.current=n;if(vx&&(vx=!1,pf=e,RS=i),a=e.pendingLanes,a===0&&(_f=null),fbe(n.stateNode),Ko(e,wi()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(DS)throw DS=!1,e=uM,uM=null,e;return RS&1&&e.tag!==0&&c0(),a=e.pendingLanes,a&1?e===cM?Oy++:(Oy=0,cM=e):Oy=0,dh(),null}function c0(){if(pf!==null){var e=eQ(RS),t=ml.transition,n=cr;try{if(ml.transition=null,cr=16>e?16:e,pf===null)var r=!1;else{if(e=pf,pf=null,RS=0,qn&6)throw Error(lt(331));var i=qn;for(qn|=4,St=e.current;St!==null;){var a=St,o=a.child;if(St.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(St=u;St!==null;){var c=St;switch(c.tag){case 0:case 11:case 15:Ry(8,c,a)}var d=c.child;if(d!==null)d.return=c,St=d;else for(;St!==null;){c=St;var f=c.sibling,h=c.return;if(fX(c),c===u){St=null;break}if(f!==null){f.return=h,St=f;break}St=h}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}St=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,St=o;else e:for(;St!==null;){if(a=St,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ry(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,St=y;break e}St=a.return}}var E=e.current;for(St=E;St!==null;){o=St;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,St=x;else e:for(o=E;St!==null;){if(s=St,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:$C(9,s)}}catch(C){li(s,s.return,C)}if(s===o){St=null;break e}var v=s.sibling;if(v!==null){v.return=s.return,St=v;break e}St=s.return}}if(qn=i,dh(),Uu&&typeof Uu.onPostCommitFiberRoot=="function")try{Uu.onPostCommitFiberRoot(IC,e)}catch{}r=!0}return r}finally{cr=n,ml.transition=t}}return!1}function NF(e,t,n){t=N0(n,t),t=tX(e,t,1),e=Af(e,t,1),t=yo(),e!==null&&(l2(e,1,t),Ko(e,t))}function li(e,t,n){if(e.tag===3)NF(e,e,n);else for(;t!==null;){if(t.tag===3){NF(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_f===null||!_f.has(r))){e=N0(n,e),e=nX(t,e,1),t=Af(t,e,1),e=yo(),t!==null&&(l2(t,1,e),Ko(t,e));break}}t=t.return}}function B2e(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yo(),e.pingedLanes|=e.suspendedLanes&n,Qi===e&&(xa&n)===n&&(Ui===4||Ui===3&&(xa&130023424)===xa&&500>wi()-PD?Np(e,0):OD|=n),Ko(e,t)}function SX(e,t){t===0&&(e.mode&1?(t=sx,sx<<=1,!(sx&130023424)&&(sx=4194304)):t=1);var n=yo();e=Xc(e,t),e!==null&&(l2(e,t,n),Ko(e,n))}function z2e(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),SX(e,n)}function $2e(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(lt(314))}r!==null&&r.delete(t),SX(e,n)}var CX;CX=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wo.current)qo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qo=!1,M2e(e,t,n);qo=!!(e.flags&131072)}else qo=!1,qr&&t.flags&1048576&&AQ(t,CS,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;B3(e,t),e=t.pendingProps;var i=A0(t,Wa.current);u0(t,n),i=MD(null,t,r,e,i,n);var a=TD();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Go(r)?(a=!0,xS(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,CD(t),i.updater=BC,t.stateNode=i,i._reactInternals=t,X_(t,r,e,n),t=tM(null,t,r,!0,a,n)):(t.tag=0,qr&&a&&gD(t),ho(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(B3(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=V2e(r),e=$l(r,e),i){case 0:t=eM(null,t,r,e,n);break e;case 1:t=wF(null,t,r,e,n);break e;case 11:t=yF(null,t,r,e,n);break e;case 14:t=bF(null,t,r,$l(r.type,e),n);break e}throw Error(lt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$l(r,i),eM(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$l(r,i),wF(e,t,r,i,n);case 3:e:{if(oX(t),e===null)throw Error(lt(387));r=t.pendingProps,a=t.memoizedState,i=a.element,NQ(e,t),AS(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=N0(Error(lt(423)),t),t=xF(e,t,r,n,i);break e}else if(r!==i){i=N0(Error(lt(424)),t),t=xF(e,t,r,n,i);break e}else for(vs=kf(t.stateNode.containerInfo.firstChild),ws=t,qr=!0,Wl=null,n=OQ(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_0(),r===i){t=Zc(e,t,n);break e}ho(e,t,r,n)}t=t.child}return t;case 5:return PQ(t),e===null&&Y_(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,H_(r,i)?o=null:a!==null&&H_(r,a)&&(t.flags|=32),aX(e,t),ho(e,t,o,n),t.child;case 6:return e===null&&Y_(t),null;case 13:return sX(e,t,n);case 4:return ED(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=M0(t,null,r,n):ho(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$l(r,i),yF(e,t,r,i,n);case 7:return ho(e,t,t.pendingProps,n),t.child;case 8:return ho(e,t,t.pendingProps.children,n),t.child;case 12:return ho(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Mr(ES,r._currentValue),r._currentValue=o,a!==null)if(ou(a.value,o)){if(a.children===i.children&&!Wo.current){t=Zc(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=$c(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),J_(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(lt(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),J_(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ho(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,u0(t,n),i=bl(i),r=r(i),t.flags|=1,ho(e,t,r,n),t.child;case 14:return r=t.type,i=$l(r,t.pendingProps),i=$l(r.type,i),bF(e,t,r,i,n);case 15:return rX(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$l(r,i),B3(e,t),t.tag=1,Go(r)?(e=!0,xS(t)):e=!1,u0(t,n),RQ(t,r,i),X_(t,r,i,n),tM(null,t,r,!0,e,n);case 19:return lX(e,t,n);case 22:return iX(e,t,n)}throw Error(lt(156,t.tag))};function EX(e,t){return JJ(e,t)}function U2e(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cl(e,t,n,r){return new U2e(e,t,n,r)}function BD(e){return e=e.prototype,!(!e||!e.isReactComponent)}function V2e(e){if(typeof e=="function")return BD(e)?1:0;if(e!=null){if(e=e.$$typeof,e===iD)return 11;if(e===aD)return 14}return 2}function Tf(e,t){var n=e.alternate;return n===null?(n=cl(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function U3(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")BD(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Dg:return Dp(n.children,i,a,t);case rD:o=8,i|=8;break;case S_:return e=cl(12,n,t,i|2),e.elementType=S_,e.lanes=a,e;case C_:return e=cl(13,n,t,i),e.elementType=C_,e.lanes=a,e;case E_:return e=cl(19,n,t,i),e.elementType=E_,e.lanes=a,e;case IJ:return VC(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DJ:o=10;break e;case RJ:o=9;break e;case iD:o=11;break e;case aD:o=14;break e;case Kd:o=16,r=null;break e}throw Error(lt(130,e==null?e:typeof e,""))}return t=cl(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Dp(e,t,n,r){return e=cl(7,e,r,t),e.lanes=n,e}function VC(e,t,n,r){return e=cl(22,e,r,t),e.elementType=IJ,e.lanes=n,e.stateNode={isHidden:!1},e}function f8(e,t,n){return e=cl(6,e,null,t),e.lanes=n,e}function h8(e,t,n){return t=cl(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H2e(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=GA(0),this.expirationTimes=GA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=GA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zD(e,t,n,r,i,a,o,s,l){return e=new H2e(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=cl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},CD(a),e}function q2e(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ng,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kX(e){if(!e)return Uf;e=e._reactInternals;e:{if(um(e)!==e||e.tag!==1)throw Error(lt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Go(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(lt(171))}if(e.tag===1){var n=e.type;if(Go(n))return EQ(e,n,t)}return t}function AX(e,t,n,r,i,a,o,s,l){return e=zD(n,r,!0,e,i,a,o,s,l),e.context=kX(null),n=e.current,r=yo(),i=Mf(n),a=$c(r,i),a.callback=t??null,Af(n,a,i),e.current.lanes=i,l2(e,i,r),Ko(e,r),e}function HC(e,t,n,r){var i=t.current,a=yo(),o=Mf(i);return n=kX(n),t.context===null?t.context=n:t.pendingContext=n,t=$c(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Af(i,t,o),e!==null&&(tu(e,i,o,a),j3(e,i,o)),o}function OS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function DF(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $D(e,t){DF(e,t),(e=e.alternate)&&DF(e,t)}function W2e(){return null}var _X=typeof reportError=="function"?reportError:function(e){console.error(e)};function UD(e){this._internalRoot=e}qC.prototype.render=UD.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(lt(409));HC(e,t,null,null)};qC.prototype.unmount=UD.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qp(function(){HC(null,e,null,null)}),t[Qc]=null}};function qC(e){this._internalRoot=e}qC.prototype.unstable_scheduleHydration=function(e){if(e){var t=rQ();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sf.length&&t!==0&&t<sf[n].priority;n++);sf.splice(n,0,e),n===0&&aQ(e)}};function VD(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function WC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function RF(){}function G2e(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=OS(o);a.call(u)}}var o=AX(t,r,e,0,null,!1,!1,"",RF);return e._reactRootContainer=o,e[Qc]=o.current,gb(e.nodeType===8?e.parentNode:e),qp(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=OS(l);s.call(u)}}var l=zD(e,0,!1,null,null,!1,!1,"",RF);return e._reactRootContainer=l,e[Qc]=l.current,gb(e.nodeType===8?e.parentNode:e),qp(function(){HC(t,l,n,r)}),l}function GC(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=OS(o);s.call(l)}}HC(t,o,e,i)}else o=G2e(n,t,e,i,r);return OS(o)}tQ=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=uy(t.pendingLanes);n!==0&&(lD(t,n|1),Ko(t,wi()),!(qn&6)&&(D0=wi()+500,dh()))}break;case 13:qp(function(){var r=Xc(e,1);if(r!==null){var i=yo();tu(r,e,1,i)}}),$D(e,1)}};uD=function(e){if(e.tag===13){var t=Xc(e,134217728);if(t!==null){var n=yo();tu(t,e,134217728,n)}$D(e,134217728)}};nQ=function(e){if(e.tag===13){var t=Mf(e),n=Xc(e,t);if(n!==null){var r=yo();tu(n,e,t,r)}$D(e,t)}};rQ=function(){return cr};iQ=function(e,t){var n=cr;try{return cr=e,t()}finally{cr=n}};O_=function(e,t,n){switch(t){case"input":if(__(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=LC(r);if(!i)throw Error(lt(90));PJ(r),__(r,i)}}}break;case"textarea":LJ(e,n);break;case"select":t=n.value,t!=null&&a0(e,!!n.multiple,t,!1)}};HJ=jD;qJ=qp;var K2e={usingClientEntryPoint:!1,Events:[c2,Pg,LC,UJ,VJ,jD]},Pv={findFiberByHostInstance:gp,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Y2e={bundleType:Pv.bundleType,version:Pv.version,rendererPackageName:Pv.rendererPackageName,rendererConfig:Pv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=KJ(e),e===null?null:e.stateNode},findFiberByHostInstance:Pv.findFiberByHostInstance||W2e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yx.isDisabled&&yx.supportsFiber)try{IC=yx.inject(Y2e),Uu=yx}catch{}}Is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K2e;Is.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VD(t))throw Error(lt(200));return q2e(e,t,null,n)};Is.createRoot=function(e,t){if(!VD(e))throw Error(lt(299));var n=!1,r="",i=_X;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zD(e,1,!1,null,null,n,!1,r,i),e[Qc]=t.current,gb(e.nodeType===8?e.parentNode:e),new UD(t)};Is.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(lt(188)):(e=Object.keys(e).join(","),Error(lt(268,e)));return e=KJ(t),e=e===null?null:e.stateNode,e};Is.flushSync=function(e){return qp(e)};Is.hydrate=function(e,t,n){if(!WC(t))throw Error(lt(200));return GC(null,e,t,!0,n)};Is.hydrateRoot=function(e,t,n){if(!VD(e))throw Error(lt(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=_X;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=AX(t,null,e,1,n??null,i,!1,a,o),e[Qc]=t.current,gb(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new qC(t)};Is.render=function(e,t,n){if(!WC(t))throw Error(lt(200));return GC(null,e,t,!1,n)};Is.unmountComponentAtNode=function(e){if(!WC(e))throw Error(lt(40));return e._reactRootContainer?(qp(function(){GC(null,null,e,!1,function(){e._reactRootContainer=null,e[Qc]=null})}),!0):!1};Is.unstable_batchedUpdates=jD;Is.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!WC(n))throw Error(lt(200));if(e==null||e._reactInternals===void 0)throw Error(lt(38));return GC(e,t,n,!1,r)};Is.version="18.2.0-next-9e3b772b8-20220608";function MX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MX)}catch(e){console.error(e)}}MX(),AJ.exports=Is;var w1=AJ.exports;const Ug=Rs(w1);var IF=w1;w_.createRoot=IF.createRoot,w_.hydrateRoot=IF.hydrateRoot;var ju=function(){return ju=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ju.apply(this,arguments)};function TX(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function J2e(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var V3="right-scroll-bar-position",H3="width-before-scroll-bar",Q2e="with-scroll-bars-hidden",X2e="--removed-body-scroll-bar-size";function Z2e(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ewe(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}function twe(e,t){return ewe(t||null,function(n){return e.forEach(function(r){return Z2e(r,n)})})}function nwe(e){return e}function rwe(e,t){t===void 0&&(t=nwe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var l=function(){var c=o;o=[],c.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),n}}}};return i}function iwe(e){e===void 0&&(e={});var t=rwe(null);return t.options=ju({async:!0,ssr:!1},e),t}var NX=function(e){var t=e.sideCar,n=TX(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,ju({},n))};NX.isSideCarExport=!0;function awe(e,t){return e.useMedium(t),NX}var DX=iwe(),p8=function(){},KC=j.forwardRef(function(e,t){var n=j.useRef(null),r=j.useState({onScrollCapture:p8,onWheelCapture:p8,onTouchMoveCapture:p8}),i=r[0],a=r[1],o=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,m=e.inert,g=e.allowPinchZoom,S=e.as,y=S===void 0?"div":S,E=e.gapMode,x=TX(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),v=f,C=twe([n,t]),b=ju(ju({},x),i);return j.createElement(j.Fragment,null,c&&j.createElement(v,{sideCar:DX,removeScrollBar:u,shards:d,noIsolation:h,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:E}),o?j.cloneElement(j.Children.only(s),ju(ju({},b),{ref:C})):j.createElement(y,ju({},b,{className:l,ref:C}),s))});KC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};KC.classNames={fullWidth:H3,zeroRight:V3};var OF,owe=function(){if(OF)return OF;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function swe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=owe();return t&&e.setAttribute("nonce",t),e}function lwe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uwe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cwe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=swe())&&(lwe(t,n),uwe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dwe=function(){var e=cwe();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},RX=function(){var e=dwe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},fwe={left:0,top:0,right:0,gap:0},m8=function(e){return parseInt(e||"",10)||0},hwe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[m8(n),m8(r),m8(i)]},pwe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fwe;var t=hwe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},mwe=RX(),gwe=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Q2e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(V3,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(H3,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(V3," .").concat(V3,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(H3," .").concat(H3,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(X2e,": ").concat(s,`px;
  }
`)},vwe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r,a=j.useMemo(function(){return pwe(i)},[i]);return j.createElement(mwe,{styles:gwe(a,!t,i,n?"":"!important")})},hM=!1;if(typeof window<"u")try{var bx=Object.defineProperty({},"passive",{get:function(){return hM=!0,!0}});window.addEventListener("test",bx,bx),window.removeEventListener("test",bx,bx)}catch{hM=!1}var rg=hM?{passive:!1}:!1,ywe=function(e){return e.tagName==="TEXTAREA"},IX=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ywe(e)&&n[t]==="visible")},bwe=function(e){return IX(e,"overflowY")},wwe=function(e){return IX(e,"overflowX")},PF=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=OX(e,r);if(i){var a=PX(e,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},xwe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Swe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},OX=function(e,t){return e==="v"?bwe(t):wwe(t)},PX=function(e,t){return e==="v"?xwe(t):Swe(t)},Cwe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ewe=function(e,t,n,r,i){var a=Cwe(e,window.getComputedStyle(t).direction),o=a*r,s=n.target,l=t.contains(s),u=!1,c=o>0,d=0,f=0;do{var h=PX(e,s),m=h[0],g=h[1],S=h[2],y=g-S-a*m;(m||y)&&OX(e,s)&&(d+=y,f+=m),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(c&&(i&&Math.abs(d)<1||!i&&o>d)||!c&&(i&&Math.abs(f)<1||!i&&-o>f))&&(u=!0),u},wx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jF=function(e){return[e.deltaX,e.deltaY]},LF=function(e){return e&&"current"in e?e.current:e},kwe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Awe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_we=0,ig=[];function Mwe(e){var t=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),i=j.useState(_we++)[0],a=j.useState(RX)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=J2e([e.lockRef.current],(e.shards||[]).map(LF),!0).filter(Boolean);return g.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=j.useCallback(function(g,S){if("touches"in g&&g.touches.length===2)return!o.current.allowPinchZoom;var y=wx(g),E=n.current,x="deltaX"in g?g.deltaX:E[0]-y[0],v="deltaY"in g?g.deltaY:E[1]-y[1],C,b=g.target,A=Math.abs(x)>Math.abs(v)?"h":"v";if("touches"in g&&A==="h"&&b.type==="range")return!1;var _=PF(A,b);if(!_)return!0;if(_?C=A:(C=A==="v"?"h":"v",_=PF(A,b)),!_)return!1;if(!r.current&&"changedTouches"in g&&(x||v)&&(r.current=C),!C)return!0;var T=r.current||C;return Ewe(T,S,g,T==="h"?x:v,!0)},[]),l=j.useCallback(function(g){var S=g;if(!(!ig.length||ig[ig.length-1]!==a)){var y="deltaY"in S?jF(S):wx(S),E=t.current.filter(function(C){return C.name===S.type&&(C.target===S.target||S.target===C.shadowParent)&&kwe(C.delta,y)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var x=(o.current.shards||[]).map(LF).filter(Boolean).filter(function(C){return C.contains(S.target)}),v=x.length>0?s(S,x[0]):!o.current.noIsolation;v&&S.cancelable&&S.preventDefault()}}},[]),u=j.useCallback(function(g,S,y,E){var x={name:g,delta:S,target:y,should:E,shadowParent:Twe(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(v){return v!==x})},1)},[]),c=j.useCallback(function(g){n.current=wx(g),r.current=void 0},[]),d=j.useCallback(function(g){u(g.type,jF(g),g.target,s(g,e.lockRef.current))},[]),f=j.useCallback(function(g){u(g.type,wx(g),g.target,s(g,e.lockRef.current))},[]);j.useEffect(function(){return ig.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,rg),document.addEventListener("touchmove",l,rg),document.addEventListener("touchstart",c,rg),function(){ig=ig.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,rg),document.removeEventListener("touchmove",l,rg),document.removeEventListener("touchstart",c,rg)}},[]);var h=e.removeScrollBar,m=e.inert;return j.createElement(j.Fragment,null,m?j.createElement(a,{styles:Awe(i)}):null,h?j.createElement(vwe,{gapMode:e.gapMode}):null)}function Twe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Nwe=awe(DX,Mwe);var jX=j.forwardRef(function(e,t){return j.createElement(KC,ju({},e,{ref:t,sideCar:Nwe}))});jX.classNames=KC.classNames;const HD=jX;function ji(e){return Object.keys(e)}function g8(e){return e&&typeof e=="object"&&!Array.isArray(e)}function qD(e,t){const n={...e},r=t;return g8(e)&&g8(t)&&Object.keys(t).forEach(i=>{g8(r[i])&&i in e?n[i]=qD(n[i],r[i]):n[i]=r[i]}),n}function Dwe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Rwe(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function pM(e){const t=Rwe(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function v8(e){return`calc(${e} * var(--mantine-scale))`}function LX(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return"0";if(typeof r=="number"){const i=`${r/16}${e}`;return t?v8(i):i}if(typeof r=="string"){if(r.startsWith("calc(")||r.startsWith("var("))return r;if(r.includes(" "))return r.split(" ").map(a=>n(a)).join(" ");if(r.includes(e))return t?v8(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const a=`${Number(i)/16}${e}`;return t?v8(a):a}}return r}return n}const me=LX("rem",{shouldScale:!0}),PS=LX("em");function YC(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function FX(e){return typeof e=="number"?!0:typeof e=="string"?e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!==""?!0:/[0-9]/.test(e.trim().replace("-","")[0]):!1}function nc(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==O.Fragment:!1}function Kr(e){const t=j.createContext(null);return[({children:i,value:a})=>O.createElement(t.Provider,{value:a},i),()=>{const i=j.useContext(t);if(i===null)throw new Error(e);return i}]}function JC(e=null){const t=j.createContext(e);return[({children:i,value:a})=>O.createElement(t.Provider,{value:a},i),()=>j.useContext(t)]}function jS(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function LS(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Iwe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function Owe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function Pwe(e,t,n){return LS(e,n)===LS(t,n)}function WD({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:a="rtl",orientation:o}){return s=>{var m;n==null||n(s);const l=Array.from(((m=LS(s.currentTarget,e))==null?void 0:m.querySelectorAll(t))||[]).filter(g=>Pwe(s.currentTarget,g,e)),u=l.findIndex(g=>s.currentTarget===g),c=Owe(u,l,r),d=Iwe(u,l,r),f=a==="rtl"?d:c,h=a==="rtl"?c:d;switch(s.key){case"ArrowRight":{o==="horizontal"&&(s.stopPropagation(),s.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowLeft":{o==="horizontal"&&(s.stopPropagation(),s.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowUp":{o==="vertical"&&(s.stopPropagation(),s.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(s.stopPropagation(),s.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{s.stopPropagation(),s.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{s.stopPropagation(),s.preventDefault();const g=l.length-1;!l[g].disabled&&l[g].focus();break}}}}const jwe={app:100,modal:200,popover:300,overlay:400,max:9999};function Ya(e){return jwe[e]}const Lwe=()=>{};function Fwe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Lwe:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function Vt(e,t="size",n=!0){if(e!==void 0)return FX(e)?n?me(e):e:`var(--${t}-${e})`}function va(e){return Vt(e,"mantine-spacing")}function ar(e){return e===void 0?"var(--mantine-radius-default)":Vt(e,"mantine-radius")}function Sa(e){return Vt(e,"mantine-font-size")}function BX(e){return Vt(e,"mantine-line-height",!1)}function GD(e){if(e)return Vt(e,"mantine-shadow",!1)}function ya(e,t){return n=>{e==null||e(n),t==null||t(n)}}function KD(e,t){return e in t.breakpoints?pM(t.breakpoints[e]):pM(e)}function mM(e,t){const n=e.map(r=>({value:r,px:KD(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function y8(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function Bwe(e,t,n){var r;return n?Array.from(((r=LS(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function zwe(){const[e,t]=j.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function $we(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}const Uwe=typeof window<"u"?j.useLayoutEffect:j.useEffect;function Vwe(e){function t(r){const i=Object.keys(r).reduce((a,o)=>(a[`${e}:${o}`]=s=>r[o](s.detail),a),{});Uwe(()=>(Object.keys(i).forEach(a=>{window.removeEventListener(a,i[a]),window.addEventListener(a,i[a])}),()=>Object.keys(i).forEach(a=>{window.removeEventListener(a,i[a])})),[i])}function n(r){return(...i)=>$we(`${e}:${String(r)}`,i[0])}return[t,n]}function zX(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=zX(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ci(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=zX(e))&&(r&&(r+=" "),r+=t);return r}const Hwe={};function qwe(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=Ci(t[r],i):t[r]=i})}),t}function f2({theme:e,classNames:t,props:n,stylesCtx:r}){const a=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,n,r):o||Hwe);return qwe(a)}function kb({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((a,o)=>typeof o=="function"?{...a,...o(e,n,r)}:{...a,...o},{})}function Fu(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function d0(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function Bd(e,t){const n=t-e+1;return Array.from({length:n},(r,i)=>i+e)}function FF(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}function ap(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function QC(e,t){const n=ap(e),r=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),j.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}const BF=["mousedown","touchstart"];function Wwe(e,t,n){const r=j.useRef();return j.useEffect(()=>{const i=a=>{const{target:o}=a??{};if(Array.isArray(n)){const s=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(u=>!!u&&!a.composedPath().includes(u))&&!s&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||BF).forEach(a=>document.addEventListener(a,i)),()=>{(t||BF).forEach(a=>document.removeEventListener(a,i))}},[r,e,n]),r}function Gwe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Kwe(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Ywe(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=j.useState(n?t:Kwe(e,t)),a=j.useRef();return j.useEffect(()=>{if("matchMedia"in window)return a.current=window.matchMedia(e),i(a.current.matches),Gwe(a.current,o=>i(o.matches))},[e]),r}function YD(e,t,n={leading:!1}){const[r,i]=j.useState(e),a=j.useRef(null),o=j.useRef(!0),s=()=>window.clearTimeout(a.current);j.useEffect(()=>s,[]);const l=j.useCallback(u=>{s(),o.current&&n.leading?i(u):a.current=window.setTimeout(()=>{o.current=!0,i(u)},t),o.current=!1},[n.leading]);return[r,l]}function $X(e,t,n={leading:!1}){const[r,i]=j.useState(e),a=j.useRef(!1),o=j.useRef(null),s=j.useRef(!1),l=()=>window.clearTimeout(o.current);return j.useEffect(()=>{a.current&&(!s.current&&n.leading?(s.current=!0,i(e)):(l(),o.current=window.setTimeout(()=>{s.current=!1,i(e)},t)))},[e,n.leading,t]),j.useEffect(()=>(a.current=!0,l),[]),[r,l]}const dl=typeof document<"u"?j.useLayoutEffect:j.useEffect;function $n(e,t){const n=j.useRef(!1);j.useEffect(()=>()=>{n.current=!1},[]),j.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function UX({opened:e,shouldReturnFocus:t=!0}){const n=j.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return $n(()=>{let i=-1;const a=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",a),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",a)}},[e,t]),r}const Jwe=/input|select|textarea|button|object/,VX="a, input, select, textarea, button, object, [tabindex]";function Qwe(e){return e.style.display==="none"}function Xwe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(Qwe(n))return!1;n=n.parentNode}return!0}function HX(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function gM(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(HX(e));return(Jwe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&Xwe(e)}function qX(e){const t=HX(e);return(Number.isNaN(t)||t>=0)&&gM(e)}function Zwe(e){return Array.from(e.querySelectorAll(VX)).filter(qX)}function exe(e,t){const n=Zwe(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let a=r===i.activeElement||e===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(a=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===o.getAttribute("name")).includes(r)),!a)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function txe(e,t="body > :not(script)"){const n=d0(),r=Array.from(document.querySelectorAll(t)).map(i=>{var l;if((l=i==null?void 0:i.shadowRoot)!=null&&l.contains(e)||i.contains(e))return;const a=i.getAttribute("aria-hidden"),o=i.getAttribute("data-hidden"),s=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),a===null||a==="false"?i.setAttribute("aria-hidden","true"):!o&&!s&&i.setAttribute("data-hidden",a),{node:i,ariaHidden:o||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}function nxe(e=!0){const t=j.useRef(),n=j.useRef(null),r=a=>{let o=a.querySelector("[data-autofocus]");if(!o){const s=Array.from(a.querySelectorAll(VX));o=s.find(qX)||s.find(gM)||null,!o&&gM(a)&&(o=a)}o&&o.focus({preventScroll:!0})},i=j.useCallback(a=>{if(e){if(a===null){n.current&&(n.current(),n.current=null);return}n.current=txe(a),t.current!==a&&(a?(setTimeout(()=>{a.getRootNode()&&r(a)}),t.current=a):t.current=null)}},[e]);return j.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const a=o=>{o.key==="Tab"&&t.current&&exe(t.current,o)};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a),n.current&&n.current()}},[e]),i}const rxe=e=>(e+1)%1e6;function ixe(){const[,e]=j.useReducer(rxe,0);return e}const axe=O["useId".toString()]||(()=>{});function oxe(){const e=axe();return e?`mantine-${e.replace(/:/g,"")}`:""}function So(e){const t=oxe(),[n,r]=j.useState(t);return dl(()=>{r(d0())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function WX(e,t){const[n,r]=j.useState(!1),i=j.useRef(),a=j.useRef();j.useEffect(()=>{a.current=e},[e]);const o=()=>{r(u=>(!u&&!i.current&&(i.current=window.setInterval(a.current,t)),!0))},s=()=>{r(!1),window.clearInterval(i.current),i.current=void 0};return{start:o,stop:s,toggle:()=>{n?s():o()},active:n}}function ed(e,t,n){j.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function sxe(e,t){try{return JSON.stringify(e)}catch{throw new Error(`@mantine/hooks ${t}: Failed to serialize the value`)}}function lxe(e){try{return e&&JSON.parse(e)}catch{return e}}function uxe(e){return{getItem:i=>{try{return window[e].getItem(i)}catch{return console.warn("use-local-storage: Failed to get value from storage, localStorage is blocked"),null}},setItem:(i,a)=>{try{window[e].setItem(i,a)}catch{console.warn("use-local-storage: Failed to set value to storage, localStorage is blocked")}},removeItem:i=>{try{window[e].removeItem(i)}catch{console.warn("use-local-storage: Failed to remove value from storage, localStorage is blocked")}}}}function cxe(e,t){const n=e==="localStorage"?"mantine-local-storage":"mantine-session-storage",{getItem:r,setItem:i,removeItem:a}=uxe(e);return function({key:s,defaultValue:l,getInitialValueInEffect:u=!0,deserialize:c=lxe,serialize:d=f=>sxe(f,t)}){const f=j.useCallback(y=>{let E;try{E=typeof window>"u"||!(e in window)||window[e]===null||!!y}catch{E=!0}if(E)return l;const x=r(s);return x!==null?c(x):l},[s,l]),[h,m]=j.useState(f(u)),g=j.useCallback(y=>{y instanceof Function?m(E=>{const x=y(E);return i(s,d(x)),window.dispatchEvent(new CustomEvent(n,{detail:{key:s,value:y(E)}})),x}):(i(s,d(y)),window.dispatchEvent(new CustomEvent(n,{detail:{key:s,value:y}})),m(y))},[s]),S=j.useCallback(()=>{a(s),window.dispatchEvent(new CustomEvent(n,{detail:{key:s,value:l}}))},[]);return ed("storage",y=>{y.storageArea===window[e]&&y.key===s&&m(c(y.newValue??void 0))}),ed(n,y=>{y.detail.key===s&&m(y.detail.value)}),j.useEffect(()=>{l!==void 0&&h===void 0&&g(l)},[l,h,g]),j.useEffect(()=>{u&&m(f())},[]),[h===void 0?l:h,g,S]}}function dxe(e){return cxe("localStorage","use-local-storage")(e)}function h2(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function GX(...e){return t=>{e.forEach(n=>h2(n,t))}}function Ai(...e){return j.useCallback(GX(...e),e)}const KX=e=>({x:Fu(e.x,0,1),y:Fu(e.y,0,1)});function YX(e,t,n="ltr"){const r=j.useRef(null),i=j.useRef(!1),a=j.useRef(!1),o=j.useRef(0),[s,l]=j.useState(!1);return j.useEffect(()=>{i.current=!0},[]),j.useEffect(()=>{var E,x;const u=({x:v,y:C})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const b=r.current.getBoundingClientRect();if(b.width&&b.height){const A=Fu((v-b.left)/b.width,0,1);e({x:n==="ltr"?A:1-A,y:Fu((C-b.top)/b.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),document.addEventListener("touchmove",y),document.addEventListener("touchend",h)},d=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",h)},f=()=>{!a.current&&i.current&&(a.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),l(!0),c())},h=()=>{a.current&&i.current&&(a.current=!1,l(!1),d(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},m=v=>{f(),v.preventDefault(),g(v)},g=v=>u({x:v.clientX,y:v.clientY}),S=v=>{v.cancelable&&v.preventDefault(),f(),y(v)},y=v=>{v.cancelable&&v.preventDefault(),u({x:v.changedTouches[0].clientX,y:v.changedTouches[0].clientY})};return(E=r.current)==null||E.addEventListener("mousedown",m),(x=r.current)==null||x.addEventListener("touchstart",S,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",m),r.current.removeEventListener("touchstart",S))}},[n,e]),{ref:r,active:s}}function Ei({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,a]=j.useState(t!==void 0?t:n),o=s=>{a(s),r==null||r(s)};return e!==void 0?[e,r,!0]:[i,o,!1]}const xx="dots";function fxe({total:e,siblings:t=1,boundaries:n=1,page:r,initialPage:i=1,onChange:a}){const o=Math.max(Math.trunc(e),0),[s,l]=Ei({value:r,onChange:a,defaultValue:i,finalValue:i}),u=g=>{g<=0?l(1):g>o?l(o):l(g)},c=()=>u(s+1),d=()=>u(s-1),f=()=>u(1),h=()=>u(o);return{range:j.useMemo(()=>{if(t*2+3+n*2>=o)return Bd(1,o);const S=Math.max(s-t,n),y=Math.min(s+t,o-n),E=S>n+2,x=y<o-(n+1);if(!E&&x){const v=t*2+n+2;return[...Bd(1,v),xx,...Bd(o-(n-1),o)]}if(E&&!x){const v=n+1+2*t;return[...Bd(1,n),xx,...Bd(o-v,o)]}return[...Bd(1,n),xx,...Bd(S,y),xx,...Bd(o-n+1,o)]},[o,t,s]),active:s,setPage:u,next:c,previous:d,first:f,last:h}}function XC(e,t){return Ywe("(prefers-reduced-motion: reduce)",e,t)}const hxe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function JX(){const e=j.useRef(0),t=j.useRef(null),[n,r]=j.useState(hxe),i=j.useMemo(()=>typeof window<"u"?new ResizeObserver(a=>{const o=a[0];o&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame(()=>{t.current&&r(o.contentRect)}))}):null,[]);return j.useEffect(()=>(t.current&&(i==null||i.observe(t.current)),()=>{i==null||i.disconnect(),e.current&&cancelAnimationFrame(e.current)}),[t.current]),[t,n]}function JD(){const[e,{width:t,height:n}]=JX();return{ref:e,width:t,height:n}}function b8(){return typeof window<"u"?{x:window.pageXOffset,y:window.pageYOffset}:{x:0,y:0}}function pxe({x:e,y:t}){if(typeof window<"u"){const n={behavior:"smooth"};typeof e=="number"&&(n.left=e),typeof t=="number"&&(n.top=t),window.scrollTo(n)}}function mxe(){const[e,t]=j.useState({x:0,y:0});return ed("scroll",()=>t(b8())),ed("resize",()=>t(b8())),j.useEffect(()=>{t(b8())},[]),[e,pxe]}function gxe(e){const t=e.toLowerCase().split("+").map(a=>a.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"],i=t.find(a=>!r.includes(a));return{...n,key:i}}function vxe(e,t){const{alt:n,ctrl:r,meta:i,mod:a,shift:o,key:s}=e,{altKey:l,ctrlKey:u,metaKey:c,shiftKey:d,key:f}=t;if(n!==l)return!1;if(a){if(!u&&!c)return!1}else if(r!==u||i!==c)return!1;return o!==d?!1:!!(s&&(f.toLowerCase()===s.toLowerCase()||t.code.replace("Key","").toLowerCase()===s.toLowerCase()))}function QX(e){return t=>vxe(gxe(e),t)}function XX(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i,a={preventDefault:!0}])=>{QX(r)(n)&&(a.preventDefault&&t.preventDefault(),i(n))})}}function yxe(e,t,n=!1){return e.target instanceof HTMLElement?(n||!e.target.isContentEditable)&&!t.includes(e.target.tagName):!0}function bxe(e,t=["INPUT","TEXTAREA","SELECT"],n=!1){j.useEffect(()=>{const r=i=>{e.forEach(([a,o,s={preventDefault:!0}])=>{QX(a)(i)&&yxe(i,t,n)&&(s.preventDefault&&i.preventDefault(),o(i))})};return document.documentElement.addEventListener("keydown",r),()=>document.documentElement.removeEventListener("keydown",r)},[e])}function Wn(){const[e,t]=j.useState(!1),n=j.useRef(null),r=j.useCallback(()=>t(!0),[]),i=j.useCallback(()=>t(!1),[]);return j.useEffect(()=>{if(n.current)return n.current.addEventListener("mouseenter",r),n.current.addEventListener("mouseleave",i),()=>{var a,o;(a=n.current)==null||a.removeEventListener("mouseenter",r),(o=n.current)==null||o.removeEventListener("mouseleave",i)}},[]),{ref:n,hovered:e}}function zF(){if(typeof window>"u")return"undetermined";const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function wxe(e={getValueInEffect:!0}){const[t,n]=j.useState(e.getValueInEffect?"undetermined":zF());return dl(()=>{e.getValueInEffect&&n(zF)},[]),t}function xxe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function Sxe(e){const[t,n]=j.useState(e);return[t,xxe(n)]}function Ga(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,a]=j.useState(e),o=j.useCallback(()=>{a(u=>u||(n==null||n(),!0))},[n]),s=j.useCallback(()=>{a(u=>u&&(r==null||r(),!1))},[r]),l=j.useCallback(()=>{i?s():o()},[s,o,i]);return[i,{open:o,close:s,toggle:l}]}function Cxe(e){const t=j.useRef();return j.useEffect(()=>{t.current=e},[e]),t.current}const vM=(e,t)=>e<=t,yM=(e,t)=>e<=t,Exe=(e,t,n)=>!yM(e,t)&&!vM(e,n);function kxe({fixedAt:e=0,onPin:t,onFix:n,onRelease:r}={}){const i=j.useRef(0),[{y:a}]=mxe();return dl(()=>{yM(a,i.current)&&(t==null||t())},[a,t]),dl(()=>{vM(a,e)&&(n==null||n())},[a,e,n]),dl(()=>{Exe(a,i.current,e)&&(r==null||r())},[a,r]),dl(()=>{i.current=window.scrollY},[a]),!!(yM(a,i.current)||vM(a,e))}function Axe(){const[e,t]=j.useState(!1);dl(()=>{t(typeof window<"u"&&"EyeDropper"in window)},[]);const n=j.useCallback((r={})=>e?new window.EyeDropper().open(r):Promise.resolve(void 0),[e]);return{supported:e,open:n}}const ZX=j.createContext(null);function ZC(){const e=j.useContext(ZX);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function _xe(){return ZC().cssVariablesResolver}function Mxe(){return ZC().classNamesPrefix}function QD(){return ZC().getStyleNonce}const Txe={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#4a4a4a","#404040","#383838","#2e2e2e","#242424","#212121"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function bM(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function Wp({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Instead got ${typeof e}`);if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,variable:`--mantine-color-${e}`};const[r,i]=e.split("."),a=i?Number(i):void 0,o=r in t.colors;return o?{color:r,value:a!==void 0?t.colors[r][a]:t.colors[r][bM(t,n||"light")],shade:a,isThemeColor:o,variable:i?`--mantine-color-${r}-${a}`:`--mantine-color-${r}-filled`}:{color:e,value:e,isThemeColor:o,shade:a,variable:void 0}}function mr(e,t){const n=Wp({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function wM(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},r=mr(n.from,t),i=mr(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function Nxe(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function Dxe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,a=n&255;return{r,g:i,b:a,a:1}}function Rxe(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function Ixe(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,a=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,s=(1-Math.abs(2*a-1))*i,l=r/60,u=s*(1-Math.abs(l%2-1)),c=a-s/2;let d,f,h;return l>=0&&l<1?(d=s,f=u,h=0):l>=1&&l<2?(d=u,f=s,h=0):l>=2&&l<3?(d=0,f=s,h=u):l>=3&&l<4?(d=0,f=u,h=s):l>=4&&l<5?(d=u,f=0,h=s):(d=s,f=0,h=u),{r:Math.round((d+c)*255),g:Math.round((f+c)*255),b:Math.round((h+c)*255),a:o||1}}function eZ(e){return Nxe(e)?Dxe(e):e.startsWith("rgb")?Rxe(e):e.startsWith("hsl")?Ixe(e):{r:0,g:0,b:0,a:1}}function Sx(e,t){if(e.startsWith("var("))return e;const{r:n,g:r,b:i,a}=eZ(e),o=1-t,s=l=>Math.round(l*o);return`rgba(${s(n)}, ${s(r)}, ${s(i)}, ${a})`}function pa(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=eZ(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const Oxe=({color:e,theme:t,variant:n,gradient:r})=>{const i=Wp({color:e,theme:t});if(n==="filled")return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:"var(--mantine-color-white)",border:`${me(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:"var(--mantine-color-white)",border:`${me(1)} solid transparent`}:{background:e,hover:Sx(e,.1),color:"var(--mantine-color-white)",border:`${me(1)} solid transparent`};if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${me(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:pa(a,.1),hover:pa(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${me(1)} solid transparent`}}return{background:pa(e,.1),hover:pa(e,.12),color:e,border:`${me(1)} solid transparent`}}if(n==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${me(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:pa(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${me(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:pa(e,.05),color:e,border:`${me(1)} solid ${e}`};if(n==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${me(1)} solid transparent`};const a=t.colors[i.color][i.shade];return{background:"transparent",hover:pa(a,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${me(1)} solid transparent`}}return{background:"transparent",hover:pa(e,.12),color:e,border:`${me(1)} solid transparent`}}return n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${me(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${me(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${me(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:Sx(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${me(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Sx(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${me(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Sx(t.white,.01),color:e,border:`${me(1)} solid transparent`}:n==="gradient"?{background:wM(r,t),hover:wM(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${me(1)} solid var(--mantine-color-default-border)`}:{}},$F="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",XD={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:Txe,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:Oxe,fontFamily:$F,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:$F,fontWeight:"700",sizes:{h1:{fontSize:me(34),lineHeight:"1.3"},h2:{fontSize:me(26),lineHeight:"1.35"},h3:{fontSize:me(22),lineHeight:"1.4"},h4:{fontSize:me(18),lineHeight:"1.45"},h5:{fontSize:me(16),lineHeight:"1.5"},h6:{fontSize:me(14),lineHeight:"1.5"}}},fontSizes:{xs:me(12),sm:me(14),md:me(16),lg:me(18),xl:me(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:me(2),sm:me(4),md:me(8),lg:me(16),xl:me(32)},spacing:{xs:me(10),sm:me(12),md:me(16),lg:me(20),xl:me(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), 0 ${me(1)} ${me(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(10)} ${me(15)} ${me(-5)}, rgba(0, 0, 0, 0.04) 0 ${me(7)} ${me(7)} ${me(-5)}`,md:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(20)} ${me(25)} ${me(-5)}, rgba(0, 0, 0, 0.04) 0 ${me(10)} ${me(10)} ${me(-5)}`,lg:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(28)} ${me(23)} ${me(-7)}, rgba(0, 0, 0, 0.04) 0 ${me(12)} ${me(12)} ${me(-7)}`,xl:`0 ${me(1)} ${me(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${me(36)} ${me(28)} ${me(-7)}, rgba(0, 0, 0, 0.04) 0 ${me(17)} ${me(17)} ${me(-7)}`},other:{},components:{}};function Pxe(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}const jxe="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",UF="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function w8(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function VF(e){if(!(e.primaryColor in e.colors))throw new Error(jxe);if(typeof e.primaryShade=="object"&&(!w8(e.primaryShade.dark)||!w8(e.primaryShade.light)))throw new Error(UF);if(typeof e.primaryShade=="number"&&!w8(e.primaryShade))throw new Error(UF)}function Lxe(e,t){var r;if(!t)return VF(e),e;const n=qD(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),VF(n),n}const ZD=j.createContext(null),Fxe=()=>j.useContext(ZD)||XD;function ht(){const e=j.useContext(ZD);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function tZ({theme:e,children:t,inherit:n=!0}){const r=Fxe(),i=j.useMemo(()=>Lxe(n?r:XD,e),[e,r,n]);return O.createElement(ZD.Provider,{value:i},t)}tZ.displayName="@mantine/core/MantineThemeProvider";function x8(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function S8(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function Bxe(e,t){const n=x8(e.variables),r=n?S8(t,n):"",i=x8(e.dark),a=i?S8(`${t}[data-mantine-color-scheme="dark"]`,i):"",o=x8(e.light),s=o?S8(`${t}[data-mantine-color-scheme="light"]`,o):"";return`${r}${a}${s}`}function ag(e,t,n){ji(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const nZ=e=>{const t=bM(e,"dark"),n=bM(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:me(e.defaultRadius),i={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-color-scheme":"light dark","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${n})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)"},dark:{"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)"}};ag(i.variables,e.breakpoints,"breakpoint"),ag(i.variables,e.spacing,"spacing"),ag(i.variables,e.fontSizes,"font-size"),ag(i.variables,e.lineHeights,"line-height"),ag(i.variables,e.shadows,"shadow"),ag(i.variables,e.radius,"radius"),ji(e.colors).forEach(o=>{e.colors[o].forEach((u,c)=>{i.variables[`--mantine-color-${o}-${c}`]=u});const s=`var(--mantine-color-${o}-${n===9?8:n+1})`,l=`var(--mantine-color-${o}-${t===9?8:t+1})`;i.light["--mantine-color-dimmed"]="var(--mantine-color-gray-6)",i.light[`--mantine-color-${o}-text`]=`var(--mantine-color-${o}-filled)`,i.light[`--mantine-color-${o}-filled`]=`var(--mantine-color-${o}-${n})`,i.light[`--mantine-color-${o}-filled-hover`]=s,i.light[`--mantine-color-${o}-light`]=pa(e.colors[o][n],.1),i.light[`--mantine-color-${o}-light-hover`]=pa(e.colors[o][n],.12),i.light[`--mantine-color-${o}-light-color`]=`var(--mantine-color-${o}-${n})`,i.light[`--mantine-color-${o}-outline`]=`var(--mantine-color-${o}-${n})`,i.light[`--mantine-color-${o}-outline-hover`]=pa(e.colors[o][n],.05),i.dark["--mantine-color-dimmed"]="var(--mantine-color-dark-2)",i.dark[`--mantine-color-${o}-text`]=`var(--mantine-color-${o}-4)`,i.dark[`--mantine-color-${o}-filled`]=`var(--mantine-color-${o}-${t})`,i.dark[`--mantine-color-${o}-filled-hover`]=l,i.dark[`--mantine-color-${o}-light`]=pa(e.colors[o][Math.max(0,t-2)],.15),i.dark[`--mantine-color-${o}-light-hover`]=pa(e.colors[o][Math.max(0,t-2)],.2),i.dark[`--mantine-color-${o}-light-color`]=`var(--mantine-color-${o}-${Math.max(t-5,0)})`,i.dark[`--mantine-color-${o}-outline`]=`var(--mantine-color-${o}-${Math.max(t-4,0)})`,i.dark[`--mantine-color-${o}-outline-hover`]=pa(e.colors[o][Math.max(t-4,0)],.05)});const a=e.headings.sizes;return ji(a).forEach(o=>{i.variables[`--mantine-${o}-font-size`]=a[o].fontSize,i.variables[`--mantine-${o}-line-height`]=a[o].lineHeight,i.variables[`--mantine-${o}-font-weight`]=a[o].fontWeight||e.headings.fontWeight}),i};function zxe({theme:e,generator:t}){const n=nZ(e),r=t==null?void 0:t(e);return r?qD(n,r):n}const C8=nZ(XD);function $xe(e){const t={variables:{},light:{},dark:{}};return ji(e.variables).forEach(n=>{C8.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),ji(e.light).forEach(n=>{C8.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),ji(e.dark).forEach(n=>{C8.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function Uxe(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function rZ({cssVariablesSelector:e}){const t=ht(),n=QD(),r=_xe(),i=zxe({theme:t,generator:r}),a=e===":root",o=a?$xe(i):i,s=Bxe(o,e);return s?O.createElement("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${s}${a?"":Uxe(e)}`}}):null}rZ.displayName="@mantine/CssVariables";function Vxe(){const e=ht(),t=QD(),n=ji(e.breakpoints).reduce((r,i)=>{const a=pM(e.breakpoints[i]);return`${r}@media (max-width: ${PS(a-.1)}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${PS(a)}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return O.createElement("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function HF(e){return e==="auto"||e==="dark"||e==="light"}function Hxe({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return HF(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&HF(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}function jv(e,t){var r;const n=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=t())==null||r.setAttribute("data-mantine-color-scheme",n)}function qxe({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=j.useRef(),[a,o]=j.useState(()=>e.get(t)),s=r||a,l=j.useCallback(c=>{r||(jv(c,n),o(c),e.set(c))},[e.set,s,r]),u=j.useCallback(()=>{o(t),jv(t,n),e.clear()},[e.clear,t]);return j.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),dl(()=>{jv(e.get(t),n)},[]),j.useEffect(()=>{var d;if(r)return jv(r,n),()=>{};i.current=window.matchMedia("(prefers-color-scheme: dark)");const c=f=>{a==="auto"&&jv(f.matches?"dark":"light",n)};return(d=i.current)==null||d.addEventListener("change",c),()=>{var f;return(f=i.current)==null?void 0:f.removeEventListener("change",c)}},[a,r]),{colorScheme:s,setColorScheme:l,clearColorScheme:u}}function Wxe({respectReducedMotion:e,getRootElement:t}){dl(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}Pxe();function iZ({theme:e,children:t,getStyleNonce:n,withCssVariables:r=!0,cssVariablesSelector:i=":root",classNamesPrefix:a="mantine",colorSchemeManager:o=Hxe(),defaultColorScheme:s="light",getRootElement:l=()=>document.documentElement,cssVariablesResolver:u,forceColorScheme:c}){const{colorScheme:d,setColorScheme:f,clearColorScheme:h}=qxe({defaultColorScheme:s,forceColorScheme:c,manager:o,getRootElement:l});return Wxe({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:l}),O.createElement(ZX.Provider,{value:{colorSchemeManager:o,colorScheme:d,setColorScheme:f,clearColorScheme:h,getRootElement:l,classNamesPrefix:a,getStyleNonce:n,cssVariablesResolver:u,cssVariablesSelector:i}},O.createElement(tZ,{theme:e},r&&O.createElement(rZ,{cssVariablesSelector:i}),O.createElement(Vxe,null),t))}iZ.displayName="@mantine/core/MantineProvider";function rc({classNames:e,styles:t,props:n,stylesCtx:r}){const i=ht();return{resolvedClassNames:f2({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:kb({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const Gxe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Kxe({theme:e,options:t,unstyled:n}){return Ci((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||Gxe[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function Yxe({themeName:e,classNamesPrefix:t,selector:n}){return e.map(r=>`${t}-${r}-${n}`)}function Jxe({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(a=>{var o,s;return(s=f2({theme:t,classNames:(o=t.components[a])==null?void 0:o.classNames,props:r,stylesCtx:i}))==null?void 0:s[n]})}function Qxe({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function Xxe({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function Zxe({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function e3e({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return f2({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function t3e({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return f2({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function n3e({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:a,classes:o,unstyled:s,className:l,rootSelector:u,props:c,stylesCtx:d}){return Ci(Kxe({theme:e,options:t,unstyled:s}),Jxe({theme:e,themeName:n,selector:r,props:c,stylesCtx:d}),Qxe({options:t,classes:o,selector:r,unstyled:s}),e3e({selector:r,stylesCtx:d,theme:e,classNames:a,props:c}),t3e({selector:r,stylesCtx:d,options:t,props:c,theme:e}),Xxe({rootSelector:u,selector:r,className:l}),Zxe({selector:r,classes:o,unstyled:s}),Yxe({themeName:n,classNamesPrefix:i,selector:r}),t==null?void 0:t.className)}function r3e({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(a=>{var o;return kb({theme:e,styles:(o=e.components[a])==null?void 0:o.styles,props:n,stylesCtx:r})[i]}).reduce((a,o)=>({...a,...o}),{})}function xM({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...xM({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function i3e(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...YC(n[r])}}),t),{})}function a3e({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:a,themeName:o}){var s;return(s=i3e([t==null?void 0:t(n,r,i),...o.map(l=>{var u,c,d;return(d=(c=(u=n.components)==null?void 0:u[l])==null?void 0:c.vars)==null?void 0:d.call(c,n,r,i)}),e==null?void 0:e(n,r,i)]))==null?void 0:s[a]}function o3e({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:a,rootSelector:o,styles:s,style:l,vars:u,varsResolver:c}){return{...r3e({theme:e,themeName:t,props:i,stylesCtx:a,selector:n}),...kb({theme:e,styles:s,props:i,stylesCtx:a})[n],...kb({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:a})[n],...a3e({theme:e,props:i,stylesCtx:a,vars:u,varsResolver:c,selector:n,themeName:t}),...o===n?xM({style:l,theme:e}):null,...xM({style:r==null?void 0:r.style,theme:e})}}function gt({name:e,classes:t,props:n,stylesCtx:r,className:i,style:a,rootSelector:o="root",unstyled:s,classNames:l,styles:u,vars:c,varsResolver:d}){const f=ht(),h=Mxe(),m=(Array.isArray(e)?e:[e]).filter(g=>g);return(g,S)=>({className:n3e({theme:f,options:S,themeName:m,selector:g,classNamesPrefix:h,classNames:l,classes:t,unstyled:s,className:i,rootSelector:o,props:n,stylesCtx:r}),style:o3e({theme:f,themeName:m,selector:g,options:S,props:n,stylesCtx:r,rootSelector:o,styles:u,style:a,vars:c,varsResolver:d})})}function Fe(e,t,n){var o;const r=ht(),i=(o=r.components[e])==null?void 0:o.defaultProps,a=typeof i=="function"?i(r):i;return{...t,...a,...YC(n)}}function qF(e){return ji(e).reduce((t,n)=>e[n]!==void 0?`${t}${Dwe(n)}:${e[n]};`:t,"").trim()}function s3e({selector:e,styles:t,media:n}){const r=t?qF(t):"",i=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${qF(a.styles)}}}`):[];return`${r?`${e}{${r}}`:""}${i.join("")}`.trim()}function e9({selector:e,styles:t,media:n}){const r=QD();return O.createElement("style",{"data-mantine-styles":"inline",nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:s3e({selector:e,styles:t,media:n})}})}function x1(e){const{m:t,mx:n,my:r,mt:i,mb:a,ml:o,mr:s,p:l,px:u,py:c,pt:d,pb:f,pl:h,pr:m,bg:g,c:S,opacity:y,ff:E,fz:x,fw:v,lts:C,ta:b,lh:A,fs:_,tt:T,td:M,w:N,miw:I,maw:F,h:$,mih:z,mah:D,bgsz:P,bgp:V,bgr:B,bga:H,pos:K,top:W,left:L,bottom:G,right:de,inset:Q,display:ee,hiddenFrom:ne,visibleFrom:se,lightHidden:ge,darkHidden:xe,...we}=e;return{styleProps:YC({m:t,mx:n,my:r,mt:i,mb:a,ml:o,mr:s,p:l,px:u,py:c,pt:d,pb:f,pl:h,pr:m,bg:g,c:S,opacity:y,ff:E,fz:x,fw:v,lts:C,ta:b,lh:A,fs:_,tt:T,td:M,w:N,miw:I,maw:F,h:$,mih:z,mah:D,bgsz:P,bgp:V,bgr:B,bga:H,pos:K,top:W,left:L,bottom:G,right:de,inset:Q,display:ee,hiddenFrom:ne,visibleFrom:se,lightHidden:ge,darkHidden:xe}),rest:we}}const l3e={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"identity",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"}};function u3e(e,t){const n=Wp({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:n.variable?`var(${n.variable})`:n.color}function c3e(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="number"||typeof e=="string"?me(e):e}function d3e(e,t){if(typeof e=="number")return me(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return me(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}function f3e(e){return e}function h3e(e){return typeof e=="number"?me(e):e}function p3e(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-line-height-${e})`:e}const E8={color:u3e,fontSize:c3e,spacing:d3e,identity:f3e,size:h3e,lineHeight:p3e};function WF(e){return e.replace("(min-width: ","").replace("em)","")}function m3e({media:e,...t}){const r=Object.keys(e).sort((i,a)=>Number(WF(i))-Number(WF(a))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function g3e(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function v3e(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function y3e(e){return typeof e=="object"&&e!==null?ji(e).filter(t=>t!=="base"):[]}function b3e(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function w3e({styleProps:e,data:t,theme:n}){return m3e(ji(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom")return r;const a=t[i],o=Array.isArray(a.property)?a.property:[a.property],s=v3e(e[i]);if(!g3e(e[i]))return o.forEach(u=>{r.inlineStyles[u]=E8[a.type](s,n)}),r;r.hasResponsiveStyles=!0;const l=y3e(e[i]);return o.forEach(u=>{s&&(r.styles[u]=E8[a.type](s,n)),l.forEach(c=>{const d=`(min-width: ${n.breakpoints[c]})`;r.media[d]={...r.media[d],[u]:E8[a.type](b3e(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function aZ(){return`__m__-${j.useId().replace(/:/g,"")}`}function t9(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...t9(r,t)}),{}):typeof e=="function"?e(t):e??{}}function SM(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...SM(r,t)}),{}):typeof e=="function"?e(t):e??{}}function x3e({theme:e,style:t,vars:n,styleProps:r}){const i=SM(t,e),a=SM(n,e);return{...i,...a,...r}}function oZ(e){return e.startsWith("data-")?e:`data-${e}`}function S3e(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[oZ(n)]=e[n]),t},{})}function sZ(e){return e?typeof e=="string"?{[oZ(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...sZ(n)}),{}):S3e(e):null}const lZ=j.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:a,size:o,hiddenFrom:s,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:d,...f},h)=>{const m=ht(),g=e||"div",{styleProps:S,rest:y}=x1(f),E=aZ(),x=w3e({styleProps:S,theme:m,data:l3e}),v={ref:h,style:x3e({theme:m,style:t,vars:n,styleProps:x.inlineStyles}),className:Ci(r,{[E]:x.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${s}`]:s,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":FX(o)?void 0:o||void 0,...sZ(a),...y};return O.createElement(O.Fragment,null,x.hasResponsiveStyles&&O.createElement(e9,{selector:`.${E}`,styles:x.styles,media:x.media}),typeof d=="function"?d(v):O.createElement(g,{...v}))});lZ.displayName="@mantine/core/Box";const Z=lZ;function uZ(e){return e}function Ge(e){const t=j.forwardRef(e);return t.extend=uZ,t}function _i(e){const t=j.forwardRef(e);return t.extend=uZ,t}const C3e=j.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function ic(){return j.useContext(C3e)}function E3e(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function k8(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Lv=typeof window<"u"&&window.requestAnimationFrame;function k3e({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=j.useRef(null),a=0,o={display:"none",height:0,overflow:"hidden"},[s,l]=j.useState(r?{}:o),u=m=>{w1.flushSync(()=>l(m))},c=m=>{u(g=>({...g,...m}))};function d(m){return{transition:`height ${e||E3e(m)}ms ${t}`}}$n(()=>{typeof Lv=="function"&&Lv(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),Lv(()=>{const m=k8(i);c({...d(m),height:m})})}:()=>{const m=k8(i);c({...d(m),willChange:"height",height:m}),Lv(()=>c({height:a,overflow:"hidden"}))})},[r]);const f=m=>{if(!(m.target!==i.current||m.propertyName!=="height"))if(r){const g=k8(i);g===s.height?u({}):c({height:g}),n()}else s.height===a&&(u(o),n())};function h({style:m={},refKey:g="ref",...S}={}){const y=S[g];return{"aria-hidden":!r,...S,[g]:GX(i,y),onTransitionEnd:f,style:{boxSizing:"border-box",...m,...s}}}return h}const A3e={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},xl=j.forwardRef((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:a,style:o,onTransitionEnd:s,animateOpacity:l,...u}=Fe("Collapse",A3e,e),c=ht(),d=XC(),h=(c.respectReducedMotion?d:!1)?0:i,m=k3e({opened:r,transitionDuration:h,transitionTimingFunction:a,onTransitionEnd:s});return h===0?r?O.createElement(Z,{...u},n):null:O.createElement(Z,{...m({style:t9(o,c),ref:t,...u})},O.createElement("div",{style:{opacity:r||!l?1:0,transition:l?`opacity ${h}ms ${a}`:"none"}},n))});xl.displayName="@mantine/core/Collapse";const[_3e,kl]=Kr("ScrollArea.Root component was not found in tree");function R0(e,t){const n=ap(t);dl(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const[M3e,cZ]=Kr("ScrollAreaScrollbar was not found in tree");function Rp(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const dZ=j.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:s,onDragScroll:l,onWheelScroll:u,onResize:c,...d}=e,f=kl(),[h,m]=O.useState(null),g=Ai(t,_=>m(_)),S=O.useRef(null),y=O.useRef(""),{viewport:E}=f,x=n.content-n.viewport,v=ap(u),C=ap(s),b=QC(c,10),A=_=>{if(S.current){const T=_.clientX-S.current.left,M=_.clientY-S.current.top;l({x:T,y:M})}};return j.useEffect(()=>{const _=T=>{const M=T.target;(h==null?void 0:h.contains(M))&&v(T,x)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[E,h,x,v]),j.useEffect(C,[n,C]),R0(h,b),R0(f.content,b),O.createElement(M3e,{value:{scrollbar:h,hasThumb:r,onThumbChange:ap(i),onThumbPointerUp:ap(a),onThumbPositionChange:C,onThumbPointerDown:ap(o)}},O.createElement("div",{...d,ref:g,style:{position:"absolute",...d.style},onPointerDown:Rp(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),S.current=h.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A(_))}),onPointerMove:Rp(e.onPointerMove,A),onPointerUp:Rp(e.onPointerUp,_=>{const T=_.target;T.hasPointerCapture(_.pointerId)&&T.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=y.current,S.current=null})}))});function fZ(e,t){return e>0&&e<t}function hZ(e,t){const n=e/t;return Number.isNaN(n)?0:n}function e4(e){const t=hZ(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function FS(e){return e?parseInt(e,10):0}const T3e=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...a}=e,o=kl(),[s,l]=j.useState(),u=j.useRef(null),c=Ai(t,u,o.onScrollbarXChange);return j.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),O.createElement(dZ,{"data-orientation":"horizontal",...a,ref:c,sizes:n,style:{...i,["--sa-thumb-width"]:`${e4(n)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),fZ(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:FS(s.paddingLeft),paddingEnd:FS(s.paddingRight)}})}})}),N3e=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...a}=e,o=kl(),[s,l]=O.useState(),u=j.useRef(null),c=Ai(t,u,o.onScrollbarYChange);return j.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),O.createElement(dZ,{...a,"data-orientation":"vertical",ref:c,sizes:n,style:{["--sa-thumb-height"]:`${e4(n)}px`,...i},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),fZ(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:FS(s.paddingTop),paddingEnd:FS(s.paddingBottom)}})}})});function pZ(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function D3e(e,[t,n]){return Math.min(n,Math.max(t,e))}function GF(e,t,n="ltr"){const r=e4(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,s=a-r,l=n==="ltr"?[0,o]:[o*-1,0],u=D3e(e,l);return pZ([0,o],[0,s])(u)}function R3e(e,t,n,r="ltr"){const i=e4(n),a=i/2,o=t||a,s=i-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-s,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return pZ([l,u],d)(e)}const n9=j.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=ic(),a=kl(),o=j.useRef(null),s=j.useRef(0),[l,u]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=hZ(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:h=>{o.current=h},onThumbPointerUp:()=>{s.current=0},onThumbPointerDown:h=>{s.current=h}},f=(h,m)=>R3e(h,s.current,l,m);return n==="horizontal"?O.createElement(T3e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollLeft,m=GF(h,l,i);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,i))}}):n==="vertical"?O.createElement(N3e,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollTop,m=GF(h,l);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),mZ=j.forwardRef((e,t)=>{const n=kl(),{forceMount:r,...i}=e,[a,o]=j.useState(!1),s=e.orientation==="horizontal",l=QC(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(s?u:c)}},10);return R0(n.viewport,l),R0(n.content,l),r||a?O.createElement(n9,{"data-state":a?"visible":"hidden",...i,ref:t}):null}),I3e=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=kl(),[a,o]=j.useState(!1);return j.useEffect(()=>{const{scrollArea:s}=i;let l=0;if(s){const u=()=>{window.clearTimeout(l),o(!0)},c=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||a?O.createElement(mZ,{"data-state":a?"visible":"hidden",...r,ref:t}):null}),O3e=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=kl(),a=e.orientation==="horizontal",[o,s]=j.useState("hidden"),l=QC(()=>s("idle"),100);return j.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>s("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay]),j.useEffect(()=>{const{viewport:u}=i,c=a?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const h=u[c];d!==h&&(s("scrolling"),l()),d=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,a,l]),n||o!=="hidden"?O.createElement(n9,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Rp(e.onPointerEnter,()=>s("interacting")),onPointerLeave:Rp(e.onPointerLeave,()=>s("idle"))}):null}),KF=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=kl(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=e.orientation==="horizontal";return O.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?O.createElement(I3e,{...r,ref:t,forceMount:n}):i.type==="scroll"?O.createElement(O3e,{...r,ref:t,forceMount:n}):i.type==="auto"?O.createElement(mZ,{...r,ref:t,forceMount:n}):i.type==="always"?O.createElement(n9,{...r,ref:t}):null}),P3e=O.forwardRef((e,t)=>{const{style:n,...r}=e,i=kl(),[a,o]=O.useState(0),[s,l]=O.useState(0),u=!!(a&&s);return R0(i.scrollbarX,()=>{var d;const c=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(c),l(c)}),R0(i.scrollbarY,()=>{var d;const c=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(c),o(c)}),u?O.createElement("div",{...r,ref:t,style:{...n,width:a,height:s}}):null}),j3e=O.forwardRef((e,t)=>{const n=kl(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?O.createElement(P3e,{...e,ref:t}):null}),L3e={scrollHideDelay:1e3,type:"hover"},gZ=j.forwardRef((e,t)=>{const n=Fe("ScrollAreaRoot",L3e,e),{type:r,scrollHideDelay:i,...a}=n,[o,s]=j.useState(null),[l,u]=j.useState(null),[c,d]=j.useState(null),[f,h]=j.useState(null),[m,g]=j.useState(null),[S,y]=j.useState(0),[E,x]=j.useState(0),[v,C]=j.useState(!1),[b,A]=j.useState(!1),_=Ai(t,T=>s(T));return O.createElement(_3e,{value:{type:r,scrollHideDelay:i,scrollArea:o,viewport:l,onViewportChange:u,content:c,onContentChange:d,scrollbarX:f,onScrollbarXChange:h,scrollbarXEnabled:v,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:b,onScrollbarYEnabledChange:A,onCornerWidthChange:y,onCornerHeightChange:x}},O.createElement(Z,{...a,ref:_,__vars:{"--sa-corner-width":`${S}px`,"--sa-corner-height":`${E}px`}}))});gZ.displayName="@mantine/core/ScrollAreaRoot";const vZ=j.forwardRef(({children:e,style:t,...n},r)=>{const i=kl(),a=Ai(r,i.onViewportChange);return O.createElement(Z,{...n,ref:a,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t}},O.createElement("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange},e))});vZ.displayName="@mantine/core/ScrollAreaViewport";var r9={root:"m-d57069b5",viewport:"m-c0783ff9",viewportInner:"m-f8f631dd",scrollbar:"m-c44ba933",thumb:"m-d8b5e363",corner:"m-21657268"};function F3e(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,s=n.top!==a.top;(o||s)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const B3e=j.forwardRef((e,t)=>{const{style:n,...r}=e,i=kl(),a=cZ(),{onThumbPositionChange:o}=a,s=Ai(t,c=>a.onThumbChange(c)),l=j.useRef(),u=QC(()=>{l.current&&(l.current(),l.current=void 0)},100);return j.useEffect(()=>{const{viewport:c}=i;if(c){const d=()=>{if(u(),!l.current){const f=F3e(c,o);l.current=f,o()}};return o(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,u,o]),O.createElement("div",{"data-state":a.hasThumb?"visible":"hidden",...r,ref:s,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:Rp(e.onPointerDownCapture,c=>{const f=c.target.getBoundingClientRect(),h=c.clientX-f.left,m=c.clientY-f.top;a.onThumbPointerDown({x:h,y:m})}),onPointerUp:Rp(e.onPointerUp,a.onThumbPointerUp)})}),YF=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=cZ();return n||i.hasThumb?O.createElement(B3e,{ref:t,...r}):null}),yZ={scrollHideDelay:1e3,type:"hover"},z3e=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":me(t)}}),Jn=Ge((e,t)=>{const n=Fe("ScrollArea",yZ,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,scrollbarSize:l,vars:u,type:c,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:m,children:g,offsetScrollbars:S,...y}=n,[E,x]=j.useState(!1),v=gt({name:"ScrollArea",props:n,classes:r9,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:u,varsResolver:z3e});return O.createElement(gZ,{type:c==="never"?"always":c,scrollHideDelay:d,ref:t,...v("root"),...y},O.createElement(vZ,{...f,...v("viewport"),ref:h,"data-offset-scrollbars":S===!0?"xy":S||void 0,onScroll:typeof m=="function"?({currentTarget:C})=>m({x:C.scrollLeft,y:C.scrollTop}):void 0},g),O.createElement(KF,{...v("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)},O.createElement(YF,{...v("thumb")})),O.createElement(KF,{...v("scrollbar"),orientation:"vertical","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)},O.createElement(YF,{...v("thumb")})),O.createElement(j3e,{...v("corner"),"data-hovered":E||void 0,"data-hidden":c==="never"||void 0}))});Jn.displayName="@mantine/core/ScrollArea";const i9=Ge((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:a,scrollHideDelay:o,type:s,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:m,style:g,vars:S,...y}=Fe("ScrollAreaAutosize",yZ,e);return O.createElement(Z,{...y,ref:t,style:[{display:"flex"},g]},O.createElement(Z,{style:{display:"flex",flexDirection:"column",flex:1}},O.createElement(Jn,{classNames:r,styles:i,scrollHideDelay:o,scrollbarSize:a,type:s,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:m,vars:S},n)))});Jn.classes=r9;i9.displayName="@mantine/core/ScrollAreaAutosize";i9.classes=r9;Jn.Autosize=i9;var bZ={root:"m-87cf2631"};const $3e={__staticSelector:"UnstyledButton"},Hn=_i((e,t)=>{const n=Fe("UnstyledButton",$3e,e),{className:r,component:i="button",__staticSelector:a,unstyled:o,classNames:s,styles:l,style:u,...c}=n,d=gt({name:a,props:n,classes:bZ,className:r,style:u,classNames:s,styles:l,unstyled:o});return O.createElement(Z,{...d("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});Hn.classes=bZ;Hn.displayName="@mantine/core/UnstyledButton";var wZ={root:"m-515a97f8"};const U3e={},a9=Ge((e,t)=>{const n=Fe("VisuallyHidden",U3e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,...u}=n,c=gt({name:"VisuallyHidden",classes:wZ,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s});return O.createElement(Z,{component:"span",ref:t,...c("root"),...u})});a9.classes=wZ;a9.displayName="@mantine/core/VisuallyHidden";var xZ={root:"m-1b7284a3"};const V3e={},H3e=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:ar(t),"--paper-shadow":GD(n)}}),Ha=_i((e,t)=>{const n=Fe("Paper",V3e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,withBorder:l,vars:u,radius:c,shadow:d,variant:f,...h}=n,m=gt({name:"Paper",props:n,classes:xZ,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:u,varsResolver:H3e});return O.createElement(Z,{ref:t,mod:{"data-with-border":l},...m("root"),variant:f,...h})});Ha.classes=xZ;Ha.displayName="@mantine/core/Paper";const su=Math.min,Ba=Math.max,BS=Math.round,Cx=Math.floor,Vf=e=>({x:e,y:e}),q3e={left:"right",right:"left",bottom:"top",top:"bottom"},W3e={start:"end",end:"start"};function CM(e,t,n){return Ba(e,su(t,n))}function td(e,t){return typeof e=="function"?e(t):e}function lu(e){return e.split("-")[0]}function S1(e){return e.split("-")[1]}function o9(e){return e==="x"?"y":"x"}function s9(e){return e==="y"?"height":"width"}function cm(e){return["top","bottom"].includes(lu(e))?"y":"x"}function l9(e){return o9(cm(e))}function G3e(e,t,n){n===void 0&&(n=!1);const r=S1(e),i=l9(e),a=s9(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=zS(o)),[o,zS(o)]}function K3e(e){const t=zS(e);return[EM(e),t,EM(t)]}function EM(e){return e.replace(/start|end/g,t=>W3e[t])}function Y3e(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function J3e(e,t,n,r){const i=S1(e);let a=Y3e(lu(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(EM)))),a}function zS(e){return e.replace(/left|right|bottom|top/g,t=>q3e[t])}function Q3e(e){return{top:0,right:0,bottom:0,left:0,...e}}function u9(e){return typeof e!="number"?Q3e(e):{top:e,right:e,bottom:e,left:e}}function I0(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function JF(e,t,n){let{reference:r,floating:i}=e;const a=cm(t),o=l9(t),s=s9(o),l=lu(t),u=a==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(S1(t)){case"start":h[o]-=f*(n&&u?-1:1);break;case"end":h[o]+=f*(n&&u?-1:1);break}return h}const X3e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=JF(u,r,l),f=r,h={},m=0;for(let g=0;g<s.length;g++){const{name:S,fn:y}=s[g],{x:E,y:x,data:v,reset:C}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});if(c=E??c,d=x??d,h={...h,[S]:{...h[S],...v}},C&&m<=50){m++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:c,y:d}=JF(u,f,l)),g=-1;continue}}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function c9(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=td(t,e),m=u9(h),S=s[f?d==="floating"?"reference":"floating":d],y=I0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),E=d==="floating"?{...o.floating,x:r,y:i}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),v=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},C=I0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:E,offsetParent:x,strategy:l}):E);return{top:(y.top-C.top+m.top)/v.y,bottom:(C.bottom-y.bottom+m.bottom)/v.y,left:(y.left-C.left+m.left)/v.x,right:(C.right-y.right+m.right)/v.x}}const QF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=td(e,t)||{};if(u==null)return{};const d=u9(c),f={x:n,y:r},h=l9(i),m=s9(h),g=await o.getDimensions(u),S=h==="y",y=S?"top":"left",E=S?"bottom":"right",x=S?"clientHeight":"clientWidth",v=a.reference[m]+a.reference[h]-f[h]-a.floating[m],C=f[h]-a.reference[h],b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=b?b[x]:0;(!A||!await(o.isElement==null?void 0:o.isElement(b)))&&(A=s.floating[x]||a.floating[m]);const _=v/2-C/2,T=A/2-g[m]/2-1,M=su(d[y],T),N=su(d[E],T),I=M,F=A-g[m]-N,$=A/2-g[m]/2+_,z=CM(I,$,F),D=!l.arrow&&S1(i)!=null&&$!=z&&a.reference[m]/2-($<I?M:N)-g[m]/2<0,P=D?$<I?$-I:$-F:0;return{[h]:f[h]+P,data:{[h]:z,centerOffset:$-z-P,...D&&{alignmentOffset:P}},reset:D}}}),SZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...S}=td(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=lu(i),E=lu(s)===s,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),v=f||(E||!g?[zS(s)]:K3e(s));!f&&m!=="none"&&v.push(...J3e(s,g,m,x));const C=[s,...v],b=await c9(t,S),A=[];let _=((r=a.flip)==null?void 0:r.overflows)||[];if(c&&A.push(b[y]),d){const I=G3e(i,o,x);A.push(b[I[0]],b[I[1]])}if(_=[..._,{placement:i,overflows:A}],!A.every(I=>I<=0)){var T,M;const I=(((T=a.flip)==null?void 0:T.index)||0)+1,F=C[I];if(F)return{data:{index:I,overflows:_},reset:{placement:F}};let $=(M=_.filter(z=>z.overflows[0]<=0).sort((z,D)=>z.overflows[1]-D.overflows[1])[0])==null?void 0:M.placement;if(!$)switch(h){case"bestFit":{var N;const z=(N=_.map(D=>[D.placement,D.overflows.filter(P=>P>0).reduce((P,V)=>P+V,0)]).sort((D,P)=>D[1]-P[1])[0])==null?void 0:N[0];z&&($=z);break}case"initialPlacement":$=s;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function CZ(e){const t=su(...e.map(a=>a.left)),n=su(...e.map(a=>a.top)),r=Ba(...e.map(a=>a.right)),i=Ba(...e.map(a=>a.bottom));return{x:t,y:n,width:r-t,height:i-n}}function Z3e(e){const t=e.slice().sort((i,a)=>i.y-a.y),n=[];let r=null;for(let i=0;i<t.length;i++){const a=t[i];!r||a.y-r.y>r.height/2?n.push([a]):n[n.length-1].push(a),r=a}return n.map(i=>I0(CZ(i)))}const EZ=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:a,strategy:o}=t,{padding:s=2,x:l,y:u}=td(e,t),c=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(r.reference))||[]),d=Z3e(c),f=I0(CZ(c)),h=u9(s);function m(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(S=>l>S.left-h.left&&l<S.right+h.right&&u>S.top-h.top&&u<S.bottom+h.bottom)||f;if(d.length>=2){if(cm(n)==="y"){const M=d[0],N=d[d.length-1],I=lu(n)==="top",F=M.top,$=N.bottom,z=I?M.left:N.left,D=I?M.right:N.right,P=D-z,V=$-F;return{top:F,bottom:$,left:z,right:D,width:P,height:V,x:z,y:F}}const S=lu(n)==="left",y=Ba(...d.map(M=>M.right)),E=su(...d.map(M=>M.left)),x=d.filter(M=>S?M.left===E:M.right===y),v=x[0].top,C=x[x.length-1].bottom,b=E,A=y,_=A-b,T=C-v;return{top:v,bottom:C,left:b,right:A,width:_,height:T,x:b,y:v}}return f}const g=await a.getElementRects({reference:{getBoundingClientRect:m},floating:r.floating,strategy:o});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function eSe(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=lu(n),s=S1(n),l=cm(n)==="y",u=["left","top"].includes(o)?-1:1,c=a&&l?-1:1,d=td(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&typeof m=="number"&&(h=s==="end"?m*-1:m),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const kZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await eSe(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},d9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:S=>{let{x:y,y:E}=S;return{x:y,y:E}}},...l}=td(e,t),u={x:n,y:r},c=await c9(t,l),d=cm(lu(i)),f=o9(d);let h=u[f],m=u[d];if(a){const S=f==="y"?"top":"left",y=f==="y"?"bottom":"right",E=h+c[S],x=h-c[y];h=CM(E,h,x)}if(o){const S=d==="y"?"top":"left",y=d==="y"?"bottom":"right",E=m+c[S],x=m-c[y];m=CM(E,m,x)}const g=s.fn({...t,[f]:h,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r}}}}},tSe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=td(e,t),c={x:n,y:r},d=cm(i),f=o9(d);let h=c[f],m=c[d];const g=td(s,t),S=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=f==="y"?"height":"width",v=a.reference[f]-a.floating[x]+S.mainAxis,C=a.reference[f]+a.reference[x]-S.mainAxis;h<v?h=v:h>C&&(h=C)}if(u){var y,E;const x=f==="y"?"width":"height",v=["top","left"].includes(lu(i)),C=a.reference[d]-a.floating[x]+(v&&((y=o.offset)==null?void 0:y[d])||0)+(v?0:S.crossAxis),b=a.reference[d]+a.reference[x]+(v?0:((E=o.offset)==null?void 0:E[d])||0)-(v?S.crossAxis:0);m<C?m=C:m>b&&(m=b)}return{[f]:h,[d]:m}}}},nSe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:a}=t,{apply:o=()=>{},...s}=td(e,t),l=await c9(t,s),u=lu(n),c=S1(n),d=cm(n)==="y",{width:f,height:h}=r.floating;let m,g;u==="top"||u==="bottom"?(m=u,g=c===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(g=u,m=c==="end"?"top":"bottom");const S=h-l[m],y=f-l[g],E=!t.middlewareData.shift;let x=S,v=y;if(d){const b=f-l.left-l.right;v=c||E?su(y,b):b}else{const b=h-l.top-l.bottom;x=c||E?su(S,b):b}if(E&&!c){const b=Ba(l.left,0),A=Ba(l.right,0),_=Ba(l.top,0),T=Ba(l.bottom,0);d?v=f-2*(b!==0||A!==0?b+A:Ba(l.left,l.right)):x=h-2*(_!==0||T!==0?_+T:Ba(l.top,l.bottom))}await o({...t,availableWidth:v,availableHeight:x});const C=await i.getDimensions(a.floating);return f!==C.width||h!==C.height?{reset:{rects:!0}}:{}}}};function Hf(e){return AZ(e)?(e.nodeName||"").toLowerCase():"#document"}function xs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fd(e){var t;return(t=(AZ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AZ(e){return e instanceof Node||e instanceof xs(e).Node}function nd(e){return e instanceof Element||e instanceof xs(e).Element}function Ku(e){return e instanceof HTMLElement||e instanceof xs(e).HTMLElement}function XF(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xs(e).ShadowRoot}function p2(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Sl(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function rSe(e){return["table","td","th"].includes(Hf(e))}function f9(e){const t=h9(),n=Sl(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function iSe(e){let t=O0(e);for(;Ku(t)&&!t4(t);){if(f9(t))return t;t=O0(t)}return null}function h9(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function t4(e){return["html","body","#document"].includes(Hf(e))}function Sl(e){return xs(e).getComputedStyle(e)}function n4(e){return nd(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function O0(e){if(Hf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||XF(e)&&e.host||fd(e);return XF(t)?t.host:t}function _Z(e){const t=O0(e);return t4(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ku(t)&&p2(t)?t:_Z(t)}function Uc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=_Z(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=xs(i);return a?t.concat(o,o.visualViewport||[],p2(i)?i:[],o.frameElement&&n?Uc(o.frameElement):[]):t.concat(i,Uc(i,[],n))}function MZ(e){const t=Sl(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ku(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=BS(n)!==a||BS(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function p9(e){return nd(e)?e:e.contextElement}function f0(e){const t=p9(e);if(!Ku(t))return Vf(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=MZ(t);let o=(a?BS(n.width):n.width)/r,s=(a?BS(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const aSe=Vf(0);function TZ(e){const t=xs(e);return!h9()||!t.visualViewport?aSe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oSe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==xs(e)?!1:t}function Gp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=p9(e);let o=Vf(1);t&&(r?nd(r)&&(o=f0(r)):o=f0(e));const s=oSe(a,n,r)?TZ(a):Vf(0);let l=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(a){const f=xs(a),h=r&&nd(r)?xs(r):r;let m=f.frameElement;for(;m&&r&&h!==f;){const g=f0(m),S=m.getBoundingClientRect(),y=Sl(m),E=S.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,x=S.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=E,u+=x,m=xs(m).frameElement}}return I0({width:c,height:d,x:l,y:u})}function sSe(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Ku(n),a=fd(n);if(n===a)return t;let o={scrollLeft:0,scrollTop:0},s=Vf(1);const l=Vf(0);if((i||!i&&r!=="fixed")&&((Hf(n)!=="body"||p2(a))&&(o=n4(n)),Ku(n))){const u=Gp(n);s=f0(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-o.scrollLeft*s.x+l.x,y:t.y*s.y-o.scrollTop*s.y+l.y}}function lSe(e){return Array.from(e.getClientRects())}function NZ(e){return Gp(fd(e)).left+n4(e).scrollLeft}function uSe(e){const t=fd(e),n=n4(e),r=e.ownerDocument.body,i=Ba(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ba(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+NZ(e);const s=-n.scrollTop;return Sl(r).direction==="rtl"&&(o+=Ba(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}function cSe(e,t){const n=xs(e),r=fd(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const u=h9();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function dSe(e,t){const n=Gp(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Ku(e)?f0(e):Vf(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,u=r*a.y;return{width:o,height:s,x:l,y:u}}function ZF(e,t,n){let r;if(t==="viewport")r=cSe(e,n);else if(t==="document")r=uSe(fd(e));else if(nd(t))r=dSe(t,n);else{const i=TZ(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return I0(r)}function DZ(e,t){const n=O0(e);return n===t||!nd(n)||t4(n)?!1:Sl(n).position==="fixed"||DZ(n,t)}function fSe(e,t){const n=t.get(e);if(n)return n;let r=Uc(e,[],!1).filter(s=>nd(s)&&Hf(s)!=="body"),i=null;const a=Sl(e).position==="fixed";let o=a?O0(e):e;for(;nd(o)&&!t4(o);){const s=Sl(o),l=f9(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||p2(o)&&!l&&DZ(e,o))?r=r.filter(c=>c!==o):i=s,o=O0(o)}return t.set(e,r),r}function hSe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?fSe(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((u,c)=>{const d=ZF(t,c,i);return u.top=Ba(d.top,u.top),u.right=su(d.right,u.right),u.bottom=su(d.bottom,u.bottom),u.left=Ba(d.left,u.left),u},ZF(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pSe(e){return MZ(e)}function mSe(e,t,n){const r=Ku(t),i=fd(t),a=n==="fixed",o=Gp(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=Vf(0);if(r||!r&&!a)if((Hf(t)!=="body"||p2(i))&&(s=n4(t)),r){const u=Gp(t,!0,a,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else i&&(l.x=NZ(i));return{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function eB(e,t){return!Ku(e)||Sl(e).position==="fixed"?null:t?t(e):e.offsetParent}function RZ(e,t){const n=xs(e);if(!Ku(e))return n;let r=eB(e,t);for(;r&&rSe(r)&&Sl(r).position==="static";)r=eB(r,t);return r&&(Hf(r)==="html"||Hf(r)==="body"&&Sl(r).position==="static"&&!f9(r))?n:r||iSe(e)||n}const gSe=async function(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||RZ,a=this.getDimensions;return{reference:mSe(t,await i(n),r),floating:{x:0,y:0,...await a(n)}}};function vSe(e){return Sl(e).direction==="rtl"}const ySe={convertOffsetParentRelativeRectToViewportRelativeRect:sSe,getDocumentElement:fd,getClippingRect:hSe,getOffsetParent:RZ,getElementRects:gSe,getClientRects:lSe,getDimensions:pSe,getScale:f0,isElement:nd,isRTL:vSe};function bSe(e,t){let n=null,r;const i=fd(e);function a(){clearTimeout(r),n&&n.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(s||t(),!d||!f)return;const h=Cx(c),m=Cx(i.clientWidth-(u+d)),g=Cx(i.clientHeight-(c+f)),S=Cx(u),E={rootMargin:-h+"px "+-m+"px "+-g+"px "+-S+"px",threshold:Ba(0,su(1,l))||1};let x=!0;function v(C){const b=C[0].intersectionRatio;if(b!==l){if(!x)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},100)}x=!1}try{n=new IntersectionObserver(v,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(v,E)}n.observe(e)}return o(!0),a}function wSe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=p9(e),c=i||a?[...u?Uc(u):[],...Uc(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const d=u&&s?bSe(u,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[E]=y;E&&E.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{h&&h.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let m,g=l?Gp(e):null;l&&S();function S(){const y=Gp(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,m=requestAnimationFrame(S)}return n(),()=>{c.forEach(y=>{i&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),d&&d(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const xSe=(e,t,n)=>{const r=new Map,i={platform:ySe,...n},a={...i.platform,_c:r};return X3e(e,t,{...i,platform:a})},IZ=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?QF({element:r.current,padding:i}).fn(n):{}:r?QF({element:r,padding:i}).fn(n):{}}}};var q3=typeof document<"u"?j.useLayoutEffect:j.useEffect;function $S(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!$S(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!$S(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function OZ(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tB(e,t){const n=OZ(e);return Math.round(t*n)/n}function nB(e){const t=j.useRef(e);return q3(()=>{t.current=e}),t}function SSe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[c,d]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=j.useState(r);$S(f,r)||h(r);const[m,g]=j.useState(null),[S,y]=j.useState(null),E=j.useCallback(D=>{D!=b.current&&(b.current=D,g(D))},[g]),x=j.useCallback(D=>{D!==A.current&&(A.current=D,y(D))},[y]),v=a||m,C=o||S,b=j.useRef(null),A=j.useRef(null),_=j.useRef(c),T=nB(l),M=nB(i),N=j.useCallback(()=>{if(!b.current||!A.current)return;const D={placement:t,strategy:n,middleware:f};M.current&&(D.platform=M.current),xSe(b.current,A.current,D).then(P=>{const V={...P,isPositioned:!0};I.current&&!$S(_.current,V)&&(_.current=V,w1.flushSync(()=>{d(V)}))})},[f,t,n,M]);q3(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[u]);const I=j.useRef(!1);q3(()=>(I.current=!0,()=>{I.current=!1}),[]),q3(()=>{if(v&&(b.current=v),C&&(A.current=C),v&&C){if(T.current)return T.current(v,C,N);N()}},[v,C,N,T]);const F=j.useMemo(()=>({reference:b,floating:A,setReference:E,setFloating:x}),[E,x]),$=j.useMemo(()=>({reference:v,floating:C}),[v,C]),z=j.useMemo(()=>{const D={position:n,left:0,top:0};if(!$.floating)return D;const P=tB($.floating,c.x),V=tB($.floating,c.y);return s?{...D,transform:"translate("+P+"px, "+V+"px)",...OZ($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:V}},[n,s,$.floating,c.x,c.y]);return j.useMemo(()=>({...c,update:N,refs:F,elements:$,floatingStyles:z}),[c,N,F,$,z])}var Vc=typeof document<"u"?j.useLayoutEffect:j.useEffect;let A8=!1,CSe=0;const rB=()=>"floating-ui-"+CSe++;function ESe(){const[e,t]=j.useState(()=>A8?rB():void 0);return Vc(()=>{e==null&&t(rB())},[]),j.useEffect(()=>{A8||(A8=!0)},[]),e}const kSe=ZN["useId".toString()],PZ=kSe||ESe;function ASe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const _Se=j.createContext(null),MSe=j.createContext(null),jZ=()=>{var e;return((e=j.useContext(_Se))==null?void 0:e.id)||null},m9=()=>j.useContext(MSe);function mf(e){return(e==null?void 0:e.ownerDocument)||document}function TSe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function NSe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function r4(e){return mf(e).defaultView||window}function Bu(e){return e?e instanceof Element||e instanceof r4(e).Element:!1}function LZ(e){return e?e instanceof HTMLElement||e instanceof r4(e).HTMLElement:!1}function DSe(e){if(typeof ShadowRoot>"u")return!1;const t=r4(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function RSe(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(TSe())||t.test(NSe()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function ISe(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function FZ(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function OSe(e){return"nativeEvent"in e}function kM(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&DSe(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function BZ(e){return"data-floating-ui-"+e}function iB(e){const t=j.useRef(e);return Vc(()=>{t.current=e}),t}const aB=BZ("safe-polygon");function W3(e,t,n){return n&&!FZ(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function PSe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:a,elements:{domReference:o,floating:s},refs:l}=e,{enabled:u=!0,delay:c=0,handleClose:d=null,mouseOnly:f=!1,restMs:h=0,move:m=!0}=t,g=m9(),S=jZ(),y=iB(d),E=iB(c),x=j.useRef(),v=j.useRef(),C=j.useRef(),b=j.useRef(),A=j.useRef(!0),_=j.useRef(!1),T=j.useRef(()=>{}),M=j.useCallback(()=>{var $;const z=($=i.current.openEvent)==null?void 0:$.type;return(z==null?void 0:z.includes("mouse"))&&z!=="mousedown"},[i]);j.useEffect(()=>{if(!u)return;function $(){clearTimeout(v.current),clearTimeout(b.current),A.current=!0}return a.on("dismiss",$),()=>{a.off("dismiss",$)}},[u,a]),j.useEffect(()=>{if(!u||!y.current||!n)return;function $(D){M()&&r(!1,D)}const z=mf(s).documentElement;return z.addEventListener("mouseleave",$),()=>{z.removeEventListener("mouseleave",$)}},[s,n,r,u,y,i,M]);const N=j.useCallback(function($,z){z===void 0&&(z=!0);const D=W3(E.current,"close",x.current);D&&!C.current?(clearTimeout(v.current),v.current=setTimeout(()=>r(!1,$),D)):z&&(clearTimeout(v.current),r(!1,$))},[E,r]),I=j.useCallback(()=>{T.current(),C.current=void 0},[]),F=j.useCallback(()=>{if(_.current){const $=mf(l.floating.current).body;$.style.pointerEvents="",$.removeAttribute(aB),_.current=!1}},[l]);return j.useEffect(()=>{if(!u)return;function $(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function z(V){if(clearTimeout(v.current),A.current=!1,f&&!FZ(x.current)||h>0&&W3(E.current,"open")===0)return;const B=W3(E.current,"open",x.current);B?v.current=setTimeout(()=>{r(!0,V)},B):r(!0,V)}function D(V){if($())return;T.current();const B=mf(s);if(clearTimeout(b.current),y.current){n||clearTimeout(v.current),C.current=y.current({...e,tree:g,x:V.clientX,y:V.clientY,onClose(){F(),I(),N(V)}});const K=C.current;B.addEventListener("mousemove",K),T.current=()=>{B.removeEventListener("mousemove",K)};return}(x.current==="touch"?!kM(s,V.relatedTarget):!0)&&N(V)}function P(V){$()||y.current==null||y.current({...e,tree:g,x:V.clientX,y:V.clientY,onClose(){F(),I(),N(V)}})(V)}if(Bu(o)){const V=o;return n&&V.addEventListener("mouseleave",P),s==null||s.addEventListener("mouseleave",P),m&&V.addEventListener("mousemove",z,{once:!0}),V.addEventListener("mouseenter",z),V.addEventListener("mouseleave",D),()=>{n&&V.removeEventListener("mouseleave",P),s==null||s.removeEventListener("mouseleave",P),m&&V.removeEventListener("mousemove",z),V.removeEventListener("mouseenter",z),V.removeEventListener("mouseleave",D)}}},[o,s,u,e,f,h,m,N,I,F,r,n,g,E,y,i]),Vc(()=>{var $;if(u&&n&&($=y.current)!=null&&$.__options.blockPointerEvents&&M()){const P=mf(s).body;if(P.setAttribute(aB,""),P.style.pointerEvents="none",_.current=!0,Bu(o)&&s){var z,D;const V=o,B=g==null||(z=g.nodesRef.current.find(H=>H.id===S))==null||(D=z.context)==null?void 0:D.elements.floating;return B&&(B.style.pointerEvents=""),V.style.pointerEvents="auto",s.style.pointerEvents="auto",()=>{V.style.pointerEvents="",s.style.pointerEvents=""}}}},[u,n,S,s,o,g,y,i,M]),Vc(()=>{n||(x.current=void 0,I(),F())},[n,I,F]),j.useEffect(()=>()=>{I(),clearTimeout(v.current),clearTimeout(b.current),F()},[u,I,F]),j.useMemo(()=>{if(!u)return{};function $(z){x.current=z.pointerType}return{reference:{onPointerDown:$,onPointerEnter:$,onMouseMove(z){n||h===0||(clearTimeout(b.current),b.current=setTimeout(()=>{A.current||r(!0,z.nativeEvent)},h))}},floating:{onMouseEnter(){clearTimeout(v.current)},onMouseLeave(z){a.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),N(z.nativeEvent,!1)}}}},[a,u,h,n,r,N])}const zZ=j.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),$Z=()=>j.useContext(zZ),jSe=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[i,a]=j.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=j.useRef(null),s=j.useCallback(l=>{a({currentId:l})},[]);return Vc(()=>{i.currentId?o.current===null?o.current=i.currentId:a({isInstantPhase:!0}):(a({isInstantPhase:!1}),o.current=null)},[i.currentId]),j.createElement(zZ.Provider,{value:j.useMemo(()=>({...i,setState:a,setCurrentId:s}),[i,a,s])},t)},LSe=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:a,setCurrentId:o,initialDelay:s,setState:l,timeoutMs:u}=$Z();Vc(()=>{a&&(l({delay:{open:1,close:W3(s,"close")}}),a!==i&&r(!1))},[i,r,l,a,s]),Vc(()=>{function c(){r(!1),l({delay:s,currentId:null})}if(!n&&a===i)if(u){const d=window.setTimeout(c,u);return()=>{clearTimeout(d)}}else c()},[n,l,a,i,r,s,u]),Vc(()=>{n&&o(i)},[n,o,i])};function FSe(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function _8(e,t){let n=e.filter(i=>{var a;return i.parentId===t&&((a=i.context)==null?void 0:a.open)}),r=n;for(;r.length;)r=e.filter(i=>{var a;return(a=r)==null?void 0:a.some(o=>{var s;return i.parentId===o.id&&((s=i.context)==null?void 0:s.open)})}),n=n.concat(r);return n}function BSe(e){return"composedPath"in e?e.composedPath()[0]:e.target}const zSe=ZN["useInsertionEffect".toString()],$Se=zSe||(e=>e());function G3(e){const t=j.useRef(()=>{});return $Se(()=>{t.current=e}),j.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function K3(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const USe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},VSe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},HSe=e=>{var t,n;return{escapeKeyBubbles:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePressBubbles:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function qSe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,nodeId:a,elements:{reference:o,domReference:s,floating:l},dataRef:u}=e,{enabled:c=!0,escapeKey:d=!0,outsidePress:f=!0,outsidePressEvent:h="pointerdown",referencePress:m=!1,referencePressEvent:g="pointerdown",ancestorScroll:S=!1,bubbles:y}=t,E=m9(),x=jZ()!=null,v=G3(typeof f=="function"?f:()=>!1),C=typeof f=="function"?v:f,b=j.useRef(!1),{escapeKeyBubbles:A,outsidePressBubbles:_}=HSe(y),T=G3(N=>{if(!n||!c||!d||N.key!=="Escape")return;const I=E?_8(E.nodesRef.current,a):[];if(!A&&(N.stopPropagation(),I.length>0)){let F=!0;if(I.forEach($=>{var z;if((z=$.context)!=null&&z.open&&!$.context.dataRef.current.__escapeKeyBubbles){F=!1;return}}),!F)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,OSe(N)?N.nativeEvent:N)}),M=G3(N=>{const I=b.current;if(b.current=!1,I||typeof C=="function"&&!C(N))return;const F=BSe(N);if(LZ(F)&&l){const D=F.clientWidth>0&&F.scrollWidth>F.clientWidth,P=F.clientHeight>0&&F.scrollHeight>F.clientHeight;let V=P&&N.offsetX>F.clientWidth;if(P&&r4(l).getComputedStyle(F).direction==="rtl"&&(V=N.offsetX<=F.offsetWidth-F.clientWidth),V||D&&N.offsetY>F.clientHeight)return}const $=E&&_8(E.nodesRef.current,a).some(D=>{var P;return K3(N,(P=D.context)==null?void 0:P.elements.floating)});if(K3(N,l)||K3(N,s)||$)return;const z=E?_8(E.nodesRef.current,a):[];if(z.length>0){let D=!0;if(z.forEach(P=>{var V;if((V=P.context)!=null&&V.open&&!P.context.dataRef.current.__outsidePressBubbles){D=!1;return}}),!D)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:x?{preventScroll:!0}:RSe(N)||ISe(N)}}),r(!1,N)});return j.useEffect(()=>{if(!n||!c)return;u.current.__escapeKeyBubbles=A,u.current.__outsidePressBubbles=_;function N($){r(!1,$)}const I=mf(l);d&&I.addEventListener("keydown",T),C&&I.addEventListener(h,M);let F=[];return S&&(Bu(s)&&(F=Uc(s)),Bu(l)&&(F=F.concat(Uc(l))),!Bu(o)&&o&&o.contextElement&&(F=F.concat(Uc(o.contextElement)))),F=F.filter($=>{var z;return $!==((z=I.defaultView)==null?void 0:z.visualViewport)}),F.forEach($=>{$.addEventListener("scroll",N,{passive:!0})}),()=>{d&&I.removeEventListener("keydown",T),C&&I.removeEventListener(h,M),F.forEach($=>{$.removeEventListener("scroll",N)})}},[u,l,s,o,d,C,h,n,r,S,c,A,_,T,M]),j.useEffect(()=>{b.current=!1},[C,h]),j.useMemo(()=>c?{reference:{onKeyDown:T,[USe[g]]:N=>{m&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,N.nativeEvent))}},floating:{onKeyDown:T,[VSe[h]]:()=>{b.current=!0}}}:{},[c,i,m,h,g,r,T])}function g9(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:i}=e,[a,o]=j.useState(null),s=((t=e.elements)==null?void 0:t.reference)||a,l=SSe(e),u=m9(),c=G3((v,C)=>{v&&(f.current.openEvent=C),r==null||r(v,C)}),d=j.useRef(null),f=j.useRef({}),h=j.useState(()=>ASe())[0],m=PZ(),g=j.useCallback(v=>{const C=Bu(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;l.refs.setReference(C)},[l.refs]),S=j.useCallback(v=>{(Bu(v)||v===null)&&(d.current=v,o(v)),(Bu(l.refs.reference.current)||l.refs.reference.current===null||v!==null&&!Bu(v))&&l.refs.setReference(v)},[l.refs]),y=j.useMemo(()=>({...l.refs,setReference:S,setPositionReference:g,domReference:d}),[l.refs,S,g]),E=j.useMemo(()=>({...l.elements,domReference:s}),[l.elements,s]),x=j.useMemo(()=>({...l,refs:y,elements:E,dataRef:f,nodeId:i,floatingId:m,events:h,open:n,onOpenChange:c}),[l,i,m,h,n,c,y,E]);return Vc(()=>{const v=u==null?void 0:u.nodesRef.current.find(C=>C.id===i);v&&(v.context=x)}),j.useMemo(()=>({...l,context:x,refs:y,elements:E}),[l,y,E,x])}function WSe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:a,refs:o,elements:{floating:s,domReference:l}}=e,{enabled:u=!0,keyboardOnly:c=!0}=t,d=j.useRef(""),f=j.useRef(!1),h=j.useRef();return j.useEffect(()=>{if(!u)return;const g=mf(s).defaultView||window;function S(){!n&&LZ(l)&&l===FSe(mf(l))&&(f.current=!0)}return g.addEventListener("blur",S),()=>{g.removeEventListener("blur",S)}},[s,l,n,u]),j.useEffect(()=>{if(!u)return;function m(g){(g.type==="referencePress"||g.type==="escapeKey")&&(f.current=!0)}return a.on("dismiss",m),()=>{a.off("dismiss",m)}},[a,u]),j.useEffect(()=>()=>{clearTimeout(h.current)},[]),j.useMemo(()=>u?{reference:{onPointerDown(m){let{pointerType:g}=m;d.current=g,f.current=!!(g&&c)},onMouseLeave(){f.current=!1},onFocus(m){var g;f.current||m.type==="focus"&&((g=i.current.openEvent)==null?void 0:g.type)==="mousedown"&&K3(i.current.openEvent,l)||r(!0,m.nativeEvent)},onBlur(m){f.current=!1;const g=m.relatedTarget,S=Bu(g)&&g.hasAttribute(BZ("focus-guard"))&&g.getAttribute("data-type")==="outside";h.current=setTimeout(()=>{kM(o.floating.current,g)||kM(l,g)||S||r(!1,m.nativeEvent)})}}}:{},[u,c,l,o,i,r])}function M8(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,a)=>(a&&Object.entries(a).forEach(o=>{let[s,l]=o;if(s.indexOf("on")===0){if(r.has(s)||r.set(s,[]),typeof l=="function"){var u;(u=r.get(s))==null||u.push(l),i[s]=function(){for(var c,d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return(c=r.get(s))==null?void 0:c.map(m=>m(...f)).find(m=>m!==void 0)}}}else i[s]=l}),i),{})}}function GSe(e){e===void 0&&(e=[]);const t=e,n=j.useCallback(a=>M8(a,e,"reference"),t),r=j.useCallback(a=>M8(a,e,"floating"),t),i=j.useCallback(a=>M8(a,e,"item"),e.map(a=>a==null?void 0:a.item));return j.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}function KSe(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:i=!0,role:a="dialog"}=t,o=PZ();return j.useMemo(()=>{const s={id:r,role:a};return i?a==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:s}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":n?r:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:o}},floating:{...s,...a==="menu"&&{"aria-labelledby":o}}}:{}},[i,a,n,r,o])}function UZ(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function oB(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function sB(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const YSe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function JSe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:a,arrowY:o,dir:s}){const[l,u="center"]=e.split("-"),c={width:me(t),height:me(t),transform:"rotate(45deg)",position:"absolute",[YSe[l]]:me(r)},d=me(-t/2);return l==="left"?{...c,...oB(u,o,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent"}:l==="right"?{...c,...oB(u,o,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent"}:l==="top"?{...c,...sB(u,a,n,i,s),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent"}:l==="bottom"?{...c,...sB(u,a,n,i,s),top:d,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const v9=j.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:a,arrowX:o,arrowY:s,style:l,...u},c)=>{const{dir:d}=ic();return a?O.createElement("div",{...u,ref:c,style:{...l,...JSe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:o,arrowY:s})}}):null});v9.displayName="@mantine/core/FloatingArrow";function VZ({opened:e,floating:t,position:n,positionDependencies:r}){const[i,a]=j.useState(0);j.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return wSe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),$n(()=>{t.update()},r),$n(()=>{a(o=>o+1)},[e])}function QSe(e,t){var r,i,a,o;const n=[kZ(e.offset)];return(r=e.middlewares)!=null&&r.shift&&n.push(d9({limiter:tSe()})),(i=e.middlewares)!=null&&i.flip&&n.push(SZ()),(a=e.middlewares)!=null&&a.inline&&n.push(EZ()),n.push(IZ({element:e.arrowRef,padding:e.arrowOffset})),((o=e.middlewares)!=null&&o.size||e.width==="target")&&n.push(nSe({apply({rects:s,availableWidth:l,availableHeight:u}){var f,h;const d=((f=t().refs.floating.current)==null?void 0:f.style)??{};(h=e.middlewares)!=null&&h.size&&Object.assign(d,{maxWidth:`${l}px`,maxHeight:`${u}px`}),e.width==="target"&&Object.assign(d,{width:`${s.reference.width}px`})}})),n}function XSe(e){const[t,n]=Ei({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var o;t&&((o=e.onClose)==null||o.call(e),n(!1))},i=()=>{var o,s;t?((o=e.onClose)==null||o.call(e),n(!1)):((s=e.onOpen)==null||s.call(e),n(!0))},a=g9({placement:e.position,middleware:QSe(e,()=>a)});return VZ({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:a}),$n(()=>{var o;(o=e.onPositionChange)==null||o.call(e,a.placement)},[a.placement]),$n(()=>{var o,s;e.opened?(s=e.onOpen)==null||s.call(e):(o=e.onClose)==null||o.call(e)},[e.opened]),{floating:a,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const[ZSe,HZ]=Kr("Popover component was not found in the tree"),e5e={refProp:"ref",popupType:"dialog"},qZ=Ge((e,t)=>{const{children:n,refProp:r,popupType:i,...a}=Fe("PopoverTarget",e5e,e);if(!nc(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=a,s=HZ(),l=Ai(s.reference,n.ref,t),u=s.withRoles?{"aria-haspopup":i,"aria-expanded":s.opened,"aria-controls":s.getDropdownId(),id:s.getTargetId()}:{};return j.cloneElement(n,{...o,...u,...s.targetProps,className:Ci(s.targetProps.className,o.className,n.props.className),[r]:l,...s.controlled?null:{onClick:s.onToggle}})});qZ.displayName="@mantine/core/PopoverTarget";function t5e(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ")),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const n5e={},WZ=j.forwardRef((e,t)=>{const{children:n,target:r,...i}=Fe("Portal",n5e,e),[a,o]=j.useState(!1),s=j.useRef(null);return dl(()=>(o(!0),s.current=r?typeof r=="string"?document.querySelector(r):r:t5e(i),h2(t,s.current),!r&&s.current&&document.body.appendChild(s.current),()=>{!r&&s.current&&document.body.removeChild(s.current)}),[r]),!a||!s.current?null:w1.createPortal(O.createElement(O.Fragment,null,n),s.current)});WZ.displayName="@mantine/core/Portal";function dm({withinPortal:e=!0,children:t,...n}){return e?O.createElement(WZ,{...n},t):O.createElement(O.Fragment,null,t)}dm.displayName="@mantine/core/OptionalPortal";const Fv=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${me(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),Ex={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(-${me(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${me(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${me(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${me(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Fv("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Fv("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Fv("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Fv("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Fv("top"),common:{transformOrigin:"top right"}}},lB={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function r5e({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Ex?{transitionProperty:Ex[e].transitionProperty,...i,...Ex[e].common,...Ex[e][lB[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[lB[t]]}}function i5e({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:a,onEntered:o,onExited:s}){const l=ht(),u=XC(),c=l.respectReducedMotion?u:!1,[d,f]=j.useState(c?0:e),[h,m]=j.useState(r?"entered":"exited"),g=j.useRef(-1),S=y=>{const E=y?i:a,x=y?o:s;m(y?"pre-entering":"pre-exiting"),window.clearTimeout(g.current);const v=c?0:y?e:t;if(f(v),v===0)typeof E=="function"&&E(),typeof x=="function"&&x(),m(y?"entered":"exited");else{const C=window.setTimeout(()=>{typeof E=="function"&&E(),m(y?"entering":"exiting")},10);g.current=window.setTimeout(()=>{window.clearTimeout(C),typeof x=="function"&&x(),m(y?"entered":"exited")},v)}};return $n(()=>{S(r)},[r]),j.useEffect(()=>()=>window.clearTimeout(g.current),[]),{transitionDuration:d,transitionStatus:h,transitionTimingFunction:n||"ease"}}function fh({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:a,timingFunction:o="ease",onExit:s,onEntered:l,onEnter:u,onExited:c}){const{transitionDuration:d,transitionStatus:f,transitionTimingFunction:h}=i5e({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:s,onEntered:l,onEnter:u,onExited:c});return d===0?i?O.createElement(O.Fragment,null,a({})):e?a({display:"none"}):null:f==="exited"?e?a({display:"none"}):null:O.createElement(O.Fragment,null,a(r5e({transition:t,duration:d,state:f,timingFunction:h})))}fh.displayName="@mantine/core/Transition";function i4({children:e,active:t=!0,refProp:n="ref"}){const r=nxe(t),i=Ai(r,e==null?void 0:e.ref);return nc(e)?j.cloneElement(e,{[n]:i}):e}i4.displayName="@mantine/core/FocusTrap";var GZ={dropdown:"m-38a85659",arrow:"m-a31dc6c1"};const a5e={},y9=Ge((e,t)=>{var S,y,E,x;const n=Fe("PopoverDropdown",a5e,e),{className:r,style:i,vars:a,children:o,onKeyDownCapture:s,variant:l,classNames:u,styles:c,...d}=n,f=HZ(),h=UX({opened:f.opened,shouldReturnFocus:f.returnFocus}),m=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},g=Ai(t,f.floating);return f.disabled?null:O.createElement(dm,{...f.portalProps,withinPortal:f.withinPortal},O.createElement(fh,{mounted:f.opened,...f.transitionProps,transition:((S=f.transitionProps)==null?void 0:S.transition)||"fade",duration:((y=f.transitionProps)==null?void 0:y.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((E=f.transitionProps)==null?void 0:E.exitDuration)=="number"?f.transitionProps.exitDuration:(x=f.transitionProps)==null?void 0:x.duration},v=>O.createElement(i4,{active:f.trapFocus},O.createElement(Z,{...m,...d,variant:l,ref:g,onKeyDownCapture:Fwe(f.onClose,{active:f.closeOnEscape,onTrigger:h,onKeyDown:s}),"data-position":f.placement,...f.getStyles("dropdown",{className:r,props:n,classNames:u,styles:c,style:[{...v,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:me(f.width)},i]})},o,O.createElement(v9,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:u,styles:c})})))))});y9.classes=GZ;y9.displayName="@mantine/core/PopoverDropdown";const o5e={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Ya("popover"),__staticSelector:"Popover",width:"max-content"},s5e=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:ar(t),"--popover-shadow":GD(n)}});function ri(e){var re,Se,le,ye,Ee,be;const t=Fe("Popover",o5e,e),{children:n,position:r,offset:i,onPositionChange:a,positionDependencies:o,opened:s,transitionProps:l,width:u,middlewares:c,withArrow:d,arrowSize:f,arrowOffset:h,arrowRadius:m,arrowPosition:g,unstyled:S,classNames:y,styles:E,closeOnClickOutside:x,withinPortal:v,portalProps:C,closeOnEscape:b,clickOutsideEvents:A,trapFocus:_,onClose:T,onOpen:M,onChange:N,zIndex:I,radius:F,shadow:$,id:z,defaultOpened:D,__staticSelector:P,withRoles:V,disabled:B,returnFocus:H,variant:K,keepMounted:W,vars:L,...G}=t,de=gt({name:P,props:t,classes:GZ,classNames:y,styles:E,unstyled:S,rootSelector:"dropdown",vars:L,varsResolver:s5e}),Q=j.useRef(null),[ee,ne]=j.useState(null),[se,ge]=j.useState(null),{dir:xe}=ic(),we=So(z),_e=XSe({middlewares:c,width:u,position:UZ(xe,r),offset:typeof i=="number"?i+(d?f/2:0):i,arrowRef:Q,arrowOffset:h,onPositionChange:a,positionDependencies:o,opened:s,defaultOpened:D,onChange:N,onOpen:M,onClose:T});Wwe(()=>x&&_e.onClose(),A,[ee,se]);const ze=j.useCallback(Me=>{ne(Me),_e.floating.refs.setReference(Me)},[_e.floating.refs.setReference]),Y=j.useCallback(Me=>{ge(Me),_e.floating.refs.setFloating(Me)},[_e.floating.refs.setFloating]);return O.createElement(ZSe,{value:{returnFocus:H,disabled:B,controlled:_e.controlled,reference:ze,floating:Y,x:_e.floating.x,y:_e.floating.y,arrowX:(le=(Se=(re=_e.floating)==null?void 0:re.middlewareData)==null?void 0:Se.arrow)==null?void 0:le.x,arrowY:(be=(Ee=(ye=_e.floating)==null?void 0:ye.middlewareData)==null?void 0:Ee.arrow)==null?void 0:be.y,opened:_e.opened,arrowRef:Q,transitionProps:l,width:u,withArrow:d,arrowSize:f,arrowOffset:h,arrowRadius:m,arrowPosition:g,placement:_e.floating.placement,trapFocus:_,withinPortal:v,portalProps:C,zIndex:I,radius:F,shadow:$,closeOnEscape:b,onClose:_e.onClose,onToggle:_e.onToggle,getTargetId:()=>`${we}-target`,getDropdownId:()=>`${we}-dropdown`,withRoles:V,targetProps:G,__staticSelector:P,classNames:y,styles:E,unstyled:S,variant:K,keepMounted:W,getStyles:de}},n)}ri.Target=qZ;ri.Dropdown=y9;ri.displayName="@mantine/core/Popover";ri.extend=e=>e;var Jl={root:"m-5ae2e3c",barsLoader:"m-7a2bd4cd",bar:"m-870bb79","bars-loader-animation":"m-5d2b3b9d",dotsLoader:"m-4e3f22d7",dot:"m-870c4af","loader-dots-animation":"m-aac34a1",ovalLoader:"m-b34414df","oval-loader-animation":"m-f8e89c4b"};const l5e=j.forwardRef(({className:e,...t},n)=>O.createElement(Z,{component:"span",className:Ci(Jl.barsLoader,e),...t,ref:n},O.createElement("span",{className:Jl.bar}),O.createElement("span",{className:Jl.bar}),O.createElement("span",{className:Jl.bar}))),u5e=j.forwardRef(({className:e,...t},n)=>O.createElement(Z,{component:"span",className:Ci(Jl.ovalLoader,e),...t,ref:n})),c5e=j.forwardRef(({className:e,...t},n)=>O.createElement(Z,{component:"span",className:Ci(Jl.dotsLoader,e),...t,ref:n},O.createElement("span",{className:Jl.dot}),O.createElement("span",{className:Jl.dot}),O.createElement("span",{className:Jl.dot}))),d5e={bars:l5e,oval:u5e,dots:c5e},f5e={loaders:d5e,type:"oval"},h5e=(e,{size:t,color:n})=>({root:{"--loader-size":Vt(t,"loader-size"),"--loader-color":n?mr(n,e):void 0}}),ai=Ge((e,t)=>{const n=Fe("Loader",f5e,e),{size:r,color:i,type:a,vars:o,className:s,style:l,classNames:u,styles:c,unstyled:d,loaders:f,variant:h,children:m,...g}=n,S=gt({name:"Loader",props:n,classes:Jl,className:s,style:l,classNames:u,styles:c,unstyled:d,vars:o,varsResolver:h5e});return m?O.createElement(Z,{...S("root"),ref:t,...g},m):O.createElement(Z,{...S("root"),ref:t,component:f[a],variant:h,size:r,...g})});ai.classes=Jl;ai.displayName="@mantine/core/Loader";var a4={root:"m-8d3f4000",loader:"m-302b9fb1",group:"m-1a0f1b21"};const uB={orientation:"horizontal"},p5e=(e,{borderWidth:t})=>({group:{"--ai-border-width":me(t)}}),b9=Ge((e,t)=>{const n=Fe("ActionIconGroup",uB,e),{className:r,style:i,classNames:a,styles:o,unstyled:s,orientation:l,vars:u,borderWidth:c,variant:d,...f}=Fe("ActionIconGroup",uB,e),h=gt({name:"ActionIconGroup",props:n,classes:a4,className:r,style:i,classNames:a,styles:o,unstyled:s,vars:u,varsResolver:p5e,rootSelector:"group"});return O.createElement(Z,{...h("group"),ref:t,variant:d,mod:{"data-orientation":l},role:"group",...f})});b9.classes=a4;b9.displayName="@mantine/core/ActionIconGroup";const m5e={},g5e=(e,{size:t,radius:n,variant:r,gradient:i,color:a})=>{const o=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:i,variant:r||"filled"});return{root:{"--ai-size":Vt(t,"ai-size"),"--ai-radius":n===void 0?void 0:ar(n),"--ai-bg":a||r?o.background:void 0,"--ai-hover":a||r?o.hover:void 0,"--ai-hover-color":a||r?o.hoverColor:void 0,"--ai-color":a||r?o.color:void 0,"--ai-bd":a||r?o.border:void 0}}},bt=_i((e,t)=>{const n=Fe("ActionIcon",m5e,e),{className:r,unstyled:i,variant:a,classNames:o,styles:s,style:l,loading:u,loaderProps:c,size:d,color:f,radius:h,__staticSelector:m,gradient:g,vars:S,children:y,disabled:E,"data-disabled":x,...v}=n,C=gt({name:["ActionIcon",m],props:n,className:r,style:l,classes:a4,classNames:o,styles:s,unstyled:i,vars:S,varsResolver:g5e});return O.createElement(Hn,{...C("root",{active:!E&&!u&&!x}),...v,unstyled:i,variant:a,size:d,disabled:E||u,ref:t,mod:{loading:u,disabled:E||x}},u?O.createElement(ai,{...C("loader"),color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c}):y)});bt.classes=a4;bt.displayName="@mantine/core/ActionIcon";bt.Group=b9;const KZ=j.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n},O.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})));KZ.displayName="@mantine/core/CloseIcon";var YZ={root:"m-86a44da5","root--subtle":"m-220c80f2"};const v5e={variant:"subtle"},y5e=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":Vt(t,"cb-size"),"--cb-radius":n===void 0?void 0:ar(n),"--cb-icon-size":me(r)}}),hh=_i((e,t)=>{const n=Fe("CloseButton",v5e,e),{iconSize:r,children:i,vars:a,radius:o,className:s,classNames:l,style:u,styles:c,unstyled:d,"data-disabled":f,disabled:h,variant:m,...g}=n,S=gt({name:"CloseButton",props:n,className:s,style:u,classes:YZ,classNames:l,styles:c,unstyled:d,vars:a,varsResolver:y5e});return O.createElement(Hn,{ref:t,...g,unstyled:d,variant:m,disabled:h,mod:{disabled:h||f},...S("root",{variant:m,active:!0})},O.createElement(KZ,null),i)});hh.classes=YZ;hh.displayName="@mantine/core/CloseButton";function b5e(e){return j.Children.toArray(e).filter(Boolean)}var JZ={root:"m-4081bf90"};const w5e={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},x5e=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:a,wrap:o},{childWidth:s})=>({root:{"--group-child-width":t&&n?s:void 0,"--group-gap":va(r),"--group-align":i,"--group-justify":a,"--group-wrap":o}}),Ae=Ge((e,t)=>{const n=Fe("Group",w5e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,children:l,gap:u,align:c,justify:d,wrap:f,grow:h,preventGrowOverflow:m,vars:g,variant:S,__size:y,...E}=n,x=b5e(l),v=x.length,C=va(u??"md"),A={childWidth:`calc(${100/v}% - (${C} - ${C} / ${v}))`},_=gt({name:"Group",props:n,stylesCtx:A,className:i,style:a,classes:JZ,classNames:r,styles:o,unstyled:s,vars:g,varsResolver:x5e});return O.createElement(Z,{..._("root"),ref:t,variant:S,mod:{grow:h},size:y,...E},x)});Ae.classes=JZ;Ae.displayName="@mantine/core/Group";var QZ={root:"m-9814e45f"};const S5e={zIndex:Ya("modal")},C5e=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:a,zIndex:o})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&pa(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${me(i)})`:void 0,"--overlay-radius":a===void 0?void 0:ar(a),"--overlay-z-index":o==null?void 0:o.toString()}}),P0=_i((e,t)=>{const n=Fe("Overlay",S5e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,fixed:u,center:c,children:d,radius:f,zIndex:h,gradient:m,blur:g,color:S,backgroundOpacity:y,...E}=n,x=gt({name:"Overlay",props:n,classes:QZ,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:C5e});return O.createElement(Z,{ref:t,...x("root"),mod:{center:c,fixed:u},...E},d)});P0.classes=QZ;P0.displayName="@mantine/core/Overlay";const[E5e,hd]=Kr("ModalBase component was not found in tree");function k5e({opened:e,transitionDuration:t}){const[n,r]=j.useState(e),i=j.useRef(),o=XC()?0:t;return j.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):o===0?r(!1):i.current=window.setTimeout(()=>r(!1),o),()=>window.clearTimeout(i.current)),[e,o]),n}function A5e({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:a,returnFocus:o}){const s=So(e),[l,u]=j.useState(!1),[c,d]=j.useState(!1),f=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,h=k5e({opened:n,transitionDuration:f});return ed("keydown",m=>{!r&&m.key==="Escape"&&i&&a()}),UX({opened:n,shouldReturnFocus:r&&o}),{_id:s,titleMounted:l,bodyMounted:c,shouldLockScroll:h,setTitleMounted:u,setBodyMounted:d}}const XZ=j.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,trapFocus:a,closeOnEscape:o,returnFocus:s,closeOnClickOutside:l,withinPortal:u,portalProps:c,lockScroll:d,children:f,zIndex:h,shadow:m,padding:g,__vars:S,unstyled:y,removeScrollProps:E,...x},v)=>{const{_id:C,titleMounted:b,bodyMounted:A,shouldLockScroll:_,setTitleMounted:T,setBodyMounted:M}=A5e({id:r,transitionProps:i,opened:t,trapFocus:a,closeOnEscape:o,onClose:n,returnFocus:s});return O.createElement(dm,{...c,withinPortal:u},O.createElement(E5e,{value:{opened:t,onClose:n,closeOnClickOutside:l,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${C}-title`,getBodyId:()=>`${C}-body`,titleMounted:b,bodyMounted:A,setTitleMounted:T,setBodyMounted:M,trapFocus:a,closeOnEscape:o,zIndex:h,unstyled:y}},O.createElement(HD,{enabled:_&&d,...E},O.createElement(Z,{ref:v,...x,__vars:{...S,"--mb-z-index":(h||Ya("modal")).toString(),"--mb-shadow":GD(m),"--mb-padding":va(g)}},f))))});function _5e(){const e=hd();return j.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var j0={title:"m-615af6c9",header:"m-b5489c3c",inner:"m-60c222c7",content:"m-fd1ab0aa",close:"m-606cb269",body:"m-5df29311"};const w9=j.forwardRef(({className:e,...t},n)=>{const r=_5e(),i=hd();return O.createElement(Z,{ref:n,...t,id:r,className:Ci({[j0.body]:!i.unstyled},e)})});w9.displayName="@mantine/core/ModalBaseBody";const x9=j.forwardRef(({className:e,onClick:t,...n},r)=>{const i=hd();return O.createElement(hh,{ref:r,...n,onClick:a=>{i.onClose(),t==null||t(a)},className:Ci({[j0.close]:!i.unstyled},e),unstyled:i.unstyled})});x9.displayName="@mantine/core/ModalBaseCloseButton";const ZZ=j.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...a},o)=>{const s=hd(),l=u=>{var d;((d=u.target)==null?void 0:d.getAttribute("data-mantine-stop-propagation"))!=="true"&&u.key==="Escape"&&s.closeOnEscape&&s.onClose(),r==null||r(u)};return O.createElement(fh,{mounted:s.opened,transition:"pop",...s.transitionProps,...e},u=>O.createElement("div",{...n,className:Ci({[j0.inner]:!s.unstyled},n.className)},O.createElement(i4,{active:s.opened&&s.trapFocus},O.createElement(Ha,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":s.bodyMounted?s.getBodyId():void 0,"aria-labelledby":s.titleMounted?s.getTitleId():void 0,onKeyDown:l,ref:o,style:[i,u],className:Ci({[j0.content]:!s.unstyled},t),unstyled:s.unstyled},a.children))))}),S9=j.forwardRef(({className:e,...t},n)=>{const r=hd();return O.createElement(Z,{ref:n,className:Ci({[j0.header]:!r.unstyled},e),...t})});S9.displayName="@mantine/core/ModalBaseHeader";const M5e={duration:200,timingFunction:"ease",transition:"fade"};function T5e(e){const t=hd();return{...M5e,...t.transitionProps,...e}}const C9=j.forwardRef(({onClick:e,transitionProps:t,style:n,...r},i)=>{const a=hd(),o=T5e(t);return O.createElement(fh,{mounted:a.opened,...o,transition:"fade"},s=>O.createElement(P0,{ref:i,fixed:!0,style:[n,s],zIndex:a.zIndex,unstyled:a.unstyled,onClick:l=>{e==null||e(l),a.closeOnClickOutside&&a.onClose()},...r}))});C9.displayName="@mantine/core/ModalBaseOverlay";function N5e(){const e=hd();return j.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const E9=j.forwardRef(({className:e,...t},n)=>{const r=N5e(),i=hd();return O.createElement(Z,{component:"h2",ref:n,className:Ci({[j0.title]:!i.unstyled},e),...t,id:r})});E9.displayName="@mantine/core/ModalBaseTitle";function eee({children:e}){return O.createElement(O.Fragment,null,e)}const[D5e,C1]=JC({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Al={wrapper:"m-6c018570",input:"m-8fb7ebe7",section:"m-82577fc2",placeholder:"m-88bacfd0",root:"m-46b77525",label:"m-8fdc1311",required:"m-78a94662",error:"m-8f816625",description:"m-fe47ce59"};const cB={labelElement:"label"},R5e=(e,{size:t})=>({label:{"--input-label-size":Sa(t),"--input-asterisk-color":void 0}}),o4=Ge((e,t)=>{const n=Fe("InputLabel",cB,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,labelElement:u,size:c,required:d,htmlFor:f,onMouseDown:h,children:m,__staticSelector:g,variant:S,...y}=Fe("InputLabel",cB,n),E=gt({name:["InputWrapper",g],props:n,classes:Al,className:i,style:a,classNames:r,styles:o,unstyled:s,rootSelector:"label",vars:l,varsResolver:R5e}),x=C1(),v=(x==null?void 0:x.getStyles)||E;return O.createElement(Z,{...v("label"),component:u,variant:S,size:c,ref:t,htmlFor:u==="label"?f:void 0,mod:{required:d},onMouseDown:C=>{h==null||h(C),!C.defaultPrevented&&C.detail>1&&C.preventDefault()},...y},m,d&&O.createElement("span",{...v("required"),"aria-hidden":!0}," *"))});o4.classes=Al;o4.displayName="@mantine/core/InputLabel";const I5e={},O5e=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Sa(t)} - ${me(2)})`}}),s4=Ge((e,t)=>{const n=Fe("InputError",I5e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=n,m=gt({name:["InputWrapper",c],props:n,classes:Al,className:i,style:a,classNames:r,styles:o,unstyled:s,rootSelector:"error",vars:l,varsResolver:O5e}),g=C1(),S=d&&(g==null?void 0:g.getStyles)||m;return O.createElement(Z,{component:"p",ref:t,variant:f,size:u,...S("error"),...h})});s4.classes=Al;s4.displayName="@mantine/core/InputError";const dB={},P5e=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Sa(t)} - ${me(2)})`}}),l4=Ge((e,t)=>{const n=Fe("InputDescription",dB,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=Fe("InputDescription",dB,n),m=C1(),g=gt({name:["InputWrapper",c],props:n,classes:Al,className:i,style:a,classNames:r,styles:o,unstyled:s,rootSelector:"description",vars:l,varsResolver:P5e}),S=d&&(m==null?void 0:m.getStyles)||g;return O.createElement(Z,{component:"p",ref:t,variant:f,size:u,...S("description"),...h})});l4.classes=Al;l4.displayName="@mantine/core/InputDescription";const fB={},k9=Ge((e,t)=>{const n=Fe("InputPlaceholder",fB,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,__staticSelector:u,variant:c,error:d,...f}=Fe("InputPlaceholder",fB,n),h=gt({name:["InputPlaceholder",u],props:n,classes:Al,className:i,style:a,classNames:r,styles:o,unstyled:s,rootSelector:"placeholder"});return O.createElement(Z,{...h("placeholder"),mod:{error:!!d},component:"span",variant:c,ref:t,...f})});k9.classes=Al;k9.displayName="@mantine/core/InputPlaceholder";function j5e(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e[r-1],a=e[r+1];return{offsetBottom:t&&a==="description"||n&&a==="error",offsetTop:t&&i==="description"||n&&i==="error"}}const L5e={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},F5e=(e,{size:t})=>({label:{"--input-label-size":Sa(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Sa(t)} - ${me(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Sa(t)} - ${me(2)})`}}),A9=Ge((e,t)=>{const n=Fe("InputWrapper",L5e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,size:u,variant:c,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:m,error:g,description:S,labelProps:y,descriptionProps:E,errorProps:x,labelElement:v,children:C,withAsterisk:b,id:A,required:_,__stylesApiProps:T,...M}=n,N=gt({name:["InputWrapper",d],props:T||n,classes:Al,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:F5e}),I={size:u,variant:c,__staticSelector:d},F=So(A),$=typeof b=="boolean"?b:_,z=(x==null?void 0:x.id)||`${F}-error`,D=(E==null?void 0:E.id)||`${F}-description`,P=F,V=!!g&&typeof g!="boolean",B=!!S,H=`${V?z:""} ${B?D:""}`,K=H.trim().length>0?H.trim():void 0,W=(y==null?void 0:y.id)||`${F}-label`,L=m&&O.createElement(o4,{key:"label",labelElement:v,id:W,htmlFor:P,required:$,...I,...y},m),G=B&&O.createElement(l4,{key:"description",...E,...I,size:(E==null?void 0:E.size)||I.size,id:(E==null?void 0:E.id)||D},S),de=O.createElement(O.Fragment,{key:"input"},f(C)),Q=V&&O.createElement(s4,{...x,...I,size:(x==null?void 0:x.size)||I.size,key:"error",id:(x==null?void 0:x.id)||z},g),ee=h.map(ne=>{switch(ne){case"label":return L;case"input":return de;case"description":return G;case"error":return Q;default:return null}});return O.createElement(D5e,{value:{getStyles:N,describedBy:K,inputId:P,labelId:W,...j5e(h,{hasDescription:B,hasError:V})}},O.createElement(Z,{ref:t,variant:c,size:u,...N("root"),...M},ee))});A9.classes=Al;A9.displayName="@mantine/core/InputWrapper";const B5e={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},z5e=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Vt(t.size,"input-height"),"--input-fz":Sa(t.size),"--input-radius":t.radius===void 0?void 0:ar(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?me(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?me(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Vt(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),ki=_i((e,t)=>{const n=Fe("Input",B5e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,required:l,__staticSelector:u,__stylesApiProps:c,size:d,wrapperProps:f,error:h,disabled:m,leftSection:g,leftSectionProps:S,leftSectionWidth:y,rightSection:E,rightSectionProps:x,rightSectionWidth:v,rightSectionPointerEvents:C,leftSectionPointerEvents:b,variant:A,vars:_,pointer:T,multiline:M,radius:N,id:I,withAria:F,withErrorStyles:$,...z}=n,{styleProps:D,rest:P}=x1(z),V=C1(),B={offsetBottom:V==null?void 0:V.offsetBottom,offsetTop:V==null?void 0:V.offsetTop},H=gt({name:["Input",u],props:c||n,classes:Al,className:i,style:a,classNames:r,styles:o,unstyled:s,stylesCtx:B,rootSelector:"wrapper",vars:_,varsResolver:z5e}),K=F?{required:l,disabled:m,"aria-invalid":!!h,"aria-describedby":V==null?void 0:V.describedBy,id:(V==null?void 0:V.inputId)||I}:{};return O.createElement(Z,{...H("wrapper"),...D,...f,mod:{error:!!h&&$,pointer:T,disabled:m,multiline:M,"data-with-right-section":!!E,"data-with-left-section":!!g},variant:A,size:d},g&&O.createElement("div",{...S,"data-position":"left",...H("section",{className:S==null?void 0:S.className,style:S==null?void 0:S.style})},g),O.createElement(Z,{component:"input",...P,...K,ref:t,required:l,mod:{disabled:m,error:!!h&&$},variant:A,...H("input")}),E&&O.createElement("div",{...x,"data-position":"right",...H("section",{className:x==null?void 0:x.className,style:x==null?void 0:x.style})},E))});ki.classes=Al;ki.Wrapper=A9;ki.Label=o4;ki.Error=s4;ki.Description=l4;ki.Placeholder=k9;ki.displayName="@mantine/core/Input";function tee(e,t,n){const r=Fe(e,t,n),{label:i,description:a,error:o,required:s,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:m,labelProps:g,descriptionProps:S,wrapperProps:y,id:E,size:x,style:v,inputContainer:C,inputWrapperOrder:b,withAsterisk:A,variant:_,vars:T,...M}=r,{styleProps:N,rest:I}=x1(M),F={label:i,description:a,error:o,required:s,classNames:l,className:c,__staticSelector:f,__stylesApiProps:h||r,errorProps:m,labelProps:g,descriptionProps:S,unstyled:d,styles:u,size:x,style:v,inputContainer:C,inputWrapperOrder:b,withAsterisk:A,variant:_,id:E,...y};return{...I,classNames:l,styles:u,unstyled:d,wrapperProps:{...F,...N},inputProps:{required:s,classNames:l,styles:u,unstyled:d,size:x,__staticSelector:f,__stylesApiProps:h||r,error:o,variant:_,id:E}}}const $5e={__staticSelector:"InputBase",withAria:!0},ka=_i((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=tee("InputBase",$5e,e);return O.createElement(ki.Wrapper,{...r},O.createElement(ki,{...n,...i,ref:t}))});ka.classes={...ki.classes,...ki.Wrapper.classes};ka.displayName="@mantine/core/InputBase";function _9({style:e,size:t=16,...n}){return O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:me(t),height:me(t),display:"block"},...n},O.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}_9.displayName="@mantine/core/AccordionChevron";const[U5e,M9]=Kr("Accordion component was not found in the tree"),[V5e,nee]=Kr("Accordion.Item component was not found in the tree");var m2={root:"m-9bdbb667",panel:"m-df78851f",content:"m-4ba554d4",itemTitle:"m-8fa820a0",control:"m-4ba585b8","control--default":"m-6939a5e9","control--contained":"m-4271d21b",label:"m-df3ffa0f",chevron:"m-3f35ae96",icon:"m-9bd771fe",item:"m-9bd7b098","item--default":"m-fe19b709","item--contained":"m-1f921b3b","item--filled":"m-2cdf939a","item--separated":"m-9f59b069"};const H5e={},T9=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,value:s,...l}=Fe("AccordionItem",H5e,e),u=M9();return O.createElement(V5e,{value:{value:s}},O.createElement(Z,{ref:t,mod:{active:u.isItemActive(s)},...u.getStyles("item",{className:r,classNames:n,styles:a,style:i,variant:u.variant}),...l}))});T9.displayName="@mantine/core/AccordionItem";T9.classes=m2;const q5e={},N9=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,children:s,...l}=Fe("AccordionPanel",q5e,e),{value:u}=nee(),c=M9();return O.createElement(xl,{ref:t,...c.getStyles("panel",{className:r,classNames:n,style:i,styles:a}),...l,in:c.isItemActive(u),transitionDuration:c.transitionDuration??200,role:"region",id:c.getRegionId(u),"aria-labelledby":c.getControlId(u)},O.createElement("div",{...c.getStyles("content",{classNames:n,styles:a})},s))});N9.displayName="@mantine/core/AccordionPanel";N9.classes=m2;const W5e={},D9=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,chevron:s,icon:l,onClick:u,onKeyDown:c,children:d,disabled:f,...h}=Fe("AccordionControl",W5e,e),{value:m}=nee(),g=M9(),S=g.isItemActive(m),y=typeof g.order=="number",E=`h${g.order}`,x=O.createElement(Hn,{...h,...g.getStyles("control",{className:r,classNames:n,style:i,styles:a,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:S,"chevron-position":g.chevronPosition,disabled:f}],ref:t,onClick:v=>{u==null||u(v),g.onChange(m)},type:"button",disabled:f,"aria-expanded":S,"aria-controls":g.getRegionId(m),id:g.getControlId(m),onKeyDown:WD({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:c})},O.createElement(Z,{component:"span",mod:{rotate:!g.disableChevronRotation&&S,position:g.chevronPosition},...g.getStyles("chevron",{classNames:n,styles:a})},s||g.chevron),O.createElement("span",{...g.getStyles("label",{classNames:n,styles:a})},d),l&&O.createElement(Z,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:n,styles:a})},l));return y?O.createElement(E,{...g.getStyles("itemTitle",{classNames:n,styles:a})},x):x});D9.displayName="@mantine/core/AccordionControl";D9.classes=m2;const G5e={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:O.createElement(_9,null)},K5e=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:me(n),"--accordion-radius":r===void 0?void 0:ar(r)}});function nt(e){const t=Fe("Accordion",G5e,e),{classNames:n,className:r,style:i,styles:a,unstyled:o,vars:s,children:l,multiple:u,value:c,defaultValue:d,onChange:f,id:h,loop:m,transitionDuration:g,disableChevronRotation:S,chevronPosition:y,chevronSize:E,order:x,chevron:v,variant:C,radius:b,...A}=t,_=So(h),[T,M]=Ei({value:c,defaultValue:d,finalValue:u?[]:null,onChange:f}),N=$=>Array.isArray(T)?T.includes($):$===T,I=$=>{const z=Array.isArray(T)?T.includes($)?T.filter(D=>D!==$):[...T,$]:$===T?null:$;M(z)},F=gt({name:"Accordion",classes:m2,props:t,className:r,style:i,classNames:n,styles:a,unstyled:o,vars:s,varsResolver:K5e});return O.createElement(U5e,{value:{isItemActive:N,onChange:I,getControlId:jS(`${_}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:jS(`${_}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:g,disableChevronRotation:S,chevronPosition:y,order:x,chevron:v,loop:m,getStyles:F,variant:C,unstyled:o}},O.createElement(Z,{...F("root"),id:_,...A,variant:C,"data-accordion":!0},l))}const Y5e=e=>e;nt.extend=Y5e;nt.classes=m2;nt.displayName="@mantine/core/Accordion";nt.Item=T9;nt.Panel=N9;nt.Control=D9;nt.Chevron=_9;var ree={root:"m-b6d8b162"};function J5e(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const Q5e={inherit:!1},X5e=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:a})=>({root:{"--text-fz":Sa(i),"--text-lh":BX(i),"--text-gradient":t==="gradient"?wM(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":a?mr(a,e):void 0}}),pe=_i((e,t)=>{const n=Fe("Text",Q5e,e),{lineClamp:r,truncate:i,inline:a,inherit:o,gradient:s,span:l,__staticSelector:u,vars:c,className:d,style:f,classNames:h,styles:m,unstyled:g,variant:S,mod:y,size:E,...x}=n,v=gt({name:["Text",u],props:n,classes:ree,className:d,style:f,classNames:h,styles:m,unstyled:g,vars:c,varsResolver:X5e});return O.createElement(Z,{...v("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:S,mod:[{"data-truncate":J5e(i),"data-line-clamp":typeof r=="number","data-inline":a,"data-inherit":o},y],size:E,...x})});pe.classes=ree;pe.displayName="@mantine/core/Text";var iee={root:"m-849cf0da"};const Z5e={underline:"hover"},Br=_i((e,t)=>{const{underline:n,className:r,unstyled:i,...a}=Fe("Anchor",Z5e,e);return O.createElement(pe,{component:"a",ref:t,className:Ci({[iee.root]:!i},r),...a,mod:{underline:n},__staticSelector:"Anchor",unstyled:i})});Br.classes=iee;Br.displayName="@mantine/core/Anchor";const[eCe,E1]=Kr("AppShell was not found in tree");var ph={root:"m-89ab340",navbar:"m-45252eee",aside:"m-9cdde9a",header:"m-3b16f56b",main:"m-8983817",footer:"m-3840c879",section:"m-6dcfc7c7"};const tCe={},R9=Ge((e,t)=>{const n=Fe("AppShellNavbar",tCe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,withBorder:u,zIndex:c,...d}=n,f=E1();return f.disabled?null:O.createElement(Z,{component:"nav",ref:t,mod:{"with-border":u??f.withBorder},...f.getStyles("navbar",{className:i,classNames:r,styles:o,style:a}),...d,__vars:{"--app-shell-navbar-z-index":`calc(${c??f.zIndex} + 1)`}})});R9.classes=ph;R9.displayName="@mantine/core/AppShellNavbar";const nCe={},I9=Ge((e,t)=>{var h;const n=Fe("AppShellHeader",nCe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,withBorder:u,zIndex:c,...d}=n,f=E1();return f.disabled?null:O.createElement(Z,{component:"header",ref:t,mod:{"with-border":u??f.withBorder},...f.getStyles("header",{className:Ci({[HD.classNames.zeroRight]:f.offsetScrollbars},i),classNames:r,styles:o,style:a}),...d,__vars:{"--app-shell-header-z-index":(h=c??f.zIndex)==null?void 0:h.toString()}})});I9.classes=ph;I9.displayName="@mantine/core/AppShellHeader";const rCe={},O9=Ge((e,t)=>{var h;const n=Fe("AppShellFooter",rCe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,withBorder:u,zIndex:c,...d}=n,f=E1();return f.disabled?null:O.createElement(Z,{component:"footer",ref:t,mod:{"with-border":u??f.withBorder},...f.getStyles("footer",{className:Ci({[HD.classNames.zeroRight]:f.offsetScrollbars},i),classNames:r,styles:o,style:a}),...d,__vars:{"--app-shell-footer-z-index":(h=c??f.zIndex)==null?void 0:h.toString()}})});O9.classes=ph;O9.displayName="@mantine/core/AppShellFooter";const iCe={},P9=Ge((e,t)=>{const n=Fe("AppShellAside",iCe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,withBorder:u,zIndex:c,...d}=n,f=E1();return f.disabled?null:O.createElement(Z,{component:"aside",ref:t,mod:{"with-border":u??f.withBorder},...f.getStyles("aside",{className:i,classNames:r,styles:o,style:a}),...d,__vars:{"--app-shell-aside-z-index":`calc(${c??f.zIndex} + 1)`}})});P9.classes=ph;P9.displayName="@mantine/core/AppShellAside";const aCe={},j9=Ge((e,t)=>{const n=Fe("AppShellMain",aCe,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=E1();return O.createElement(Z,{component:"main",ref:t,...u.getStyles("main",{className:i,style:a,classNames:r,styles:o}),...l})});j9.classes=ph;j9.displayName="@mantine/core/AppShellMain";const oCe={},L9=_i((e,t)=>{const n=Fe("AppShellSection",oCe,e),{classNames:r,className:i,style:a,styles:o,vars:s,grow:l,...u}=n,c=E1();return O.createElement(Z,{ref:t,mod:{grow:l},...c.getStyles("section",{className:i,style:a,classNames:r,styles:o}),...u})});L9.classes=ph;L9.displayName="@mantine/core/AppShellSection";function g2(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function v2(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function y2(e){return typeof e=="object"?e.base:e}function sCe({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){var l,u,c;const a=r==null?void 0:r.width,o="translateX(var(--app-shell-aside-width))",s="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),v2(a)){const d=me(y2(a));e["--app-shell-aside-width"]=d,e["--app-shell-aside-offset"]=d}if(g2(a)&&(typeof a.base<"u"&&(e["--app-shell-aside-width"]=me(a.base),e["--app-shell-aside-offset"]=me(a.base)),ji(a).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-aside-width"]=me(a[d]),t[d]["--app-shell-aside-offset"]=me(a[d]))})),(u=r==null?void 0:r.collapsed)!=null&&u.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-aside-transform"]=o,t[d]["--app-shell-aside-transform-rtl"]=s,t[d]["--app-shell-aside-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const d=KD(r.breakpoint,i)-.1;n[d]=n[d]||{},n[d]["--app-shell-aside-width"]="100%",n[d]["--app-shell-aside-offset"]="0px",n[d]["--app-shell-aside-transform"]=o,n[d]["--app-shell-aside-transform-rtl"]=s}}function lCe({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,i="translateY(var(--app-shell-footer-height))",a=(n==null?void 0:n.offset)??!0;if(v2(r)){const o=me(y2(r));e["--app-shell-footer-height"]=o,a&&(e["--app-shell-footer-offset"]=o)}g2(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=me(r.base),a&&(e["--app-shell-footer-offset"]=me(r.base))),ji(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-footer-height"]=me(r[o]),a&&(t[o]["--app-shell-footer-offset"]=me(r[o])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function uCe({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,i="translateY(calc(var(--app-shell-header-height) * -1))",a=(n==null?void 0:n.offset)??!0;if(v2(r)){const o=me(y2(r));e["--app-shell-header-height"]=o,a&&(e["--app-shell-header-offset"]=o)}g2(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=me(r.base),a&&(e["--app-shell-header-offset"]=me(r.base))),ji(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-header-height"]=me(r[o]),a&&(t[o]["--app-shell-header-offset"]=me(r[o])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function cCe({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){var l,u,c;const a=r==null?void 0:r.width,o="translateX(calc(var(--app-shell-navbar-width) * -1))",s="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((l=r==null?void 0:r.collapsed)!=null&&l.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),v2(a)){const d=me(y2(a));e["--app-shell-navbar-width"]=d,e["--app-shell-navbar-offset"]=d}if(g2(a)&&(typeof a.base<"u"&&(e["--app-shell-navbar-width"]=me(a.base),e["--app-shell-navbar-offset"]=me(a.base)),ji(a).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-navbar-width"]=me(a[d]),t[d]["--app-shell-navbar-offset"]=me(a[d]))})),(u=r==null?void 0:r.collapsed)!=null&&u.desktop){const d=r.breakpoint;t[d]=t[d]||{},t[d]["--app-shell-navbar-transform"]=o,t[d]["--app-shell-navbar-transform-rtl"]=s,t[d]["--app-shell-navbar-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const d=KD(r.breakpoint,i)-.1;n[d]=n[d]||{},n[d]["--app-shell-navbar-width"]="100%",n[d]["--app-shell-navbar-offset"]="0px",n[d]["--app-shell-navbar-transform"]=o,n[d]["--app-shell-navbar-transform-rtl"]=s}}function T8(e){return Number(e)===0?"0px":va(e)}function dCe({padding:e,baseStyles:t,minMediaStyles:n}){v2(e)&&(t["--app-shell-padding"]=T8(y2(e))),g2(e)&&(e.base&&(t["--app-shell-padding"]=T8(e.base)),ji(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=T8(e[r]))}))}function fCe({navbar:e,header:t,footer:n,aside:r,padding:i,theme:a}){const o={},s={},l={};cCe({baseStyles:l,minMediaStyles:o,maxMediaStyles:s,navbar:e,theme:a}),sCe({baseStyles:l,minMediaStyles:o,maxMediaStyles:s,aside:r,theme:a}),uCe({baseStyles:l,minMediaStyles:o,header:t}),lCe({baseStyles:l,minMediaStyles:o,footer:n}),dCe({baseStyles:l,minMediaStyles:o,padding:i});const u=mM(ji(o),a).map(f=>({query:`(min-width: ${PS(f.px)})`,styles:o[f.value]})),c=mM(ji(s),a).map(f=>({query:`(max-width: ${PS(f.px)})`,styles:s[f.value]})),d=[...u,...c];return{baseStyles:l,media:d}}function hCe({navbar:e,header:t,aside:n,footer:r,padding:i}){const a=ht(),o=ZC(),{media:s,baseStyles:l}=fCe({navbar:e,header:t,footer:r,aside:n,padding:i,theme:a});return O.createElement(e9,{media:s,styles:l,selector:o.cssVariablesSelector})}function pCe({transitionDuration:e,disabled:t}){const[n,r]=j.useState(!1),i=j.useRef(),a=j.useRef();return ed("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>r(!1),200)}),dl(()=>{r(!0),clearTimeout(a.current),a.current=window.setTimeout(()=>r(!1),e||0)},[t,e]),n}const mCe={withBorder:!0,offsetScrollbars:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Ya("app")},gCe=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),fl=Ge((e,t)=>{const n=Fe("AppShell",mCe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,navbar:u,withBorder:c,padding:d,transitionDuration:f,transitionTimingFunction:h,header:m,zIndex:g,layout:S,disabled:y,aside:E,footer:x,offsetScrollbars:v,...C}=n,b=gt({name:"AppShell",classes:ph,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:gCe}),A=pCe({disabled:y,transitionDuration:f});return O.createElement(eCe,{value:{getStyles:b,withBorder:c,zIndex:g,disabled:y,offsetScrollbars:v}},O.createElement(hCe,{navbar:u,header:m,aside:E,footer:x,padding:d}),O.createElement(Z,{ref:t,...b("root"),mod:{resizing:A,layout:S,disabled:y},...C}))});fl.classes=ph;fl.displayName="@mantine/core/AppShell";fl.Navbar=R9;fl.Header=I9;fl.Main=j9;fl.Aside=P9;fl.Footer=O9;fl.Section=L9;function aee(e){return typeof e=="string"?{value:e,label:e}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>aee(t))}:e}function F9(e){return e?e.map(aee):[]}function u4(e){return e.reduce((t,n)=>"group"in n?{...t,...u4(n.items)}:(t[n.value]=n,t),{})}var Co={dropdown:"m-88b62a41",options:"m-b2821a6e",option:"m-92253aa5",search:"m-985517d8",empty:"m-2530cd1d",header:"m-858f94bd",footer:"m-82b967cb",group:"m-254f3e4f",groupLabel:"m-2bb2e9e5",chevron:"m-2943220b",optionsDropdownScrollArea:"m-71d052f9",optionsDropdownOption:"m-390b5f4",optionsDropdownCheckIcon:"m-8ee53fc2"};const vCe={error:null},yCe=(e,{size:t})=>({chevron:{"--combobox-chevron-size":Vt(t,"combobox-chevron-size")}}),B9=Ge((e,t)=>{const n=Fe("ComboboxChevron",vCe,e),{size:r,error:i,style:a,className:o,classNames:s,styles:l,unstyled:u,vars:c,...d}=n,f=gt({name:"ComboboxChevron",classes:Co,props:n,style:a,className:o,classNames:s,styles:l,unstyled:u,vars:c,varsResolver:yCe,rootSelector:"chevron"});return O.createElement(Z,{component:"svg",...d,...f("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i}],ref:t},O.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))});B9.classes=Co;B9.displayName="@mantine/core/ComboboxChevron";function bCe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function wCe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function xCe(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function c4({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:a=!0,scrollBehavior:o="instant"}={}){const[s,l]=Ei({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=j.useRef(null),c=j.useRef(-1),d=j.useRef(null),f=j.useRef(null),h=j.useRef(-1),m=j.useRef(-1),g=j.useRef(-1),S=j.useCallback((z="unknown")=>{s||(l(!0),i==null||i(z))},[l,i,s]),y=j.useCallback((z="unknown")=>{s&&(l(!1),r==null||r(z))},[l,r,s]),E=j.useCallback((z="unknown")=>{s?y(z):S(z)},[y,S,s]),x=j.useCallback(()=>{const z=document.querySelector(`#${u.current} [data-combobox-selected]`);z==null||z.removeAttribute("data-combobox-selected"),z==null||z.removeAttribute("aria-selected")},[]),v=j.useCallback(z=>{const D=document.getElementById(u.current),P=D==null?void 0:D.querySelectorAll("[data-combobox-option]");if(!P)return null;const V=z>=P.length?0:z<0?P.length-1:z;return c.current=V,P!=null&&P[V]&&!P[V].hasAttribute("data-combobox-disabled")?(x(),P[V].setAttribute("data-combobox-selected","true"),P[V].setAttribute("aria-selected","true"),P[V].scrollIntoView({block:"nearest",behavior:o}),P[V].id):null},[o,x]),C=j.useCallback(()=>{const z=document.querySelector(`#${u.current} [data-combobox-active]`);if(z){const D=document.querySelectorAll(`#${u.current} [data-combobox-option]`),P=Array.from(D).findIndex(V=>V===z);return v(P)}return v(0)},[v]),b=j.useCallback(()=>v(wCe(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),a)),[v,a]),A=j.useCallback(()=>v(bCe(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),a)),[v,a]),_=j.useCallback(()=>v(xCe(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[v]),T=j.useCallback((z="selected")=>{g.current=window.setTimeout(()=>{const D=document.querySelectorAll(`#${u.current} [data-combobox-option]`),P=Array.from(D).findIndex(V=>V.hasAttribute(`data-combobox-${z}`));c.current=P},0)},[]),M=j.useCallback(()=>{c.current=-1,x()},[x]),N=j.useCallback(()=>{const z=document.querySelectorAll(`#${u.current} [data-combobox-option]`),D=z==null?void 0:z[c.current];D==null||D.click()},[]),I=j.useCallback(z=>{u.current=z},[]),F=j.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),$=j.useCallback(()=>{m.current=window.setTimeout(()=>f.current.focus(),0)},[]);return j.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(m.current),window.clearTimeout(g.current)},[]),{dropdownOpened:s,openDropdown:S,closeDropdown:y,toggleDropdown:E,selectedOptionIndex:c.current,selectOption:v,selectFirstOption:_,selectActiveOption:C,selectNextOption:b,selectPreviousOption:A,resetSelectedOption:M,updateSelectedOptionIndex:T,listId:u.current,setListId:I,clickSelectedOption:N,searchRef:d,focusSearchInput:F,targetRef:f,focusTarget:$}}const[SCe,_l]=Kr("Combobox component was not found in tree");function z9({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i}){const a=_l(),[o,s]=j.useState(null),l=c=>{e==null||e(c),!a.readOnly&&t&&(c.nativeEvent.code==="ArrowDown"&&(c.preventDefault(),a.store.dropdownOpened?s(a.store.selectNextOption()):(a.store.openDropdown("keyboard"),s(a.store.selectActiveOption()))),c.nativeEvent.code==="ArrowUp"&&(c.preventDefault(),a.store.dropdownOpened?s(a.store.selectPreviousOption()):(a.store.openDropdown("keyboard"),s(a.store.selectActiveOption()))),c.nativeEvent.code==="Enter"&&(a.store.dropdownOpened?(c.preventDefault(),a.store.clickSelectedOption()):i==="button"&&(c.preventDefault(),a.store.openDropdown("keyboard"))),c.nativeEvent.code==="Escape"&&a.store.closeDropdown("keyboard"),c.nativeEvent.code==="Space"&&i==="button"&&(c.preventDefault(),a.store.toggleDropdown("keyboard")))};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(a.store.listId&&a.store.dropdownOpened)||void 0,"aria-controls":a.store.listId,"aria-activedescendant":a.store.dropdownOpened&&o||void 0,autoComplete:"off","data-expanded":a.store.dropdownOpened?!0:void 0}:{},onKeyDown:l}}const CCe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1},oee=Ge((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:o,targetType:s,...l}=Fe("ComboboxTarget",CCe,e);if(!nc(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=_l(),c=z9({targetType:s,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown}),d=j.cloneElement(n,{...c,...l});return O.createElement(ri.Target,{ref:Ai(t,u.store.targetRef)},d)});oee.displayName="@mantine/core/ComboboxTarget";const ECe={},$9=Ge((e,t)=>{const{classNames:n,styles:r,className:i,style:a,hidden:o,...s}=Fe("ComboboxDropdown",ECe,e),l=_l();return O.createElement(ri.Dropdown,{...s,ref:t,role:"presentation","data-hidden":o||void 0,...l.getStyles("dropdown",{className:i,style:a,classNames:n,styles:r})})});$9.classes=Co;$9.displayName="@mantine/core/ComboboxDropdown";const kCe={},U9=Ge((e,t)=>{const n=Fe("ComboboxOptions",kCe,e),{classNames:r,className:i,style:a,styles:o,id:s,onMouseDown:l,labelledBy:u,...c}=n,d=_l(),f=So(s);return j.useEffect(()=>{d.store.setListId(f)},[f]),O.createElement(Z,{ref:t,...d.getStyles("options",{className:i,style:a,classNames:r,styles:o}),...c,id:f,role:"listbox","aria-labelledby":u,onMouseDown:h=>{h.preventDefault(),l==null||l(h)}})});U9.classes=Co;U9.displayName="@mantine/core/ComboboxOptions";const ACe={},V9=Ge((e,t)=>{const n=Fe("ComboboxOption",ACe,e),{classNames:r,className:i,style:a,styles:o,vars:s,onClick:l,id:u,active:c,onMouseDown:d,onMouseOver:f,disabled:h,selected:m,...g}=n,S=_l(),y=j.useId(),E=u||y;return O.createElement(Z,{...S.getStyles("option",{className:i,classNames:r,styles:o,style:a}),...g,ref:t,id:E,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":m}],role:"option",onClick:x=>{var v;h?x.preventDefault():((v=S.onOptionSubmit)==null||v.call(S,n.value,n),l==null||l(x))},onMouseDown:x=>{x.preventDefault(),d==null||d(x)},onMouseOver:x=>{S.resetSelectionOnOptionHover&&S.store.resetSelectedOption(),f==null||f(x)}})});V9.classes=Co;V9.displayName="@mantine/core/ComboboxOption";const _Ce={withAriaAttributes:!0,withKeyboardNavigation:!0},H9=Ge((e,t)=>{const n=Fe("ComboboxSearch",_Ce,e),{classNames:r,styles:i,unstyled:a,vars:o,withAriaAttributes:s,onKeyDown:l,withKeyboardNavigation:u,size:c,...d}=n,f=_l(),h=f.getStyles("search"),m=z9({targetType:"input",withAriaAttributes:s,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l});return O.createElement(ki,{ref:Ai(t,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||f.size,...m,...d,__staticSelector:"Combobox"})});H9.classes=Co;H9.displayName="@mantine/core/ComboboxSearch";const MCe={},q9=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Fe("ComboboxEmpty",MCe,e),l=_l();return O.createElement(Z,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:a,style:i}),...s})});q9.classes=Co;q9.displayName="@mantine/core/ComboboxEmpty";const TCe={},W9=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Fe("ComboboxFooter",TCe,e),l=_l();return O.createElement(Z,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:a}),...s})});W9.classes=Co;W9.displayName="@mantine/core/ComboboxFooter";const NCe={},G9=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Fe("ComboboxHeader",NCe,e),l=_l();return O.createElement(Z,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:i,styles:a}),...s})});G9.classes=Co;G9.displayName="@mantine/core/ComboboxHeader";const DCe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1},see=Ge((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:a,withExpandedAttribute:o,targetType:s,...l}=Fe("ComboboxEventsTarget",DCe,e);if(!nc(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=_l(),c=z9({targetType:s,withAriaAttributes:a,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown});return j.cloneElement(n,{...c,...l,[r]:Ai(t,u.store.targetRef,n==null?void 0:n.ref)})});see.displayName="@mantine/core/ComboboxEventsTarget";const RCe={refProp:"ref"},lee=Ge((e,t)=>{const{children:n,refProp:r}=Fe("ComboboxDropdownTarget",RCe,e);if(_l(),!nc(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return O.createElement(ri.Target,{ref:t,refProp:r},n)});lee.displayName="@mantine/core/ComboboxDropdownTarget";const ICe={},K9=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,children:s,label:l,...u}=Fe("ComboboxGroup",ICe,e),c=_l();return O.createElement(Z,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:a}),...u},l&&O.createElement("div",{...c.getStyles("groupLabel",{classNames:n,styles:a})},l),s)});K9.classes=Co;K9.displayName="@mantine/core/ComboboxGroup";const uee=j.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},a)=>O.createElement(hh,{ref:a,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:o=>{o.preventDefault(),t==null||t(o)},onClick:o=>{r(),n==null||n(o)}}));uee.displayName="@mantine/core/ComboboxClearButton";const OCe={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},PCe=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Sa(t),"--combobox-option-padding":Vt(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:me(n),"--combobox-option-fz":Sa(t),"--combobox-option-padding":Vt(t,"combobox-option-padding")}});function zn(e){const t=Fe("Combobox",OCe,e),{classNames:n,styles:r,unstyled:i,children:a,store:o,vars:s,onOptionSubmit:l,size:u,dropdownPadding:c,resetSelectionOnOptionHover:d,__staticSelector:f,readOnly:h,...m}=t,g=c4(),S=o||g,y=gt({name:f||"Combobox",classes:Co,props:t,classNames:n,styles:r,unstyled:i,vars:s,varsResolver:PCe});return O.createElement(SCe,{value:{getStyles:y,store:S,onOptionSubmit:l,size:u,resetSelectionOnOptionHover:d,readOnly:h}},O.createElement(ri,{opened:S.dropdownOpened,...m,onClose:S.closeDropdown,withRoles:!1,unstyled:i},a))}const jCe=e=>e;zn.extend=jCe;zn.classes=Co;zn.displayName="@mantine/core/Combobox";zn.Target=oee;zn.Dropdown=$9;zn.Options=U9;zn.Option=V9;zn.Search=H9;zn.Empty=q9;zn.Chevron=B9;zn.Footer=W9;zn.Header=G9;zn.EventsTarget=see;zn.DropdownTarget=lee;zn.Group=K9;zn.ClearButton=uee;var cee={root:"m-5f75b09e",body:"m-5f6e695e",labelWrapper:"m-d3ea56bb",label:"m-8ee546b8",description:"m-328f68c0",error:"m-8e8a99cc"};const LCe=cee,dee=j.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:a,children:o,label:s,description:l,id:u,disabled:c,error:d,size:f,labelPosition:h="left",variant:m,style:g,vars:S,...y},E)=>{const x=gt({name:e,props:t,className:n,style:g,classes:cee,classNames:r,styles:i,unstyled:a});return O.createElement(Z,{...x("root"),ref:E,__vars:{"--label-fz":Sa(f),"--label-lh":Vt(f,"label-lh")},mod:{"label-position":h},variant:m,size:f,...y},O.createElement("div",{...x("body")},o,O.createElement("div",{...x("labelWrapper")},s&&O.createElement("label",{...x("label"),"data-disabled":c||void 0,htmlFor:u},s),l&&O.createElement(ki.Description,{size:f,__inheritStyles:!1,...x("description")},l),d&&d!=="boolean"&&O.createElement(ki.Error,{size:f,__inheritStyles:!1,...x("error")},d))))});dee.displayName="@mantine/core/InlineInput";function FCe({children:e,role:t}){const n=C1();return n?O.createElement("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy},e):O.createElement(O.Fragment,null,e)}function fee({size:e,style:t,...n}){const r=e!==void 0?{width:me(e),height:me(e),...t}:t;return O.createElement("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n},O.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function L0(e){return"group"in e}function hee({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let a=0;a<e.length;a+=1){const o=e[a];if(i.length===n)return i;L0(o)&&i.push({group:o.group,items:hee({options:o.items,search:t,limit:n-i.length})}),L0(o)||o.label.toLowerCase().includes(r)&&i.push(o)}return i}function BCe(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function pee(e,t=new Set){if(Array.isArray(e))for(const n of e)if(L0(n))pee(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function N8(e,t){return Array.isArray(e)?e.includes(t):e===t}function mee({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i}){if(!L0(e)){const o=t&&N8(n,e.value)&&O.createElement(fee,{className:Co.optionsDropdownCheckIcon});return O.createElement(zn.Option,{value:e.value,disabled:e.disabled,className:Ci({[Co.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":N8(n,e.value)||void 0,"aria-selected":N8(n,e.value)},r==="left"&&o,e.label,r==="right"&&o)}const a=e.items.map(o=>O.createElement(mee,{data:o,value:n,key:o.value,unstyled:i,withCheckIcon:t,checkIconPosition:r}));return O.createElement(zn.Group,{label:e.group},a)}function Y9({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:a,maxDropdownHeight:o,withScrollArea:s=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:m}){pee(e);const S=typeof i=="string"?(r||hee)({options:e,search:l?i:"",limit:a??1/0}):e,y=BCe(S),E=S.map(x=>O.createElement(mee,{data:x,key:L0(x)?x.group:x.value,withCheckIcon:u,value:c,checkIconPosition:d,unstyled:h}));return O.createElement(zn.Dropdown,{hidden:t||n&&y},O.createElement(zn.Options,{labelledBy:m},s?O.createElement(Jn.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--_combobox-padding)",offsetScrollbars:"y",className:Co.optionsDropdownScrollArea},E):E,y&&f&&O.createElement(zn.Empty,null,f)))}const zCe={},b2=Ge((e,t)=>{const n=Fe("Autocomplete",zCe,e),{classNames:r,styles:i,unstyled:a,vars:o,dropdownOpened:s,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:m,data:g,value:S,defaultValue:y,selectFirstOptionOnChange:E,onOptionSubmit:x,comboboxProps:v,readOnly:C,disabled:b,filter:A,limit:_,withScrollArea:T,maxDropdownHeight:M,size:N,id:I,...F}=n,$=So(I),z=F9(g),D=u4(z),[P,V]=Ei({value:S,defaultValue:y,finalValue:"",onChange:m}),B=c4({opened:s,defaultOpened:l,onDropdownOpen:c,onDropdownClose:()=>{u==null||u(),B.resetSelectedOption()}}),{resolvedClassNames:H,resolvedStyles:K}=rc({props:n,styles:i,classNames:r});return j.useEffect(()=>{E&&B.selectFirstOption()},[E,P]),O.createElement(zn,{store:B,__staticSelector:"Autocomplete",classNames:H,styles:K,unstyled:a,readOnly:C,onOptionSubmit:W=>{x==null||x(W),V(D[W].label),B.closeDropdown()},size:N,...v},O.createElement(zn.Target,null,O.createElement(ka,{ref:t,...F,size:N,__staticSelector:"Autocomplete",disabled:b,readOnly:C,value:P,onChange:W=>{V(W.currentTarget.value),B.openDropdown(),E&&B.selectFirstOption()},onFocus:W=>{B.openDropdown(),d==null||d(W)},onBlur:W=>{B.closeDropdown(),f==null||f(W)},onClick:W=>{B.openDropdown(),h==null||h(W)},classNames:H,styles:K,unstyled:a,id:$})),O.createElement(Y9,{data:z,hidden:C||b,filter:A,search:P,limit:_,hiddenWhenEmpty:!0,withScrollArea:T,maxDropdownHeight:M,unstyled:a,labelId:`${$}-label`}))});b2.classes={...ka.classes,...zn.classes};b2.displayName="@mantine/core/Autocomplete";const gee=j.createContext(null),$Ce=gee.Provider;function UCe(){return{withinGroup:!!j.useContext(gee)}}var d4={root:"m-f85678b6",image:"m-11f8ac07",placeholder:"m-104cd71f",group:"m-11def92b"};const VCe={},HCe=(e,{spacing:t})=>({group:{"--ag-spacing":va(t)}}),J9=Ge((e,t)=>{const n=Fe("AvatarGroup",VCe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,spacing:u,...c}=n,d=gt({name:"AvatarGroup",classes:d4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:HCe,rootSelector:"group"});return O.createElement($Ce,{value:!0},O.createElement(Z,{ref:t,...d("group"),...c}))});J9.classes=d4;J9.displayName="@mantine/core/AvatarGroup";function qCe(e){return O.createElement("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O.createElement("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const WCe={},GCe=(e,{size:t,radius:n,variant:r,gradient:i,color:a})=>{const o=e.variantColorResolver({color:a||"gray",theme:e,gradient:i,variant:r||"light"});return{root:{"--avatar-size":Vt(t,"avatar-size"),"--avatar-radius":n===void 0?void 0:ar(n),"--avatar-bg":a||r?o.background:void 0,"--avatar-color":a||r?o.color:void 0,"--avatar-bd":a||r?o.border:void 0}}},Cl=_i((e,t)=>{const n=Fe("Avatar",WCe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,src:u,alt:c,radius:d,color:f,gradient:h,imageProps:m,children:g,...S}=n,y=UCe(),[E,x]=j.useState(!u),v=gt({name:"Avatar",props:n,classes:d4,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:GCe});return j.useEffect(()=>x(!u),[u]),O.createElement(Z,{...v("root"),mod:{"within-group":y.withinGroup},ref:t,...S},E?O.createElement("span",{...v("placeholder"),title:c},g||O.createElement(qCe,null)):O.createElement("img",{...m,...v("image"),src:u,alt:c,onError:C=>{var b;x(!0),(b=m==null?void 0:m.onError)==null||b.call(m,C)}}))});Cl.classes=d4;Cl.displayName="@mantine/core/Avatar";Cl.Group=J9;var vee={root:"m-2ce0de02"};const KCe={},YCe=(e,{radius:t})=>({root:{"--bi-radius":t===void 0?void 0:ar(t)}}),Q9=_i((e,t)=>{const n=Fe("BackgroundImage",KCe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,radius:u,src:c,variant:d,...f}=n,h=gt({name:"BackgroundImage",props:n,classes:vee,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:YCe});return O.createElement(Z,{ref:t,variant:d,...h("root",{style:{backgroundImage:`url(${c})`}}),...f})});Q9.classes=vee;Q9.displayName="@mantine/core/BackgroundImage";var yee={root:"m-347db0ec","root--dot":"m-fbd81e3d",label:"m-5add502a",section:"m-91fdda9b"};const JCe={},QCe=(e,{radius:t,color:n,gradient:r,variant:i,size:a})=>{const o=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled"});return{root:{"--badge-height":Vt(a,"badge-height"),"--badge-padding-x":Vt(a,"badge-padding-x"),"--badge-fz":Vt(a,"badge-fz"),"--badge-radius":t===void 0?void 0:ar(t),"--badge-bg":n||i?o.background:void 0,"--badge-color":n||i?o.color:void 0,"--badge-bd":n||i?o.border:void 0,"--badge-dot-color":i==="dot"?mr(n,e):void 0}}},ft=_i((e,t)=>{const n=Fe("Badge",JCe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,radius:u,color:c,gradient:d,leftSection:f,rightSection:h,children:m,variant:g,fullWidth:S,...y}=n,E=gt({name:"Badge",props:n,classes:yee,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:QCe});return O.createElement(Z,{variant:g,mod:{block:S},...E("root",{variant:g}),ref:t,...y},f&&O.createElement("span",{...E("section"),"data-position":"left"},f),O.createElement("span",{...E("label")},m),h&&O.createElement("span",{...E("section"),"data-position":"right"},h))});ft.classes=yee;ft.displayName="@mantine/core/Badge";var bee={root:"m-ddec01c0",icon:"m-dde7bd57",cite:"m-dde51a35"};const XCe={iconSize:48},ZCe=(e,{color:t,iconSize:n,radius:r})=>{const i=Wp({color:t||e.primaryColor,theme:e,colorScheme:"dark"}),a=Wp({color:t||e.primaryColor,theme:e,colorScheme:"light"});return{root:{"--bq-bg-light":pa(a.value,.07),"--bq-bg-dark":pa(i.value,.06),"--bq-bd":mr(t,e),"--bq-icon-size":me(n),"--bq-radius":ar(r)}}},X9=Ge((e,t)=>{const n=Fe("Blockquote",XCe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,children:u,icon:c,iconSize:d,cite:f,...h}=n,m=gt({name:"Blockquote",classes:bee,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:ZCe});return O.createElement(Z,{component:"blockquote",ref:t,...m("root"),...h},c&&O.createElement("span",{...m("icon")},c),u,f&&O.createElement("cite",{...m("cite")},f))});X9.classes=bee;X9.displayName="@mantine/core/Blockquote";var wee={root:"m-fea6bf1a",burger:"m-d4fb9cad"};const e4e={},t4e=(e,{color:t,size:n,transitionDuration:r,transitionTimingFunction:i})=>({root:{"--burger-color":t?mr(t,e):void 0,"--burger-size":Vt(n,"burger-size"),"--burger-transition-duration":r===void 0?void 0:`${r}ms`,"--burger-transition-timing-function":i}}),Z9=Ge((e,t)=>{const n=Fe("Burger",e4e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,opened:u,children:c,transitionDuration:d,transitionTimingFunction:f,...h}=n,m=gt({name:"Burger",classes:wee,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:t4e});return O.createElement(Hn,{...m("root"),ref:t,...h},O.createElement(Z,{mod:["reduce-motion",{opened:u}],...m("burger")}),c)});Z9.classes=wee;Z9.displayName="@mantine/core/Burger";var f4={root:"m-77c9d27d",inner:"m-80f1301b",loader:"m-a25b86ee",label:"m-811560b9",section:"m-a74036a",group:"m-80d6d844"};const hB={orientation:"horizontal"},n4e=(e,{borderWidth:t})=>({group:{"--button-border-width":me(t)}}),e7=Ge((e,t)=>{const n=Fe("ButtonGroup",hB,e),{className:r,style:i,classNames:a,styles:o,unstyled:s,orientation:l,vars:u,borderWidth:c,variant:d,...f}=Fe("ButtonGroup",hB,e),h=gt({name:"ButtonGroup",props:n,classes:f4,className:r,style:i,classNames:a,styles:o,unstyled:s,vars:u,varsResolver:n4e,rootSelector:"group"});return O.createElement(Z,{...h("group"),ref:t,variant:d,mod:{"data-orientation":l},role:"group",...f})});e7.classes=f4;e7.displayName="@mantine/core/ButtonGroup";const r4e={},i4e=(e,{radius:t,color:n,gradient:r,variant:i,size:a,justify:o})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled"});return{root:{"--button-justify":o,"--button-height":Vt(a,"button-height"),"--button-padding-x":Vt(a,"button-padding-x"),"--button-fz":a!=null&&a.includes("compact")?Sa(a.replace("compact-","")):Sa(a),"--button-radius":t===void 0?void 0:ar(t),"--button-bg":n||i?s.background:void 0,"--button-hover":n||i?s.hover:void 0,"--button-color":n||i?s.color:void 0,"--button-bd":n||i?s.border:void 0,"--button-hover-color":n||i?s.hoverColor:void 0}}},mt=_i((e,t)=>{const n=Fe("Button",r4e,e),{style:r,vars:i,className:a,color:o,disabled:s,children:l,leftSection:u,rightSection:c,fullWidth:d,variant:f,radius:h,loading:m,loaderProps:g,gradient:S,classNames:y,styles:E,unstyled:x,"data-disabled":v,...C}=n,b=gt({name:"Button",props:n,classes:f4,className:a,style:r,classNames:y,styles:E,unstyled:x,vars:i,varsResolver:i4e}),A=!!u,_=!!c;return O.createElement(Hn,{ref:t,...b("root",{active:!s&&!m&&!v}),unstyled:x,variant:f,disabled:s||m,mod:{disabled:s||v,loading:m,block:d,"with-left-section":A,"with-right-section":_},...C},O.createElement(Z,{component:"span",...b("loader"),"aria-hidden":!0},O.createElement(ai,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...g})),O.createElement("span",{...b("inner")},u&&O.createElement(Z,{component:"span",...b("section"),mod:{position:"left"}},u),O.createElement(Z,{component:"span",mod:{loading:m},...b("label")},l),c&&O.createElement(Z,{component:"span",...b("section"),mod:{position:"right"}},c)))});mt.classes=f4;mt.displayName="@mantine/core/Button";mt.Group=e7;const[a4e,o4e]=Kr("Card component was not found in tree");var t7={root:"m-e615b15f",section:"m-599a2148"};const s4e={},h4=_i((e,t)=>{const n=Fe("CardSection",s4e,e),{classNames:r,className:i,style:a,styles:o,vars:s,withBorder:l,inheritPadding:u,...c}=n,d=o4e();return O.createElement(Z,{ref:t,mod:{"with-border":l,"inherit-padding":u},...d.getStyles("section",{className:i,style:a,styles:o,classNames:r}),...c})});h4.classes=t7;h4.displayName="@mantine/core/CardSection";const l4e={},u4e=(e,{padding:t})=>({root:{"--card-padding":va(t)}}),w2=_i((e,t)=>{const n=Fe("Card",l4e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,children:u,padding:c,...d}=n,f=gt({name:"Card",props:n,classes:t7,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:u4e}),h=j.Children.toArray(u),m=h.map((g,S)=>typeof g=="object"&&g&&"type"in g&&g.type===h4?j.cloneElement(g,{"data-first-section":S===0||void 0,"data-last-section":S===h.length-1||void 0}):g);return O.createElement(a4e,{value:{getStyles:f}},O.createElement(Ha,{ref:t,unstyled:s,...f("root"),...d},m))});w2.classes=t7;w2.displayName="@mantine/core/Card";w2.Section=h4;var xee={root:"m-4451eb3a"};const c4e={},ta=_i((e,t)=>{const n=Fe("Center",c4e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,inline:u,...c}=n,d=gt({name:"Center",props:n,classes:xee,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l});return O.createElement(Z,{ref:t,mod:{inline:u},...d("root"),...c})});ta.classes=xee;ta.displayName="@mantine/core/Center";var See={root:"m-b183c0a2"};const d4e={},f4e=(e,{color:t})=>({root:{"--code-bg":t?mr(t,e):void 0}}),n7=Ge((e,t)=>{const n=Fe("Code",d4e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,color:u,block:c,variant:d,...f}=n,h=gt({name:"Code",props:n,classes:See,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:f4e});return O.createElement(Z,{component:c?"pre":"code",variant:d,ref:t,mod:{block:c},...h("root"),...f,dir:"ltr"})});n7.classes=See;n7.displayName="@mantine/core/Code";var r7={wrapper:"m-fee9c77",preview:"m-9dddfbac",body:"m-bffecc3e",sliders:"m-3283bb96",thumb:"m-40d572ba",swatch:"m-d8ee6fd8",swatches:"m-5711e686",saturation:"m-202a296e",saturationOverlay:"m-11b3db02",slider:"m-d856d47d",sliderOverlay:"m-8f327113"};const[h4e,i7]=JC(null),a7=j.forwardRef(({position:e,...t},n)=>O.createElement(Z,{ref:n,__vars:{"--_thumb-y-offset":`${e.y*100}%`,"--_thumb-x-offset":`${e.x*100}%`},...t}));a7.displayName="@mantine/core/ColorPickerThumb";const p4e={},m4e=()=>({root:{"--test":"test"}}),o7=Ge((e,t)=>{var V;const n=Fe("ColorSlider",p4e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,onChange:u,onChangeEnd:c,maxValue:d,round:f,size:h="md",focusable:m=!0,value:g,overlays:S,thumbColor:y="transparent",onScrubStart:E,onScrubEnd:x,__staticSelector:v="ColorPicker",...C}=n,b=gt({name:v,classes:r7,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:m4e}),_=((V=i7())==null?void 0:V.getStyles)||b,T=ht(),[M,N]=j.useState({y:0,x:g/d}),I=j.useRef(M),F=B=>f?Math.round(B*d):B*d,{ref:$}=YX(({x:B,y:H})=>{I.current={x:B,y:H},u==null||u(F(B))},{onScrubEnd:()=>{const{x:B}=I.current;c==null||c(F(B)),x==null||x()},onScrubStart:E});$n(()=>{N({y:0,x:g/d})},[g]);const z=(B,H)=>{B.preventDefault();const K=KX(H);u==null||u(F(K.x)),c==null||c(F(K.x))},D=B=>{switch(B.key){case"ArrowRight":{z(B,{x:M.x+.05,y:M.y});break}case"ArrowLeft":{z(B,{x:M.x-.05,y:M.y});break}}},P=S.map((B,H)=>O.createElement("div",{..._("sliderOverlay"),style:B,key:H}));return O.createElement(Z,{...C,ref:Ai($,t),..._("slider"),role:"slider","aria-valuenow":g,"aria-valuemax":d,"aria-valuemin":0,tabIndex:m?0:-1,onKeyDown:D,"data-focus-ring":T.focusRing,__vars:{"--_cp-thumb-size":`var(--cp-thumb-size-${h})`}},P,O.createElement(a7,{position:M,..._("thumb",{style:{top:me(1),background:y}})}))});o7.displayName="@mantine/core/ColorSlider";function hl(e,t=0,n=10**t){return Math.round(n*e)/n}function g4e({h:e,s:t,l:n,a:r}){const i=t*((n<50?n:100-n)/100);return{h:e,s:i>0?2*i/(n+i)*100:0,v:n+i,a:r}}const v4e={grad:360/400,turn:360,rad:360/(Math.PI*2)};function y4e(e,t="deg"){return Number(e)*(v4e[t]||1)}const b4e=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function pB(e){const t=b4e.exec(e);return t?g4e({h:y4e(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function AM({r:e,g:t,b:n,a:r}){const i=Math.max(e,t,n),a=i-Math.min(e,t,n),o=a?i===e?(t-n)/a:i===t?2+(n-e)/a:4+(e-t)/a:0;return{h:hl(60*(o<0?o+6:o),3),s:hl(i?a/i*100:0,3),v:hl(i/255*100,3),a:r}}function _M(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?AM({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):AM({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function w4e(e){const t=e[0]==="#"?e.slice(1):e,n=o=>hl(parseInt(o,16)/255,3);if(t.length===4){const o=t.slice(0,3),s=n(t[3]+t[3]);return{..._M(o),a:s}}const r=t.slice(0,6),i=n(t.slice(6,8));return{..._M(r),a:i}}const x4e=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function mB(e){const t=x4e.exec(e);return t?AM({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const Cee={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},S4e={hex:_M,hexa:w4e,rgb:mB,rgba:mB,hsl:pB,hsla:pB};function dy(e){for(const[,t]of Object.entries(Cee))if(t.test(e))return!0;return!1}function bp(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[n,r]of Object.entries(Cee))if(r.test(t))return S4e[n](t);return{h:0,s:0,v:0,a:1}}const C4e={},Eee=j.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:i,color:a,...o}=Fe("AlphaSlider",C4e,e);return O.createElement(o7,{...o,ref:t,value:n,onChange:s=>r==null?void 0:r(hl(s,2)),onChangeEnd:s=>i==null?void 0:i(hl(s,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--_slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--_slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--_slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--_slider-checkers) 75%)",backgroundSize:`${me(8)} ${me(8)}`,backgroundPosition:`0 0, 0 ${me(4)}, ${me(4)} -${me(4)}, -${me(4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${a})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${me(1)} inset, rgb(0, 0, 0, .15) 0 0 ${me(4)} inset`}]})});Eee.displayName="@mantine/core/AlphaSlider";const kee=j.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:i,color:a,...o}=Fe("HueSlider",{},e);return O.createElement(o7,{...o,ref:t,value:n,onChange:r,onChangeEnd:i,maxValue:360,thumbColor:`hsl(${n}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${me(1)} inset, rgb(0, 0, 0, .15) 0 0 ${me(4)} inset`}]})});kee.displayName="@mantine/core/HueSlider";function Aee({h:e,s:t,v:n,a:r}){const i=e/360*6,a=t/100,o=n/100,s=Math.floor(i),l=o*(1-a),u=o*(1-(i-s)*a),c=o*(1-(1-i+s)*a),d=s%6;return{r:hl([o,u,l,l,c,o][d]*255),g:hl([c,o,o,u,l,l][d]*255),b:hl([l,l,c,o,o,u][d]*255),a:hl(r,2)}}function gB(e,t){const{r:n,g:r,b:i,a}=Aee(e);return t?`rgba(${n}, ${r}, ${i}, ${hl(a,2)})`:`rgb(${n}, ${r}, ${i})`}function vB({h:e,s:t,v:n,a:r},i){const a=(200-t)*n/100,o={h:Math.round(e),s:Math.round(a>0&&a<200?t*n/100/(a<=100?a:200-a)*100:0),l:Math.round(a/2)};return i?`hsla(${o.h}, ${o.s}%, ${o.l}%, ${hl(r,2)})`:`hsl(${o.h}, ${o.s}%, ${o.l}%)`}function Y3(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function _ee(e){const{r:t,g:n,b:r}=Aee(e);return`#${Y3(t)}${Y3(n)}${Y3(r)}`}function E4e(e){const t=Math.round(e.a*255);return`${_ee(e)}${Y3(t)}`}const D8={hex:_ee,hexa:e=>E4e(e),rgb:e=>gB(e,!1),rgba:e=>gB(e,!0),hsl:e=>vB(e,!1),hsla:e=>vB(e,!0)};function Vl(e,t){return t?e in D8?D8[e](t):D8.hex(t):"#000000"}function Mee({className:e,onChange:t,onChangeEnd:n,value:r,saturationLabel:i,focusable:a=!0,size:o,color:s,onScrubStart:l,onScrubEnd:u,...c}){const{getStyles:d}=i7(),[f,h]=j.useState({x:r.s/100,y:1-r.v/100}),m=j.useRef(f),{ref:g}=YX(({x:E,y:x})=>{m.current={x:E,y:x},t({s:Math.round(E*100),v:Math.round((1-x)*100)})},{onScrubEnd:()=>{const{x:E,y:x}=m.current;n({s:Math.round(E*100),v:Math.round((1-x)*100)}),u==null||u()},onScrubStart:l});j.useEffect(()=>{h({x:r.s/100,y:1-r.v/100})},[r.s,r.v]);const S=(E,x)=>{E.preventDefault();const v=KX(x);t({s:Math.round(v.x*100),v:Math.round((1-v.y)*100)}),n({s:Math.round(v.x*100),v:Math.round((1-v.y)*100)})},y=E=>{switch(E.key){case"ArrowUp":{S(E,{y:f.y-.05,x:f.x});break}case"ArrowDown":{S(E,{y:f.y+.05,x:f.x});break}case"ArrowRight":{S(E,{x:f.x+.05,y:f.y});break}case"ArrowLeft":{S(E,{x:f.x-.05,y:f.y});break}}};return O.createElement(Z,{...d("saturation"),ref:g,...c,role:"slider","aria-label":i,"aria-valuenow":f.x,"aria-valuetext":Vl("rgba",r),tabIndex:a?0:-1,onKeyDown:y},O.createElement("div",{...d("saturationOverlay",{style:{backgroundColor:`hsl(${r.h}, 100%, 50%)`}})}),O.createElement("div",{...d("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),O.createElement("div",{...d("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),O.createElement(a7,{position:f,...d("thumb",{style:{backgroundColor:s}})}))}Mee.displayName="@mantine/core/Saturation";var Tee={root:"m-de3d2490",colorOverlay:"m-862f3d1b",shadowOverlay:"m-98ae7f22",alphaOverlay:"m-95709ac0",childrenOverlay:"m-93e74e3"};const yB={withShadow:!0},k4e=(e,{radius:t,size:n})=>({root:{"--cs-radius":t===void 0?void 0:ar(t),"--cs-size":me(n)}}),qf=_i((e,t)=>{const n=Fe("ColorSwatch",yB,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,color:u,size:c,radius:d,withShadow:f,children:h,variant:m,...g}=Fe("ColorSwatch",yB,n),S=gt({name:"ColorSwatch",props:n,classes:Tee,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:k4e});return O.createElement(Z,{ref:t,variant:m,size:c,...S("root",{focusable:!0}),...g},O.createElement("span",{...S("alphaOverlay")}),f&&O.createElement("span",{...S("shadowOverlay")}),O.createElement("span",{...S("colorOverlay",{style:{backgroundColor:u}})}),O.createElement("span",{...S("childrenOverlay")},h))});qf.classes=Tee;qf.displayName="@mantine/core/ColorSwatch";const Nee=j.forwardRef(({className:e,datatype:t,setValue:n,onChangeEnd:r,size:i,focusable:a,data:o,swatchesPerRow:s,...l},u)=>{const c=i7(),d=o.map((f,h)=>O.createElement(qf,{...c.getStyles("swatch"),unstyled:c.unstyled,component:"button",type:"button",color:f,key:h,radius:"sm",onClick:()=>{n(f),r==null||r(f)},"aria-label":f,tabIndex:a?0:-1,"data-swatch":!0}));return O.createElement(Z,{...c.getStyles("swatches"),ref:u,...l},d)});Nee.displayName="@mantine/core/Swatches";const A4e={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},_4e=(e,{size:t,swatchesPerRow:n})=>({wrapper:{"--cp-preview-size":Vt(t,"cp-preview-size"),"--cp-width":Vt(t,"cp-width"),"--cp-body-spacing":va(t),"--cp-swatch-size":`${100/n}%`,"--cp-thumb-size":Vt(t,"cp-thumb-size"),"--cp-saturation-height":Vt(t,"cp-saturation-height")}}),p4=Ge((e,t)=>{const n=Fe("ColorPicker",A4e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,format:u,value:c,defaultValue:d,onChange:f,onChangeEnd:h,withPicker:m,size:g,saturationLabel:S,hueLabel:y,alphaLabel:E,focusable:x,swatches:v,swatchesPerRow:C,fullWidth:b,onColorSwatchClick:A,__staticSelector:_,...T}=n,M=gt({name:_,props:n,classes:r7,className:i,style:a,classNames:r,styles:o,unstyled:s,rootSelector:"wrapper",vars:l,varsResolver:_4e}),N=j.useRef(u),I=j.useRef(),F=j.useRef(-1),$=j.useRef(!1),z=u==="hexa"||u==="rgba"||u==="hsla",[D,P,V]=Ei({value:c,defaultValue:d,finalValue:"#FFFFFF",onChange:f}),[B,H]=j.useState(bp(D)),K=()=>{window.clearTimeout(F.current),$.current=!0},W=()=>{window.clearTimeout(F.current),F.current=window.setTimeout(()=>{$.current=!1},200)},L=G=>{H(de=>{const Q={...de,...G};return I.current=Vl(N.current,Q),Q}),P(I.current)};return $n(()=>{dy(c)&&!$.current&&H(bp(c))},[c]),$n(()=>{N.current=u,P(Vl(u,B))},[u]),O.createElement(h4e,{value:{getStyles:M,unstyled:s}},O.createElement(Z,{ref:t,...M("wrapper"),size:g,mod:{"full-width":b},...T},m&&O.createElement(O.Fragment,null,O.createElement(Mee,{value:B,onChange:L,onChangeEnd:({s:G,v:de})=>h==null?void 0:h(Vl(N.current,{...B,s:G,v:de})),color:D,size:g,focusable:x,saturationLabel:S,onScrubStart:K,onScrubEnd:W}),O.createElement("div",{...M("body")},O.createElement("div",{...M("sliders")},O.createElement(kee,{value:B.h,onChange:G=>L({h:G}),onChangeEnd:G=>h==null?void 0:h(Vl(N.current,{...B,h:G})),size:g,focusable:x,"aria-label":y,onScrubStart:K,onScrubEnd:W}),z&&O.createElement(Eee,{value:B.a,onChange:G=>L({a:G}),onChangeEnd:G=>{h==null||h(Vl(N.current,{...B,a:G}))},size:g,color:Vl("hex",B),focusable:x,"aria-label":E,onScrubStart:K,onScrubEnd:W})),z&&O.createElement(qf,{color:D,radius:"sm",size:"var(--cp-preview-size)",...M("preview")}))),Array.isArray(v)&&O.createElement(Nee,{data:v,swatchesPerRow:C,focusable:x,setValue:P,onChangeEnd:G=>{const de=Vl(u,bp(G));A==null||A(de),h==null||h(de),V||H(bp(G))}})))});p4.classes=r7;p4.displayName="@mantine/core/ColorPicker";function M4e({style:e,...t}){return O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...e},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t},O.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.createElement("path",{d:"M11 7l6 6"}),O.createElement("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"}))}var bB={eyeDropperIcon:"m-b077c2bc",colorPreview:"m-c5ccdcab",dropdown:"m-5ece2cd7"};const wB={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},T4e=(e,{size:t})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":Vt(t,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":Vt(t,"ci-preview-size")}}),m4=Ge((e,t)=>{const n=Fe("ColorInput",wB,e),{classNames:r,styles:i,unstyled:a,disallowInput:o,fixOnBlur:s,popoverProps:l,withPreview:u,withEyeDropper:c,eyeDropperIcon:d,closeOnColorSwatchClick:f,eyeDropperButtonProps:h,value:m,defaultValue:g,onChange:S,onChangeEnd:y,onClick:E,onFocus:x,onBlur:v,inputProps:C,format:b,wrapperProps:A,readOnly:_,withPicker:T,swatches:M,disabled:N,leftSection:I,rightSection:F,swatchesPerRow:$,...z}=tee("ColorInput",wB,e),D=gt({name:"ColorInput",props:n,classes:bB,classNames:r,styles:i,unstyled:a,rootSelector:"wrapper",vars:n.vars,varsResolver:T4e}),{resolvedClassNames:P,resolvedStyles:V}=rc({classNames:r,styles:i,props:n}),[B,H]=j.useState(!1),[K,W]=j.useState(""),[L,G]=Ei({value:m,defaultValue:g,finalValue:"",onChange:S}),{supported:de,open:Q}=Axe(),ee=O.createElement(bt,{...h,...D("eyeDropperButton",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),variant:"subtle",color:"gray",size:C.size,unstyled:a,onClick:()=>Q().then(xe=>{if(xe!=null&&xe.sRGBHex){const we=Vl(b,bp(xe.sRGBHex));G(we),y==null||y(we)}}).catch(()=>{})},d||O.createElement(M4e,{...D("eyeDropperIcon")})),ne=xe=>{x==null||x(xe),H(!0)},se=xe=>{s&&G(K),v==null||v(xe),H(!1)},ge=xe=>{E==null||E(xe),H(!0)};return j.useEffect(()=>{(dy(L)||L.trim()==="")&&W(L)},[L]),$n(()=>{dy(L)&&G(Vl(b,bp(L)))},[b]),O.createElement(ki.Wrapper,{...A,classNames:P,styles:V,__staticSelector:"ColorInput"},O.createElement(ri,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,...l,opened:B,classNames:P,styles:V,unstyled:a,withRoles:!1,disabled:_||T===!1&&(!Array.isArray(M)||M.length===0)},O.createElement(ri.Target,null,O.createElement(ki,{autoComplete:"off",...z,...C,classNames:P,styles:V,disabled:N,ref:t,__staticSelector:"ColorInput",onFocus:ne,onBlur:se,onClick:ge,spellCheck:!1,value:L,onChange:xe=>{const we=xe.currentTarget.value;G(we),dy(we)&&(y==null||y(Vl(b,bp(we))))},leftSection:I||(u?O.createElement(qf,{color:dy(L)?L:"#fff",size:"var(--ci-preview-size)",...D("colorPreview")}):null),readOnly:o||_,pointer:o,unstyled:a,rightSection:F||(c&&!N&&!_&&de?ee:null)})),O.createElement(ri.Dropdown,{onMouseDown:xe=>xe.preventDefault(),className:bB.dropdown},O.createElement(p4,{__staticSelector:"ColorInput",value:L,onChange:G,onChangeEnd:y,format:b,swatches:M,swatchesPerRow:$,withPicker:T,size:C.size,focusable:!1,unstyled:a,styles:V,classNames:P,onColorSwatchClick:()=>f&&H(!1)}))))});m4.classes=ka.classes;m4.displayName="@mantine/core/ColorInput";var Dee={root:"m-7485cace"};const N4e={},D4e=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:Vt(t,"container-size")}}),x2=Ge((e,t)=>{const n=Fe("Container",N4e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,fluid:u,...c}=n,d=gt({name:"Container",classes:Dee,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:D4e});return O.createElement(Z,{ref:t,mod:{fluid:u},...d("root"),...c})});x2.classes=Dee;x2.displayName="@mantine/core/Container";var Ree={root:"m-3eebeb36",label:"m-9e365f20"};const R4e={orientation:"horizontal"},I4e=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?mr(t,e):void 0,"--divider-border-style":n,"--divider-size":Vt(r,"divider-size")}}),Lt=Ge((e,t)=>{const n=Fe("Divider",R4e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,color:u,orientation:c,label:d,labelPosition:f,...h}=n,m=gt({name:"Divider",classes:Ree,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:I4e});return O.createElement(Z,{ref:t,mod:{orientation:c,"with-label":!!d},...m("root"),...h,role:"separator"},d&&O.createElement(Z,{component:"span",mod:{position:f},...m("label")},d))});Lt.classes=Ree;Lt.displayName="@mantine/core/Divider";const[O4e,k1]=Kr("Drawer component was not found in tree");var pd={root:"m-f11b401e",header:"m-5a7c2c9",content:"m-b8a05bbd",inner:"m-31cd769a"};function P4e(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function j4e(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const L4e={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},F4e={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},B4e={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ya("modal"),position:"left"},z4e=(e,{position:t,size:n,offset:r})=>({root:{"--drawer-size":Vt(n,"drawer-size"),"--drawer-flex":j4e(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":P4e(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":me(r)}}),g4=Ge((e,t)=>{const n=Fe("DrawerRoot",B4e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,scrollAreaComponent:u,position:c,transitionProps:d,radius:f,...h}=n,{dir:m}=ic(),g=gt({name:"Drawer",classes:pd,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:z4e}),S=(m==="rtl"?F4e:L4e)[c];return O.createElement(O4e,{value:{scrollAreaComponent:u,getStyles:g,radius:f}},O.createElement(XZ,{ref:t,...g("root"),transitionProps:{transition:S,...d},unstyled:s,...h}))});g4.classes=pd;g4.displayName="@mantine/core/DrawerRoot";const $4e={},v4=Ge((e,t)=>{const n=Fe("DrawerBody",$4e,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=k1();return O.createElement(w9,{ref:t,...u.getStyles("body",{classNames:r,style:a,styles:o,className:i}),...l})});v4.classes=pd;v4.displayName="@mantine/core/DrawerBody";const U4e={},y4=Ge((e,t)=>{const n=Fe("DrawerCloseButton",U4e,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=k1();return O.createElement(x9,{ref:t,...u.getStyles("close",{classNames:r,style:a,styles:o,className:i}),...l})});y4.classes=pd;y4.displayName="@mantine/core/DrawerCloseButton";const V4e={},b4=Ge((e,t)=>{const n=Fe("DrawerOverlay",V4e,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=k1();return O.createElement(C9,{ref:t,...u.getStyles("overlay",{classNames:r,style:a,styles:o,className:i}),...l})});b4.classes=pd;b4.displayName="@mantine/core/DrawerOverlay";const H4e={},w4=Ge((e,t)=>{const n=Fe("DrawerContent",H4e,e),{classNames:r,className:i,style:a,styles:o,vars:s,children:l,radius:u,...c}=n,d=k1(),f=d.scrollAreaComponent||eee;return O.createElement(ZZ,{...d.getStyles("content",{className:i,style:a,styles:o,classNames:r}),innerProps:d.getStyles("inner",{className:i,style:a,styles:o,classNames:r}),ref:t,...c,radius:u||d.radius||0},O.createElement(f,{style:{height:"100vh"}},l))});w4.classes=pd;w4.displayName="@mantine/core/DrawerContent";const q4e={},x4=Ge((e,t)=>{const n=Fe("DrawerTitle",q4e,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=k1();return O.createElement(E9,{ref:t,...u.getStyles("title",{classNames:r,style:a,styles:o,className:i}),...l})});x4.classes=pd;x4.displayName="@mantine/core/DrawerTitle";const W4e={},S4=Ge((e,t)=>{const n=Fe("DrawerHeader",W4e,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=k1();return O.createElement(S9,{ref:t,...u.getStyles("header",{classNames:r,style:a,styles:o,className:i}),...l})});S4.classes=pd;S4.displayName="@mantine/core/DrawerHeader";const G4e={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ya("modal"),withOverlay:!0,withCloseButton:!0},du=Ge((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:a,closeButtonProps:o,children:s,...l}=Fe("Drawer",G4e,e),u=!!n||a;return O.createElement(g4,{ref:t,...l},r&&O.createElement(b4,{...i}),O.createElement(w4,null,u&&O.createElement(S4,null,n&&O.createElement(x4,null,n),a&&O.createElement(y4,{...o})),O.createElement(v4,null,s)))});du.classes=pd;du.displayName="@mantine/core/Drawer";du.Root=g4;du.Overlay=b4;du.Content=w4;du.Body=v4;du.Header=S4;du.Title=x4;du.CloseButton=y4;const K4e={multiple:!1},US=j.forwardRef((e,t)=>{const{onChange:n,children:r,multiple:i,accept:a,name:o,form:s,resetRef:l,disabled:u,capture:c,inputProps:d,...f}=Fe("FileButton",K4e,e),h=j.useRef(),m=()=>{var y;!u&&((y=h.current)==null||y.click())},g=y=>{n(i?Array.from(y.currentTarget.files):y.currentTarget.files[0]||null)};return h2(l,()=>{h.current.value=""}),O.createElement(O.Fragment,null,r({onClick:m,...f}),O.createElement("input",{style:{display:"none"},type:"file",accept:a,multiple:i,onChange:g,ref:Ai(t,h),name:o,form:s,capture:c,...d}))});US.displayName="@mantine/core/FileButton";function Iee({open:e,close:t,openDelay:n,closeDelay:r}){const i=j.useRef(-1),a=j.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(a.current)},s=()=>{o(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},l=()=>{o(),r===0||r===void 0?t():a.current=window.setTimeout(t,r)};return j.useEffect(()=>o,[]),{openDropdown:s,closeDropdown:l}}function xB({color:e,theme:t,defaultShade:n}){const r=Wp({color:e,theme:t});return r.isThemeColor?r.shade===void 0?`var(--mantine-color-${r.color}-${n})`:`var(${r.variable})`:e}var Oee={root:"m-bcb3f3c2"};const Y4e={color:"yellow"},J4e=(e,{color:t})=>({root:{"--mark-bg-dark":xB({color:t,theme:e,defaultShade:5}),"--mark-bg-light":xB({color:t,theme:e,defaultShade:2})}}),s7=Ge((e,t)=>{const n=Fe("Mark",Y4e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,color:u,variant:c,...d}=n,f=gt({name:"Mark",props:n,className:i,style:a,classes:Oee,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:J4e});return O.createElement(Z,{component:"mark",ref:t,variant:c,...f("root"),...d})});s7.classes=Oee;s7.displayName="@mantine/core/Mark";function SB(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function Q4e(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(SB):SB(t);if(!(Array.isArray(n)?n.filter(s=>s.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(s=>s.trim().length!==0).map(s=>s.trim()).sort((s,l)=>l.length-s.length).join("|"),a=new RegExp(`(${i})`,"gi");return e.split(a).map(s=>({chunk:s,highlighted:a.test(s)})).filter(({chunk:s})=>s)}const X4e={},l7=_i((e,t)=>{const{unstyled:n,children:r,highlight:i,highlightStyles:a,color:o,...s}=Fe("Highlight",X4e,e),l=Q4e(r,i);return O.createElement(pe,{unstyled:n,ref:t,...s,__staticSelector:"Highlight"},l.map(({chunk:u,highlighted:c},d)=>c?O.createElement(s7,{unstyled:n,key:d,color:o,style:a,"data-highlight":u},u):O.createElement("span",{key:d},u)))});l7.classes=pe.classes;l7.displayName="@mantine/core/Highlight";const[Z4e,Pee]=Kr("HoverCard component was not found in the tree"),eEe={};function jee(e){const{children:t,onMouseEnter:n,onMouseLeave:r,...i}=Fe("HoverCardDropdown",eEe,e),a=Pee(),o=ya(n,a.openDropdown),s=ya(r,a.closeDropdown);return O.createElement(ri.Dropdown,{onMouseEnter:o,onMouseLeave:s,...i},t)}jee.displayName="@mantine/core/HoverCardDropdown";const tEe={refProp:"ref"},Lee=j.forwardRef((e,t)=>{const{children:n,refProp:r,eventPropsWrapperName:i,...a}=Fe("HoverCardTarget",tEe,e);if(!nc(n))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=Pee(),s=ya(n.props.onMouseEnter,o.openDropdown),l=ya(n.props.onMouseLeave,o.closeDropdown),u={onMouseEnter:s,onMouseLeave:l};return O.createElement(ri.Target,{refProp:r,ref:t,...a},j.cloneElement(n,i?{[i]:u}:u))});Lee.displayName="@mantine/core/HoverCardTarget";const nEe={openDelay:0,closeDelay:150,initiallyOpened:!1};function at(e){const{children:t,onOpen:n,onClose:r,openDelay:i,closeDelay:a,initiallyOpened:o,...s}=Fe("HoverCard",nEe,e),[l,{open:u,close:c}]=Ga(o,{onClose:r,onOpen:n}),{openDropdown:d,closeDropdown:f}=Iee({open:u,close:c,openDelay:i,closeDelay:a});return O.createElement(Z4e,{value:{openDropdown:d,closeDropdown:f}},O.createElement(ri,{...s,opened:l,__staticSelector:"HoverCard"},t))}at.displayName="@mantine/core/HoverCard";at.Target=Lee;at.Dropdown=jee;at.extend=e=>e;var Fee={root:"m-9e117634"};const rEe={},iEe=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:ar(t),"--image-object-fit":n}}),_s=_i((e,t)=>{const n=Fe("Image",rEe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,onError:u,src:c,radius:d,fit:f,fallbackSrc:h,...m}=n,[g,S]=j.useState(!c);j.useEffect(()=>S(!c),[c]);const y=gt({name:"Image",classes:Fee,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:iEe});return g&&h?O.createElement(Z,{component:"img",src:h,...y("root"),onError:u,mod:"fallback",...m}):O.createElement(Z,{component:"img",ref:t,...y("root"),src:c,onError:E=>{u==null||u(E),S(!0)},...m})});_s.classes=Fee;_s.displayName="@mantine/core/Image";function aEe(e="top-end",t=0){const n={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},r=me(t),[i,a]=e.split("-");return i==="top"&&(n["--indicator-top"]=r,n["--indicator-translate-y"]="-50%"),i==="middle"&&(n["--indicator-top"]="50%",n["--indicator-translate-y"]="-50%"),i==="bottom"&&(n["--indicator-bottom"]=r,n["--indicator-translate-y"]="50%"),a==="start"&&(n["--indicator-left"]=r,n["--indicator-translate-x"]="-50%"),a==="center"&&(n["--indicator-left"]="50%",n["--indicator-translate-x"]="-50%"),a==="end"&&(n["--indicator-right"]=r,n["--indicator-translate-x"]="50%"),n}var Bee={root:"m-e5262200",indicator:"m-760d1fb1",processing:"m-885901b1"};const oEe={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},sEe=(e,{color:t,position:n,offset:r,size:i,radius:a,zIndex:o})=>({root:{"--indicator-color":t?mr(t,e):void 0,"--indicator-size":me(i),"--indicator-radius":a===void 0?void 0:ar(a),"--indicator-z-index":o==null?void 0:o.toString(),...aEe(n,r)}}),u7=Ge((e,t)=>{const n=Fe("Indicator",oEe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,children:u,position:c,offset:d,inline:f,label:h,radius:m,color:g,withBorder:S,disabled:y,processing:E,zIndex:x,...v}=n,C=gt({name:"Indicator",classes:Bee,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:sEe});return O.createElement(Z,{ref:t,...C("root"),mod:{inline:f},...v},!y&&O.createElement(O.Fragment,null,O.createElement(Z,{mod:{"with-label":!!h,"with-border":S,processing:E},...C("indicator")},h)),u)});u7.classes=Bee;u7.displayName="@mantine/core/Indicator";function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xi.apply(this,arguments)}function c7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var lEe=j.useLayoutEffect,uEe=function(t){var n=j.useRef(t);return lEe(function(){n.current=t}),n},CB=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},cEe=function(t,n){var r=j.useRef();return j.useCallback(function(i){t.current=i,r.current&&CB(r.current,null),r.current=n,n&&CB(n,i)},[n])},EB={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},dEe=function(t){Object.keys(EB).forEach(function(n){t.style.setProperty(n,EB[n],"important")})},kB=dEe,lo=null,AB=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function fEe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),lo||(lo=document.createElement("textarea"),lo.setAttribute("tabindex","-1"),lo.setAttribute("aria-hidden","true"),kB(lo)),lo.parentNode===null&&document.body.appendChild(lo);var i=e.paddingSize,a=e.borderSize,o=e.sizingStyle,s=o.boxSizing;Object.keys(o).forEach(function(f){var h=f;lo.style[h]=o[h]}),kB(lo),lo.value=t;var l=AB(lo,e);lo.value=t,l=AB(lo,e),lo.value="x";var u=lo.scrollHeight-i,c=u*n;s==="border-box"&&(c=c+i+a),l=Math.max(c,l);var d=u*r;return s==="border-box"&&(d=d+i+a),l=Math.min(d,l),[l,u]}var _B=function(){},hEe=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},pEe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],mEe=!!document.documentElement.currentStyle,gEe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=hEe(pEe,n),i=r.boxSizing;if(i==="")return null;mEe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:o}},vEe=gEe;function zee(e,t,n){var r=uEe(n);j.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var yEe=function(t){zee(window,"resize",t)},bEe=function(t){zee(document.fonts,"loadingdone",t)},wEe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],xEe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,a=t.minRows,o=t.onChange,s=o===void 0?_B:o,l=t.onHeightChange,u=l===void 0?_B:l,c=c7(t,wEe),d=c.value!==void 0,f=j.useRef(null),h=cEe(f,n),m=j.useRef(0),g=j.useRef(),S=function(){var x=f.current,v=r&&g.current?g.current:vEe(x);if(v){g.current=v;var C=fEe(v,x.value||x.placeholder||"x",a,i),b=C[0],A=C[1];m.current!==b&&(m.current=b,x.style.setProperty("height",b+"px","important"),u(b,{rowHeight:A}))}},y=function(x){d||S(),s(x)};return j.useLayoutEffect(S),yEe(S),bEe(S),j.createElement("textarea",xi({},c,{onChange:y,ref:h}))},SEe=j.forwardRef(xEe);const CEe={},yi=Ge((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:a,...o}=Fe("Textarea",CEe,e),s=n?{maxRows:r,minRows:i}:{};return O.createElement(ka,{component:n?SEe:"textarea",ref:t,...o,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,...s})});yi.classes=ka.classes;yi.displayName="@mantine/core/Textarea";function MB(e,t){if(typeof e=="string"&&e.trim().length===0)return!0;try{return t(e),!0}catch{return!1}}const EEe={serialize:JSON.stringify,deserialize:JSON.parse},C4=Ge((e,t)=>{const{value:n,defaultValue:r,onChange:i,formatOnBlur:a,validationError:o,serialize:s,deserialize:l,onFocus:u,onBlur:c,readOnly:d,error:f,...h}=Fe("JsonInput",EEe,e),[m,g]=Ei({value:n,defaultValue:r,finalValue:"",onChange:i}),[S,y]=j.useState(MB(m,l)),E=v=>{u==null||u(v),y(!0)},x=v=>{typeof c=="function"&&c(v);const C=MB(v.currentTarget.value,l);a&&!d&&C&&v.currentTarget.value.trim()!==""&&g(s(l(v.currentTarget.value),null,2)),y(C)};return O.createElement(yi,{value:m,onChange:v=>g(v.currentTarget.value),onFocus:E,onBlur:x,ref:t,readOnly:d,...h,autoComplete:"off",__staticSelector:"JsonInput",error:S?f:o||!0,"data-monospace":!0})});C4.classes=ka.classes;C4.displayName="@mantine/core/JsonInput";var $ee={root:"m-dc6f14e2"};const kEe={},AEe=(e,{size:t})=>({root:{"--kbd-fz":Vt(t,"kbd-fz"),"--kbd-padding":Vt(t,"kbd-padding")}}),sl=Ge((e,t)=>{const n=Fe("Kbd",kEe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,...u}=n,c=gt({name:"Kbd",classes:$ee,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:AEe});return O.createElement(Z,{component:"kbd",ref:t,...c("root"),...u})});sl.classes=$ee;sl.displayName="@mantine/core/Kbd";const[_Ee,MEe]=Kr("List component was not found in tree");var d7={root:"m-abbac491",item:"m-abb6bec2",itemWrapper:"m-75cd9f71",itemIcon:"m-60f83e5b"};const TEe={},f7=Ge((e,t)=>{const n=Fe("ListItem",TEe,e),{classNames:r,className:i,style:a,styles:o,vars:s,icon:l,children:u,...c}=n,d=MEe(),f=l||d.icon,h={classNames:r,styles:o};return O.createElement(Z,{...d.getStyles("item",{...h,className:i,style:a}),component:"li",mod:{"with-icon":!!f,centered:d.center},ref:t,...c},O.createElement("div",{...d.getStyles("itemWrapper",h)},f&&O.createElement("span",{...d.getStyles("itemIcon",h)},f),O.createElement("span",{...d.getStyles("itemLabel",h)},u)))});f7.classes=d7;f7.displayName="@mantine/core/ListItem";const NEe={type:"unordered"},DEe=(e,{size:t,spacing:n})=>({root:{"--list-fz":Sa(t),"--list-lh":BX(t),"--list-spacing":va(n)}}),Lc=Ge((e,t)=>{const n=Fe("List",NEe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,children:u,type:c,withPadding:d,icon:f,spacing:h,center:m,listStyleType:g,...S}=n,y=gt({name:"List",classes:d7,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:DEe});return O.createElement(_Ee,{value:{center:m,icon:f,getStyles:y}},O.createElement(Z,{...y("root",{style:{listStyleType:g}}),component:c==="unordered"?"ul":"ol",mod:{"with-padding":d},ref:t,...S},u))});Lc.classes=d7;Lc.displayName="@mantine/core/List";Lc.Item=f7;var Uee={root:"m-6e45937b",loader:"m-e8eb006c",overlay:"m-df587f17"};const TB={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Ya("overlay")},REe=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),El=Ge((e,t)=>{const n=Fe("LoadingOverlay",TB,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,transitionProps:u,loaderProps:c,overlayProps:d,visible:f,zIndex:h,...m}=n,g=ht(),S=gt({name:"LoadingOverlay",classes:Uee,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:REe}),y={...TB.overlayProps,...d};return O.createElement(fh,{transition:"fade",...u,mounted:!!f},E=>O.createElement(Z,{...S("root",{style:E}),ref:t,...m},O.createElement(ai,{...S("loader"),unstyled:s,...c}),O.createElement(P0,{...y,...S("overlay"),"data-light":!0,unstyled:s,color:(d==null?void 0:d.color)||g.white}),O.createElement(P0,{...y,...S("overlay"),"data-dark":!0,unstyled:s,color:(d==null?void 0:d.color)||g.colors.dark[5]})))});El.classes=Uee;El.displayName="@mantine/core/LoadingOverlay";var A1={dropdown:"m-dc9b7c9f",label:"m-9bfac126",divider:"m-efdf90cb",item:"m-99ac2aa1",itemLabel:"m-5476e0d3",itemSection:"m-8b75e504"};const[IEe,S2]=Kr("Menu component was not found in the tree"),OEe={},h7=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Fe("MenuDivider",OEe,e),l=S2();return O.createElement(Z,{ref:t,...l.getStyles("divider",{className:r,style:i,styles:a,classNames:n}),...s})});h7.classes=A1;h7.displayName="@mantine/core/MenuDivider";const PEe={},p7=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,onMouseEnter:s,onMouseLeave:l,children:u,...c}=Fe("MenuDropdown",PEe,e),d=j.useRef(null),f=S2(),h=S=>{var y,E;(S.key==="ArrowUp"||S.key==="ArrowDown")&&(S.preventDefault(),(E=(y=d.current)==null?void 0:y.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||E.focus())},m=ya(s,()=>(f.trigger==="hover"||f.trigger==="click-hover")&&f.openDropdown()),g=ya(l,()=>(f.trigger==="hover"||f.trigger==="click-hover")&&f.closeDropdown());return O.createElement(ri.Dropdown,{...c,onMouseEnter:m,onMouseLeave:g,role:"menu","aria-orientation":"vertical",ref:t,...f.getStyles("dropdown",{className:r,style:i,styles:a,classNames:n})},O.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:h,ref:d,style:{outline:0}},u))});p7.classes=A1;p7.displayName="@mantine/core/MenuDropdown";const jEe={},m7=_i((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,color:s,closeMenuOnClick:l,leftSection:u,rightSection:c,children:d,disabled:f,...h}=Fe("MenuItem",jEe,e),m=S2(),g=ht(),{dir:S}=ic(),y=j.useRef(),E=m.getItemIndex(y.current),x=h,v=ya(x.onMouseLeave,()=>m.setHovered(-1)),C=ya(x.onMouseEnter,()=>m.setHovered(m.getItemIndex(y.current))),b=ya(x.onClick,()=>{typeof l=="boolean"?l&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately()}),A=ya(x.onFocus,()=>m.setHovered(m.getItemIndex(y.current))),_=s?g.variantColorResolver({color:s,theme:g,variant:"light"}):void 0,T=s?Wp({color:s,theme:g}):null;return O.createElement(Hn,{...h,unstyled:m.unstyled,tabIndex:-1,onFocus:A,...m.getStyles("item",{className:r,style:i,styles:a,classNames:n}),ref:Ai(y,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||void 0,"data-hovered":m.hovered===E?!0:void 0,onMouseEnter:C,onMouseLeave:v,onClick:b,onKeyDown:WD({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:S,orientation:"vertical",onKeyDown:x.onKeydown}),__vars:{"--menu-item-color":T!=null&&T.isThemeColor&&(T==null?void 0:T.shade)===void 0?`var(--mantine-color-${T.color}-6)`:_==null?void 0:_.color,"--menu-item-hover":_==null?void 0:_.hover}},u&&O.createElement("div",{...m.getStyles("itemSection",{styles:a,classNames:n}),"data-position":"left"},u),d&&O.createElement("div",{...m.getStyles("itemLabel",{styles:a,classNames:n})},d),c&&O.createElement("div",{...m.getStyles("itemSection",{styles:a,classNames:n}),"data-position":"right"},c))});m7.classes=A1;m7.displayName="@mantine/core/MenuItem";const LEe={},g7=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Fe("MenuLabel",LEe,e),l=S2();return O.createElement(Z,{ref:t,...l.getStyles("label",{className:r,style:i,styles:a,classNames:n}),...s})});g7.classes=A1;g7.displayName="@mantine/core/MenuLabel";const FEe={refProp:"ref"},Vee=j.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=Fe("MenuTarget",FEe,e);if(!nc(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const a=S2(),o=ya(n.props.onClick,()=>(a.trigger==="click"||a.trigger==="click-hover")&&a.toggleDropdown()),s=ya(n.props.onMouseEnter,()=>(a.trigger==="hover"||a.trigger==="click-hover")&&a.openDropdown()),l=ya(n.props.onMouseLeave,()=>(a.trigger==="hover"||a.trigger==="click-hover")&&a.closeDropdown());return O.createElement(ri.Target,{refProp:r,popupType:"menu",ref:t,...i},j.cloneElement(n,{onClick:o,onMouseEnter:s,onMouseLeave:l,"data-expanded":a.opened?!0:void 0}))});Vee.displayName="@mantine/core/MenuTarget";const BEe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function je(e){const t=Fe("Menu",BEe,e),{children:n,onOpen:r,onClose:i,opened:a,defaultOpened:o,onChange:s,closeOnItemClick:l,loop:u,closeOnEscape:c,trigger:d,openDelay:f,closeDelay:h,classNames:m,styles:g,unstyled:S,variant:y,vars:E,...x}=t,v=gt({name:"Menu",classes:A1,props:t,classNames:m,styles:g,unstyled:S}),[C,{setHovered:b,resetHovered:A}]=zwe(),[_,T]=Ei({value:a,defaultValue:o,finalValue:!1,onChange:s}),M=()=>{T(!1),_&&(i==null||i())},N=()=>{T(!0),!_&&(r==null||r())},I=()=>{_?M():N()},{openDropdown:F,closeDropdown:$}=Iee({open:N,close:M,closeDelay:h,openDelay:f}),z=V=>Bwe("[data-menu-item]","[data-menu-dropdown]",V),{resolvedClassNames:D,resolvedStyles:P}=rc({classNames:m,styles:g,props:t});return $n(()=>{A()},[_]),O.createElement(IEe,{value:{getStyles:v,opened:_,toggleDropdown:I,getItemIndex:z,hovered:C,setHovered:b,closeOnItemClick:l,closeDropdown:d==="click"?M:$,openDropdown:d==="click"?N:F,closeDropdownImmediately:M,loop:u,trigger:d,unstyled:S}},O.createElement(ri,{...x,opened:_,onChange:I,defaultOpened:o,trapFocus:!0,closeOnEscape:c,__staticSelector:"Menu",classNames:D,styles:P,unstyled:S,variant:y},n))}je.extend=e=>e;je.classes=A1;je.displayName="@mantine/core/Menu";je.Item=m7;je.Label=g7;je.Dropdown=p7;je.Target=Vee;je.Divider=h7;const[zEe,_1]=Kr("Modal component was not found in tree");var md={root:"m-9df02822",content:"m-54c44539",inner:"m-1f958f16",header:"m-d0e2b9cd"};const $Ee={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ya("modal"),transitionProps:{duration:200,transition:"pop"},yOffset:"5dvh"},UEe=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:ar(t),"--modal-size":Vt(n,"modal-size"),"--modal-y-offset":me(r),"--modal-x-offset":me(i)}}),E4=Ge((e,t)=>{const n=Fe("ModalRoot",$Ee,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,yOffset:u,scrollAreaComponent:c,radius:d,fullScreen:f,centered:h,xOffset:m,__staticSelector:g,...S}=n,y=gt({name:g,classes:md,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:UEe});return O.createElement(zEe,{value:{yOffset:u,scrollAreaComponent:c,getStyles:y}},O.createElement(XZ,{ref:t,...y("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,unstyled:s,...S}))});E4.classes=md;E4.displayName="@mantine/core/ModalRoot";const VEe={},k4=Ge((e,t)=>{const n=Fe("ModalBody",VEe,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=_1();return O.createElement(w9,{ref:t,...u.getStyles("body",{classNames:r,style:a,styles:o,className:i}),...l})});k4.classes=md;k4.displayName="@mantine/core/ModalBody";const HEe={},A4=Ge((e,t)=>{const n=Fe("ModalCloseButton",HEe,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=_1();return O.createElement(x9,{ref:t,...u.getStyles("close",{classNames:r,style:a,styles:o,className:i}),...l})});A4.classes=md;A4.displayName="@mantine/core/ModalCloseButton";const qEe={},_4=Ge((e,t)=>{const n=Fe("ModalOverlay",qEe,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=_1();return O.createElement(C9,{ref:t,...u.getStyles("overlay",{classNames:r,style:a,styles:o,className:i}),...l})});_4.classes=md;_4.displayName="@mantine/core/ModalOverlay";const WEe={},M4=Ge((e,t)=>{const n=Fe("ModalContent",WEe,e),{classNames:r,className:i,style:a,styles:o,vars:s,children:l,...u}=n,c=_1(),d=c.scrollAreaComponent||eee;return O.createElement(ZZ,{...c.getStyles("content",{className:i,style:a,styles:o,classNames:r}),innerProps:c.getStyles("inner",{className:i,style:a,styles:o,classNames:r}),ref:t,...u},O.createElement(d,{style:{maxHeight:`calc(100vh - (${me(c.yOffset)} * 2))`}},l))});M4.classes=md;M4.displayName="@mantine/core/ModalContent";const GEe={},T4=Ge((e,t)=>{const n=Fe("ModalTitle",GEe,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=_1();return O.createElement(E9,{ref:t,...u.getStyles("title",{classNames:r,style:a,styles:o,className:i}),...l})});T4.classes=md;T4.displayName="@mantine/core/ModalTitle";const KEe={},N4=Ge((e,t)=>{const n=Fe("ModalHeader",KEe,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=_1();return O.createElement(S9,{ref:t,...u.getStyles("header",{classNames:r,style:a,styles:o,className:i}),...l})});N4.classes=md;N4.displayName="@mantine/core/ModalHeader";const YEe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ya("modal"),transitionProps:{duration:200,transition:"pop"},withOverlay:!0,withCloseButton:!0},ra=Ge((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:a,closeButtonProps:o,children:s,radius:l,...u}=Fe("Modal",YEe,e),c=!!n||a;return O.createElement(E4,{ref:t,radius:l,...u},r&&O.createElement(_4,{...i}),O.createElement(M4,{radius:l},c&&O.createElement(N4,null,n&&O.createElement(T4,null,n),a&&O.createElement(A4,{...o})),O.createElement(k4,null,s)))});ra.classes=md;ra.displayName="@mantine/core/Modal";ra.Root=E4;ra.Overlay=_4;ra.Content=M4;ra.Body=k4;ra.Header=N4;ra.Title=T4;ra.CloseButton=A4;const[JEe,v7]=JC();var Hee={field:"m-45c4369d"};const QEe={type:"visible"},y7=Ge((e,t)=>{const n=Fe("PillsInputField",QEe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,type:u,disabled:c,id:d,pointer:f,...h}=n,m=v7(),g=C1(),S=gt({name:"PillsInputField",classes:Hee,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,rootSelector:"field"}),y=c||(m==null?void 0:m.disabled);return O.createElement(Z,{component:"input",ref:Ai(t,m==null?void 0:m.fieldRef),"data-type":u,disabled:y,mod:{disabled:y,pointer:f},...S("field"),...h,id:(g==null?void 0:g.inputId)||d,"aria-invalid":m==null?void 0:m.hasError,"aria-describedby":g==null?void 0:g.describedBy})});y7.classes=Hee;y7.displayName="@mantine/core/PillsInputField";const XEe={},VS=Ge((e,t)=>{const n=Fe("PillsInput",XEe,e),{children:r,onMouseDown:i,onClick:a,size:o,disabled:s,__staticSelector:l,error:u,variant:c,...d}=n,f=j.useRef();return O.createElement(JEe,{value:{fieldRef:f,size:o,disabled:s,hasError:!!u,variant:c}},O.createElement(ka,{size:o,error:u,variant:c,component:"div",ref:t,onMouseDown:h=>{var m;h.preventDefault(),i==null||i(h),(m=f.current)==null||m.focus()},onClick:h=>{var m;h.preventDefault(),a==null||a(h),(m=f.current)==null||m.focus()},...d,multiline:!0,disabled:s,__staticSelector:l||"PillsInput",withAria:!1},r))});VS.displayName="@mantine/core/PillsInput";VS.Field=y7;const[ZEe,eke]=JC();var D4={root:"m-7cda1cd6","root--default":"m-44da308b","root--contrast":"m-e3a01f8",label:"m-1e0e6180",remove:"m-ae386778",group:"m-1dcfd90b"};const tke={},nke=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?Vt(t):Vt(n,"pg-gap")}}),b7=Ge((e,t)=>{const n=Fe("PillGroup",tke,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,size:u,disabled:c,...d}=n,f=v7(),h=(f==null?void 0:f.size)||u||void 0,m=gt({name:"PillGroup",classes:D4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:nke,stylesCtx:{size:h},rootSelector:"group"});return O.createElement(ZEe,{value:{size:h,disabled:c}},O.createElement(Z,{ref:t,size:h,...m("group"),...d}))});b7.classes=D4;b7.displayName="@mantine/core/PillGroup";const rke={variant:"default"},ike=(e,{radius:t},{size:n})=>({root:{"--pill-fz":Vt(n,"pill-fz"),"--pill-height":Vt(n,"pill-height"),"--pill-radius":t===void 0?void 0:ar(t)}}),Kp=Ge((e,t)=>{const n=Fe("Pill",rke,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,variant:u,children:c,withRemoveButton:d,onRemove:f,removeButtonProps:h,radius:m,size:g,disabled:S,...y}=n,E=eke(),x=v7(),v=g||(E==null?void 0:E.size)||void 0,C=(x==null?void 0:x.variant)==="filled"?"contrast":u||"default",b=gt({name:"Pill",classes:D4,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:ike,stylesCtx:{size:v}});return O.createElement(Z,{component:"span",ref:t,variant:C,size:v,...b("root",{variant:C}),mod:{"with-remove":d,disabled:S||(E==null?void 0:E.disabled)},...y},O.createElement("span",{...b("label")},c),d&&O.createElement(hh,{variant:"transparent",radius:m,tabIndex:-1,"aria-hidden":!0,unstyled:s,...h,...b("remove",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),onMouseDown:A=>{var _;A.preventDefault(),A.stopPropagation(),(_=h==null?void 0:h.onMouseDown)==null||_.call(h,A)},onClick:A=>{var _;A.stopPropagation(),f==null||f(),(_=h==null?void 0:h.onClick)==null||_.call(h,A)}}))});Kp.classes=D4;Kp.displayName="@mantine/core/Pill";Kp.Group=b7;var qee={root:"m-a513464",icon:"m-a4ceffb",loader:"m-b0920b15",body:"m-a49ed24",title:"m-3feedf16",description:"m-3d733a3a",closeButton:"m-919a4d88"};const ake={withCloseButton:!0},oke=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:ar(t),"--notification-color":n?mr(n,e):void 0}}),w7=Ge((e,t)=>{const n=Fe("Notification",ake,e),{className:r,color:i,radius:a,loading:o,withCloseButton:s,withBorder:l,title:u,icon:c,children:d,onClose:f,closeButtonProps:h,classNames:m,style:g,styles:S,unstyled:y,variant:E,vars:x,...v}=n,C=gt({name:"Notification",classes:qee,props:n,className:r,style:g,classNames:m,styles:S,unstyled:y,vars:x,varsResolver:oke});return O.createElement(Z,{...C("root"),mod:{"data-with-icon":!!c||o,"data-with-border":l},ref:t,variant:E,...v,role:"alert"},c&&!o&&O.createElement("div",{...C("icon")},c),o&&O.createElement(ai,{size:28,color:i,...C("loader")}),O.createElement("div",{...C("body")},u&&O.createElement("div",{...C("title")},u),O.createElement(Z,{...C("description"),mod:{"data-with-title":!!u}},d)),s&&O.createElement(hh,{iconSize:16,color:"gray",...h,unstyled:y,onClick:f,...C("closeButton")}))});w7.classes=qee;w7.displayName="@mantine/core/Notification";function Wee(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Ab;(function(e){e.event="event",e.props="prop"})(Ab||(Ab={}));function uf(){}function ske(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(a,o){return a===t[o]})||(t=r,n=e.apply(void 0,r)),n}}function _b(e){return!!(e||"").match(/\d/)}function h0(e){return e==null}function lke(e){return typeof e=="number"&&isNaN(e)}function Gee(e){return h0(e)||lke(e)||typeof e=="number"&&!isFinite(e)}function Kee(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function uke(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function cke(e,t,n){var r=uke(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function dke(e){var t=j.useRef(e);t.current=e;var n=j.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function x7(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),a=i[0],o=i[1]||"";return{beforeDecimal:a,afterDecimal:o,hasNegation:n,addNegation:r}}function fke(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function Yee(e,t,n){for(var r="",i=n?"0":"",a=0;a<=t-1;a++)r+=e[a]||i;return r}function NB(e,t){return Array(t+1).join(e)}function Jee(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],a=r[1];if(a=Number(a),!a)return n+i;i=i.replace(".","");var o=1+a,s=i.length;return o<0?i="0."+NB("0",Math.abs(o))+i:o>=s?i=i+NB("0",o-s):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function DB(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=x7(e),a=i.beforeDecimal,o=i.afterDecimal,s=i.hasNegation,l=parseFloat("0."+(o||"0")),u=o.length<=t?"0."+o:l.toFixed(t),c=u.split("."),d=a.split("").reverse().reduce(function(g,S,y){return g.length>y?(Number(g[0])+Number(S)).toString()+g.substring(1,g.length):S+g},c[0]),f=Yee(c[1]||"",t,n),h=s?"-":"",m=r?".":"";return""+h+d+m+f}function op(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var Qee=ske(function(e,t){for(var n=0,r=0,i=e.length,a=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[a-1-r]&&a-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:a-r}}});function hke(e,t,n){return Math.min(Math.max(e,t),n)}function R8(e){return Math.max(e.selectionStart,e.selectionEnd)}function pke(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function mke(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function gke(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function vke(e,t,n,r,i,a,o){o===void 0&&(o=gke);var s=i.findIndex(function(v){return v}),l=e.slice(0,s);!t&&!n.startsWith(l)&&(t=l,n=l+n,r=r+l.length);for(var u=n.length,c=e.length,d={},f=new Array(u),h=0;h<u;h++){f[h]=-1;for(var m=0,g=c;m<g;m++){var S=o({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:m});if(S&&d[m]!==!0){f[h]=m,d[m]=!0;break}}}for(var y=r;y<u&&(f[y]===-1||!a(n[y]));)y++;var E=y===u||f[y]===-1?c:f[y];for(y=r-1;y>0&&f[y]===-1;)y--;var x=y===-1||f[y]===-1?0:f[y]+1;return x>E?E:r-x<E-r?x:E}function RB(e,t,n,r){var i=e.length;if(t=hke(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function yke(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(_b(e[n])||_b(e[n-1]));return t}function Xee(e,t,n,r,i,a){a===void 0&&(a=uf);var o=dke(function(m,g){var S,y;return Gee(m)?(y="",S=""):typeof m=="number"||g?(y=typeof m=="number"?Jee(m):m,S=r(y)):(y=i(m,void 0),S=r(y)),{formattedValue:S,numAsString:y}}),s=j.useState(function(){return o(h0(e)?t:e,n)}),l=s[0],u=s[1],c=function(m,g){m.formattedValue!==l.formattedValue&&u({formattedValue:m.formattedValue,numAsString:m.value}),a(m,g)},d=e,f=n;h0(e)&&(d=l.numAsString,f=!0);var h=o(d,f);return j.useMemo(function(){u(h)},[h.formattedValue]),[l,c]}function bke(e){return e.replace(/[^0-9]/g,"")}function wke(e){return e}function xke(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,a=e.getInputRef,o=e.format;o===void 0&&(o=wke);var s=e.removeFormatting;s===void 0&&(s=bke);var l=e.defaultValue,u=e.valueIsNumericString,c=e.onValueChange,d=e.isAllowed,f=e.onChange;f===void 0&&(f=uf);var h=e.onKeyDown;h===void 0&&(h=uf);var m=e.onMouseUp;m===void 0&&(m=uf);var g=e.onFocus;g===void 0&&(g=uf);var S=e.onBlur;S===void 0&&(S=uf);var y=e.value,E=e.getCaretBoundary;E===void 0&&(E=yke);var x=e.isValidInputCharacter;x===void 0&&(x=_b);var v=e.isCharacterSame,C=Wee(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),b=Xee(y,l,!!u,o,s,c),A=b[0],_=A.formattedValue,T=A.numAsString,M=b[1],N=j.useRef({formattedValue:_,numAsString:T}),I=function(Y,re){N.current={formattedValue:Y.formattedValue,numAsString:Y.value},M(Y,re)},F=j.useState(!1),$=F[0],z=F[1],D=j.useRef(null),P=j.useRef({setCaretTimeout:null,focusTimeout:null});j.useEffect(function(){return z(!0),function(){clearTimeout(P.current.setCaretTimeout),clearTimeout(P.current.focusTimeout)}},[]);var V=o,B=function(Y,re){var Se=parseFloat(re);return{formattedValue:Y,value:re,floatValue:isNaN(Se)?void 0:Se}},H=function(Y,re,Se){Y.selectionStart===0&&Y.selectionEnd===Y.value.length||(op(Y,re),P.current.setCaretTimeout=setTimeout(function(){Y.value===Se&&Y.selectionStart!==Y.selectionEnd&&op(Y,re)},0))},K=function(Y,re,Se){return RB(Y,re,E(Y),Se)},W=function(Y,re,Se){var le=E(re),ye=vke(re,_,Y,Se,le,x,v);return ye=RB(re,ye,le),ye},L=function(Y){var re=Y.formattedValue;re===void 0&&(re="");var Se=Y.input,le=Y.setCaretPosition;le===void 0&&(le=!0);var ye=Y.source,Ee=Y.event,be=Y.numAsString,Me=Y.caretPos;if(Se){if(Me===void 0&&le){var X=Y.inputValue||Se.value,ce=R8(Se);Se.value=re,Me=W(X,re,ce)}Se.value=re,le&&Me!==void 0&&H(Se,Me,re)}re!==_&&I(B(re,be),{event:Ee,source:ye})};j.useEffect(function(){var Y=N.current,re=Y.formattedValue,Se=Y.numAsString;_!==re&&(_!==T||re!==Se)&&I(B(_,T),{event:void 0,source:Ab.props})},[_,T]);var G=D.current?R8(D.current):void 0,de=typeof window<"u"?j.useLayoutEffect:j.useEffect;de(function(){var Y=D.current;if(_!==N.current.formattedValue&&Y){var re=W(N.current.formattedValue,_,G);Y.value=_,H(Y,re,_)}},[_]);var Q=function(Y,re,Se){var le=Qee(_,Y),ye=Object.assign(Object.assign({},le),{lastValue:_}),Ee=s(Y,ye),be=V(Ee);if(Ee=s(be,void 0),d&&!d(B(be,Ee))){var Me=re.target,X=R8(Me),ce=W(Y,_,X);return Me.value=_,H(Me,ce,_),!1}return L({formattedValue:be,numAsString:Ee,inputValue:Y,event:re,source:Se,setCaretPosition:!0,input:re.target}),!0},ee=function(Y){var re=Y.target,Se=re.value,le=Q(Se,Y,Ab.event);le&&f(Y)},ne=function(Y){var re=Y.target,Se=Y.key,le=re.selectionStart,ye=re.selectionEnd,Ee=re.value;Ee===void 0&&(Ee="");var be;if(Se==="ArrowLeft"||Se==="Backspace"?be=Math.max(le-1,0):Se==="ArrowRight"?be=Math.min(le+1,Ee.length):Se==="Delete"&&(be=le),be===void 0||le!==ye){h(Y);return}var Me=be;if(Se==="ArrowLeft"||Se==="ArrowRight"){var X=Se==="ArrowLeft"?"left":"right";Me=K(Ee,be,X),Me!==be&&Y.preventDefault()}else Se==="Delete"&&!x(Ee[be])?Me=K(Ee,be,"right"):Se==="Backspace"&&!x(Ee[be])&&(Me=K(Ee,be,"left"));Me!==be&&H(re,Me,Ee),Y.isUnitTestRun&&H(re,Me,Ee),h(Y)},se=function(Y){var re=Y.target,Se=re.selectionStart,le=re.selectionEnd,ye=re.value;if(ye===void 0&&(ye=""),Se===le){var Ee=K(ye,Se);Ee!==Se&&H(re,Ee,ye)}m(Y)},ge=function(Y){Y.persist&&Y.persist();var re=Y.target;D.current=re,P.current.focusTimeout=setTimeout(function(){var Se=re.selectionStart,le=re.selectionEnd,ye=re.value;ye===void 0&&(ye="");var Ee=K(ye,Se);Ee!==Se&&!(Se===0&&le===ye.length)&&H(re,Ee,ye),g(Y)},0)},xe=function(Y){D.current=null,clearTimeout(P.current.focusTimeout),clearTimeout(P.current.setCaretTimeout),S(Y)},we=$&&pke()?"numeric":void 0,_e=Object.assign({inputMode:we},C,{type:t,value:_,onChange:ee,onKeyDown:ne,onMouseUp:se,onFocus:ge,onBlur:xe});if(n==="text")return i?O.createElement(O.Fragment,null,i(_,C)||null):O.createElement("span",Object.assign({},C,{ref:a}),_);if(r){var ze=r;return O.createElement(ze,Object.assign({},_e,{ref:a}))}return O.createElement("input",Object.assign({},_e,{ref:a}))}function IB(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var a=t.suffix;a===void 0&&(a="");var o=t.allowNegative,s=t.thousandsGroupStyle;if(s===void 0&&(s="thousand"),e===""||e==="-")return e;var l=R4(t),u=l.thousandSeparator,c=l.decimalSeparator,d=n!==0&&e.indexOf(".")!==-1||n&&r,f=x7(e,o),h=f.beforeDecimal,m=f.afterDecimal,g=f.addNegation;return n!==void 0&&(m=Yee(m,n,!!r)),u&&(h=cke(h,u,s)),i&&(h=i+h),a&&(m=m+a),g&&(h="-"+h),e=h+(d&&c||"")+m,e}function R4(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function Ske(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),a=r.test(e);return e=e.replace(/-/g,""),i&&!a&&t&&(e="-"+e),e}function Cke(e,t){return new RegExp("(^-)|[0-9]|"+Kee(e),t?"g":void 0)}function Eke(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function kke(e,t,n){var r;t===void 0&&(t=mke(e));var i=n.allowNegative,a=n.prefix;a===void 0&&(a="");var o=n.suffix;o===void 0&&(o="");var s=n.decimalScale,l=t.from,u=t.to,c=u.start,d=u.end,f=R4(n),h=f.allowedDecimalSeparators,m=f.decimalSeparator,g=e[d]===m;if(_b(e)&&(e===a||e===o)&&t.lastValue==="")return e;if(d-c===1&&h.indexOf(e[c])!==-1){var S=s===0?"":m;e=e.substring(0,c)+S+e.substring(c+1,e.length)}var y=function(P,V,B){var H=!1,K=!1;a.startsWith("-")?H=!1:P.startsWith("--")?(H=!1,K=!0):o.startsWith("-")&&P.length===o.length?H=!1:P[0]==="-"&&(H=!0);var W=H?1:0;return K&&(W=2),W&&(P=P.substring(W),V-=W,B-=W),{value:P,start:V,end:B,hasNegation:H}},E=y(e,c,d),x=E.hasNegation;r=E,e=r.value,c=r.start,d=r.end;var v=y(t.lastValue,l.start,l.end),C=v.start,b=v.end,A=v.value,_=e.substring(c,d);e.length&&A.length&&(C>A.length-o.length||b<a.length)&&!(_&&o.startsWith(_))&&(e=A);var T=0;e.startsWith(a)?T+=a.length:c<a.length&&(T=c),e=e.substring(T),d-=T;var M=e.length,N=e.length-o.length;e.endsWith(o)?M=N:(d>N||d>e.length-o.length)&&(M=d),e=e.substring(0,M),e=Ske(x?"-"+e:e,i),e=(e.match(Cke(m,!0))||[]).join("");var I=e.indexOf(m);e=e.replace(new RegExp(Kee(m),"g"),function(P,V){return V===I?".":""});var F=x7(e,i),$=F.beforeDecimal,z=F.afterDecimal,D=F.addNegation;return u.end-u.start<l.end-l.start&&$===""&&g&&!parseFloat(z)&&(e=D?"-":""),e}function Ake(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),a=e[0]==="-";i.fill(!1,0,n.length+(a?1:0));var o=e.length;return i.fill(!1,o-r.length+1,o+1),i}function _ke(e){var t=R4(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var a=e.allowNegative;if(a===void 0&&(a=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&a&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+a+`
    `),a=!1),Object.assign(Object.assign({},e),{allowNegative:a})}function Mke(e){e=_ke(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=uf);var a=e.onBlur;a===void 0&&(a=uf);var o=e.thousandSeparator,s=e.decimalScale,l=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var c=e.defaultValue,d=e.value,f=e.valueIsNumericString,h=e.onValueChange,m=Wee(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),g=R4(e),S=g.decimalSeparator,y=g.allowedDecimalSeparators,E=function(D){return IB(D,e)},x=function(D,P){return kke(D,P,e)},v=h0(d)?c:d,C=f??Eke(v,u,t);h0(d)?h0(c)||(C=C||typeof c=="number"):C=C||typeof d=="number";var b=function(D){return Gee(D)?D:(typeof D=="number"&&(D=Jee(D)),C&&typeof s=="number"?DB(D,s,!!l):D)},A=Xee(b(d),b(c),!!C,E,x,h),_=A[0],T=_.numAsString,M=_.formattedValue,N=A[1],I=function(D){var P=D.target,V=D.key,B=P.selectionStart,H=P.selectionEnd,K=P.value;if(K===void 0&&(K=""),B!==H){i(D);return}V==="Backspace"&&K[0]==="-"&&B===u.length+1&&n&&op(P,1),s&&l&&(V==="Backspace"&&K[B-1]===S?(op(P,B-1),D.preventDefault()):V==="Delete"&&K[B]===S&&D.preventDefault()),y!=null&&y.includes(V)&&K[B]===S&&op(P,B+1);var W=o===!0?",":o;V==="Backspace"&&K[B-1]===W&&op(P,B-1),V==="Delete"&&K[B]===W&&op(P,B+1),i(D)},F=function(D){var P=T;if(P.match(/\d/g)||(P=""),r||(P=fke(P)),l&&s&&(P=DB(P,s,l)),P!==T){var V=IB(P,e);N({formattedValue:V,value:P,floatValue:parseFloat(P)},{event:D,source:Ab.event})}a(D)},$=function(D){return D===S?!0:_b(D)},z=function(D){var P=D.currentValue,V=D.lastValue,B=D.formattedValue,H=D.currentValueIndex,K=D.formattedValueIndex,W=P[H],L=B[K],G=Qee(V,P),de=G.to;return H>=de.start&&H<de.end&&y&&y.includes(W)&&L===S?!0:W===L};return Object.assign(Object.assign({},m),{value:M,valueIsNumericString:!1,isValidInputCharacter:$,isCharacterSame:z,onValueChange:N,format:E,removeFormatting:x,getCaretBoundary:function(D){return Ake(D,e)},onKeyDown:I,onBlur:F})}function Tke(e){var t=Mke(e);return O.createElement(xke,Object.assign({},t))}function OB({direction:e,style:t,...n}){return O.createElement("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},O.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var MM={root:"m-e2f5cd4e",controls:"m-95e17d22",control:"m-80b4b171"};function Nke(e){return(typeof e=="number"||!Number.isNaN(Number(e)))&&!Number.isNaN(e)}function Dke({value:e,min:t,step:n=1,allowNegative:r}){const i=e-n;return t!==void 0&&i<t?t:!r&&i<0&&t===void 0?e:(t!==void 0&&t>=0&&i<=t,i)}function PB(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const Rke={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,startValue:0},Ike=(e,{size:t})=>({controls:{"--ni-chevron-size":Vt(t,"ni-chevron-size")}}),Ms=Ge((e,t)=>{const n=Fe("NumberInput",Rke,e),{className:r,classNames:i,styles:a,unstyled:o,vars:s,onChange:l,onValueChange:u,value:c,defaultValue:d,max:f,min:h,step:m,hideControls:g,rightSection:S,isAllowed:y,clampBehavior:E,onBlur:x,allowDecimal:v,decimalScale:C,onKeyDown:b,handlersRef:A,startValue:_,disabled:T,rightSectionPointerEvents:M,allowNegative:N,readOnly:I,size:F,rightSectionWidth:$,...z}=n,D=gt({name:"NumberInput",classes:MM,props:n,classNames:i,styles:a,unstyled:o,vars:s,varsResolver:Ike}),{resolvedClassNames:P,resolvedStyles:V}=rc({classNames:i,styles:a,props:n}),[B,H]=Ei({value:c,defaultValue:d,onChange:l}),K=(Q,ee)=>{ee.source==="event"&&H(Nke(Q.floatValue)?Q.floatValue:Q.value),u==null||u(Q,ee)},W=()=>{typeof B!="number"||Number.isNaN(B)?H(h??Fu(_,h,f)):H(f!==void 0?B+m<=f?B+m:f:B+m)},L=()=>{typeof B!="number"||Number.isNaN(B)?H(f??Fu(_,h,f)):H(Dke({value:B,min:h,step:m,allowNegative:N}))},G=Q=>{b==null||b(Q),!I&&(Q.key==="ArrowUp"&&(Q.preventDefault(),W()),Q.key==="ArrowDown"&&(Q.preventDefault(),L()))};h2(A,{increment:W,decrement:L});const de=O.createElement("div",{...D("controls")},O.createElement(Hn,{...D("control"),tabIndex:-1,"aria-hidden":!0,disabled:T||typeof B=="number"&&f!==void 0&&B>=f,mod:{direction:"up"},onMouseDown:Q=>Q.preventDefault(),onPointerDown:W},O.createElement(OB,{direction:"up"})),O.createElement(Hn,{...D("control"),tabIndex:-1,"aria-hidden":!0,disabled:T||typeof B=="number"&&h!==void 0&&B<=h,mod:{direction:"down"},onMouseDown:Q=>Q.preventDefault(),onPointerDown:L},O.createElement(OB,{direction:"down"})));return O.createElement(ka,{component:Tke,allowNegative:N,className:Ci(MM.root,r),size:F,...z,readOnly:I,disabled:T,value:B,getInputRef:t,onValueChange:K,rightSection:g||I?S:S||de,classNames:P,styles:V,unstyled:o,__staticSelector:"NumberInput",decimalScale:v?C:0,onKeyDown:G,rightSectionPointerEvents:M??T?"none":void 0,rightSectionWidth:$??`var(--ni-right-section-width-${F||"sm"})`,onBlur:Q=>{x==null||x(Q),E==="blur"&&typeof B=="number"&&Fu(B,h,f)!==B&&H(Fu(B,h,f))},isAllowed:Q=>E==="strict"?y?y(Q)&&PB(Q.floatValue,h,f):PB(Q.floatValue,h,f):y?y(Q):!0})});Ms.classes={...ka.classes,...MM};Ms.displayName="@mantine/core/NumberInput";const[Oke,I4]=Kr("Pagination.Root component was not found in tree");var C2={root:"m-4addd315",control:"m-326d024a",dots:"m-4ad7767d"};const Pke={siblings:1,boundaries:1},jke=(e,{size:t,radius:n,color:r})=>({root:{"--pagination-control-radius":n===void 0?void 0:ar(n),"--pagination-control-size":Vt(t,"pagination-control-size"),"--pagination-control-fz":Sa(t),"--pagination-active-bg":r?mr(r,e):void 0}}),O4=Ge((e,t)=>{const n=Fe("PaginationRoot",Pke,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,total:u,value:c,defaultValue:d,onChange:f,disabled:h,siblings:m,boundaries:g,color:S,radius:y,onNextPage:E,onPreviousPage:x,onFirstPage:v,onLastPage:C,getItemProps:b,...A}=n,_=gt({name:"Pagination",classes:C2,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:jke}),{range:T,setPage:M,next:N,previous:I,active:F,first:$,last:z}=fxe({page:c,initialPage:d,onChange:f,total:u,siblings:m,boundaries:g}),D=ya(E,N),P=ya(x,I),V=ya(v,$),B=ya(C,z);return O.createElement(Oke,{value:{total:u,range:T,active:F,disabled:h,getItemProps:b,onChange:M,onNext:D,onPrevious:P,onFirst:V,onLast:B,getStyles:_}},O.createElement(Z,{ref:t,..._("root"),...A}))});O4.classes=C2;O4.displayName="@mantine/core/PaginationRoot";const Lke={withPadding:!0},E2=Ge((e,t)=>{const n=Fe("PaginationControl",Lke,e),{classNames:r,className:i,style:a,styles:o,vars:s,active:l,disabled:u,withPadding:c,...d}=n,f=I4(),h=u||f.disabled;return O.createElement(Hn,{ref:t,disabled:h,mod:{active:l,disabled:h,"with-padding":c},...f.getStyles("control",{className:i,style:a,classNames:r,styles:o,active:!h}),...d})});E2.classes=C2;E2.displayName="@mantine/core/PaginationControl";function k2({style:e,children:t,path:n,...r}){return O.createElement("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...r},O.createElement("path",{d:n,fill:"currentColor"}))}const Fke=e=>O.createElement(k2,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),Bke=e=>O.createElement(k2,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),zke=e=>O.createElement(k2,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),$ke=e=>O.createElement(k2,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),Uke=e=>O.createElement(k2,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),Vke={icon:Uke},P4=Ge((e,t)=>{const n=Fe("PaginationDots",Vke,e),{classNames:r,className:i,style:a,styles:o,vars:s,icon:l,...u}=n,c=I4(),d=l;return O.createElement(Z,{ref:t,...c.getStyles("dots",{className:i,style:a,styles:o,classNames:r}),...u},O.createElement(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}}))});P4.classes=C2;P4.displayName="@mantine/core/PaginationDots";function j4({icon:e,name:t,action:n,type:r}){const i={icon:e},a=j.forwardRef((o,s)=>{const{icon:l,...u}=Fe(t,i,o),c=l,d=I4(),f=r==="next"?d.active===d.total:d.active===1;return O.createElement(E2,{disabled:d.disabled||f,ref:s,onClick:d[n],withPadding:!1,...u},O.createElement(c,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}}))});return a.displayName=`@mantine/core/${t}`,a}const Zee=j4({icon:Fke,name:"PaginationNext",action:"onNext",type:"next"}),ete=j4({icon:Bke,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),tte=j4({icon:zke,name:"PaginationFirst",action:"onFirst",type:"previous"}),nte=j4({icon:$ke,name:"PaginationLast",action:"onLast",type:"next"});function S7({dotsIcon:e}){const t=I4(),n=t.range.map((r,i)=>{var a;return r==="dots"?O.createElement(P4,{icon:e,key:i}):O.createElement(E2,{key:i,active:r===t.active,"aria-current":r===t.active?"page":void 0,onClick:()=>t.onChange(r),disabled:t.disabled,...(a=t.getItemProps)==null?void 0:a.call(t,r)},r)});return O.createElement(O.Fragment,null,n)}S7.displayName="@mantine/core/PaginationItems";const Hke={withControls:!0,siblings:1,boundaries:1,gap:8},fu=Ge((e,t)=>{const n=Fe("Pagination",Hke,e),{withEdges:r,withControls:i,getControlProps:a,nextIcon:o,previousIcon:s,lastIcon:l,firstIcon:u,dotsIcon:c,total:d,gap:f,...h}=n;return d<=0?null:O.createElement(O4,{ref:t,total:d,...h},O.createElement(Ae,{gap:f},r&&O.createElement(tte,{icon:u,...a==null?void 0:a("first")}),i&&O.createElement(ete,{icon:s,...a==null?void 0:a("previous")}),O.createElement(S7,{dotsIcon:c}),i&&O.createElement(Zee,{icon:o,...a==null?void 0:a("next")}),r&&O.createElement(nte,{icon:l,...a==null?void 0:a("last")})))});fu.classes=C2;fu.displayName="@mantine/core/Pagination";fu.Root=O4;fu.Control=E2;fu.Dots=P4;fu.First=tte;fu.Last=nte;fu.Next=Zee;fu.Previous=ete;fu.Items=S7;const qke=({reveal:e})=>O.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"}},O.createElement("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}));var TM={root:"m-f61ca620",input:"m-ccf8da4c",innerInput:"m-f2d85dd2",visibilityToggle:"m-b1072d44"};const Wke={visibilityToggleIcon:qke},Gke=(e,{size:t})=>({root:{"--psi-icon-size":Vt(t,"psi-icon-size"),"--psi-button-size":Vt(t,"psi-button-size")}}),C7=Ge((e,t)=>{const n=Fe("PasswordInput",Wke,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,required:u,error:c,leftSection:d,disabled:f,id:h,variant:m,inputContainer:g,description:S,label:y,size:E,errorProps:x,descriptionProps:v,labelProps:C,withAsterisk:b,inputWrapperOrder:A,wrapperProps:_,radius:T,rightSection:M,rightSectionWidth:N,rightSectionPointerEvents:I,leftSectionWidth:F,visible:$,defaultVisible:z,onVisibilityChange:D,visibilityToggleIcon:P,visibilityToggleButtonProps:V,rightSectionProps:B,leftSectionProps:H,leftSectionPointerEvents:K,...W}=n,L=So(h),[G,de]=Ei({value:$,defaultValue:z,finalValue:!1,onChange:D}),Q=()=>de(!G),ee=gt({name:"PasswordInput",classes:TM,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:Gke}),{resolvedClassNames:ne,resolvedStyles:se}=rc({classNames:r,styles:o,props:n}),{styleProps:ge,rest:xe}=x1(W),we=P,_e=O.createElement(bt,{...ee("visibilityToggle"),disabled:f,radius:T,"aria-hidden":!V,tabIndex:-1,...V,variant:"subtle",color:"gray",unstyled:s,onMouseDown:ze=>{var Y;ze.preventDefault(),(Y=V==null?void 0:V.onMouseDown)==null||Y.call(V,ze),Q()},onKeyDown:ze=>{var Y;(Y=V==null?void 0:V.onKeyDown)==null||Y.call(V,ze),ze.key===" "&&(ze.preventDefault(),Q())}},O.createElement(we,{reveal:G}));return O.createElement(ki.Wrapper,{required:u,id:L,label:y,error:c,description:S,size:E,classNames:ne,styles:se,__staticSelector:"PasswordInput",errorProps:x,descriptionProps:v,unstyled:s,withAsterisk:b,inputWrapperOrder:A,inputContainer:g,variant:m,labelProps:{...C,htmlFor:L},...ee("root"),...ge,..._},O.createElement(ki,{component:"div",error:c,leftSection:d,size:E,classNames:{...ne,input:Ci(TM.input,ne.input)},styles:se,radius:T,disabled:f,__staticSelector:"PasswordInput",rightSectionWidth:N,rightSection:M??_e,variant:m,unstyled:s,leftSectionWidth:F,rightSectionPointerEvents:I||"all",rightSectionProps:B,leftSectionProps:H,leftSectionPointerEvents:K,withAria:!1},O.createElement("input",{required:u,"data-invalid":!!c||void 0,"data-with-left-section":!!d||void 0,...ee("innerInput"),disabled:f,id:L,ref:t,...xe,autoComplete:xe.autoComplete||"off",type:G?"text":"password"})))});C7.classes={...ka.classes,...TM};C7.displayName="@mantine/core/PasswordInput";const[Kke,rte]=Kr("Progress.Root component was not found in tree");var A2={root:"m-db6d6462",section:"m-2242eb65","stripes-animation":"m-81a374bd",label:"m-91e40b74"};const Yke={},Jke=(e,{size:t,radius:n})=>({root:{"--progress-size":Vt(t,"progress-size"),"--progress-radius":n===void 0?void 0:ar(n)}}),L4=Ge((e,t)=>{const n=Fe("ProgressRoot",Yke,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,...u}=n,c=gt({name:"Progress",classes:A2,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:Jke});return O.createElement(Kke,{value:{getStyles:c}},O.createElement(Z,{ref:t,...c("root"),...u}))});L4.classes=A2;L4.displayName="@mantine/core/ProgressRoot";const Qke={withAria:!0},F4=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,value:s,withAria:l,color:u,striped:c,animated:d,...f}=Fe("ProgressSection",Qke,e),h=rte(),m=ht(),g=l?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":s,"aria-valuetext":`${s}%`}:{};return O.createElement(Z,{ref:t,...h.getStyles("section",{className:r,classNames:n,styles:a,style:i}),...f,...g,mod:{striped:c||d,animated:d},__vars:{"--progress-section-width":`${s}%`,"--progress-section-color":mr(u,m)}})});F4.classes=A2;F4.displayName="@mantine/core/ProgressSection";const Xke={},E7=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,...s}=Fe("ProgressLabel",Xke,e),l=rte();return O.createElement(Z,{ref:t,...l.getStyles("label",{className:r,style:i,classNames:n,styles:a}),...s})});E7.classes=A2;E7.displayName="@mantine/core/ProgressLabel";const Zke={},Zs=Ge((e,t)=>{const n=Fe("Progress",Zke,e),{value:r,classNames:i,styles:a,vars:o,color:s,striped:l,animated:u,"aria-label":c,...d}=n,{resolvedClassNames:f,resolvedStyles:h}=rc({classNames:i,styles:a,props:n});return O.createElement(L4,{ref:t,classNames:f,styles:h,vars:o,...d},O.createElement(F4,{value:r,color:s,striped:l,animated:u,"aria-label":c}))});Zs.classes=A2;Zs.displayName="@mantine/core/Progress";Zs.Section=F4;Zs.Root=L4;Zs.Label=E7;const[eAe,ite]=Kr("Rating was not found in tree");var ate={root:"m-f8d312f2",symbolGroup:"m-61734bb7",starSymbol:"m-5662a89a",input:"m-211007ba",label:"m-21342ee4",symbolBody:"m-fae05d6a"};function ote(e){const{width:t,height:n,style:r,...i}=e;return O.createElement("svg",{viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:t,height:n,...r},...i},O.createElement("path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"}))}ote.displayName="@mantine/core/StarIcon";function NM({type:e}){const t=ite();return O.createElement(ote,{...t.getStyles("starSymbol"),"data-filled":e==="full"||void 0})}NM.displayName="@mantine/core/StarSymbol";function ste({size:e,getSymbolLabel:t,emptyIcon:n,fullIcon:r,full:i,active:a,value:o,readOnly:s,fractionValue:l,color:u,id:c,onBlur:d,onChange:f,onInputChange:h,style:m,...g}){var v;const S=ite(),y=typeof r=="function"?r(o):r,E=typeof n=="function"?n(o):n,{dir:x}=ic();return O.createElement(O.Fragment,null,!s&&O.createElement("input",{...S.getStyles("input"),onKeyDown:C=>C.key===" "&&f(o),id:c,type:"radio","data-active":a||void 0,"aria-label":t==null?void 0:t(o),value:o,onBlur:d,onChange:h,...g}),O.createElement(Z,{component:s?"div":"label",...S.getStyles("label"),"data-read-only":s||void 0,htmlFor:c,onClick:()=>f(o),__vars:{"--rating-item-z-index":(v=l===1?void 0:a?2:0)==null?void 0:v.toString()}},O.createElement(Z,{...S.getStyles("symbolBody"),__vars:{"--rating-symbol-clip-path":l===1?void 0:x==="ltr"?`inset(0 ${a?100-l*100:100}% 0 0)`:`inset(0 0 0 ${a?100-l*100:100}% )`}},i?y||O.createElement(NM,{type:"full"}):E||O.createElement(NM,{type:"empty"}))))}ste.displayName="@mantine/core/RatingItem";function I8(e,t){var i;const n=Math.round(e/t)*t,r=((i=`${t}`.split(".")[1])==null?void 0:i.length)||0;return Number(n.toFixed(r))}const tAe={size:"sm",getSymbolLabel:e=>`${e}`,count:5,fractions:1,color:"yellow"},nAe=(e,{size:t,color:n})=>({root:{"--rating-size":Vt(t,"rating-size"),"--rating-color":mr(n,e)}}),k7=Ge((e,t)=>{const n=Fe("Rating",tAe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,name:u,id:c,value:d,defaultValue:f,onChange:h,fractions:m,count:g,onMouseEnter:S,readOnly:y,onMouseMove:E,onHover:x,onMouseLeave:v,onTouchStart:C,onTouchEnd:b,size:A,variant:_,getSymbolLabel:T,color:M,emptySymbol:N,fullSymbol:I,highlightSelectedOnly:F,...$}=n,z=gt({name:"Rating",classes:ate,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:nAe}),{dir:D}=ic(),P=So(u),V=So(c),B=j.useRef(null),[H,K]=Ei({value:d,defaultValue:f,finalValue:0,onChange:h}),[W,L]=j.useState(-1),[G,de]=j.useState(!0),Q=Math.floor(m),ee=Math.floor(g),ne=1/Q,se=I8(H,ne),ge=W!==-1?W:se,xe=be=>{const{left:Me,right:X,width:ce}=B.current.getBoundingClientRect(),ae=ce/ee,Ie=(D==="rtl"?X-be:be-Me)/ae;return Fu(I8(Ie+ne/2,ne),ne,ee)},we=be=>{S==null||S(be),!y&&de(!1)},_e=be=>{if(E==null||E(be),y)return;const Me=xe(be.clientX);L(Me),Me!==W&&(x==null||x(Me))},ze=be=>{v==null||v(be),!y&&(L(-1),de(!0),W!==-1&&(x==null||x(-1)))},Y=be=>{be.preventDefault();const{touches:Me}=be;if(Me.length!==1)return;const X=Me[0];K(xe(X.clientX)),C==null||C(be)},re=be=>{be.preventDefault(),b==null||b(be)},Se=()=>G&&L(-1),le=be=>{y||L(typeof be=="number"?be:parseFloat(be.target.value))},ye=be=>{y||K(typeof be=="number"?be:parseFloat(be.target.value))},Ee=Array(ee).fill(0).map((be,Me)=>{const X=Me+1,ce=Array.from(new Array(Me===0?Q+1:Q)),ae=!y&&Math.ceil(W)===X;return O.createElement("div",{key:X,"data-active":ae||void 0,...z("symbolGroup")},ce.map((Ce,Ie)=>{const Oe=ne*(Me===0?Ie:Ie+1),Ve=I8(X-1+Oe,ne);return O.createElement(ste,{key:`${X}-${Ve}`,size:A,getSymbolLabel:T,emptyIcon:N,fullIcon:I,full:F?Ve===ge:Ve<=ge,active:Ve===ge,checked:Ve===se,readOnly:y,fractionValue:Oe,value:Ve,name:P,onChange:ye,onBlur:Se,onInputChange:le,id:`${V}-${Me}-${Ie}`})}))});return O.createElement(eAe,{value:{getStyles:z}},O.createElement(Z,{ref:Ai(B,t),...z("root"),onMouseMove:_e,onMouseEnter:we,onMouseLeave:ze,onTouchStart:Y,onTouchEnd:re,variant:_,size:A,id:V,...$},Ee))});k7.classes=ate;k7.displayName="@mantine/core/Rating";var lte={root:"m-b32e4812",svg:"m-d43b5134",curve:"m-b1ca1fbf",label:"m-b23f9dc4"};function rAe({size:e,thickness:t,sections:n,renderRoundedLineCaps:r,rootColor:i}){const a=n.reduce((c,d)=>c+d.value,0),o=Math.PI*((e*.9-t*2)/2)*2;let s=o;const l=[],u=[];for(let c=0;c<n.length;c+=1)l.push({sum:a,offset:s,data:n[c],root:!1}),s-=n[c].value/100*o;if(l.push({sum:a,offset:s,data:{color:i},root:!0}),u.push({...l[l.length-1],lineRoundCaps:!1}),l.length>2){u.push({...l[0],lineRoundCaps:r}),u.push({...l[l.length-2],lineRoundCaps:r});for(let c=1;c<=l.length-3;c+=1)u.push({...l[c],lineRoundCaps:!1})}else u.push({...l[0],lineRoundCaps:r});return u}const iAe={duration:100,transition:"fade"};function aAe(e,t){return{...iAe,...t,...e}}var B4={tooltip:"m-1b3c8819",arrow:"m-f898399f"};function oAe({offset:e,position:t}){const[n,r]=j.useState(!1),i=j.useRef(),{x:a,y:o,elements:s,refs:l,update:u,placement:c}=g9({placement:t,middleware:[d9({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=c.includes("right")?e:t.includes("left")?e*-1:0,f=c.includes("bottom")?e:t.includes("top")?e*-1:0,h=j.useCallback(({clientX:m,clientY:g})=>{l.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:m,y:g,left:m+d,top:g+f,right:m,bottom:g}}})},[s.reference]);return j.useEffect(()=>{if(l.floating.current){const m=i.current;m.addEventListener("mousemove",h);const g=Uc(l.floating.current);return g.forEach(S=>{S.addEventListener("scroll",u)}),()=>{m.removeEventListener("mousemove",h),g.forEach(S=>{S.removeEventListener("scroll",u)})}}},[s.reference,l.floating.current,u,h,n]),{handleMouseMove:h,x:a,y:o,opened:n,setOpened:r,boundaryRef:i,floating:l.setFloating}}const sAe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Ya("popover")},lAe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:ar(t),"--tooltip-bg":n?mr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),A7=Ge((e,t)=>{const n=Fe("TooltipFloating",sAe,e),{children:r,refProp:i,withinPortal:a,style:o,className:s,classNames:l,styles:u,unstyled:c,radius:d,color:f,label:h,offset:m,position:g,multiline:S,zIndex:y,disabled:E,variant:x,vars:v,portalProps:C,...b}=n,A=ht(),_=gt({name:"TooltipFloating",props:n,classes:B4,className:s,style:o,classNames:l,styles:u,unstyled:c,rootSelector:"tooltip",vars:v,varsResolver:lAe}),{handleMouseMove:T,x:M,y:N,opened:I,boundaryRef:F,floating:$,setOpened:z}=oAe({offset:m,position:g});if(!nc(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const D=Ai(F,r.ref,t),P=B=>{var H,K;(K=(H=r.props).onMouseEnter)==null||K.call(H,B),T(B),z(!0)},V=B=>{var H,K;(K=(H=r.props).onMouseLeave)==null||K.call(H,B),z(!1)};return O.createElement(O.Fragment,null,O.createElement(dm,{...C,withinPortal:a},O.createElement(Z,{...b,..._("tooltip",{style:{...t9(o,A),zIndex:y,display:!E&&I?"block":"none",top:(N&&Math.round(N))??"",left:(M&&Math.round(M))??""}}),variant:x,ref:$},h)),j.cloneElement(r,{...r.props,[i]:D,onMouseEnter:P,onMouseLeave:V}))});A7.classes=B4;A7.displayName="@mantine/core/TooltipFloating";const ute=j.createContext(!1),uAe=ute.Provider,cAe=()=>j.useContext(ute),dAe={openDelay:0,closeDelay:0};function cte(e){const{openDelay:t,closeDelay:n,children:r}=Fe("TooltipGroup",dAe,e);return O.createElement(uAe,{value:!0},O.createElement(jSe,{delay:{open:t,close:n}},r))}cte.displayName="@mantine/core/TooltipGroup";function fAe(e){var b,A,_;const[t,n]=j.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,a=cAe(),o=So(),{delay:s,currentId:l,setCurrentId:u}=$Z(),c=j.useCallback(T=>{n(T),T&&u(o)},[u,o]),{x:d,y:f,context:h,refs:m,update:g,placement:S,middlewareData:{arrow:{x:y,y:E}={}}}=g9({placement:e.position,open:i,onOpenChange:c,middleware:[kZ(e.offset),d9({padding:8}),SZ(),IZ({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[EZ()]:[]]}),{getReferenceProps:x,getFloatingProps:v}=GSe([PSe(h,{enabled:(b=e.events)==null?void 0:b.hover,delay:a?s:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((A=e.events)!=null&&A.touch)}),WSe(h,{enabled:(_=e.events)==null?void 0:_.focus,keyboardOnly:!0}),KSe(h,{role:"tooltip"}),qSe(h,{enabled:typeof e.opened>"u"}),LSe(h,{id:o})]);VZ({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:m,update:g}}),$n(()=>{var T;(T=e.onPositionChange)==null||T.call(e,S)},[S]);const C=i&&l&&l!==o;return{x:d,y:f,arrowX:y,arrowY:E,reference:m.setReference,floating:m.setFloating,getFloatingProps:v,getReferenceProps:x,isGroupPhase:C,opened:i,placement:S}}const jB={position:"top",refProp:"ref",withinPortal:!0,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Ya("popover"),positionDependencies:[]},hAe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:ar(t),"--tooltip-bg":n?mr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),oi=Ge((e,t)=>{const n=Fe("Tooltip",jB,e),{children:r,position:i,refProp:a,label:o,openDelay:s,closeDelay:l,onPositionChange:u,opened:c,withinPortal:d,radius:f,color:h,classNames:m,styles:g,unstyled:S,style:y,className:E,withArrow:x,arrowSize:v,arrowOffset:C,arrowRadius:b,arrowPosition:A,offset:_,transitionProps:T,multiline:M,events:N,zIndex:I,disabled:F,positionDependencies:$,onClick:z,onMouseEnter:D,onMouseLeave:P,inline:V,variant:B,keepMounted:H,vars:K,portalProps:W,...L}=Fe("Tooltip",jB,n),{dir:G}=ic(),de=j.useRef(null),Q=fAe({position:UZ(G,i),closeDelay:l,openDelay:s,onPositionChange:u,opened:c,events:N,arrowRef:de,arrowOffset:C,offset:typeof _=="number"?_+(x?v/2:0):_,positionDependencies:[...$,r],inline:V}),ee=gt({name:"Tooltip",props:n,classes:B4,className:E,style:y,classNames:m,styles:g,unstyled:S,rootSelector:"tooltip",vars:K,varsResolver:hAe});if(!nc(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const ne=Ai(Q.reference,r.ref,t),se=aAe(T,{duration:100,transition:"fade"});return O.createElement(O.Fragment,null,O.createElement(dm,{...W,withinPortal:d},O.createElement(fh,{...se,keepMounted:H,mounted:!F&&!!Q.opened,duration:Q.isGroupPhase?10:se.duration},ge=>O.createElement(Z,{...L,variant:B,mod:{multiline:M},...Q.getFloatingProps({ref:Q.floating,className:ee("tooltip").className,style:{...ee("tooltip").style,...ge,zIndex:I,top:Q.y??0,left:Q.x??0}})},o,O.createElement(v9,{ref:de,arrowX:Q.arrowX,arrowY:Q.arrowY,visible:x,position:Q.placement,arrowSize:v,arrowOffset:C,arrowRadius:b,arrowPosition:A,...ee("arrow")})))),j.cloneElement(r,Q.getReferenceProps({onClick:z,onMouseEnter:D,onMouseLeave:P,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[a]:ne,className:Ci(E,r.props.className),...r.props})))});oi.classes=B4;oi.displayName="@mantine/core/Tooltip";oi.Floating=A7;oi.Group=cte;function pAe({size:e,thickness:t,sum:n,value:r,root:i,offset:a}){const o=(e*.9-t*2)/2,s=Math.PI*o*2/100,l=i||r===void 0?`${(100-n)*s}, ${n*s}`:`${r*s}, ${(100-r)*s}`;return{strokeWidth:Number.isNaN(t)?12:t,cx:e/2||0,cy:e/2||0,r:o||0,transform:i?`scale(1, -1) translate(0, -${e})`:void 0,strokeDasharray:l,strokeDashoffset:i?0:a||0}}function dte({size:e,value:t,offset:n,sum:r,thickness:i,root:a,color:o,lineRoundCaps:s,tooltip:l,getStyles:u,display:c,...d}){const f=ht();return O.createElement(oi.Floating,{disabled:!l,label:l},O.createElement(Z,{component:"circle",...d,...u("curve"),__vars:{"--curve-color":o?mr(o,f):void 0},fill:"none",strokeLinecap:s?"round":"butt",...pAe({sum:r,size:e,thickness:i,value:t,offset:n,root:a})}))}dte.displayName="@mantine/core/Curve";function mAe(e,t){return Math.min(e||12,(t||120)/4)}const gAe={size:120,thickness:12},vAe=(e,{size:t,thickness:n})=>({root:{"--rp-size":me(t),"--rp-label-offset":me(n*2)}}),_7=Ge((e,t)=>{const n=Fe("RingProgress",gAe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,label:u,sections:c,size:d,thickness:f,roundCaps:h,rootColor:m,...g}=n,S=gt({name:"RingProgress",classes:lte,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:vAe}),y=mAe(f,d),E=rAe({size:d,thickness:y,sections:c,renderRoundedLineCaps:h,rootColor:m}).map(({data:x,sum:v,root:C,lineRoundCaps:b,offset:A},_)=>O.createElement(dte,{...x,key:_,size:d,thickness:y,sum:v,offset:A,color:x==null?void 0:x.color,root:C,lineRoundCaps:b,getStyles:S}));return O.createElement(Z,{...S("root"),size:d,ref:t,...g},O.createElement("svg",{...S("svg")},E),u&&O.createElement("div",{...S("label")},u))});_7.classes=lte;_7.displayName="@mantine/core/RingProgress";function kx(e,t){const n=parseFloat(e.replace("px",""));return Number.isNaN(n)?t:n}function yAe(e,t){const n=window.getComputedStyle(e);return{top:kx(n.getPropertyValue("padding-top"),t),right:kx(n.getPropertyValue("padding-right"),t),bottom:kx(n.getPropertyValue("padding-bottom"),t),left:kx(n.getPropertyValue("padding-left"),t)}}var fte={root:"m-cf365364",indicator:"m-9e182ccd",label:"m-1738fcb2",input:"m-1714d588",control:"m-69686b9b"};const bAe=4,wAe={},xAe=(e,{radius:t,color:n,transitionDuration:r,size:i,transitionTimingFunction:a})=>({root:{"--sc-radius":t===void 0?void 0:ar(t),"--sc-color":n?mr(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":a,"--sc-padding":Vt(i,"sc-padding"),"--sc-font-size":Sa(i)}}),Ss=Ge((e,t)=>{var G,de;const n=Fe("SegmentedControl",wAe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,data:u,value:c,defaultValue:d,onChange:f,size:h,name:m,disabled:g,readOnly:S,fullWidth:y,orientation:E,radius:x,color:v,transitionDuration:C,transitionTimingFunction:b,variant:A,..._}=n,T=gt({name:"SegmentedControl",props:n,classes:fte,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:xAe}),{dir:M}=ic(),N=ht(),I=u.map(Q=>typeof Q=="string"?{label:Q,value:Q}:Q),[F,$]=Ei({value:c,defaultValue:d,finalValue:Array.isArray(u)?((G=I.find(Q=>!Q.disabled))==null?void 0:G.value)??((de=u[0])==null?void 0:de.value)??null:null,onChange:f}),[z,D]=j.useState({width:0,height:0,translate:[0,0]}),P=So(m),V=j.useRef({}),B=j.useRef(null),[H,K]=JX();j.useEffect(()=>{if(F in V.current&&H.current){const Q=V.current[F];if(Q){const ee=yAe(B.current,bAe),ne=Q.getBoundingClientRect(),se=Q.offsetWidth/ne.width,ge=Q.clientWidth*se||0,xe=Q.clientHeight*se||0,we=K.width-Q.parentElement.offsetLeft+(M==="rtl"?ee.left:ee.right)-ge,_e=Q.parentElement.offsetLeft-(M==="rtl"?ee.right:ee.left);D({width:ge,height:xe,translate:[M==="rtl"?we*-1:_e,Q.parentElement.offsetTop-ee.top]})}else D({width:0,height:0,translate:[0,0]})}},[F,K,M]);const W=I.map(Q=>O.createElement(Z,{...T("control"),mod:{active:F===Q.value,orientation:E},key:Q.value},O.createElement("input",{...T("input"),disabled:g||Q.disabled,type:"radio",name:P,value:Q.value,id:`${P}-${Q.value}`,checked:F===Q.value,onChange:()=>!S&&$(Q.value),"data-focus-ring":N.focusRing}),O.createElement(Z,{component:"label",...T("label"),mod:{active:F===Q.value&&!(g||Q.disabled),disabled:g||Q.disabled},htmlFor:`${P}-${Q.value}`,ref:ee=>{V.current[Q.value]=ee},__vars:{"--sc-label-color":v!==void 0?"var(--mantine-color-white)":void 0}},Q.label))),L=Ai(H,B,t);return u.length===0?null:O.createElement(Z,{...T("root"),variant:A,size:h,ref:L,mod:{"full-width":y,orientation:E},..._,role:"radiogroup"},typeof F=="string"&&O.createElement(Z,{component:"span",...T("indicator"),__vars:{"--sc-indicator-width":`${z.width}px`,"--sc-indicator-height":`${z.height}px`,"--sc-indicator-transform":`translate(${z.translate[0]}px, ${z.translate[1]}px)`}}),W)});Ss.classes=fte;Ss.displayName="@mantine/core/SegmentedControl";const SAe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Gr=Ge((e,t)=>{const n=Fe("Select",SAe,e),{classNames:r,styles:i,unstyled:a,vars:o,dropdownOpened:s,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:m,data:g,value:S,defaultValue:y,selectFirstOptionOnChange:E,onOptionSubmit:x,comboboxProps:v,readOnly:C,disabled:b,filter:A,limit:_,withScrollArea:T,maxDropdownHeight:M,size:N,searchable:I,rightSection:F,checkIconPosition:$,withCheckIcon:z,nothingFoundMessage:D,name:P,form:V,searchValue:B,defaultSearchValue:H,onSearchChange:K,allowDeselect:W,error:L,rightSectionPointerEvents:G,id:de,clearable:Q,clearButtonProps:ee,hiddenInputProps:ne,...se}=n,ge=j.useMemo(()=>F9(g),[g]),xe=j.useMemo(()=>u4(ge),[ge]),we=So(de),[_e,ze]=Ei({value:S,defaultValue:y,finalValue:null,onChange:m}),Y=_e?xe[_e]:void 0,[re,Se]=Ei({value:B,defaultValue:H,finalValue:Y?Y.label:"",onChange:K}),le=c4({opened:s,defaultOpened:l,onDropdownOpen:c,onDropdownClose:()=>{u==null||u(),le.resetSelectedOption()}}),{resolvedClassNames:ye,resolvedStyles:Ee}=rc({props:n,styles:i,classNames:r});j.useEffect(()=>{E&&le.selectFirstOption()},[E,_e]),j.useEffect(()=>{S===null&&Se(""),typeof S=="string"&&Y&&Se(Y.label)},[S,Y]);const be=Q&&!!_e&&!b&&!C&&O.createElement(zn.ClearButton,{size:N,...ee,onClear:()=>{ze(null),Se("")}});return O.createElement(O.Fragment,null,O.createElement(zn,{store:le,__staticSelector:"Select",classNames:ye,styles:Ee,unstyled:a,readOnly:C,onOptionSubmit:Me=>{x==null||x(Me);const X=W&&xe[Me].value===_e?null:xe[Me].value;ze(X),Se(typeof X=="string"?xe[Me].label:""),le.closeDropdown()},size:N,...v},O.createElement(zn.Target,{targetType:I?"input":"button"},O.createElement(ka,{id:we,ref:t,rightSection:F||be||O.createElement(zn.Chevron,{size:N,error:L,unstyled:a}),rightSectionPointerEvents:G||be?"all":"none",...se,size:N,__staticSelector:"Select",disabled:b,readOnly:C||!I,value:re,onChange:Me=>{Se(Me.currentTarget.value),le.openDropdown(),E&&le.selectFirstOption()},onFocus:Me=>{I&&le.openDropdown(),d==null||d(Me)},onBlur:Me=>{var X;I&&le.closeDropdown(),Se(_e!=null&&((X=xe[_e])==null?void 0:X.label)||""),f==null||f(Me)},onClick:Me=>{I?le.openDropdown():le.toggleDropdown(),h==null||h(Me)},classNames:ye,styles:Ee,unstyled:a,pointer:!I,error:L})),O.createElement(Y9,{data:ge,hidden:C||b,filter:A,search:re,limit:_,hiddenWhenEmpty:!I||!D,withScrollArea:T,maxDropdownHeight:M,filterOptions:I&&(Y==null?void 0:Y.label)!==re,value:_e,checkIconPosition:$,withCheckIcon:z,nothingFoundMessage:D,unstyled:a,labelId:`${we}-label`})),O.createElement("input",{type:"hidden",name:P,value:_e||"",form:V,disabled:b,...ne}))});Gr.classes={...ka.classes,...zn.classes};Gr.displayName="@mantine/core/Select";function CAe({spacing:e,verticalSpacing:t,cols:n,selector:r}){var c;const i=ht(),a=t===void 0?e:t,o=YC({"--sg-spacing-x":va(y8(e)),"--sg-spacing-y":va(y8(a)),"--sg-cols":(c=y8(n))==null?void 0:c.toString()}),s=ji(i.breakpoints).reduce((d,f)=>(d[f]||(d[f]={}),typeof e=="object"&&e[f]!==void 0&&(d[f]["--sg-spacing-x"]=va(e[f])),typeof a=="object"&&a[f]!==void 0&&(d[f]["--sg-spacing-y"]=va(a[f])),typeof n=="object"&&n[f]!==void 0&&(d[f]["--sg-cols"]=n[f]),d),{}),u=mM(ji(s),i).filter(d=>ji(s[d.value]).length>0).map(d=>({query:`(min-width: ${i.breakpoints[d.value]})`,styles:s[d.value]}));return O.createElement(e9,{styles:o,media:u,selector:r})}var hte={root:"m-2415a157"};const EAe={cols:1,spacing:"md"},fm=Ge((e,t)=>{const n=Fe("SimpleGrid",EAe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,cols:u,verticalSpacing:c,spacing:d,...f}=n,h=gt({name:"SimpleGrid",classes:hte,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l}),m=aZ();return O.createElement(O.Fragment,null,O.createElement(CAe,{...n,selector:`.${m}`}),O.createElement(Z,{ref:t,...h("root",{className:m}),...f}))});fm.classes=hte;fm.displayName="@mantine/core/SimpleGrid";var pte={root:"m-6d731127"};const kAe={gap:"md",align:"stretch",justify:"flex-start"},AAe=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":va(t),"--stack-align":n,"--stack-justify":r}}),it=Ge((e,t)=>{const n=Fe("Stack",kAe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,align:u,justify:c,gap:d,variant:f,...h}=n,m=gt({name:"Stack",props:n,classes:pte,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:AAe});return O.createElement(Z,{ref:t,...m("root"),variant:f,...h})});it.classes=pte;it.displayName="@mantine/core/Stack";const[_Ae,MAe]=Kr("Stepper component was not found in tree");var M7={root:"m-cbb4ea7e",steps:"m-aaf89d0b",separator:"m-2a371ac9",content:"m-78da155d",step:"m-cbb57068","step--horizontal":"m-f56b1e2c","step--vertical":"m-833edb7e",verticalSeparator:"m-6496b3f3",stepWrapper:"m-818e70b",stepIcon:"m-1959ad01",stepCompletedIcon:"m-a79331dc",stepBody:"m-1956aa2a",stepLabel:"m-12051f6c",stepDescription:"m-164eea74"};const Ax=(e,t)=>typeof e=="function"?O.createElement(e,{step:t||0}):e,TAe={withIcon:!0,allowStepClick:!0,iconPosition:"left"},T7=Ge((e,t)=>{const{classNames:n,className:r,style:i,styles:a,vars:o,step:s,state:l,color:u,icon:c,completedIcon:d,progressIcon:f,label:h,description:m,withIcon:g,iconSize:S,loading:y,allowStepClick:E,allowStepSelect:x,iconPosition:v,orientation:C,...b}=Fe("StepperStep",TAe,e),A=MAe(),_=ht(),T={classNames:n,styles:a},M=l==="stepCompleted"?null:l==="stepProgress"?f:c,N={"data-progress":l==="stepProgress"||void 0,"data-completed":l==="stepCompleted"||void 0};return O.createElement(Hn,{...A.getStyles("step",{className:r,style:i,variant:A.orientation,...T}),mod:{"icon-position":v||A.iconPosition,"allow-click":E},ref:t,...N,...b,__vars:{"--step-color":u?mr(u,_):void 0},tabIndex:E?0:-1},g&&O.createElement("span",{...A.getStyles("stepWrapper",T)},O.createElement("span",{...A.getStyles("stepIcon",T),...N},O.createElement(fh,{mounted:l==="stepCompleted",transition:"pop",duration:200},I=>O.createElement("span",{...A.getStyles("stepCompletedIcon",{style:I,...T})},y?O.createElement(ai,{color:"var(--mantine-color-white)",size:"calc(var(--stepper-icon-size) / 2)",...A.getStyles("stepLoader",T)}):Ax(d,s)||O.createElement(fee,{size:"60%"}))),l!=="stepCompleted"?y?O.createElement(ai,{...A.getStyles("stepLoader",T),size:"calc(var(--stepper-icon-size) / 2)",color:u}):Ax(M||c,s):null),C==="vertical"&&O.createElement("span",{...A.getStyles("verticalSeparator",T),"data-active":l==="stepCompleted"||void 0})),(h||m)&&O.createElement("span",{...A.getStyles("stepBody",T),"data-orientation":A.orientation,"data-icon-position":v||A.iconPosition},h&&O.createElement("span",{...A.getStyles("stepLabel",T)},Ax(h,s)),m&&O.createElement("span",{...A.getStyles("stepDescription",T)},Ax(m,s))))});T7.classes=M7;T7.displayName="@mantine/core/StepperStep";const HS=()=>null;HS.displayName="@mantine/core/StepperCompleted";const NAe={orientation:"horizontal",iconPosition:"left",allowNextStepsSelect:!0,wrap:!0},DAe=(e,{color:t,iconSize:n,size:r,contentPadding:i,radius:a})=>({root:{"--stepper-color":t?mr(t,e):void 0,"--stepper-icon-size":n===void 0?Vt(r,"stepper-icon-size"):me(n),"--stepper-content-padding":va(i),"--stepper-radius":a===void 0?void 0:ar(a),"--stepper-fz":Sa(r),"--stepper-spacing":va(r)}}),Ic=Ge((e,t)=>{var P,V,B;const n=Fe("Stepper",NAe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,children:u,onStepClick:c,active:d,icon:f,completedIcon:h,progressIcon:m,color:g,iconSize:S,contentPadding:y,orientation:E,iconPosition:x,size:v,radius:C,allowNextStepsSelect:b,wrap:A,..._}=n,T=gt({name:"Stepper",classes:M7,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:DAe}),M=j.Children.toArray(u),N=M.filter(H=>H.type!==HS),I=M.find(H=>H.type===HS),F=N.reduce((H,K,W)=>{const L=d===W?"stepProgress":d>W?"stepCompleted":"stepInactive",de=(()=>typeof c!="function"?!1:typeof K.props.allowStepSelect=="boolean"?K.props.allowStepSelect:L==="stepCompleted"||b)();return H.push(j.cloneElement(K,{icon:K.props.icon||f||W+1,key:W,step:W,state:L,onClick:()=>de&&(c==null?void 0:c(W)),allowStepClick:de,completedIcon:K.props.completedIcon||h,progressIcon:K.props.progressIcon||m,color:K.props.color||g,iconSize:S,radius:C,iconPosition:K.props.iconPosition||x,orientation:E,unstyled:s})),E==="horizontal"&&W!==N.length-1&&H.push(O.createElement("div",{...T("separator"),"data-active":W<d||void 0,"data-orientation":E,key:`separator-${W}`})),H},[]),$=(V=(P=N[d])==null?void 0:P.props)==null?void 0:V.children,z=(B=I==null?void 0:I.props)==null?void 0:B.children,D=d>N.length-1?z:$;return O.createElement(_Ae,{value:{getStyles:T,orientation:E,iconPosition:x}},O.createElement(Z,{...T("root"),ref:t,size:v,..._},O.createElement(Z,{...T("steps"),mod:{orientation:E,"icon-position":x,wrap:A&&E!=="vertical"}},F),D&&O.createElement("div",{...T("content")},D)))});Ic.classes=M7;Ic.displayName="@mantine/core/Stepper";Ic.Completed=HS;Ic.Step=T7;const mte=j.createContext(null),RAe=mte.Provider,IAe=()=>j.useContext(mte),OAe={},N7=Ge((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:a,wrapperProps:o,children:s,...l}=Fe("SwitchGroup",OAe,e),[u,c]=Ei({value:n,defaultValue:r,finalValue:[],onChange:i}),d=f=>{const h=f.currentTarget.value;c(u.includes(h)?u.filter(m=>m!==h):[...u,h])};return O.createElement(RAe,{value:{value:u,onChange:d,size:a}},O.createElement(ki.Wrapper,{size:a,ref:t,...o,...l,labelElement:"div",__staticSelector:"SwitchGroup"},O.createElement(FCe,{role:"group"},s)))});N7.classes=ki.Wrapper.classes;N7.displayName="@mantine/core/SwitchGroup";var gte={root:"m-5f93f3bb",input:"m-926b4011",track:"m-9307d992",thumb:"m-93039a1d",trackLabel:"m-8277e082"};const PAe={labelPosition:"right"},jAe=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:ar(t),"--switch-height":Vt(r,"switch-height"),"--switch-width":Vt(r,"switch-width"),"--switch-thumb-size":Vt(r,"switch-thumb-size"),"--switch-label-font-size":Vt(r,"switch-label-font-size"),"--switch-track-label-padding":Vt(r,"switch-track-label-padding"),"--switch-color":n?mr(n,e):void 0}}),Yp=Ge((e,t)=>{const n=Fe("Switch",PAe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,color:u,label:c,offLabel:d,onLabel:f,id:h,size:m,radius:g,wrapperProps:S,children:y,thumbIcon:E,checked:x,defaultChecked:v,onChange:C,labelPosition:b,description:A,error:_,disabled:T,variant:M,rootRef:N,...I}=n,F=IAe(),$=m||(F==null?void 0:F.size),z=gt({name:"Switch",props:n,classes:gte,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:jAe}),{styleProps:D,rest:P}=x1(I),V=So(h),B=F?{checked:F.value.includes(P.value),onChange:F.onChange}:{},[H,K]=Ei({value:B.checked??x,defaultValue:v,finalValue:!1});return O.createElement(dee,{...z("root"),__staticSelector:"Switch",__stylesApiProps:n,id:V,size:$,labelPosition:b,label:c,description:A,error:_,disabled:T,classNames:r,styles:o,unstyled:s,"data-checked":B.checked||void 0,variant:M,ref:N,...D,...S},O.createElement("input",{...P,disabled:T,checked:H,onChange:W=>{var L;F?(L=B.onChange)==null||L.call(B,W):C==null||C(W),K(W.currentTarget.checked)},id:V,ref:t,type:"checkbox",...z("input")}),O.createElement(Z,{component:"label",htmlFor:V,mod:{error:_,"label-position":b},...z("track")},O.createElement(Z,{component:"span",mod:"reduce-motion",...z("thumb")},E),O.createElement("span",{...z("trackLabel")},H?f:d)))});Yp.classes={...gte,...LCe};Yp.displayName="@mantine/core/Switch";Yp.Group=N7;const[LAe,FAe]=Kr("Table component was not found in the tree");var _2={table:"m-b23fa0ef",th:"m-4e7aa4f3",tr:"m-4e7aa4fd",td:"m-4e7aa4ef",tbody:"m-b2404537",thead:"m-b242d975",caption:"m-9e5a3ac7",scrollContainer:"m-a100c15",scrollContainerInner:"m-62259741"};function BAe(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function hm(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=Ge((i,a)=>{const o=Fe(n,{},i),{classNames:s,className:l,style:u,styles:c,...d}=o,f=FAe();return O.createElement(Z,{component:e,ref:a,...BAe(f,t),...f.getStyles(e,{className:l,classNames:s,style:u,styles:c,props:o}),...d})});return r.displayName=`@mantine/core/${n}`,r.classes=_2,r}const DM=hm("th",{columnBorder:!0}),vte=hm("td",{columnBorder:!0}),J3=hm("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),yte=hm("thead",{stickyHeader:!0}),bte=hm("tbody"),wte=hm("tfoot"),xte=hm("caption",{captionSide:!0});function D7({data:e}){return O.createElement(O.Fragment,null,e.caption&&O.createElement(xte,null,e.caption),e.head&&O.createElement(yte,null,O.createElement(J3,null,e.head.map((t,n)=>O.createElement(DM,{key:n},t)))),e.body&&O.createElement(bte,null,e.body.map((t,n)=>O.createElement(J3,{key:n},t.map((r,i)=>O.createElement(vte,{key:i},r))))),e.foot&&O.createElement(wte,null,O.createElement(J3,null,e.foot.map((t,n)=>O.createElement(DM,{key:n},t)))))}D7.displayName="@mantine/core/TableDataRenderer";const zAe={type:"scrollarea"},$Ae=(e,{minWidth:t,type:n})=>({scrollContainer:{"--table-min-width":me(t),"--table-overflow":n==="native"?"auto":void 0}}),R7=Ge((e,t)=>{const n=Fe("TableScrollContainer",zAe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,children:u,minWidth:c,type:d,...f}=n,h=gt({name:"TableScrollContainer",classes:_2,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:$Ae,rootSelector:"scrollContainer"});return O.createElement(Z,{component:d==="scrollarea"?Jn:"div",...d==="scrollarea"?{offsetScrollbars:"x"}:{},ref:t,...h("scrollContainer"),...f},O.createElement("div",{...h("scrollContainerInner")},u))});R7.classes=_2;R7.displayName="@mantine/core/TableScrollContainer";const UAe={withRowBorders:!0,verticalSpacing:7},VAe=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:a,stripedColor:o,highlightOnHoverColor:s,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:d})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":va(r),"--table-vertical-spacing":va(i),"--table-border-color":a?mr(a,e):void 0,"--table-striped-color":l&&o?mr(o,e):void 0,"--table-highlight-on-hover-color":u&&s?mr(s,e):void 0,"--table-sticky-header-offset":d?me(c):void 0}}),nr=Ge((e,t)=>{const n=Fe("Table",UAe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:d,stripedColor:f,highlightOnHoverColor:h,striped:m,highlightOnHover:g,withColumnBorders:S,withRowBorders:y,withTableBorder:E,borderColor:x,layout:v,variant:C,data:b,children:A,stickyHeader:_,stickyHeaderOffset:T,...M}=n,N=gt({name:"Table",props:n,className:i,style:a,classes:_2,classNames:r,styles:o,unstyled:s,rootSelector:"table",vars:l,varsResolver:VAe});return O.createElement(LAe,{value:{getStyles:N,stickyHeader:_,striped:m===!0?"odd":m||void 0,highlightOnHover:g,withColumnBorders:S,withRowBorders:y,captionSide:d||"bottom"}},O.createElement(Z,{component:"table",variant:C,ref:t,mod:{"data-with-table-border":E},...N("table"),...M},A||!!b&&O.createElement(D7,{data:b})))});nr.classes=_2;nr.displayName="@mantine/core/Table";nr.Td=vte;nr.Th=DM;nr.Tr=J3;nr.Thead=yte;nr.Tbody=bte;nr.Tfoot=wte;nr.Caption=xte;nr.ScrollContainer=R7;nr.DataRenderer=D7;const[HAe,I7]=Kr("Tabs component was not found in the tree");var M2={root:"m-89d60db1","list--default":"m-576c9d4",list:"m-89d33d6d",panel:"m-b0c91715",tab:"m-4ec4dce6",tabSection:"m-fc420b1f","tab--default":"m-539e827b","list--outline":"m-6772fbd5","tab--outline":"m-b59ab47c","tab--pills":"m-c3381914"};const qAe={},O7=Ge((e,t)=>{const n=Fe("TabsList",qAe,e),{children:r,className:i,grow:a,justify:o,classNames:s,styles:l,style:u,...c}=n,d=I7();return O.createElement(Z,{...c,...d.getStyles("list",{className:i,style:u,classNames:s,styles:l,props:n,variant:d.variant}),ref:t,role:"tablist",variant:d.variant,mod:{grow:a,orientation:d.orientation,placement:d.orientation==="vertical"&&d.placement,inverted:d.inverted},"aria-orientation":d.orientation,__vars:{"--tabs-justify":o}},r)});O7.classes=M2;O7.displayName="@mantine/core/TabsList";const WAe={},P7=Ge((e,t)=>{const n=Fe("TabsPanel",WAe,e),{children:r,className:i,value:a,classNames:o,styles:s,style:l,...u}=n,c=I7(),d=c.value===a,f=c.keepMounted||n.keepMounted||d?r:null;return O.createElement(Z,{...u,...c.getStyles("panel",{className:i,classNames:o,styles:s,style:[l,d?void 0:{display:"none"}],props:n}),ref:t,mod:{orientation:c.orientation},role:"tabpanel",id:c.getPanelId(a),"aria-labelledby":c.getTabId(a)},f)});P7.classes=M2;P7.displayName="@mantine/core/TabsPanel";const GAe={},j7=Ge((e,t)=>{const n=Fe("TabsTab",GAe,e),{className:r,children:i,rightSection:a,leftSection:o,value:s,onClick:l,onKeyDown:u,disabled:c,color:d,style:f,classNames:h,styles:m,vars:g,...S}=n,y=ht(),{dir:E}=ic(),x=I7(),v=s===x.value,C=A=>{x.onChange(x.allowTabDeactivation&&s===x.value?null:s),l==null||l(A)},b={classNames:h,styles:m,props:n};return O.createElement(Hn,{...S,...x.getStyles("tab",{className:r,style:f,variant:x.variant,...b}),disabled:c,unstyled:x.unstyled,variant:x.variant,mod:{active:v,disabled:c,orientation:x.orientation,inverted:x.inverted,placement:x.orientation==="vertical"&&x.placement},ref:t,role:"tab",id:x.getTabId(s),"aria-selected":v,tabIndex:v||x.value===null?0:-1,"aria-controls":x.getPanelId(s),onClick:C,__vars:{"--tabs-color":d?mr(d,y):void 0},onKeyDown:WD({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:x.activateTabWithKeyboard,loop:x.loop,orientation:x.orientation||"horizontal",dir:E,onKeyDown:u})},o&&O.createElement("span",{...x.getStyles("tabSection",b),"data-position":"left"},o),i&&O.createElement("span",{...x.getStyles("tabLabel",b)},i),a&&O.createElement("span",{...x.getStyles("tabSection",b),"data-position":"right"},a))});j7.classes=M2;j7.displayName="@mantine/core/TabsTab";const LB="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",KAe={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},YAe=(e,{radius:t,color:n})=>({root:{"--tabs-radius":ar(t),"--tabs-color":mr(n,e)}}),kt=Ge((e,t)=>{const n=Fe("Tabs",KAe,e),{defaultValue:r,value:i,onChange:a,orientation:o,children:s,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:d,variant:f,color:h,radius:m,inverted:g,placement:S,keepMounted:y,classNames:E,styles:x,unstyled:v,className:C,style:b,vars:A,..._}=n,T=So(u),[M,N]=Ei({value:i,defaultValue:r,finalValue:null,onChange:a}),I=gt({name:"Tabs",props:n,classes:M2,className:C,style:b,classNames:E,styles:x,unstyled:v,vars:A,varsResolver:YAe});return O.createElement(HAe,{value:{placement:S,value:M,orientation:o,id:T,loop:l,activateTabWithKeyboard:c,getTabId:jS(`${T}-tab`,LB),getPanelId:jS(`${T}-panel`,LB),onChange:N,allowTabDeactivation:d,variant:f,color:h,radius:m,inverted:g,keepMounted:y,unstyled:v,getStyles:I}},O.createElement(Z,{ref:t,id:T,variant:f,mod:{orientation:o,inverted:o==="horizontal"&&g,placement:o==="vertical"&&S},...I("root"),..._},s))});kt.classes=M2;kt.displayName="@mantine/core/Tabs";kt.Tab=j7;kt.Panel=P7;kt.List=O7;function JAe(e,t){return e?t.split(new RegExp(`[${e.join("")}]`)).map(n=>n.trim()).filter(n=>n!==""):[t]}function FB({splitChars:e,allowDuplicates:t,maxTags:n,value:r,currentTags:i}){const a=JAe(e,r),o=t?[...i,...a]:[...new Set([...i,...a])];return n?o.slice(0,n):o}function QAe({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,a)=>(L0(a)?i.push({group:a.group,items:a.items.filter(o=>n.indexOf(o.label.toLowerCase().trim())===-1)}):n.indexOf(a.label.toLowerCase().trim())===-1&&i.push(a),i),[])}const XAe={maxTags:1/0,allowDuplicates:!1,splitChars:[","],hiddenInputValuesDivider:","},rd=Ge((e,t)=>{const n=Fe("TagsInput",XAe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,size:u,value:c,defaultValue:d,onChange:f,onKeyDown:h,maxTags:m,allowDuplicates:g,onDuplicate:S,variant:y,data:E,dropdownOpened:x,defaultDropdownOpened:v,onDropdownOpen:C,onDropdownClose:b,selectFirstOptionOnChange:A,onOptionSubmit:_,comboboxProps:T,filter:M,limit:N,withScrollArea:I,maxDropdownHeight:F,searchValue:$,defaultSearchValue:z,onSearchChange:D,readOnly:P,disabled:V,splitChars:B,onFocus:H,onBlur:K,onPaste:W,radius:L,rightSection:G,rightSectionWidth:de,rightSectionPointerEvents:Q,rightSectionProps:ee,leftSection:ne,leftSectionWidth:se,leftSectionPointerEvents:ge,leftSectionProps:xe,inputContainer:we,inputWrapperOrder:_e,withAsterisk:ze,required:Y,labelProps:re,descriptionProps:Se,errorProps:le,wrapperProps:ye,description:Ee,label:be,error:Me,withErrorStyles:X,name:ce,form:ae,id:Ce,clearable:Ie,clearButtonProps:Oe,hiddenInputProps:Ve,hiddenInputValuesDivider:qe,...Je}=n,We=So(Ce),Nt=F9(E),Pe=u4(Nt),te=c4({opened:x,defaultOpened:v,onDropdownOpen:C,onDropdownClose:()=>{b==null||b(),te.resetSelectedOption()}}),{styleProps:he,rest:{type:U,...ie}}=x1(Je),[ve,Ne]=Ei({value:c,defaultValue:d,finalValue:[],onChange:f}),[$e,Ue]=Ei({value:$,defaultValue:z,finalValue:"",onChange:D}),ut=gt({name:"TagsInput",classes:{},props:n,classNames:r,styles:o,unstyled:s}),{resolvedClassNames:At,resolvedStyles:_t}=rc({props:n,styles:o,classNames:r}),Jt=ln=>{h==null||h(ln);const Dr=$e.trim(),{length:Rr}=Dr;if(B.includes(ln.key)&&Rr>0&&(Ne(FB({splitChars:B,allowDuplicates:g,maxTags:m,value:$e,currentTags:ve})),Ue(""),ln.preventDefault()),ln.key==="Enter"&&Rr>0&&!ln.nativeEvent.isComposing){ln.preventDefault();const Ir=ve.some(xu=>xu.toLowerCase()===Dr.toLowerCase());Ir&&(S==null||S(Dr)),(!Ir||Ir&&g)&&ve.length<m&&(_==null||_(Dr),Ue(""),Dr.length>0&&Ne([...ve,Dr]))}ln.key==="Backspace"&&Rr===0&&ve.length>0&&Ne(ve.slice(0,ve.length-1))},Qt=ln=>{if(W==null||W(ln),ln.preventDefault(),ln.clipboardData){const Dr=ln.clipboardData.getData("text/plain");Ne(FB({splitChars:B,allowDuplicates:g,maxTags:m,value:Dr,currentTags:ve})),Ue("")}},Cr=ve.map((ln,Dr)=>O.createElement(Kp,{key:`${ln}-${Dr}`,withRemoveButton:!P,onRemove:()=>Ne(ve.filter(Rr=>ln!==Rr)),unstyled:s,...ut("pill")},ln)),Nr=Ie&&ve.length>0&&!V&&!P&&O.createElement(zn.ClearButton,{size:u,...Oe,onClear:()=>{Ne([]),Ue("")}});return O.createElement(O.Fragment,null,O.createElement(zn,{store:te,classNames:At,styles:_t,unstyled:s,size:u,readOnly:P,__staticSelector:"TagsInput",onOptionSubmit:ln=>{_==null||_(ln),Ue(""),ve.length<m&&Ne([...ve,Pe[ln].label])},...T},O.createElement(zn.DropdownTarget,null,O.createElement(VS,{...he,__staticSelector:"TagsInput",classNames:At,styles:_t,unstyled:s,size:u,className:i,style:a,variant:y,disabled:V,radius:L,rightSection:G||Nr,rightSectionWidth:de,rightSectionPointerEvents:Q,rightSectionProps:ee,leftSection:ne,leftSectionWidth:se,leftSectionPointerEvents:ge,leftSectionProps:xe,inputContainer:we,inputWrapperOrder:_e,withAsterisk:ze,required:Y,labelProps:re,descriptionProps:Se,errorProps:le,wrapperProps:ye,description:Ee,label:be,error:Me,multiline:!0,withErrorStyles:X,__stylesApiProps:{...n,multiline:!0},id:We},O.createElement(Kp.Group,{disabled:V,unstyled:s,...ut("pillsList")},Cr,O.createElement(zn.EventsTarget,null,O.createElement(VS.Field,{...ie,ref:t,...ut("inputField"),unstyled:s,onKeyDown:Jt,onFocus:ln=>{H==null||H(ln),te.openDropdown()},onBlur:ln=>{K==null||K(ln),te.closeDropdown()},onPaste:Qt,value:$e,onChange:ln=>Ue(ln.currentTarget.value),required:Y&&ve.length===0,disabled:V,readOnly:P,id:We}))))),O.createElement(Y9,{data:QAe({data:Nt,value:ve}),hidden:P||V,filter:M,search:$e,limit:N,hiddenWhenEmpty:!0,withScrollArea:I,maxDropdownHeight:F,unstyled:s,labelId:`${We}-label`})),O.createElement("input",{type:"hidden",name:ce,form:ae,value:ve.join(qe),disabled:V,...Ve}))});rd.classes={...ka.classes,...zn.classes};rd.displayName="@mantine/core/TagsInput";const ZAe={},sn=Ge((e,t)=>{const n=Fe("TextInput",ZAe,e);return O.createElement(ka,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});sn.classes=ka.classes;sn.displayName="@mantine/core/TextInput";var Ste={root:"m-7341320d"};const e8e={},t8e=(e,{size:t,radius:n,variant:r,gradient:i,color:a})=>{const o=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:i,variant:r||"filled"});return{root:{"--ti-size":Vt(t,"ti-size"),"--ti-radius":n===void 0?void 0:ar(n),"--ti-bg":a||r?o.background:void 0,"--ti-color":a||r?o.color:void 0,"--ti-bd":a||r?o.border:void 0}}},gf=Ge((e,t)=>{const n=Fe("ThemeIcon",e8e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,...u}=n,c=gt({name:"ThemeIcon",classes:Ste,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:t8e});return O.createElement(Z,{ref:t,...c("root"),...u})});gf.classes=Ste;gf.displayName="@mantine/core/ThemeIcon";const[n8e,r8e]=Kr("Timeline component was not found in tree");var L7={root:"m-43657ece",itemTitle:"m-2ebe8099",item:"m-436178ff",itemBullet:"m-8affcee1",itemBody:"m-540e8f41"};const i8e={},F7=Ge((e,t)=>{const n=Fe("TimelineItem",i8e,e),{classNames:r,className:i,style:a,styles:o,vars:s,__active:l,__align:u,__lineActive:c,__vars:d,bullet:f,radius:h,color:m,lineVariant:g,children:S,title:y,...E}=n,x=r8e(),v=ht(),C={classNames:r,styles:o};return O.createElement(Z,{...x.getStyles("item",{...C,className:i,style:a}),mod:{"line-active":c,active:l},ref:t,__vars:{"--tli-radius":h?ar(h):void 0,"--tli-color":m?mr(m,v):void 0,"--tli-border-style":g||void 0},...E},O.createElement(Z,{...x.getStyles("itemBullet",C),mod:{"with-child":!!f,align:u,active:l}},f),O.createElement("div",{...x.getStyles("itemBody",C)},y&&O.createElement("div",{...x.getStyles("itemTitle",C)},y),O.createElement("div",{...x.getStyles("itemContent",C)},S)))});F7.classes=L7;F7.displayName="@mantine/core/TimelineItem";const a8e={active:-1,align:"left",reverseActive:!1},o8e=(e,{bulletSize:t,lineWidth:n,radius:r,color:i})=>({root:{"--tl-bullet-size":me(t),"--tl-line-width":me(n),"--tl-radius":r===void 0?void 0:ar(r),"--tl-color":i?mr(i,e):void 0}}),Mb=Ge((e,t)=>{const n=Fe("Timeline",a8e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,children:u,active:c,color:d,radius:f,bulletSize:h,align:m,lineWidth:g,reverseActive:S,...y}=n,E=gt({name:"Timeline",classes:L7,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:o8e}),x=j.Children.toArray(u),v=x.map((C,b)=>{var A,_;return j.cloneElement(C,{unstyled:s,__align:m,__active:((A=C.props)==null?void 0:A.active)||(S?c>=x.length-b-1:c>=b),__lineActive:((_=C.props)==null?void 0:_.lineActive)||(S?c>=x.length-b-1:c-1>=b)})});return O.createElement(n8e,{value:{getStyles:E}},O.createElement(Z,{...E("root"),mod:{align:m},ref:t,...y},v))});Mb.classes=L7;Mb.displayName="@mantine/core/Timeline";Mb.Item=F7;const s8e=["h1","h2","h3","h4","h5","h6"];function l8e(e,t){const n=t!==void 0?t:`h${e}`;return s8e.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:{fontSize:me(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var Cte={root:"m-8a5d1357"};const u8e={order:1},c8e=(e,{order:t,size:n})=>{const r=l8e(t,n);return{root:{"--title-fw":r.fontWeight,"--title-lh":r.lineHeight,"--title-fz":r.fontSize}}},zt=Ge((e,t)=>{const n=Fe("Title",u8e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,order:l,vars:u,size:c,variant:d,...f}=n,h=gt({name:"Title",props:n,classes:Cte,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:u,varsResolver:c8e});return[1,2,3,4,5,6].includes(l)?O.createElement(Z,{...h("root"),component:`h${l}`,variant:d,ref:t,mod:{order:l},size:c,...f}):null});zt.classes=Cte;zt.displayName="@mantine/core/Title";var Ete={root:"m-d6493fad"};const d8e={},B7=Ge((e,t)=>{const n=Fe("TypographyStylesProvider",d8e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,...l}=n,u=gt({name:"TypographyStylesProvider",classes:Ete,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s});return O.createElement(Z,{ref:t,...u("root"),...l})});B7.classes=Ete;B7.displayName="@mantine/core/TypographyStylesProvider";const f8e="_control_t5hf3_1",zd={control:f8e};/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xr.apply(this,arguments)}var Ni;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ni||(Ni={}));const BB="popstate";function h8e(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return Tb("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:T2(i)}return m8e(t,n,null,e)}function Nn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function F0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function p8e(){return Math.random().toString(36).substr(2,8)}function zB(e,t){return{usr:e.state,key:e.key,idx:t}}function Tb(e,t,n,r){return n===void 0&&(n=null),Xr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gd(t):t,{state:n,key:t&&t.key||r||p8e()})}function T2(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function gd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m8e(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Ni.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Xr({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){s=Ni.Pop;let S=c(),y=S==null?null:S-u;u=S,l&&l({action:s,location:g.location,delta:y})}function f(S,y){s=Ni.Push;let E=Tb(g.location,S,y);n&&n(E,S),u=c()+1;let x=zB(E,u),v=g.createHref(E);try{o.pushState(x,"",v)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(v)}a&&l&&l({action:s,location:g.location,delta:1})}function h(S,y){s=Ni.Replace;let E=Tb(g.location,S,y);n&&n(E,S),u=c();let x=zB(E,u),v=g.createHref(E);o.replaceState(x,"",v),a&&l&&l({action:s,location:g.location,delta:0})}function m(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof S=="string"?S:T2(S);return Nn(y,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,y)}let g={get action(){return s},get location(){return e(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(BB,d),l=S,()=>{i.removeEventListener(BB,d),l=null}},createHref(S){return t(i,S)},createURL:m,encodeLocation(S){let y=m(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(S){return o.go(S)}};return g}var vi;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vi||(vi={}));const g8e=new Set(["lazy","caseSensitive","path","id","index","children"]);function v8e(e){return e.index===!0}function RM(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,a)=>{let o=[...n,a],s=typeof i.id=="string"?i.id:o.join("-");if(Nn(i.index!==!0||!i.children,"Cannot specify children on an index route"),Nn(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),v8e(i)){let l=Xr({},i,t(i),{id:s});return r[s]=l,l}else{let l=Xr({},i,t(i),{id:s,children:void 0});return r[s]=l,i.children&&(l.children=RM(i.children,t,o,r)),l}})}function Vg(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?gd(t):t,i=N2(r.pathname||"/",n);if(i==null)return null;let a=kte(e);b8e(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=M8e(a[s],D8e(i));return o}function y8e(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function kte(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Nn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Nf([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(Nn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kte(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:A8e(u,a.index),routesMeta:c})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of Ate(a.path))i(a,o,l)}),t}function Ate(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=Ate(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function b8e(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_8e(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const w8e=/^:\w+$/,x8e=3,S8e=2,C8e=1,E8e=10,k8e=-2,$B=e=>e==="*";function A8e(e,t){let n=e.split("/"),r=n.length;return n.some($B)&&(r+=k8e),t&&(r+=S8e),n.filter(i=>!$B(i)).reduce((i,a)=>i+(w8e.test(a)?x8e:a===""?C8e:E8e),r)}function _8e(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function M8e(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let o=0;o<n.length;++o){let s=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=T8e({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=s.route;a.push({params:r,pathname:Nf([i,c.pathname]),pathnameBase:P8e(Nf([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Nf([i,c.pathnameBase]))}return a}function T8e(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=N8e(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=s[d]||"";o=a.slice(0,a.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=R8e(s[d]||"",c),u},{}),pathname:a,pathnameBase:o,pattern:e}}function N8e(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),F0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function D8e(e){try{return decodeURI(e)}catch(t){return F0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function R8e(e,t){try{return decodeURIComponent(e)}catch(n){return F0(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function N2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function I8e(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?gd(e):e;return{pathname:n?n.startsWith("/")?n:O8e(n,t):t,search:j8e(r),hash:L8e(i)}}function O8e(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function O8(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _te(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=gd(e):(i=Xr({},e),Nn(!i.pathname||!i.pathname.includes("?"),O8("?","pathname","search",i)),Nn(!i.pathname||!i.pathname.includes("#"),O8("#","pathname","hash",i)),Nn(!i.search||!i.search.includes("#"),O8("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(r||o==null)s=n;else{let d=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}s=d>=0?t[d]:"/"}let l=I8e(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Nf=e=>e.join("/").replace(/\/\/+/g,"/"),P8e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j8e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,L8e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class $7{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Mte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Tte=["post","put","patch","delete"],F8e=new Set(Tte),B8e=["get",...Tte],z8e=new Set(B8e),$8e=new Set([301,302,303,307,308]),U8e=new Set([307,308]),P8={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},V8e={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bv={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Nte=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H8e=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function q8e(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Nn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let Pe=e.detectErrorBoundary;i=te=>({hasErrorBoundary:Pe(te)})}else i=H8e;let a={},o=RM(e.routes,i,void 0,a),s,l=e.basename||"/",u=Xr({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,d=new Set,f=null,h=null,m=null,g=e.hydrationData!=null,S=Vg(o,e.history.location,l),y=null;if(S==null){let Pe=Qs(404,{pathname:e.history.location.pathname}),{matches:te,route:he}=YB(o);S=te,y={[he.id]:Pe}}let E=!S.some(Pe=>Pe.route.lazy)&&(!S.some(Pe=>Pe.route.loader)||e.hydrationData!=null),x,v={historyAction:e.history.action,location:e.history.location,matches:S,initialized:E,navigation:P8,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},C=Ni.Pop,b=!1,A,_=!1,T=!1,M=[],N=[],I=new Map,F=0,$=-1,z=new Map,D=new Set,P=new Map,V=new Map,B=new Map,H=!1;function K(){return c=e.history.listen(Pe=>{let{action:te,location:he,delta:U}=Pe;if(H){H=!1;return}F0(B.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Ie({currentLocation:v.location,nextLocation:he,historyAction:te});if(ie&&U!=null){H=!0,e.history.go(U*-1),Ce(ie,{state:"blocked",location:he,proceed(){Ce(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:he}),e.history.go(U)},reset(){let ve=new Map(v.blockers);ve.set(ie,Bv),G({blockers:ve})}});return}return ne(te,he)}),v.initialized||ne(Ni.Pop,v.location),x}function W(){c&&c(),d.clear(),A&&A.abort(),v.fetchers.forEach((Pe,te)=>ye(te)),v.blockers.forEach((Pe,te)=>ae(te))}function L(Pe){return d.add(Pe),()=>d.delete(Pe)}function G(Pe){v=Xr({},v,Pe),d.forEach(te=>te(v))}function de(Pe,te){var he,U;let ie=v.actionData!=null&&v.navigation.formMethod!=null&&Hl(v.navigation.formMethod)&&v.navigation.state==="loading"&&((he=Pe.state)==null?void 0:he._isRedirect)!==!0,ve;te.actionData?Object.keys(te.actionData).length>0?ve=te.actionData:ve=null:ie?ve=v.actionData:ve=null;let Ne=te.loaderData?KB(v.loaderData,te.loaderData,te.matches||[],te.errors):v.loaderData,$e=v.blockers;$e.size>0&&($e=new Map($e),$e.forEach((ut,At)=>$e.set(At,Bv)));let Ue=b===!0||v.navigation.formMethod!=null&&Hl(v.navigation.formMethod)&&((U=Pe.state)==null?void 0:U._isRedirect)!==!0;s&&(o=s,s=void 0),_||C===Ni.Pop||(C===Ni.Push?e.history.push(Pe,Pe.state):C===Ni.Replace&&e.history.replace(Pe,Pe.state)),G(Xr({},te,{actionData:ve,loaderData:Ne,historyAction:C,location:Pe,initialized:!0,navigation:P8,revalidation:"idle",restoreScrollPosition:We(Pe,te.matches||v.matches),preventScrollReset:Ue,blockers:$e})),C=Ni.Pop,b=!1,_=!1,T=!1,M=[],N=[]}async function Q(Pe,te){if(typeof Pe=="number"){e.history.go(Pe);return}let he=IM(v.location,v.matches,l,u.v7_prependBasename,Pe,te==null?void 0:te.fromRouteId,te==null?void 0:te.relative),{path:U,submission:ie,error:ve}=UB(u.v7_normalizeFormMethod,!1,he,te),Ne=v.location,$e=Tb(v.location,U,te&&te.state);$e=Xr({},$e,e.history.encodeLocation($e));let Ue=te&&te.replace!=null?te.replace:void 0,ut=Ni.Push;Ue===!0?ut=Ni.Replace:Ue===!1||ie!=null&&Hl(ie.formMethod)&&ie.formAction===v.location.pathname+v.location.search&&(ut=Ni.Replace);let At=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,_t=Ie({currentLocation:Ne,nextLocation:$e,historyAction:ut});if(_t){Ce(_t,{state:"blocked",location:$e,proceed(){Ce(_t,{state:"proceeding",proceed:void 0,reset:void 0,location:$e}),Q(Pe,te)},reset(){let Jt=new Map(v.blockers);Jt.set(_t,Bv),G({blockers:Jt})}});return}return await ne(ut,$e,{submission:ie,pendingError:ve,preventScrollReset:At,replace:te&&te.replace})}function ee(){if(Se(),G({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){ne(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}ne(C||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function ne(Pe,te,he){A&&A.abort(),A=null,C=Pe,_=(he&&he.startUninterruptedRevalidation)===!0,Je(v.location,v.matches),b=(he&&he.preventScrollReset)===!0;let U=s||o,ie=he&&he.overrideNavigation,ve=Vg(U,te,l);if(!ve){let Jt=Qs(404,{pathname:te.pathname}),{matches:Qt,route:Cr}=YB(U);Oe(),de(te,{matches:Qt,loaderData:{},errors:{[Cr.id]:Jt}});return}if(v.initialized&&!T&&J8e(v.location,te)&&!(he&&he.submission&&Hl(he.submission.formMethod))){de(te,{matches:ve});return}A=new AbortController;let Ne=$v(e.history,te,A.signal,he&&he.submission),$e,Ue;if(he&&he.pendingError)Ue={[Hg(ve).route.id]:he.pendingError};else if(he&&he.submission&&Hl(he.submission.formMethod)){let Jt=await se(Ne,te,he.submission,ve,{replace:he.replace});if(Jt.shortCircuited)return;$e=Jt.pendingActionData,Ue=Jt.pendingActionError,ie=j8(te,he.submission),Ne=new Request(Ne.url,{signal:Ne.signal})}let{shortCircuited:ut,loaderData:At,errors:_t}=await ge(Ne,te,ve,ie,he&&he.submission,he&&he.fetcherSubmission,he&&he.replace,$e,Ue);ut||(A=null,de(te,Xr({matches:ve},$e?{actionData:$e}:{},{loaderData:At,errors:_t})))}async function se(Pe,te,he,U,ie){ie===void 0&&(ie={}),Se();let ve=e6e(te,he);G({navigation:ve});let Ne,$e=PM(U,te);if(!$e.route.action&&!$e.route.lazy)Ne={type:vi.error,error:Qs(405,{method:Pe.method,pathname:te.pathname,routeId:$e.route.id})};else if(Ne=await zv("action",Pe,$e,U,a,i,l),Pe.signal.aborted)return{shortCircuited:!0};if(p0(Ne)){let Ue;return ie&&ie.replace!=null?Ue=ie.replace:Ue=Ne.location===v.location.pathname+v.location.search,await Y(v,Ne,{submission:he,replace:Ue}),{shortCircuited:!0}}if(Py(Ne)){let Ue=Hg(U,$e.route.id);return(ie&&ie.replace)!==!0&&(C=Ni.Push),{pendingActionData:{},pendingActionError:{[Ue.route.id]:Ne.error}}}if(wp(Ne))throw Qs(400,{type:"defer-action"});return{pendingActionData:{[$e.route.id]:Ne.data}}}async function ge(Pe,te,he,U,ie,ve,Ne,$e,Ue){let ut=U||j8(te,ie),At=ie||ve||XB(ut),_t=s||o,[Jt,Qt]=VB(e.history,v,he,At,te,T,M,N,P,D,_t,l,$e,Ue);if(Oe(Gn=>!(he&&he.some(io=>io.route.id===Gn))||Jt&&Jt.some(io=>io.route.id===Gn)),$=++F,Jt.length===0&&Qt.length===0){let Gn=Me();return de(te,Xr({matches:he,loaderData:{},errors:Ue||null},$e?{actionData:$e}:{},Gn?{fetchers:new Map(v.fetchers)}:{})),{shortCircuited:!0}}if(!_){Qt.forEach(io=>{let Fs=v.fetchers.get(io.key),Lh=Uv(void 0,Fs?Fs.data:void 0);v.fetchers.set(io.key,Lh)});let Gn=$e||v.actionData;G(Xr({navigation:ut},Gn?Object.keys(Gn).length===0?{actionData:null}:{actionData:Gn}:{},Qt.length>0?{fetchers:new Map(v.fetchers)}:{}))}Qt.forEach(Gn=>{I.has(Gn.key)&&Ee(Gn.key),Gn.controller&&I.set(Gn.key,Gn.controller)});let Cr=()=>Qt.forEach(Gn=>Ee(Gn.key));A&&A.signal.addEventListener("abort",Cr);let{results:Nr,loaderResults:ln,fetcherResults:Dr}=await re(v.matches,he,Jt,Qt,Pe);if(Pe.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Cr),Qt.forEach(Gn=>I.delete(Gn.key));let Rr=JB(Nr);if(Rr){if(Rr.idx>=Jt.length){let Gn=Qt[Rr.idx-Jt.length].key;D.add(Gn)}return await Y(v,Rr.result,{replace:Ne}),{shortCircuited:!0}}let{loaderData:Ir,errors:xu}=GB(v,he,Jt,ln,Ue,Qt,Dr,V);V.forEach((Gn,io)=>{Gn.subscribe(Fs=>{(Fs||Gn.done)&&V.delete(io)})});let Oh=Me(),Ph=X($),jh=Oh||Ph||Qt.length>0;return Xr({loaderData:Ir,errors:xu},jh?{fetchers:new Map(v.fetchers)}:{})}function xe(Pe){return v.fetchers.get(Pe)||V8e}function we(Pe,te,he,U){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(Pe)&&Ee(Pe);let ie=s||o,ve=IM(v.location,v.matches,l,u.v7_prependBasename,he,te,U==null?void 0:U.relative),Ne=Vg(ie,ve,l);if(!Ne){le(Pe,te,Qs(404,{pathname:ve}));return}let{path:$e,submission:Ue,error:ut}=UB(u.v7_normalizeFormMethod,!0,ve,U);if(ut){le(Pe,te,ut);return}let At=PM(Ne,$e);if(b=(U&&U.preventScrollReset)===!0,Ue&&Hl(Ue.formMethod)){_e(Pe,te,$e,At,Ne,Ue);return}P.set(Pe,{routeId:te,path:$e}),ze(Pe,te,$e,At,Ne,Ue)}async function _e(Pe,te,he,U,ie,ve){if(Se(),P.delete(Pe),!U.route.action&&!U.route.lazy){let $r=Qs(405,{method:ve.formMethod,pathname:he,routeId:te});le(Pe,te,$r);return}let Ne=v.fetchers.get(Pe),$e=t6e(ve,Ne);v.fetchers.set(Pe,$e),G({fetchers:new Map(v.fetchers)});let Ue=new AbortController,ut=$v(e.history,he,Ue.signal,ve);I.set(Pe,Ue);let At=F,_t=await zv("action",ut,U,ie,a,i,l);if(ut.signal.aborted){I.get(Pe)===Ue&&I.delete(Pe);return}if(p0(_t))if(I.delete(Pe),$>At){let $r=Cg(void 0);v.fetchers.set(Pe,$r),G({fetchers:new Map(v.fetchers)});return}else{D.add(Pe);let $r=Uv(ve);return v.fetchers.set(Pe,$r),G({fetchers:new Map(v.fetchers)}),Y(v,_t,{fetcherSubmission:ve})}if(Py(_t)){le(Pe,te,_t.error);return}if(wp(_t))throw Qs(400,{type:"defer-action"});let Jt=v.navigation.location||v.location,Qt=$v(e.history,Jt,Ue.signal),Cr=s||o,Nr=v.navigation.state!=="idle"?Vg(Cr,v.navigation.location,l):v.matches;Nn(Nr,"Didn't find any matches after fetcher action");let ln=++F;z.set(Pe,ln);let Dr=Uv(ve,_t.data);v.fetchers.set(Pe,Dr);let[Rr,Ir]=VB(e.history,v,Nr,ve,Jt,T,M,N,P,D,Cr,l,{[U.route.id]:_t.data},void 0);Ir.filter($r=>$r.key!==Pe).forEach($r=>{let pc=$r.key,Bm=v.fetchers.get(pc),fv=Uv(void 0,Bm?Bm.data:void 0);v.fetchers.set(pc,fv),I.has(pc)&&Ee(pc),$r.controller&&I.set(pc,$r.controller)}),G({fetchers:new Map(v.fetchers)});let xu=()=>Ir.forEach($r=>Ee($r.key));Ue.signal.addEventListener("abort",xu);let{results:Oh,loaderResults:Ph,fetcherResults:jh}=await re(v.matches,Nr,Rr,Ir,Qt);if(Ue.signal.aborted)return;Ue.signal.removeEventListener("abort",xu),z.delete(Pe),I.delete(Pe),Ir.forEach($r=>I.delete($r.key));let Gn=JB(Oh);if(Gn){if(Gn.idx>=Rr.length){let $r=Ir[Gn.idx-Rr.length].key;D.add($r)}return Y(v,Gn.result)}let{loaderData:io,errors:Fs}=GB(v,v.matches,Rr,Ph,void 0,Ir,jh,V);if(v.fetchers.has(Pe)){let $r=Cg(_t.data);v.fetchers.set(Pe,$r)}let Lh=X(ln);v.navigation.state==="loading"&&ln>$?(Nn(C,"Expected pending action"),A&&A.abort(),de(v.navigation.location,{matches:Nr,loaderData:io,errors:Fs,fetchers:new Map(v.fetchers)})):(G(Xr({errors:Fs,loaderData:KB(v.loaderData,io,Nr,Fs)},Lh||Ir.length>0?{fetchers:new Map(v.fetchers)}:{})),T=!1)}async function ze(Pe,te,he,U,ie,ve){let Ne=v.fetchers.get(Pe),$e=Uv(ve,Ne?Ne.data:void 0);v.fetchers.set(Pe,$e),G({fetchers:new Map(v.fetchers)});let Ue=new AbortController,ut=$v(e.history,he,Ue.signal);I.set(Pe,Ue);let At=F,_t=await zv("loader",ut,U,ie,a,i,l);if(wp(_t)&&(_t=await Ite(_t,ut.signal,!0)||_t),I.get(Pe)===Ue&&I.delete(Pe),ut.signal.aborted)return;if(p0(_t))if($>At){let Qt=Cg(void 0);v.fetchers.set(Pe,Qt),G({fetchers:new Map(v.fetchers)});return}else{D.add(Pe),await Y(v,_t);return}if(Py(_t)){let Qt=Hg(v.matches,te);v.fetchers.delete(Pe),G({fetchers:new Map(v.fetchers),errors:{[Qt.route.id]:_t.error}});return}Nn(!wp(_t),"Unhandled fetcher deferred data");let Jt=Cg(_t.data);v.fetchers.set(Pe,Jt),G({fetchers:new Map(v.fetchers)})}async function Y(Pe,te,he){let{submission:U,fetcherSubmission:ie,replace:ve}=he===void 0?{}:he;te.revalidate&&(T=!0);let Ne=Tb(Pe.location,te.location,{_isRedirect:!0});if(Nn(Ne,"Expected a location on the redirect navigation"),n){let Jt=!1;if(te.reloadDocument)Jt=!0;else if(Nte.test(te.location)){const Qt=e.history.createURL(te.location);Jt=Qt.origin!==t.location.origin||N2(Qt.pathname,l)==null}if(Jt){ve?t.location.replace(te.location):t.location.assign(te.location);return}}A=null;let $e=ve===!0?Ni.Replace:Ni.Push,{formMethod:Ue,formAction:ut,formEncType:At}=Pe.navigation;!U&&!ie&&Ue&&ut&&At&&(U=XB(Pe.navigation));let _t=U||ie;if(U8e.has(te.status)&&_t&&Hl(_t.formMethod))await ne($e,Ne,{submission:Xr({},_t,{formAction:te.location}),preventScrollReset:b});else{let Jt=j8(Ne,U);await ne($e,Ne,{overrideNavigation:Jt,fetcherSubmission:ie,preventScrollReset:b})}}async function re(Pe,te,he,U,ie){let ve=await Promise.all([...he.map(Ue=>zv("loader",ie,Ue,te,a,i,l)),...U.map(Ue=>Ue.matches&&Ue.match&&Ue.controller?zv("loader",$v(e.history,Ue.path,Ue.controller.signal),Ue.match,Ue.matches,a,i,l):{type:vi.error,error:Qs(404,{pathname:Ue.path})})]),Ne=ve.slice(0,he.length),$e=ve.slice(he.length);return await Promise.all([QB(Pe,he,Ne,Ne.map(()=>ie.signal),!1,v.loaderData),QB(Pe,U.map(Ue=>Ue.match),$e,U.map(Ue=>Ue.controller?Ue.controller.signal:null),!0)]),{results:ve,loaderResults:Ne,fetcherResults:$e}}function Se(){T=!0,M.push(...Oe()),P.forEach((Pe,te)=>{I.has(te)&&(N.push(te),Ee(te))})}function le(Pe,te,he){let U=Hg(v.matches,te);ye(Pe),G({errors:{[U.route.id]:he},fetchers:new Map(v.fetchers)})}function ye(Pe){let te=v.fetchers.get(Pe);I.has(Pe)&&!(te&&te.state==="loading"&&z.has(Pe))&&Ee(Pe),P.delete(Pe),z.delete(Pe),D.delete(Pe),v.fetchers.delete(Pe)}function Ee(Pe){let te=I.get(Pe);Nn(te,"Expected fetch controller: "+Pe),te.abort(),I.delete(Pe)}function be(Pe){for(let te of Pe){let he=xe(te),U=Cg(he.data);v.fetchers.set(te,U)}}function Me(){let Pe=[],te=!1;for(let he of D){let U=v.fetchers.get(he);Nn(U,"Expected fetcher: "+he),U.state==="loading"&&(D.delete(he),Pe.push(he),te=!0)}return be(Pe),te}function X(Pe){let te=[];for(let[he,U]of z)if(U<Pe){let ie=v.fetchers.get(he);Nn(ie,"Expected fetcher: "+he),ie.state==="loading"&&(Ee(he),z.delete(he),te.push(he))}return be(te),te.length>0}function ce(Pe,te){let he=v.blockers.get(Pe)||Bv;return B.get(Pe)!==te&&B.set(Pe,te),he}function ae(Pe){v.blockers.delete(Pe),B.delete(Pe)}function Ce(Pe,te){let he=v.blockers.get(Pe)||Bv;Nn(he.state==="unblocked"&&te.state==="blocked"||he.state==="blocked"&&te.state==="blocked"||he.state==="blocked"&&te.state==="proceeding"||he.state==="blocked"&&te.state==="unblocked"||he.state==="proceeding"&&te.state==="unblocked","Invalid blocker state transition: "+he.state+" -> "+te.state);let U=new Map(v.blockers);U.set(Pe,te),G({blockers:U})}function Ie(Pe){let{currentLocation:te,nextLocation:he,historyAction:U}=Pe;if(B.size===0)return;B.size>1&&F0(!1,"A router only supports one blocker at a time");let ie=Array.from(B.entries()),[ve,Ne]=ie[ie.length-1],$e=v.blockers.get(ve);if(!($e&&$e.state==="proceeding")&&Ne({currentLocation:te,nextLocation:he,historyAction:U}))return ve}function Oe(Pe){let te=[];return V.forEach((he,U)=>{(!Pe||Pe(U))&&(he.cancel(),te.push(U),V.delete(U))}),te}function Ve(Pe,te,he){if(f=Pe,m=te,h=he||null,!g&&v.navigation===P8){g=!0;let U=We(v.location,v.matches);U!=null&&G({restoreScrollPosition:U})}return()=>{f=null,m=null,h=null}}function qe(Pe,te){return h&&h(Pe,te.map(U=>y8e(U,v.loaderData)))||Pe.key}function Je(Pe,te){if(f&&m){let he=qe(Pe,te);f[he]=m()}}function We(Pe,te){if(f){let he=qe(Pe,te),U=f[he];if(typeof U=="number")return U}return null}function Nt(Pe){a={},s=RM(Pe,i,void 0,a)}return x={get basename(){return l},get state(){return v},get routes(){return o},initialize:K,subscribe:L,enableScrollRestoration:Ve,navigate:Q,fetch:we,revalidate:ee,createHref:Pe=>e.history.createHref(Pe),encodeLocation:Pe=>e.history.encodeLocation(Pe),getFetcher:xe,deleteFetcher:ye,dispose:W,getBlocker:ce,deleteBlocker:ae,_internalFetchControllers:I,_internalActiveDeferreds:V,_internalSetRoutes:Nt},x}function W8e(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function IM(e,t,n,r,i,a,o){let s,l;if(a!=null&&o!=="path"){s=[];for(let c of t)if(s.push(c),c.route.id===a){l=c;break}}else s=t,l=t[t.length-1];let u=_te(i||".",z7(s).map(c=>c.pathnameBase),N2(e.pathname,n)||e.pathname,o==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!U7(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Nf([n,u.pathname])),T2(u)}function UB(e,t,n,r){if(!r||!W8e(r))return{path:n};if(r.formMethod&&!Z8e(r.formMethod))return{path:n,error:Qs(405,{method:r.formMethod})};let i=()=>({path:n,error:Qs(400,{type:"invalid-body"})}),a=r.formMethod||"get",o=e?a.toUpperCase():a.toLowerCase(),s=Rte(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Hl(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,m)=>{let[g,S]=m;return""+h+g+"="+S+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Hl(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Nn(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=OM(r.formData),u=r.formData;else if(r.body instanceof FormData)l=OM(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=WB(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=WB(l)}catch{return i()}let c={formMethod:o,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Hl(c.formMethod))return{path:n,submission:c};let d=gd(n);return t&&d.search&&U7(d.search)&&l.append("index",""),d.search="?"+l,{path:T2(d),submission:c}}function G8e(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function VB(e,t,n,r,i,a,o,s,l,u,c,d,f,h){let m=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,g=e.createURL(t.location),S=e.createURL(i),y=h?Object.keys(h)[0]:void 0,x=G8e(n,y).filter((C,b)=>{if(C.route.lazy)return!0;if(C.route.loader==null)return!1;if(K8e(t.loaderData,t.matches[b],C)||o.some(T=>T===C.route.id))return!0;let A=t.matches[b],_=C;return HB(C,Xr({currentUrl:g,currentParams:A.params,nextUrl:S,nextParams:_.params},r,{actionResult:m,defaultShouldRevalidate:a||g.pathname+g.search===S.pathname+S.search||g.search!==S.search||Dte(A,_)}))}),v=[];return l.forEach((C,b)=>{if(!n.some(N=>N.route.id===C.routeId))return;let A=Vg(c,C.path,d);if(!A){v.push({key:b,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let _=t.fetchers.get(b),T=PM(A,C.path),M=!1;u.has(b)?M=!1:s.includes(b)?M=!0:_&&_.state!=="idle"&&_.data===void 0?M=a:M=HB(T,Xr({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:S,nextParams:n[n.length-1].params},r,{actionResult:m,defaultShouldRevalidate:a})),M&&v.push({key:b,routeId:C.routeId,path:C.path,matches:A,match:T,controller:new AbortController})}),[x,v]}function K8e(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function Dte(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function HB(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function qB(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];Nn(i,"No route found in manifest");let a={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";F0(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!g8e.has(o)&&(a[o]=r[o])}Object.assign(i,a),Object.assign(i,Xr({},t(i),{lazy:void 0}))}async function zv(e,t,n,r,i,a,o,s){s===void 0&&(s={});let l,u,c,d=m=>{let g,S=new Promise((y,E)=>g=E);return c=()=>g(),t.signal.addEventListener("abort",c),Promise.race([m({request:t,params:n.params,context:s.requestContext}),S])};try{let m=n.route[e];if(n.route.lazy)if(m){let g,S=await Promise.all([d(m).catch(y=>{g=y}),qB(n.route,a,i)]);if(g)throw g;u=S[0]}else if(await qB(n.route,a,i),m=n.route[e],m)u=await d(m);else if(e==="action"){let g=new URL(t.url),S=g.pathname+g.search;throw Qs(405,{method:t.method,pathname:S,routeId:n.route.id})}else return{type:vi.data,data:void 0};else if(m)u=await d(m);else{let g=new URL(t.url),S=g.pathname+g.search;throw Qs(404,{pathname:S})}Nn(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(m){l=vi.error,u=m}finally{c&&t.signal.removeEventListener("abort",c)}if(X8e(u)){let m=u.status;if($8e.has(m)){let y=u.headers.get("Location");if(Nn(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!Nte.test(y))y=IM(new URL(t.url),r.slice(0,r.indexOf(n)+1),o,!0,y);else if(!s.isStaticRequest){let E=new URL(t.url),x=y.startsWith("//")?new URL(E.protocol+y):new URL(y),v=N2(x.pathname,o)!=null;x.origin===E.origin&&v&&(y=x.pathname+x.search+x.hash)}if(s.isStaticRequest)throw u.headers.set("Location",y),u;return{type:vi.redirect,status:m,location:y,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(s.isRouteRequest)throw{type:l===vi.error?vi.error:vi.data,response:u};let g,S=u.headers.get("Content-Type");return S&&/\bapplication\/json\b/.test(S)?g=await u.json():g=await u.text(),l===vi.error?{type:l,error:new $7(m,u.statusText,g),headers:u.headers}:{type:vi.data,data:g,statusCode:u.status,headers:u.headers}}if(l===vi.error)return{type:l,error:u};if(Q8e(u)){var f,h;return{type:vi.deferred,deferredData:u,statusCode:(f=u.init)==null?void 0:f.status,headers:((h=u.init)==null?void 0:h.headers)&&new Headers(u.init.headers)}}return{type:vi.data,data:u}}function $v(e,t,n,r){let i=e.createURL(Rte(t)).toString(),a={signal:n};if(r&&Hl(r.formMethod)){let{formMethod:o,formEncType:s}=r;a.method=o.toUpperCase(),s==="application/json"?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(r.json)):s==="text/plain"?a.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?a.body=OM(r.formData):a.body=r.formData}return new Request(i,a)}function OM(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function WB(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Y8e(e,t,n,r,i){let a={},o=null,s,l=!1,u={};return n.forEach((c,d)=>{let f=t[d].route.id;if(Nn(!p0(c),"Cannot handle redirect results in processLoaderData"),Py(c)){let h=Hg(e,f),m=c.error;r&&(m=Object.values(r)[0],r=void 0),o=o||{},o[h.route.id]==null&&(o[h.route.id]=m),a[f]=void 0,l||(l=!0,s=Mte(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else wp(c)?(i.set(f,c.deferredData),a[f]=c.deferredData.data):a[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(s=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(o=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:u}}function GB(e,t,n,r,i,a,o,s){let{loaderData:l,errors:u}=Y8e(t,n,r,i,s);for(let c=0;c<a.length;c++){let{key:d,match:f,controller:h}=a[c];Nn(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let m=o[c];if(!(h&&h.signal.aborted))if(Py(m)){let g=Hg(e.matches,f==null?void 0:f.route.id);u&&u[g.route.id]||(u=Xr({},u,{[g.route.id]:m.error})),e.fetchers.delete(d)}else if(p0(m))Nn(!1,"Unhandled fetcher revalidation redirect");else if(wp(m))Nn(!1,"Unhandled fetcher deferred data");else{let g=Cg(m.data);e.fetchers.set(d,g)}}return{loaderData:l,errors:u}}function KB(e,t,n,r){let i=Xr({},t);for(let a of n){let o=a.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&a.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Hg(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function YB(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Qs(e,t){let{pathname:n,routeId:r,method:i,type:a}=t===void 0?{}:t,o="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?s="defer() is not supported in actions":a==="invalid-body"&&(s="Unable to encode submission body")):e===403?(o="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",s='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new $7(e||500,o,new Error(s),!0)}function JB(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(p0(n))return{result:n,idx:t}}}function Rte(e){let t=typeof e=="string"?gd(e):e;return T2(Xr({},t,{hash:""}))}function J8e(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function wp(e){return e.type===vi.deferred}function Py(e){return e.type===vi.error}function p0(e){return(e&&e.type)===vi.redirect}function Q8e(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function X8e(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Z8e(e){return z8e.has(e.toLowerCase())}function Hl(e){return F8e.has(e.toLowerCase())}async function QB(e,t,n,r,i,a){for(let o=0;o<n.length;o++){let s=n[o],l=t[o];if(!l)continue;let u=e.find(d=>d.route.id===l.route.id),c=u!=null&&!Dte(u,l)&&(a&&a[l.route.id])!==void 0;if(wp(s)&&(i||c)){let d=r[o];Nn(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await Ite(s,d,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function Ite(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:vi.data,data:e.deferredData.unwrappedData}}catch(i){return{type:vi.error,error:i}}return{type:vi.data,data:e.deferredData.data}}}function U7(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function PM(e,t){let n=typeof t=="string"?gd(t).search:t.search;if(e[e.length-1].route.index&&U7(n||""))return e[e.length-1];let r=z7(e);return r[r.length-1]}function XB(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:a,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function j8(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function e6e(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Uv(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function t6e(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Cg(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qS(){return qS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qS.apply(this,arguments)}const z4=j.createContext(null),Ote=j.createContext(null),$4=j.createContext(null),U4=j.createContext(null),pm=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Pte=j.createContext(null);function V4(){return j.useContext(U4)!=null}function H4(){return V4()||Nn(!1),j.useContext(U4).location}function jte(e){j.useContext($4).static||j.useLayoutEffect(e)}function Ja(){let{isDataRoute:e}=j.useContext(pm);return e?p6e():n6e()}function n6e(){V4()||Nn(!1);let e=j.useContext(z4),{basename:t,navigator:n}=j.useContext($4),{matches:r}=j.useContext(pm),{pathname:i}=H4(),a=JSON.stringify(z7(r).map(l=>l.pathnameBase)),o=j.useRef(!1);return jte(()=>{o.current=!0}),j.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=_te(l,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Nf([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,a,i,e])}const r6e=j.createContext(null);function i6e(e){let t=j.useContext(pm).outlet;return t&&j.createElement(r6e.Provider,{value:e},t)}function a6e(e,t,n){V4()||Nn(!1);let{navigator:r}=j.useContext($4),{matches:i}=j.useContext(pm),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=H4(),u;if(t){var c;let g=typeof t=="string"?gd(t):t;s==="/"||(c=g.pathname)!=null&&c.startsWith(s)||Nn(!1),u=g}else u=l;let d=u.pathname||"/",f=s==="/"?d:d.slice(s.length)||"/",h=Vg(e,{pathname:f}),m=c6e(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Nf([s,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?s:Nf([s,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n);return t&&m?j.createElement(U4.Provider,{value:{location:qS({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ni.Pop}},m):m}function o6e(){let e=h6e(),t=Mte(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:i},n):null,a)}const s6e=j.createElement(o6e,null);class l6e extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?j.createElement(pm.Provider,{value:this.props.routeContext},j.createElement(Pte.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u6e(e){let{routeContext:t,match:n,children:r}=e,i=j.useContext(z4);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(pm.Provider,{value:t},r)}function c6e(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let a=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let s=a.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));s>=0||Nn(!1),a=a.slice(0,Math.min(a.length,s+1))}return a.reduceRight((s,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||s6e);let f=t.concat(a.slice(0,u+1)),h=()=>{let m;return c?m=d:l.route.Component?m=j.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=s,j.createElement(u6e,{match:l,routeContext:{outlet:s,matches:f,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?j.createElement(l6e,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var Lte=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Lte||{}),B0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(B0||{});function d6e(e){let t=j.useContext(z4);return t||Nn(!1),t}function Fte(e){let t=j.useContext(Ote);return t||Nn(!1),t}function f6e(e){let t=j.useContext(pm);return t||Nn(!1),t}function V7(e){let t=f6e(),n=t.matches[t.matches.length-1];return n.route.id||Nn(!1),n.route.id}function Bte(){let e=Fte(B0.UseLoaderData),t=V7(B0.UseLoaderData);if(e.errors&&e.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function h6e(){var e;let t=j.useContext(Pte),n=Fte(B0.UseRouteError),r=V7(B0.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function p6e(){let{router:e}=d6e(Lte.UseNavigateStable),t=V7(B0.UseNavigateStable),n=j.useRef(!1);return jte(()=>{n.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,qS({fromRouteId:t},a)))},[e,t])}const m6e="startTransition",ZB=ZN[m6e];function g6e(e){let{fallbackElement:t,router:n,future:r}=e,[i,a]=j.useState(n.state),{v7_startTransition:o}=r||{},s=j.useCallback(d=>{o&&ZB?ZB(()=>a(d)):a(d)},[a,o]);j.useLayoutEffect(()=>n.subscribe(s),[n,s]);let l=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:d=>n.navigate(d),push:(d,f,h)=>n.navigate(d,{state:f,preventScrollReset:h==null?void 0:h.preventScrollReset}),replace:(d,f,h)=>n.navigate(d,{replace:!0,state:f,preventScrollReset:h==null?void 0:h.preventScrollReset})}),[n]),u=n.basename||"/",c=j.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return j.createElement(j.Fragment,null,j.createElement(z4.Provider,{value:c},j.createElement(Ote.Provider,{value:i},j.createElement(b6e,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?j.createElement(v6e,{routes:n.routes,state:i}):t))),null)}function v6e(e){let{routes:t,state:n}=e;return a6e(t,void 0,n)}function y6e(e){return i6e(e.context)}function b6e(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ni.Pop,navigator:a,static:o=!1}=e;V4()&&Nn(!1);let s=t.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof r=="string"&&(r=gd(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,m=j.useMemo(()=>{let g=N2(u,s);return g==null?null:{location:{pathname:g,search:c,hash:d,state:f,key:h},navigationType:i}},[s,u,c,d,f,h,i]);return m==null?null:j.createElement($4.Provider,{value:l},j.createElement(U4.Provider,{children:n,value:m}))}new Promise(()=>{});function w6e(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:j.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:j.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function WS(){return WS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WS.apply(this,arguments)}function jM(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function x6e(e,t){let n=jM(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}function S6e(e,t){return q8e({basename:t==null?void 0:t.basename,future:WS({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:h8e({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||C6e(),routes:e,mapRouteProperties:w6e}).initialize()}function C6e(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=WS({},t,{errors:E6e(t.errors)})),t}function E6e(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new $7(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let o=new a(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var ez;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(ez||(ez={}));var tz;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tz||(tz={}));function zte(e){let t=j.useRef(jM(e)),n=j.useRef(!1),r=H4(),i=j.useMemo(()=>x6e(r.search,n.current?null:t.current),[r.search]),a=Ja(),o=j.useCallback((s,l)=>{const u=jM(typeof s=="function"?s(i):s);n.current=!0,a("?"+u,l)},[a,i]);return[i,o]}const k6e="/assets/logo-db89d82a.png";function A6e(e){const t="#d1d3d4",n=e.color;return p.jsxs("svg",{id:"Layer_2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 373 373",width:e.size,height:e.size,children:[p.jsx("polygon",{style:{fill:t,stroke:t},points:"221.37 200.68 284.88 185.33 221.55 170.02 229.09 145.8 203.43 152.87 187.32 92.31 171.26 152.69 145.86 145.5 153.28 169.97 89.76 185.33 153.09 200.64 145.55 224.86 171.22 217.79 187.32 278.35 203.38 217.96 228.78 225.16 221.37 200.68"}),p.jsx("path",{style:{strokeMiterlimit:10,strokeWidth:"2px",fill:n,stroke:n},d:"M293.28,33.52C217.92-18.9,112.53-7.05,49.24,62.57l-22.37,1.53-24.25,6.19,29.33,16.95-.54,29.63,4.04,18.43-9.29,28.62-3.37,18.28,26.39,3.13,14.69-13.98c14.19-13.5,31.13-28.37,49.27-35.74l39.23-10.53-15.58-6.87-19.25-8.49,11.24-5.38-22.48-.98,8.36-44.48-.98,36.81,36.98,3.26-17.05,9.16,10.73,4.76,29.7-5.92,13.54-48.36,21.94,82.5,34.97-9.63-10.28,32.99,86.28,20.86-86.53,20.92,10.1,33.34-34.61-9.8-21.88,82.26-16.58-62.33-6.66-3.18-33.19-7.49-.48,.13,.07-.22-6.8-1.53,24.76,24.11-17.94-7.54c-17.82-7.49-37-11.23-56.33-10.99l-22.82,.29,8.47,5.21,1.49,.92c11.31,6.98,19.78,17.73,23.92,30.36l-6.46-.67c-10.08-1.05-19.74-4.63-28.08-10.4h0c-8.45-5.87-15.54-13.47-20.82-22.3l-5.56-9.3,.26,4.75c1.06,19.62,7.26,38.61,17.99,55.07h0c3.77,5.79,8.51,10.89,14.01,15.08l11.57,8.82-12.65,1.95,11.61,7.03c12.92,7.83,26.6,14.31,40.84,19.37,13.99,4.96,28.83,7.12,43.65,6.42l19.01-.89-1.97,1.16c-9.74,5.73-19.99,10.56-30.61,14.43,13.34,3.47,27.23,4.35,40.9,2.59h.07c18.87-2.44,36.82-9.59,52.2-20.79l30.41-22.37-5.52,11.05h0c-6.14,6.5-11.41,13.78-15.68,21.64l-6.17,11.35,11.45-8.49c3.9-2.89,8.05-5.41,12.31-7.73,8.57-4.65,17.39-12.48,23.58-18.92h0l7.56-9.77,6.77-10.21,12.16-22.81-5.08,16.31c-2.83,9.08-4.67,18.44-5.48,27.92l-.08,.95s9.35-17.89,21.18-34.1l.78-1.44c2.66-4.92,7.2-8.76,9.21-13.98,1.77-4.59,4.57-10.19,5.86-13.16l12.6-29.2-2.33,9.66c-3.14,13.03-4.3,26.46-3.45,39.84l.24,3.71,5.34-19.68c.37-.51,2.87-8.49,3.07-9.09,4.84-14.02,8.8-18.18,12-27.7,26.32-78.22-1.65-165.57-68.94-212.38Z"})]})}function _6e(e){const t=new Error(e);if(t.stack===void 0)try{throw t}catch{}return t}var M6e=_6e,wn=M6e;function T6e(e){return!!e&&typeof e.then=="function"}var jr=T6e;function N6e(e,t){if(e!=null)return e;throw wn(t??"Got unexpected null or undefined")}var Wr=N6e;function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class q4{getValue(){throw wn("BaseLoadable")}toPromise(){throw wn("BaseLoadable")}valueMaybe(){throw wn("BaseLoadable")}valueOrThrow(){throw wn(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw wn("BaseLoadable")}promiseOrThrow(){throw wn(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw wn("BaseLoadable")}errorOrThrow(){throw wn(`Loadable expected error, but in "${this.state}" state`)}is(t){return t.state===this.state&&t.contents===this.contents}map(t){throw wn("BaseLoadable")}}class D6e extends q4{constructor(t){super(),dn(this,"state","hasValue"),dn(this,"contents",void 0),this.contents=t}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(t){try{const n=t(this.contents);return jr(n)?Jp(n):z0(n)?n:D2(n)}catch(n){return jr(n)?Jp(n.next(()=>this.map(t))):W4(n)}}}class R6e extends q4{constructor(t){super(),dn(this,"state","hasError"),dn(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(t){return this}}class $te extends q4{constructor(t){super(),dn(this,"state","loading"),dn(this,"contents",void 0),this.contents=t}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(t){return Jp(this.contents.then(n=>{const r=t(n);if(z0(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(jr(n))return n.then(()=>this.map(t).contents);throw n}))}}function D2(e){return Object.freeze(new D6e(e))}function W4(e){return Object.freeze(new R6e(e))}function Jp(e){return Object.freeze(new $te(e))}function Ute(){return Object.freeze(new $te(new Promise(()=>{})))}function I6e(e){return e.every(t=>t.state==="hasValue")?D2(e.map(t=>t.contents)):e.some(t=>t.state==="hasError")?W4(Wr(e.find(t=>t.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Jp(Promise.all(e.map(t=>t.contents)))}function Vte(e){const n=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(i=>e[i])).map(i=>z0(i)?i:jr(i)?Jp(i):D2(i)),r=I6e(n);return Array.isArray(e)?r:r.map(i=>Object.getOwnPropertyNames(e).reduce((a,o,s)=>({...a,[o]:i[s]}),{}))}function z0(e){return e instanceof q4}const O6e={of:e=>jr(e)?Jp(e):z0(e)?e:D2(e),error:e=>W4(e),loading:()=>Ute(),all:Vte,isLoadable:z0};var mm={loadableWithValue:D2,loadableWithError:W4,loadableWithPromise:Jp,loadableLoading:Ute,loadableAll:Vte,isLoadable:z0,RecoilLoadable:O6e},P6e=mm.loadableWithValue,j6e=mm.loadableWithError,L6e=mm.loadableWithPromise,F6e=mm.loadableLoading,B6e=mm.loadableAll,z6e=mm.isLoadable,$6e=mm.RecoilLoadable,R2=Object.freeze({__proto__:null,loadableWithValue:P6e,loadableWithError:j6e,loadableWithPromise:L6e,loadableLoading:F6e,loadableAll:B6e,isLoadable:z6e,RecoilLoadable:$6e});const LM={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function U6e(e,t){var n,r;const i=(n=process.env[e])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw wn(`({}).${e} value must be 'true', 'false', or empty: ${i}`);t(i==="true")}function V6e(e,t){var n;const r=(n=process.env[e])===null||n===void 0?void 0:n.trim();r==null||r===""||t(r.split(/\s*,\s*|\s+/))}function H6e(){var e;typeof process>"u"||((e=process)===null||e===void 0?void 0:e.env)!=null&&(U6e("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",t=>{LM.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=t}),V6e("RECOIL_GKS_ENABLED",t=>{t.forEach(n=>{LM.RECOIL_GKS_ENABLED.add(n)})}))}H6e();var M1=LM;function G4(e){return M1.RECOIL_GKS_ENABLED.has(e)}G4.setPass=e=>{M1.RECOIL_GKS_ENABLED.add(e)};G4.setFail=e=>{M1.RECOIL_GKS_ENABLED.delete(e)};G4.clear=()=>{M1.RECOIL_GKS_ENABLED.clear()};var br=G4;function q6e(e,t,{error:n}={}){return null}var W6e=q6e,H7=W6e,L8,F8,B8;const G6e=(L8=O.createMutableSource)!==null&&L8!==void 0?L8:O.unstable_createMutableSource,Hte=(F8=O.useMutableSource)!==null&&F8!==void 0?F8:O.unstable_useMutableSource,qte=(B8=O.useSyncExternalStore)!==null&&B8!==void 0?B8:O.unstable_useSyncExternalStore;function K6e(){var e;const{ReactCurrentDispatcher:t,ReactCurrentOwner:n}=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((e=t==null?void 0:t.current)!==null&&e!==void 0?e:n.currentDispatcher).useSyncExternalStore!=null}function Y6e(){return br("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:br("recoil_sync_external_store")&&qte!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:br("recoil_mutable_source")&&Hte!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?br("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:br("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function J6e(){return!1}var I2={createMutableSource:G6e,useMutableSource:Hte,useSyncExternalStore:qte,currentRendererSupportsUseSyncExternalStore:K6e,reactMode:Y6e,isFastRefreshEnabled:J6e};class q7{constructor(t){dn(this,"key",void 0),this.key=t}toJSON(){return{key:this.key}}}class Wte extends q7{}class Gte extends q7{}function Q6e(e){return e instanceof Wte||e instanceof Gte}var K4={AbstractRecoilValue:q7,RecoilState:Wte,RecoilValueReadOnly:Gte,isRecoilValue:Q6e},X6e=K4.AbstractRecoilValue,Z6e=K4.RecoilState,e_e=K4.RecoilValueReadOnly,t_e=K4.isRecoilValue,$0=Object.freeze({__proto__:null,AbstractRecoilValue:X6e,RecoilState:Z6e,RecoilValueReadOnly:e_e,isRecoilValue:t_e});function n_e(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()}var Y4=n_e;class Kte{}const r_e=new Kte,Qp=new Map,W7=new Map;function i_e(e){return Y4(e,t=>Wr(W7.get(t)))}function a_e(e){if(Qp.has(e)){const t=`Duplicate atom key "${e}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(t)}}function o_e(e){M1.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&a_e(e.key),Qp.set(e.key,e);const t=e.set==null?new $0.RecoilValueReadOnly(e.key):new $0.RecoilState(e.key);return W7.set(e.key,t),t}class Yte extends Error{}function s_e(e){const t=Qp.get(e);if(t==null)throw new Yte(`Missing definition for RecoilValue: "${e}""`);return t}function l_e(e){return Qp.get(e)}const GS=new Map;function u_e(e){var t;if(!br("recoil_memory_managament_2020"))return;const n=Qp.get(e);if(n!=null&&(t=n.shouldDeleteConfigOnRelease)!==null&&t!==void 0&&t.call(n)){var r;Qp.delete(e),(r=Jte(e))===null||r===void 0||r(),GS.delete(e)}}function c_e(e,t){br("recoil_memory_managament_2020")&&(t===void 0?GS.delete(e):GS.set(e,t))}function Jte(e){return GS.get(e)}var es={nodes:Qp,recoilValues:W7,registerNode:o_e,getNode:s_e,getNodeMaybe:l_e,deleteNodeConfigIfPossible:u_e,setConfigDeletionHandler:c_e,getConfigDeletionHandler:Jte,recoilValuesForKeys:i_e,NodeMissingError:Yte,DefaultValue:Kte,DEFAULT_VALUE:r_e};function d_e(e,t){t()}var f_e={enqueueExecution:d_e};function h_e(e,t){return t={exports:{}},e(t,t.exports),t.exports}var p_e=h_e(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},n={},r=5,i=Math.pow(2,r),a=i-1,o=i/2,s=i/4,l={},u=function(he){return function(){return he}},c=n.hash=function(te){var he=typeof te>"u"?"undefined":t(te);if(he==="number")return te;he!=="string"&&(te+="");for(var U=0,ie=0,ve=te.length;ie<ve;++ie){var Ne=te.charCodeAt(ie);U=(U<<5)-U+Ne|0}return U},d=function(he){return he-=he>>1&1431655765,he=(he&858993459)+(he>>2&858993459),he=he+(he>>4)&252645135,he+=he>>8,he+=he>>16,he&127},f=function(he,U){return U>>>he&a},h=function(he){return 1<<he},m=function(he,U){return d(he&U-1)},g=function(he,U,ie,ve){var Ne=ve;if(!he){var $e=ve.length;Ne=new Array($e);for(var Ue=0;Ue<$e;++Ue)Ne[Ue]=ve[Ue]}return Ne[U]=ie,Ne},S=function(he,U,ie){var ve=ie.length-1,Ne=0,$e=0,Ue=ie;if(he)Ne=$e=U;else for(Ue=new Array(ve);Ne<U;)Ue[$e++]=ie[Ne++];for(++Ne;Ne<=ve;)Ue[$e++]=ie[Ne++];return he&&(Ue.length=ve),Ue},y=function(he,U,ie,ve){var Ne=ve.length;if(he){for(var $e=Ne;$e>=U;)ve[$e--]=ve[$e];return ve[U]=ie,ve}for(var Ue=0,ut=0,At=new Array(Ne+1);Ue<U;)At[ut++]=ve[Ue++];for(At[U]=ie;Ue<Ne;)At[++ut]=ve[Ue++];return At},E=1,x=2,v=3,C=4,b={__hamt_isEmpty:!0},A=function(he){return he===b||he&&he.__hamt_isEmpty},_=function(he,U,ie,ve){return{type:E,edit:he,hash:U,key:ie,value:ve,_modify:V}},T=function(he,U,ie){return{type:x,edit:he,hash:U,children:ie,_modify:B}},M=function(he,U,ie){return{type:v,edit:he,mask:U,children:ie,_modify:H}},N=function(he,U,ie){return{type:C,edit:he,size:U,children:ie,_modify:K}},I=function(he){return he===b||he.type===E||he.type===x},F=function(he,U,ie,ve,Ne){for(var $e=[],Ue=ve,ut=0,At=0;Ue;++At)Ue&1&&($e[At]=Ne[ut++]),Ue>>>=1;return $e[U]=ie,N(he,ut+1,$e)},$=function(he,U,ie,ve){for(var Ne=new Array(U-1),$e=0,Ue=0,ut=0,At=ve.length;ut<At;++ut)if(ut!==ie){var _t=ve[ut];_t&&!A(_t)&&(Ne[$e++]=_t,Ue|=1<<ut)}return M(he,Ue,Ne)},z=function te(he,U,ie,ve,Ne,$e){if(ie===Ne)return T(he,ie,[$e,ve]);var Ue=f(U,ie),ut=f(U,Ne);return M(he,h(Ue)|h(ut),Ue===ut?[te(he,U+r,ie,ve,Ne,$e)]:Ue<ut?[ve,$e]:[$e,ve])},D=function(he,U,ie,ve,Ne,$e,Ue,ut){for(var At=Ne.length,_t=0;_t<At;++_t){var Jt=Ne[_t];if(ie(Ue,Jt.key)){var Qt=Jt.value,Cr=$e(Qt);return Cr===Qt?Ne:Cr===l?(--ut.value,S(he,_t,Ne)):g(he,_t,_(U,ve,Ue,Cr),Ne)}}var Nr=$e();return Nr===l?Ne:(++ut.value,g(he,At,_(U,ve,Ue,Nr),Ne))},P=function(he,U){return he===U.edit},V=function(he,U,ie,ve,Ne,$e,Ue){if(U($e,this.key)){var ut=ve(this.value);return ut===this.value?this:ut===l?(--Ue.value,b):P(he,this)?(this.value=ut,this):_(he,Ne,$e,ut)}var At=ve();return At===l?this:(++Ue.value,z(he,ie,this.hash,this,Ne,_(he,Ne,$e,At)))},B=function(he,U,ie,ve,Ne,$e,Ue){if(Ne===this.hash){var ut=P(he,this),At=D(ut,he,U,this.hash,this.children,ve,$e,Ue);return At===this.children?this:At.length>1?T(he,this.hash,At):At[0]}var _t=ve();return _t===l?this:(++Ue.value,z(he,ie,this.hash,this,Ne,_(he,Ne,$e,_t)))},H=function(he,U,ie,ve,Ne,$e,Ue){var ut=this.mask,At=this.children,_t=f(ie,Ne),Jt=h(_t),Qt=m(ut,Jt),Cr=ut&Jt,Nr=Cr?At[Qt]:b,ln=Nr._modify(he,U,ie+r,ve,Ne,$e,Ue);if(Nr===ln)return this;var Dr=P(he,this),Rr=ut,Ir=void 0;if(Cr&&A(ln)){if(Rr&=~Jt,!Rr)return b;if(At.length<=2&&I(At[Qt^1]))return At[Qt^1];Ir=S(Dr,Qt,At)}else if(!Cr&&!A(ln)){if(At.length>=o)return F(he,_t,ln,ut,At);Rr|=Jt,Ir=y(Dr,Qt,ln,At)}else Ir=g(Dr,Qt,ln,At);return Dr?(this.mask=Rr,this.children=Ir,this):M(he,Rr,Ir)},K=function(he,U,ie,ve,Ne,$e,Ue){var ut=this.size,At=this.children,_t=f(ie,Ne),Jt=At[_t],Qt=(Jt||b)._modify(he,U,ie+r,ve,Ne,$e,Ue);if(Jt===Qt)return this;var Cr=P(he,this),Nr=void 0;if(A(Jt)&&!A(Qt))++ut,Nr=g(Cr,_t,Qt,At);else if(!A(Jt)&&A(Qt)){if(--ut,ut<=s)return $(he,ut,_t,At);Nr=g(Cr,_t,b,At)}else Nr=g(Cr,_t,Qt,At);return Cr?(this.size=ut,this.children=Nr,this):N(he,ut,Nr)};b._modify=function(te,he,U,ie,ve,Ne,$e){var Ue=ie();return Ue===l?b:(++$e.value,_(te,ve,Ne,Ue))};function W(te,he,U,ie,ve){this._editable=te,this._edit=he,this._config=U,this._root=ie,this._size=ve}W.prototype.setTree=function(te,he){return this._editable?(this._root=te,this._size=he,this):te===this._root?this:new W(this._editable,this._edit,this._config,te,he)};var L=n.tryGetHash=function(te,he,U,ie){for(var ve=ie._root,Ne=0,$e=ie._config.keyEq;;)switch(ve.type){case E:return $e(U,ve.key)?ve.value:te;case x:{if(he===ve.hash)for(var Ue=ve.children,ut=0,At=Ue.length;ut<At;++ut){var _t=Ue[ut];if($e(U,_t.key))return _t.value}return te}case v:{var Jt=f(Ne,he),Qt=h(Jt);if(ve.mask&Qt){ve=ve.children[m(ve.mask,Qt)],Ne+=r;break}return te}case C:{if(ve=ve.children[f(Ne,he)],ve){Ne+=r;break}return te}default:return te}};W.prototype.tryGetHash=function(te,he,U){return L(te,he,U,this)};var G=n.tryGet=function(te,he,U){return L(te,U._config.hash(he),he,U)};W.prototype.tryGet=function(te,he){return G(te,he,this)};var de=n.getHash=function(te,he,U){return L(void 0,te,he,U)};W.prototype.getHash=function(te,he){return de(te,he,this)},n.get=function(te,he){return L(void 0,he._config.hash(te),te,he)},W.prototype.get=function(te,he){return G(he,te,this)};var Q=n.has=function(te,he,U){return L(l,te,he,U)!==l};W.prototype.hasHash=function(te,he){return Q(te,he,this)};var ee=n.has=function(te,he){return Q(he._config.hash(te),te,he)};W.prototype.has=function(te){return ee(te,this)};var ne=function(he,U){return he===U};n.make=function(te){return new W(0,0,{keyEq:te&&te.keyEq||ne,hash:te&&te.hash||c},b,0)},n.empty=n.make();var se=n.isEmpty=function(te){return te&&!!A(te._root)};W.prototype.isEmpty=function(){return se(this)};var ge=n.modifyHash=function(te,he,U,ie){var ve={value:ie._size},Ne=ie._root._modify(ie._editable?ie._edit:NaN,ie._config.keyEq,0,te,he,U,ve);return ie.setTree(Ne,ve.value)};W.prototype.modifyHash=function(te,he,U){return ge(U,te,he,this)};var xe=n.modify=function(te,he,U){return ge(te,U._config.hash(he),he,U)};W.prototype.modify=function(te,he){return xe(he,te,this)};var we=n.setHash=function(te,he,U,ie){return ge(u(U),te,he,ie)};W.prototype.setHash=function(te,he,U){return we(te,he,U,this)};var _e=n.set=function(te,he,U){return we(U._config.hash(te),te,he,U)};W.prototype.set=function(te,he){return _e(te,he,this)};var ze=u(l),Y=n.removeHash=function(te,he,U){return ge(ze,te,he,U)};W.prototype.removeHash=W.prototype.deleteHash=function(te,he){return Y(te,he,this)};var re=n.remove=function(te,he){return Y(he._config.hash(te),te,he)};W.prototype.remove=W.prototype.delete=function(te){return re(te,this)};var Se=n.beginMutation=function(te){return new W(te._editable+1,te._edit+1,te._config,te._root,te._size)};W.prototype.beginMutation=function(){return Se(this)};var le=n.endMutation=function(te){return te._editable=te._editable&&te._editable-1,te};W.prototype.endMutation=function(){return le(this)};var ye=n.mutate=function(te,he){var U=Se(he);return te(U),le(U)};W.prototype.mutate=function(te){return ye(te,this)};var Ee=function(he){return he&&be(he[0],he[1],he[2],he[3],he[4])},be=function(he,U,ie,ve,Ne){for(;ie<he;){var $e=U[ie++];if($e&&!A($e))return Me($e,ve,[he,U,ie,ve,Ne])}return Ee(Ne)},Me=function(he,U,ie){switch(he.type){case E:return{value:U(he),rest:ie};case x:case C:case v:var ve=he.children;return be(ve.length,ve,0,U,ie);default:return Ee(ie)}},X={done:!0};function ce(te){this.v=te}ce.prototype.next=function(){if(!this.v)return X;var te=this.v;return this.v=Ee(te.rest),te},ce.prototype[Symbol.iterator]=function(){return this};var ae=function(he,U){return new ce(Me(he._root,U))},Ce=function(he){return[he.key,he.value]},Ie=n.entries=function(te){return ae(te,Ce)};W.prototype.entries=W.prototype[Symbol.iterator]=function(){return Ie(this)};var Oe=function(he){return he.key},Ve=n.keys=function(te){return ae(te,Oe)};W.prototype.keys=function(){return Ve(this)};var qe=function(he){return he.value},Je=n.values=W.prototype.values=function(te){return ae(te,qe)};W.prototype.values=function(){return Je(this)};var We=n.fold=function(te,he,U){var ie=U._root;if(ie.type===E)return te(he,ie.value,ie.key);for(var ve=[ie.children],Ne=void 0;Ne=ve.pop();)for(var $e=0,Ue=Ne.length;$e<Ue;){var ut=Ne[$e++];ut&&ut.type&&(ut.type===E?he=te(he,ut.value,ut.key):ve.push(ut.children))}return he};W.prototype.fold=function(te,he){return We(te,he,this)};var Nt=n.forEach=function(te,he){return We(function(U,ie,ve){return te(ie,ve,he)},null,he)};W.prototype.forEach=function(te){return Nt(te,this)};var Pe=n.count=function(te){return te._size};W.prototype.count=function(){return Pe(this)},Object.defineProperty(W.prototype,"size",{get:W.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n});class m_e{constructor(t){dn(this,"_map",void 0),this._map=new Map(t==null?void 0:t.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(t){return this._map.get(t)}has(t){return this._map.has(t)}set(t,n){return this._map.set(t,n),this}delete(t){return this._map.delete(t),this}clone(){return K7(this)}toMap(){return new Map(this._map)}}class G7{constructor(t){if(dn(this,"_hamt",p_e.empty.beginMutation()),t instanceof G7){const n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t)for(const[n,r]of t.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(t){return this._hamt.get(t)}has(t){return this._hamt.has(t)}set(t,n){return this._hamt.set(t,n),this}delete(t){return this._hamt.delete(t),this}clone(){return K7(this)}toMap(){return new Map(this._hamt)}}function K7(e){return br("recoil_hamt_2020")?new G7(e):new m_e(e)}var g_e={persistentMap:K7},v_e=g_e.persistentMap,y_e=Object.freeze({__proto__:null,persistentMap:v_e});function b_e(e,...t){const n=new Set;e:for(const r of e){for(const i of t)if(i.has(r))continue e;n.add(r)}return n}var jy=b_e;function w_e(e,t){const n=new Map;return e.forEach((r,i)=>{n.set(i,t(r,i))}),n}var KS=w_e;function x_e(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function S_e(e){return{nodeDeps:KS(e.nodeDeps,t=>new Set(t)),nodeToNodeSubscriptions:KS(e.nodeToNodeSubscriptions,t=>new Set(t))}}function z8(e,t,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:a}=n,o=i.get(e);if(o&&r&&o!==r.nodeDeps.get(e))return;i.set(e,t);const s=o==null?t:jy(t,o);for(const l of s)a.has(l)||a.set(l,new Set),Wr(a.get(l)).add(e);if(o){const l=jy(o,t);for(const u of l){if(!a.has(u))return;const c=Wr(a.get(u));c.delete(e),c.size===0&&a.delete(u)}}}function C_e(e,t,n,r){var i,a,o,s;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((a=l.previousTree)===null||a===void 0||a.version);const u=n.getGraph(r);if(z8(e,t,u),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const d=n.getGraph(l.currentTree.version);z8(e,t,d,u)}if(r===((s=l.previousTree)===null||s===void 0?void 0:s.version)||r===l.currentTree.version){var c;const d=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(d!==void 0){const f=n.getGraph(d);z8(e,t,f,u)}}}var O2={cloneGraph:S_e,graph:x_e,saveDepsToStore:C_e};let E_e=0;const k_e=()=>E_e++;let A_e=0;const __e=()=>A_e++;let M_e=0;const T_e=()=>M_e++;var J4={getNextTreeStateVersion:k_e,getNextStoreID:__e,getNextComponentID:T_e};const{persistentMap:nz}=y_e,{graph:N_e}=O2,{getNextTreeStateVersion:Qte}=J4;function Xte(){const e=Qte();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:nz(),nonvalidatedAtoms:nz()}}function D_e(){const e=Xte();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,N_e()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Zte={makeEmptyTreeState:Xte,makeEmptyStoreState:D_e,getNextTreeStateVersion:Qte};class ene{}function R_e(){return new ene}var Q4={RetentionZone:ene,retentionZone:R_e};function I_e(e,t){const n=new Set(e);return n.add(t),n}function O_e(e,t){const n=new Set(e);return n.delete(t),n}function P_e(e,t,n){const r=new Map(e);return r.set(t,n),r}function j_e(e,t,n){const r=new Map(e);return r.set(t,n(r.get(t))),r}function L_e(e,t){const n=new Map(e);return n.delete(t),n}function F_e(e,t){const n=new Map(e);return t.forEach(r=>n.delete(r)),n}var tne={setByAddingToSet:I_e,setByDeletingFromSet:O_e,mapBySettingInMap:P_e,mapByUpdatingInMap:j_e,mapByDeletingFromMap:L_e,mapByDeletingMultipleFromMap:F_e};function*B_e(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)}var Y7=B_e;function z_e(e,t){return new Proxy(e,{get:(r,i)=>(!(i in r)&&i in t&&(r[i]=t[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var nne=z_e;const{getNode:P2,getNodeMaybe:$_e,recoilValuesForKeys:rz}=es,{RetentionZone:iz}=Q4,{setByAddingToSet:U_e}=tne,V_e=Object.freeze(new Set);class H_e extends Error{}function q_e(e,t,n){if(!br("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function i(a){let o=r.get(a);o||r.set(a,o=new Set),o.add(t)}if(n instanceof iz)i(n);else if(Array.isArray(n))for(const a of n)i(a);return()=>{if(!br("recoil_memory_managament_2020"))return;const{retention:a}=e.getState();function o(s){const l=a.nodesRetainedByZone.get(s);l==null||l.delete(t),l&&l.size===0&&a.nodesRetainedByZone.delete(s)}if(n instanceof iz)o(n);else if(Array.isArray(n))for(const s of n)o(s)}}function J7(e,t,n,r){const i=e.getState();if(i.nodeCleanupFunctions.has(n))return;const a=P2(n),o=q_e(e,n,a.retainedBy),s=a.init(e,t,r);i.nodeCleanupFunctions.set(n,()=>{s(),o()})}function W_e(e,t,n){J7(e,e.getState().currentTree,t,n)}function G_e(e,t){var n;const r=e.getState();(n=r.nodeCleanupFunctions.get(t))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(t)}function K_e(e,t,n){return J7(e,t,n,"get"),P2(n).get(e,t)}function rne(e,t,n){return P2(n).peek(e,t)}function Y_e(e,t,n){var r;const i=$_e(t);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:U_e(e.dirtyAtoms,t)}}function J_e(e,t,n,r){const i=P2(n);if(i.set==null)throw new H_e(`Attempt to set read-only RecoilValue: ${n}`);const a=i.set;return J7(e,t,n,"set"),a(e,t,r)}function Q_e(e,t,n){const r=e.getState(),i=e.getGraph(t.version),a=P2(n).nodeType;return nne({type:a},{loadable:()=>rne(e,t,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>a==="selector"?!1:t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var o;return rz((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,s;return{nodes:rz(Y7(ine(e,t,new Set([n])),l=>l!==n)),components:Y4((o=(s=r.nodeToComponentSubscriptions.get(n))===null||s===void 0?void 0:s.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function ine(e,t,n){const r=new Set,i=Array.from(n),a=e.getGraph(t.version);for(let s=i.pop();s;s=i.pop()){var o;r.add(s);const l=(o=a.nodeToNodeSubscriptions.get(s))!==null&&o!==void 0?o:V_e;for(const u of l)r.has(u)||i.push(u)}return r}var mh={getNodeLoadable:K_e,peekNodeLoadable:rne,setNodeValue:J_e,initializeNode:W_e,cleanUpNode:G_e,setUnvalidatedAtomValue_DEPRECATED:Y_e,peekNodeInfo:Q_e,getDownstreamNodes:ine};let ane=null;function X_e(e){ane=e}function Z_e(){var e;(e=ane)===null||e===void 0||e()}var one={setInvalidateMemoizedSnapshot:X_e,invalidateMemoizedSnapshot:Z_e};const{getDownstreamNodes:eMe,getNodeLoadable:sne,setNodeValue:tMe}=mh,{getNextComponentID:nMe}=J4,{getNode:rMe,getNodeMaybe:lne}=es,{DefaultValue:Q7}=es,{reactMode:iMe}=I2,{AbstractRecoilValue:aMe,RecoilState:oMe,RecoilValueReadOnly:sMe,isRecoilValue:lMe}=$0,{invalidateMemoizedSnapshot:uMe}=one;function cMe(e,{key:t},n=e.getState().currentTree){var r,i;const a=e.getState();n.version===a.currentTree.version||n.version===((r=a.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=a.previousTree)===null||i===void 0||i.version);const o=sne(e,n,t);return o.state==="loading"&&o.contents.catch(()=>{}),o}function dMe(e,t){const n=e.clone();return t.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof Q7?n.delete(i):n.set(i,r)}),n}function fMe(e,t,{key:n},r){if(typeof r=="function"){const i=sne(e,t,n);if(i.state==="loading"){const a=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw wn(a)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function hMe(e,t,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:a}=n,o=fMe(e,t,i,a),s=tMe(e,t,i.key,o);for(const[l,u]of s.entries())FM(t,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:a}=n;FM(t,i,a)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;t.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:a}=n,o=lne(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,t),t.atomValues.delete(i),t.nonvalidatedAtoms.set(i,a),t.dirtyAtoms.add(i)}else H7(`Unknown action ${n.type}`)}function FM(e,t,n){n.state==="hasValue"&&n.contents instanceof Q7?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function une(e,t){e.replaceState(n=>{const r=cne(n);for(const i of t)hMe(e,r,i);return dne(e,r),uMe(),r})}function X4(e,t){if(Ly.length){const n=Ly[Ly.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else une(e,[t])}const Ly=[];function pMe(){const e=new Map;return Ly.push(e),()=>{for(const[t,n]of e)une(t,n);Ly.pop()}}function cne(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function dne(e,t){const n=eMe(e,t,t.dirtyAtoms);for(const a of n){var r,i;(r=lne(a))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,t)}}function fne(e,t,n){X4(e,{type:"set",recoilValue:t,valueOrUpdater:n})}function mMe(e,t,n){if(n instanceof Q7)return fne(e,t,n);X4(e,{type:"setLoadable",recoilValue:t,loadable:n})}function gMe(e,t){X4(e,{type:"markModified",recoilValue:t})}function vMe(e,t,n){X4(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})}function yMe(e,{key:t},n,r=null){const i=nMe(),a=e.getState();a.nodeToComponentSubscriptions.has(t)||a.nodeToComponentSubscriptions.set(t,new Map),Wr(a.nodeToComponentSubscriptions.get(t)).set(i,[r??"<not captured>",n]);const o=iMe();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const s=e.getState().nextTree;s&&s.dirtyAtoms.has(t)&&n(s)}return{release:()=>{const s=e.getState(),l=s.nodeToComponentSubscriptions.get(t);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&s.nodeToComponentSubscriptions.delete(t))}}}function bMe(e,t){var n;const{currentTree:r}=e.getState(),i=rMe(t.key);(n=i.clearCache)===null||n===void 0||n.call(i,e,r)}var ac={RecoilValueReadOnly:sMe,AbstractRecoilValue:aMe,RecoilState:oMe,getRecoilValueAsLoadable:cMe,setRecoilValue:fne,setRecoilValueLoadable:mMe,markRecoilValueModified:gMe,setUnvalidatedRecoilValue:vMe,subscribeToRecoilValue:yMe,isRecoilValue:lMe,applyAtomValueWrites:dMe,batchStart:pMe,writeLoadableToTreeState:FM,invalidateDownstreams:dne,copyTreeState:cne,refreshRecoilValue:bMe};function wMe(e,t,n){const r=e.entries();let i=r.next();for(;!i.done;){const a=i.value;if(t.call(n,a[1],a[0],e))return!0;i=r.next()}return!1}var xMe=wMe;const{cleanUpNode:SMe}=mh,{deleteNodeConfigIfPossible:CMe,getNode:hne}=es,{RetentionZone:pne}=Q4,EMe=12e4,mne=new Set;function gne(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of t)if(o instanceof pne)for(const s of MMe(n,o))i.add(s);else i.add(o);const a=kMe(e,i);for(const o of a)_Me(e,r,o)}function kMe(e,t){const n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),a=new Set,o=new Set;return s(t),a;function s(l){const u=new Set,c=AMe(e,r,l,a,o);for(const m of c){var d;if(hne(m).retainedBy==="recoilRoot"){o.add(m);continue}if(((d=n.retention.referenceCounts.get(m))!==null&&d!==void 0?d:0)>0){o.add(m);continue}if(vne(m).some(S=>n.retention.referenceCounts.get(S))){o.add(m);continue}const g=i.nodeToNodeSubscriptions.get(m);if(g&&xMe(g,S=>o.has(S))){o.add(m);continue}a.add(m),u.add(m)}const f=new Set;for(const m of u)for(const g of(h=i.nodeDeps.get(m))!==null&&h!==void 0?h:mne){var h;a.has(g)||f.add(g)}f.size&&s(f)}}function AMe(e,t,n,r,i){const a=e.getGraph(t.version),o=[],s=new Set;for(;n.size>0;)l(Wr(n.values().next().value));return o;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(s.has(u))return;const c=a.nodeToNodeSubscriptions.get(u);if(c)for(const d of c)l(d);s.add(u),n.delete(u),o.push(u)}}function _Me(e,t,n){if(!br("recoil_memory_managament_2020"))return;SMe(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=vne(n);for(const l of i){var a;(a=r.retention.nodesRetainedByZone.get(l))===null||a===void 0||a.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(t.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const u of l){var s;(s=o.nodeToNodeSubscriptions.get(u))===null||s===void 0||s.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}CMe(n)}function MMe(e,t){var n;return(n=e.retention.nodesRetainedByZone.get(t))!==null&&n!==void 0?n:mne}function vne(e){const t=hne(e).retainedBy;return t===void 0||t==="components"||t==="recoilRoot"?[]:t instanceof pne?[t]:t}function TMe(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):gne(e,new Set([t]))}function NMe(e,t,n){var r;if(!br("recoil_memory_managament_2020"))return;const i=e.getState().retention.referenceCounts,a=((r=i.get(t))!==null&&r!==void 0?r:0)+n;a===0?yne(e,t):i.set(t,a)}function yne(e,t){if(!br("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),TMe(e,t)}function DMe(e){if(!br("recoil_memory_managament_2020"))return;const t=e.getState();gne(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}function RMe(e){return e===void 0?"recoilRoot":e}var gm={SUSPENSE_TIMEOUT_MS:EMe,updateRetainCount:NMe,updateRetainCountToZero:yne,releaseScheduledRetainablesNow:DMe,retainedByOptionWithDefault:RMe};const{unstable_batchedUpdates:IMe}=Ug;var OMe={unstable_batchedUpdates:IMe};const{unstable_batchedUpdates:PMe}=OMe;var jMe={unstable_batchedUpdates:PMe};const{batchStart:LMe}=ac,{unstable_batchedUpdates:FMe}=jMe;let X7=FMe||(e=>e());const BMe=e=>{X7=e},zMe=()=>X7,$Me=e=>{X7(()=>{let t=()=>{};try{t=LMe(),e()}finally{t()}})};var Z4={getBatcher:zMe,setBatcher:BMe,batchUpdates:$Me};function*UMe(e){for(const t of e)for(const n of t)yield n}var bne=UMe;const wne=typeof Window>"u"||typeof window>"u",VMe=e=>!wne&&(e===window||e instanceof Window),HMe=typeof navigator<"u"&&navigator.product==="ReactNative";var eE={isSSR:wne,isReactNative:HMe,isWindow:VMe};function qMe(e,t){let n;return(...r)=>{n||(n={});const i=t(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=e(...r)),n[i]}}function WMe(e,t){let n,r;return(...i)=>{const a=t(...i);return n===a||(n=a,r=e(...i)),r}}function GMe(e,t){let n,r;return[(...o)=>{const s=t(...o);return n===s||(n=s,r=e(...o)),r},()=>{n=null}]}var KMe={memoizeWithArgsHash:qMe,memoizeOneWithArgsHash:WMe,memoizeOneWithArgsHashAndInvalidation:GMe};const{batchUpdates:BM}=Z4,{initializeNode:YMe,peekNodeInfo:JMe}=mh,{graph:QMe}=O2,{getNextStoreID:XMe}=J4,{DEFAULT_VALUE:ZMe,recoilValues:az,recoilValuesForKeys:oz}=es,{AbstractRecoilValue:eTe,getRecoilValueAsLoadable:tTe,setRecoilValue:sz,setUnvalidatedRecoilValue:nTe}=ac,{updateRetainCount:Q3}=gm,{setInvalidateMemoizedSnapshot:rTe}=one,{getNextTreeStateVersion:iTe,makeEmptyStoreState:aTe}=Zte,{isSSR:oTe}=eE,{memoizeOneWithArgsHashAndInvalidation:sTe}=KMe;class tE{constructor(t,n){dn(this,"_store",void 0),dn(this,"_refCount",1),dn(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),tTe(this._store,r))),dn(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),dn(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return oz(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,a=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?az.values():r.isInitialized===!0?oz(bne([i,a])):Y7(az.values(),({key:o})=>!i.has(o)&&!a.has(o))}),dn(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),JMe(this._store,this._store.getState().currentTree,r))),dn(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new zM(this,BM);return r(i),i}),dn(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new zM(this,BM);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:XMe(),parentStoreID:n,getState:()=>t,replaceState:r=>{t.currentTree=r(t.currentTree)},getGraph:r=>{const i=t.graphsByVersion;if(i.has(r))return Wr(i.get(r));const a=QMe();return i.set(r,a),a},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw wn("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)YMe(this._store,r,"get"),Q3(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let t=!1;return()=>{t||(t=!0,this._release())}}autoRelease_INTERNAL(){oTe||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(t=>t()),this._store.getState().nodeCleanupFunctions.clear(),!br("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){br("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function xne(e,t,n=!1){const r=e.getState(),i=n?iTe():t.version;return{currentTree:{version:n?i:t.version,stateID:n?i:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Y4(r.nodeCleanupFunctions.entries(),([a])=>[a,()=>{}]))}}function lTe(e){const t=new tE(aTe());return e!=null?t.map(e):t}const[lz,Sne]=sTe((e,t)=>{var n;const r=e.getState(),i=t==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:Wr(r.previousTree);return new tE(xne(e,i),e.storeID)},(e,t)=>{var n,r;return String(t)+String(e.storeID)+String((n=e.getState().nextTree)===null||n===void 0?void 0:n.version)+String(e.getState().currentTree.version)+String((r=e.getState().previousTree)===null||r===void 0?void 0:r.version)});rTe(Sne);function uTe(e,t="latest"){const n=lz(e,t);return n.isRetained()?n:(Sne(),lz(e,t))}class zM extends tE{constructor(t,n){super(xne(t.getStore_INTERNAL(),t.getStore_INTERNAL().getState().currentTree,!0),t.getStoreID()),dn(this,"_batch",void 0),dn(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const a=this.getStore_INTERNAL();this._batch(()=>{Q3(a,r.key,1),sz(this.getStore_INTERNAL(),r,i)})}),dn(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Q3(i,r.key,1),sz(this.getStore_INTERNAL(),r,ZMe)})}),dn(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();BM(()=>{for(const[a,o]of r.entries())Q3(i,a,1),nTe(i,new eTe(a),o)})}),this._batch=n}}var nE={Snapshot:tE,MutableSnapshot:zM,freshSnapshot:lTe,cloneSnapshot:uTe},cTe=nE.Snapshot,dTe=nE.MutableSnapshot,fTe=nE.freshSnapshot,hTe=nE.cloneSnapshot,rE=Object.freeze({__proto__:null,Snapshot:cTe,MutableSnapshot:dTe,freshSnapshot:fTe,cloneSnapshot:hTe});function pTe(...e){const t=new Set;for(const n of e)for(const r of n)t.add(r);return t}var mTe=pTe;const{useRef:gTe}=O;function vTe(e){const t=gTe(e);return t.current===e&&typeof e=="function"&&(t.current=e()),t}var uz=vTe;const{getNextTreeStateVersion:yTe,makeEmptyStoreState:Cne}=Zte,{cleanUpNode:bTe,getDownstreamNodes:wTe,initializeNode:xTe,setNodeValue:STe,setUnvalidatedAtomValue_DEPRECATED:CTe}=mh,{graph:ETe}=O2,{cloneGraph:kTe}=O2,{getNextStoreID:Ene}=J4,{createMutableSource:$8,reactMode:kne}=I2,{applyAtomValueWrites:ATe}=ac,{releaseScheduledRetainablesNow:Ane}=gm,{freshSnapshot:_Te}=rE,{useCallback:MTe,useContext:_ne,useEffect:$M,useMemo:TTe,useRef:NTe,useState:DTe}=O;function Vv(){throw wn("This component must be used inside a <RecoilRoot> component.")}const Mne=Object.freeze({storeID:Ene(),getState:Vv,replaceState:Vv,getGraph:Vv,subscribeToTransactions:Vv,addTransactionMetadata:Vv});let UM=!1;function cz(e){if(UM)throw wn("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(t.nextTree===null){br("recoil_memory_managament_2020")&&br("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Ane(e);const n=t.currentTree.version,r=yTe();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,kTe(Wr(t.graphsByVersion.get(n))))}}const Tne=O.createContext({current:Mne}),iE=()=>_ne(Tne),Nne=O.createContext(null);function RTe(){return _ne(Nne)}function Z7(e,t,n){const r=wTe(e,n,n.dirtyAtoms);for(const i of r){const a=t.nodeToComponentSubscriptions.get(i);if(a)for(const[o,[s,l]]of a)l(n)}}function Dne(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,a]of t.nodeTransactionSubscriptions)if(r.has(i))for(const[o,s]of a)s(e);for(const[i,a]of t.transactionSubscriptions)a(e);(!kne().early||t.suspendedComponentResolvers.size>0)&&(Z7(e,t,n),t.suspendedComponentResolvers.forEach(i=>i()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function ITe(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(n==null)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,Dne(e),t.previousTree!=null?t.graphsByVersion.delete(t.previousTree.version):H7("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,br("recoil_memory_managament_2020")&&n==null&&Ane(e)}finally{t.commitDepth--}}function OTe({setNotifyBatcherOfChange:e}){const t=iE(),[,n]=DTe([]);return e(()=>n({})),$M(()=>(e(()=>n({})),()=>{e(()=>{})}),[e]),$M(()=>{f_e.enqueueExecution("Batcher",()=>{ITe(t.current)})}),null}function PTe(e,t){const n=Cne();return t({set:(r,i)=>{const a=n.currentTree,o=STe(e,a,r.key,i),s=new Set(o.keys()),l=a.nonvalidatedAtoms.clone();for(const u of s)l.delete(u);n.currentTree={...a,dirtyAtoms:mTe(a.dirtyAtoms,s),atomValues:ATe(a.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,a)=>{n.currentTree=CTe(n.currentTree,a,i)})}}),n}function jTe(e){const t=_Te(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let dz=0;function LTe({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){let i;const a=h=>{const m=i.current.graphsByVersion;if(m.has(h))return Wr(m.get(h));const g=ETe();return m.set(h,g),g},o=(h,m)=>{if(m==null){const{transactionSubscriptions:g}=d.current.getState(),S=dz++;return g.set(S,h),{release:()=>{g.delete(S)}}}else{const{nodeTransactionSubscriptions:g}=d.current.getState();g.has(m)||g.set(m,new Map);const S=dz++;return Wr(g.get(m)).set(S,h),{release:()=>{const y=g.get(m);y&&(y.delete(S),y.size===0&&g.delete(m))}}}},s=h=>{cz(d.current);for(const m of Object.keys(h))Wr(d.current.getState().nextTree).transactionMetadata[m]=h[m]},l=h=>{cz(d.current);const m=Wr(i.current.nextTree);let g;try{UM=!0,g=h(m)}finally{UM=!1}g!==m&&(i.current.nextTree=g,kne().early&&Z7(d.current,i.current,g),Wr(u.current)())},u=NTe(null),c=MTe(h=>{u.current=h},[u]),d=uz(()=>n??{storeID:Ene(),getState:()=>i.current,replaceState:l,getGraph:a,subscribeToTransactions:o,addTransactionMetadata:s});n!=null&&(d.current=n),i=uz(()=>e!=null?PTe(d.current,e):t!=null?jTe(t):Cne());const f=TTe(()=>$8==null?void 0:$8(i,()=>i.current.currentTree.version),[i]);return $M(()=>{const h=d.current;for(const m of new Set(h.getState().knownAtoms))xTe(h,m,"get");return()=>{for(const m of h.getState().knownAtoms)bTe(h,m)}},[d]),O.createElement(Tne.Provider,{value:d},O.createElement(Nne.Provider,{value:f},O.createElement(OTe,{setNotifyBatcherOfChange:c}),r))}function FTe(e){const{override:t,...n}=e,r=iE();return t===!1&&r.current!==Mne?e.children:O.createElement(LTe,n)}function BTe(){return iE().current.storeID}var vd={RecoilRoot:FTe,useStoreRef:iE,useRecoilMutableSource:RTe,useRecoilStoreID:BTe,notifyComponents_FOR_TESTING:Z7,sendEndOfBatchNotifications_FOR_TESTING:Dne};function zTe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}var $Te=zTe;const{useEffect:UTe,useRef:VTe}=O;function HTe(e){const t=VTe();return UTe(()=>{t.current=e}),t.current}var Rne=HTe;const{useStoreRef:qTe}=vd,{SUSPENSE_TIMEOUT_MS:WTe}=gm,{updateRetainCount:Hv}=gm,{RetentionZone:GTe}=Q4,{useEffect:KTe,useRef:YTe}=O,{isSSR:fz}=eE;function JTe(e){if(br("recoil_memory_managament_2020"))return QTe(e)}function QTe(e){const n=(Array.isArray(e)?e:[e]).map(o=>o instanceof GTe?o:o.key),r=qTe();KTe(()=>{if(!br("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!fz)window.clearTimeout(i.current),i.current=null;else for(const s of n)Hv(o,s,1);return()=>{for(const s of n)Hv(o,s,-1)}},[r,...n]);const i=YTe(),a=Rne(n);if(!fz&&(a===void 0||!$Te(a,n))){const o=r.current;for(const s of n)Hv(o,s,1);if(a)for(const s of a)Hv(o,s,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const s of n)Hv(o,s,-1)},WTe)}}var eR=JTe;function XTe(){return"<component name not available>"}var j2=XTe;const{batchUpdates:ZTe}=Z4,{DEFAULT_VALUE:Ine}=es,{currentRendererSupportsUseSyncExternalStore:eNe,reactMode:T1,useMutableSource:tNe,useSyncExternalStore:nNe}=I2,{useRecoilMutableSource:rNe,useStoreRef:oc}=vd,{AbstractRecoilValue:VM,getRecoilValueAsLoadable:L2,setRecoilValue:YS,setUnvalidatedRecoilValue:iNe,subscribeToRecoilValue:U0}=ac,{useCallback:Yo,useEffect:V0,useMemo:One,useRef:Fy,useState:tR}=O,{setByAddingToSet:aNe}=tne,{isSSR:oNe}=eE;function nR(e,t,n){if(e.state==="hasValue")return e.contents;throw e.state==="loading"?new Promise(i=>{const a=n.current.getState().suspendedComponentResolvers;a.add(i),oNe&&jr(e.contents)&&e.contents.finally(()=>{a.delete(i)})}):e.state==="hasError"?e.contents:wn(`Invalid value of loadable atom "${t.key}"`)}function sNe(){const e=j2(),t=oc(),[,n]=tR([]),r=Fy(new Set);r.current=new Set;const i=Fy(new Set),a=Fy(new Map),o=Yo(l=>{const u=a.current.get(l);u&&(u.release(),a.current.delete(l))},[a]),s=Yo((l,u)=>{a.current.has(u)&&n([])},[]);return V0(()=>{const l=t.current;jy(r.current,i.current).forEach(u=>{if(a.current.has(u))return;const c=U0(l,new VM(u),f=>s(f,u),e);a.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s(l.getState(),u)}):s(l.getState(),u)}),jy(i.current,r.current).forEach(u=>{o(u)}),i.current=r.current}),V0(()=>{const l=a.current;return jy(r.current,new Set(l.keys())).forEach(u=>{const c=U0(t.current,new VM(u),d=>s(d,u),e);l.set(u,c)}),()=>l.forEach((u,c)=>o(c))},[e,t,o,s]),One(()=>{function l(m){return g=>{YS(t.current,m,g)}}function u(m){return()=>YS(t.current,m,Ine)}function c(m){var g;r.current.has(m.key)||(r.current=aNe(r.current,m.key));const S=t.current.getState();return L2(t.current,m,T1().early&&(g=S.nextTree)!==null&&g!==void 0?g:S.currentTree)}function d(m){const g=c(m);return nR(g,m,t)}function f(m){return[d(m),l(m)]}function h(m){return[c(m),l(m)]}return{getRecoilValue:d,getRecoilValueLoadable:c,getRecoilState:f,getRecoilStateLoadable:h,getSetRecoilState:l,getResetRecoilState:u}},[r,t])}const lNe={current:0};function uNe(e){const t=oc(),n=j2(),r=Yo(()=>{var s;const l=t.current,u=l.getState(),c=T1().early&&(s=u.nextTree)!==null&&s!==void 0?s:u.currentTree;return{loadable:L2(l,e,c),key:e.key}},[t,e]),i=Yo(s=>{let l;return()=>{var u,c;const d=s();return(u=l)!==null&&u!==void 0&&u.loadable.is(d.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===d.key?l:(l=d,d)}},[]),a=One(()=>i(r),[r,i]),o=Yo(s=>{const l=t.current;return U0(l,e,s,n).release},[t,e,n]);return nNe(o,a,a).loadable}function cNe(e){const t=oc(),n=Yo(()=>{var u;const c=t.current,d=c.getState(),f=T1().early&&(u=d.nextTree)!==null&&u!==void 0?u:d.currentTree;return L2(c,e,f)},[t,e]),r=Yo(()=>n(),[n]),i=j2(),a=Yo((u,c)=>{const d=t.current;return U0(d,e,()=>{if(!br("recoil_suppress_rerender_in_callback"))return c();const h=n();l.current.is(h)||c(),l.current=h},i).release},[t,e,i,n]),o=rNe();if(o==null)throw wn("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const s=tNe(o,r,a),l=Fy(s);return V0(()=>{l.current=s}),s}function HM(e){const t=oc(),n=j2(),r=Yo(()=>{var l;const u=t.current,c=u.getState(),d=T1().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return L2(u,e,d)},[t,e]),i=Yo(()=>({loadable:r(),key:e.key}),[r,e.key]),a=Yo(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);V0(()=>{const l=U0(t.current,e,u=>{s(a)},n);return s(a),l.release},[n,e,t,a]);const[o,s]=tR(i);return o.key!==e.key?i().loadable:o.loadable}function dNe(e){const t=oc(),[,n]=tR([]),r=j2(),i=Yo(()=>{var s;const l=t.current,u=l.getState(),c=T1().early&&(s=u.nextTree)!==null&&s!==void 0?s:u.currentTree;return L2(l,e,c)},[t,e]),a=i(),o=Fy(a);return V0(()=>{o.current=a}),V0(()=>{const s=t.current,l=s.getState(),u=U0(s,e,d=>{var f;if(!br("recoil_suppress_rerender_in_callback"))return n([]);const h=i();(f=o.current)!==null&&f!==void 0&&f.is(h)||n(h),o.current=h},r);if(l.nextTree)s.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!br("recoil_suppress_rerender_in_callback"))return n([]);const d=i();(c=o.current)!==null&&c!==void 0&&c.is(d)||n(d),o.current=d}return u.release},[r,i,e,t]),a}function rR(e){return br("recoil_memory_managament_2020")&&eR(e),{TRANSITION_SUPPORT:HM,SYNC_EXTERNAL_STORE:eNe()?uNe:HM,MUTABLE_SOURCE:cNe,LEGACY:dNe}[T1().mode](e)}function Pne(e){const t=oc(),n=rR(e);return nR(n,e,t)}function aE(e){const t=oc();return Yo(n=>{YS(t.current,e,n)},[t,e])}function fNe(e){const t=oc();return Yo(()=>{YS(t.current,e,Ine)},[t,e])}function hNe(e){return[Pne(e),aE(e)]}function pNe(e){return[rR(e),aE(e)]}function mNe(){const e=oc();return(t,n={})=>{ZTe(()=>{e.current.addTransactionMetadata(n),t.forEach((r,i)=>iNe(e.current,new VM(i),r))})}}function jne(e){return br("recoil_memory_managament_2020")&&eR(e),HM(e)}function Lne(e){const t=oc(),n=jne(e);return nR(n,e,t)}function gNe(e){return[Lne(e),aE(e)]}var vNe={recoilComponentGetRecoilValueCount_FOR_TESTING:lNe,useRecoilInterface:sNe,useRecoilState:hNe,useRecoilStateLoadable:pNe,useRecoilValue:Pne,useRecoilValueLoadable:rR,useResetRecoilState:fNe,useSetRecoilState:aE,useSetUnvalidatedAtomValues:mNe,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:jne,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Lne,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:gNe};function yNe(e,t){const n=new Map;for(const[r,i]of e)t(i,r)&&n.set(r,i);return n}var bNe=yNe;function wNe(e,t){const n=new Set;for(const r of e)t(r)&&n.add(r);return n}var xNe=wNe;function SNe(...e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n].keys();let i;for(;!(i=r.next()).done;)t.set(i.value,e[n].get(i.value))}return t}var CNe=SNe;const{batchUpdates:ENe}=Z4,{DEFAULT_VALUE:kNe,getNode:Fne,nodes:ANe}=es,{useStoreRef:iR}=vd,{AbstractRecoilValue:_Ne,setRecoilValueLoadable:MNe}=ac,{SUSPENSE_TIMEOUT_MS:TNe}=gm,{cloneSnapshot:JS}=rE,{useCallback:oE,useEffect:Bne,useRef:hz,useState:NNe}=O,{isSSR:pz}=eE;function sE(e){const t=iR();Bne(()=>t.current.subscribeToTransactions(e).release,[e,t])}function mz(e){const t=e.atomValues.toMap(),n=KS(bNe(t,(r,i)=>{const o=Fne(i).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return CNe(e.nonvalidatedAtoms.toMap(),n)}function DNe(e){sE(oE(t=>{let n=t.getState().previousTree;const r=t.getState().currentTree;n||(n=t.getState().currentTree);const i=mz(r),a=mz(n),o=KS(ANe,l=>{var u,c,d,f;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(d=(f=l.persistence_UNSTABLE)===null||f===void 0?void 0:f.backButton)!==null&&d!==void 0?d:!1}}}),s=xNe(r.dirtyAtoms,l=>i.has(l)||a.has(l));e({atomValues:i,previousAtomValues:a,atomInfo:o,modifiedAtoms:s,transactionMetadata:{...r.transactionMetadata}})},[e]))}function RNe(e){sE(oE(t=>{const n=JS(t,"latest"),r=JS(t,"previous");e({snapshot:n,previousSnapshot:r})},[e]))}function INe(){const e=iR(),[t,n]=NNe(()=>JS(e.current)),r=Rne(t),i=hz(),a=hz();if(sE(oE(s=>n(JS(s)),[])),Bne(()=>{const s=t.retain();if(i.current&&!pz){var l;window.clearTimeout(i.current),i.current=null,(l=a.current)===null||l===void 0||l.call(a),a.current=null}return()=>{window.setTimeout(s,10)}},[t]),r!==t&&!pz){if(i.current){var o;window.clearTimeout(i.current),i.current=null,(o=a.current)===null||o===void 0||o.call(a),a.current=null}a.current=t.retain(),i.current=window.setTimeout(()=>{var s;i.current=null,(s=a.current)===null||s===void 0||s.call(a),a.current=null},TNe)}return t}function zne(e,t){var n;const r=e.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,a=t.getStore_INTERNAL().getState().currentTree;ENe(()=>{const o=new Set;for(const u of[i.atomValues.keys(),a.atomValues.keys()])for(const c of u){var s,l;((s=i.atomValues.get(c))===null||s===void 0?void 0:s.contents)!==((l=a.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&Fne(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(u=>{MNe(e,new _Ne(u),a.atomValues.has(u)?Wr(a.atomValues.get(u)):kNe)}),e.replaceState(u=>({...u,stateID:t.getID()}))})}function ONe(){const e=iR();return oE(t=>zne(e.current,t),[e])}var $ne={useRecoilSnapshot:INe,gotoSnapshot:zne,useGotoRecoilSnapshot:ONe,useRecoilTransactionObserver:RNe,useTransactionObservation_DEPRECATED:DNe,useTransactionSubscription_DEPRECATED:sE};const{peekNodeInfo:PNe}=mh,{useStoreRef:jNe}=vd;function LNe(){const e=jNe();return({key:t})=>PNe(e.current,e.current.getState().currentTree,t)}var FNe=LNe;const{reactMode:BNe}=I2,{RecoilRoot:zNe,useStoreRef:$Ne}=vd,{useMemo:UNe}=O;function VNe(){BNe().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const e=$Ne().current;return UNe(()=>{function t({children:n}){return O.createElement(zNe,{store_INTERNAL:e},n)}return t},[e])}var HNe=VNe;const{loadableWithValue:qNe}=R2,{initializeNode:WNe}=mh,{DEFAULT_VALUE:GNe,getNode:KNe}=es,{copyTreeState:YNe,getRecoilValueAsLoadable:JNe,invalidateDownstreams:QNe,writeLoadableToTreeState:XNe}=ac;function gz(e){return KNe(e.key).nodeType==="atom"}class ZNe{constructor(t,n){dn(this,"_store",void 0),dn(this,"_treeState",void 0),dn(this,"_changes",void 0),dn(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!gz(r))throw wn("Reading selectors within atomicUpdate is not supported");const i=JNe(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:wn(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),dn(this,"set",(r,i)=>{if(!gz(r))throw wn("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const a=this.get(r);this._changes.set(r.key,i(a))}else WNe(this._store,r.key,"set"),this._changes.set(r.key,i)}),dn(this,"reset",r=>{this.set(r,GNe)}),this._store=t,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const t=YNe(this._treeState);for(const[n,r]of this._changes)XNe(t,n,qNe(r));return QNe(this._store,t),t}}function eDe(e){return t=>{e.replaceState(n=>{const r=new ZNe(e,n);return t(r),r.newTreeState_INTERNAL()})}}var tDe={atomicUpdater:eDe},nDe=tDe.atomicUpdater,Une=Object.freeze({__proto__:null,atomicUpdater:nDe});function rDe(e,t){if(!e)throw new Error(t)}var iDe=rDe,fy=iDe;const{atomicUpdater:aDe}=Une,{batchUpdates:oDe}=Z4,{DEFAULT_VALUE:sDe}=es,{useStoreRef:lDe}=vd,{refreshRecoilValue:uDe,setRecoilValue:vz}=ac,{cloneSnapshot:cDe}=rE,{gotoSnapshot:dDe}=$ne,{useCallback:fDe}=O;class Vne{}const hDe=new Vne;function Hne(e,t,n,r){let i=hDe,a;if(oDe(()=>{const s="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof t!="function")throw wn(s);const l=nne({...r??{},set:(c,d)=>vz(e,c,d),reset:c=>vz(e,c,sDe),refresh:c=>uDe(e,c),gotoSnapshot:c=>dDe(e,c),transact_UNSTABLE:c=>aDe(e)(c)},{snapshot:()=>{const c=cDe(e);return a=c.retain(),c}}),u=t(l);if(typeof u!="function")throw wn(s);i=u(...n)}),i instanceof Vne&&fy(!1),jr(i))i=i.finally(()=>{var s;(s=a)===null||s===void 0||s()});else{var o;(o=a)===null||o===void 0||o()}return i}function pDe(e,t){const n=lDe();return fDe((...r)=>Hne(n.current,e,r),t!=null?[...t,n]:void 0)}var qne={recoilCallback:Hne,useRecoilCallback:pDe};const{useStoreRef:mDe}=vd,{refreshRecoilValue:gDe}=ac,{useCallback:vDe}=O;function yDe(e){const t=mDe();return vDe(()=>{const n=t.current;gDe(n,e)},[e,t])}var bDe=yDe;const{atomicUpdater:wDe}=Une,{useStoreRef:xDe}=vd,{useMemo:SDe}=O;function CDe(e,t){const n=xDe();return SDe(()=>(...r)=>{wDe(n.current)(a=>{e(a)(...r)})},t!=null?[...t,n]:void 0)}var EDe=CDe;class kDe{constructor(t){dn(this,"value",void 0),this.value=t}}var ADe={WrappedValue:kDe},_De=ADe.WrappedValue,Wne=Object.freeze({__proto__:null,WrappedValue:_De});const{isFastRefreshEnabled:MDe}=I2;class yz extends Error{}class TDe{constructor(t){var n,r,i;dn(this,"_name",void 0),dn(this,"_numLeafs",void 0),dn(this,"_root",void 0),dn(this,"_onHit",void 0),dn(this,"_onSet",void 0),dn(this,"_mapNodeValue",void 0),this._name=t==null?void 0:t.name,this._numLeafs=0,this._root=null,this._onHit=(n=t==null?void 0:t.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=t==null?void 0:t.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=t==null?void 0:t.mapNodeValue)!==null&&i!==void 0?i:a=>a}size(){return this._numLeafs}root(){return this._root}get(t,n){var r;return(r=this.getLeafNode(t,n))===null||r===void 0?void 0:r.value}getLeafNode(t,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(t(r.nodeKey));r=r.branches.get(i)}}set(t,n,r){const i=()=>{var a,o,s,l;let u,c;for(const[S,y]of t){var d,f,h;const E=this._root;if((E==null?void 0:E.type)==="leaf")throw this.invalidCacheError();const x=u;if(u=x?x.branches.get(c):E,u=(d=u)!==null&&d!==void 0?d:{type:"branch",nodeKey:S,parent:x,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==S)throw this.invalidCacheError();x==null||x.branches.set(c,u),r==null||(f=r.onNodeVisit)===null||f===void 0||f.call(r,u),c=this._mapNodeValue(y),this._root=(h=this._root)!==null&&h!==void 0?h:u}const m=u?(a=u)===null||a===void 0?void 0:a.branches.get(c):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==c))throw this.invalidCacheError();const g={type:"leaf",value:n,parent:u,branchKey:c};(o=u)===null||o===void 0||o.branches.set(c,g),this._root=(s=this._root)!==null&&s!==void 0?s:g,this._numLeafs++,this._onSet(g),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,g)};try{i()}catch(a){if(a instanceof yz)this.clear(),i();else throw a}}delete(t){const n=this.root();if(!n)return!1;if(t===n)return this._root=null,this._numLeafs=0,!0;let r=t.parent,i=t.branchKey;for(;r;){var a;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(a=r)===null||a===void 0?void 0:a.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const t=MDe()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw H7(t+(this._name!=null?` - ${this._name}`:"")),new yz}}var NDe={TreeCache:TDe},DDe=NDe.TreeCache,Gne=Object.freeze({__proto__:null,TreeCache:DDe});class RDe{constructor(t){var n;dn(this,"_maxSize",void 0),dn(this,"_size",void 0),dn(this,"_head",void 0),dn(this,"_tail",void 0),dn(this,"_map",void 0),dn(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=t.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(t){return this._map.has(this._keyMapper(t))}get(t){const n=this._keyMapper(t),r=this._map.get(n);if(r)return this.set(t,r.value),r.value}set(t,n){const r=this._keyMapper(t);this._map.get(r)&&this.delete(t);const a=this.head(),o={key:t,right:a,left:null,value:n};a?a.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const t=this.tail();t&&this.delete(t.key)}delete(t){const n=this._keyMapper(t);if(!this._size||!this._map.has(n))return;const r=Wr(this._map.get(n)),i=r.right,a=r.left;i&&(i.left=r.left),a&&(a.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=a),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var IDe={LRUCache:RDe},ODe=IDe.LRUCache,Kne=Object.freeze({__proto__:null,LRUCache:ODe});const{LRUCache:PDe}=Kne,{TreeCache:jDe}=Gne;function LDe({name:e,maxSize:t,mapNodeValue:n=r=>r}){const r=new PDe({maxSize:t}),i=new jDe({name:e,mapNodeValue:n,onHit:a=>{r.set(a,!0)},onSet:a=>{const o=r.tail();r.set(a,!0),o&&i.size()>t&&i.delete(o.key)}});return i}var bz=LDe;function Fl(e,t,n){if(typeof e=="string"&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if((t==null?void 0:t.allowFunctions)!==!0)throw wn("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(e===null)return"null";if(typeof e!="object"){var r;return(r=JSON.stringify(e))!==null&&r!==void 0?r:""}if(jr(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map((i,a)=>Fl(i,t,a.toString()))}]`;if(typeof e.toJSON=="function")return Fl(e.toJSON(n),t,n);if(e instanceof Map){const i={};for(const[a,o]of e)i[typeof a=="string"?a:Fl(a,t)]=o;return Fl(i,t,n)}return e instanceof Set?Fl(Array.from(e).sort((i,a)=>Fl(i,t).localeCompare(Fl(a,t))),t,n):Symbol!==void 0&&e[Symbol.iterator]!=null&&typeof e[Symbol.iterator]=="function"?Fl(Array.from(e),t,n):`{${Object.keys(e).filter(i=>e[i]!==void 0).sort().map(i=>`${Fl(i,t)}:${Fl(e[i],t,i)}`).join(",")}}`}function FDe(e,t={allowFunctions:!1}){return Fl(e,t)}var lE=FDe;const{TreeCache:BDe}=Gne,_x={equality:"reference",eviction:"keep-all",maxSize:1/0};function zDe({equality:e=_x.equality,eviction:t=_x.eviction,maxSize:n=_x.maxSize}=_x,r){const i=$De(e);return UDe(t,n,i,r)}function $De(e){switch(e){case"reference":return t=>t;case"value":return t=>lE(t)}throw wn(`Unrecognized equality policy ${e}`)}function UDe(e,t,n,r){switch(e){case"keep-all":return new BDe({name:r,mapNodeValue:n});case"lru":return bz({name:r,maxSize:Wr(t),mapNodeValue:n});case"most-recent":return bz({name:r,maxSize:1,mapNodeValue:n})}throw wn(`Unrecognized eviction policy ${e}`)}var VDe=zDe;function HDe(e){return()=>null}var qDe={startPerfBlock:HDe};const{isLoadable:WDe,loadableWithError:Mx,loadableWithPromise:GDe,loadableWithValue:U8}=R2,{WrappedValue:Yne}=Wne,{getNodeLoadable:Tx,peekNodeLoadable:KDe,setNodeValue:YDe}=mh,{saveDepsToStore:JDe}=O2,{DEFAULT_VALUE:QDe,getConfigDeletionHandler:XDe,getNode:ZDe,registerNode:wz}=es,{isRecoilValue:e9e}=$0,{markRecoilValueModified:xz}=ac,{retainedByOptionWithDefault:t9e}=gm,{recoilCallback:n9e}=qne,{startPerfBlock:r9e}=qDe;class Jne{}const qv=new Jne,Wv=[],Nx=new Map,i9e=(()=>{let e=0;return()=>e++})();function Qne(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=e,a=e.set!=null?e.set:void 0,o=new Set,s=VDe(i??{equality:"reference",eviction:"keep-all"},n),l=t9e(e.retainedBy_UNSTABLE),u=new Map;let c=0;function d(){return!br("recoil_memory_managament_2020")||c>0}function f(W){return W.getState().knownSelectors.add(n),c++,()=>{c--}}function h(){return XDe(n)!==void 0&&!d()}function m(W,L,G,de,Q){D(L,de,Q),g(W,G)}function g(W,L){$(W,L)&&F(W),y(L,!0)}function S(W,L){$(W,L)&&(Wr(M(W)).stateVersions.clear(),y(L,!1))}function y(W,L){const G=Nx.get(W);if(G!=null){for(const de of G)xz(de,Wr(t));L&&Nx.delete(W)}}function E(W,L){let G=Nx.get(L);G==null&&Nx.set(L,G=new Set),G.add(W)}function x(W,L,G,de,Q,ee){return L.then(ne=>{if(!d())throw F(W),qv;const se=U8(ne);return m(W,G,Q,se,de),ne}).catch(ne=>{if(!d())throw F(W),qv;if(jr(ne))return v(W,ne,G,de,Q,ee);const se=Mx(ne);throw m(W,G,Q,se,de),ne})}function v(W,L,G,de,Q,ee){return L.then(ne=>{if(!d())throw F(W),qv;ee.loadingDepKey!=null&&ee.loadingDepPromise===L?G.atomValues.set(ee.loadingDepKey,U8(ne)):W.getState().knownSelectors.forEach(we=>{G.atomValues.delete(we)});const se=A(W,G);if(se&&se.state!=="loading"){if(($(W,Q)||M(W)==null)&&g(W,Q),se.state==="hasValue")return se.contents;throw se.contents}if(!$(W,Q)){const we=T(W,G);if(we!=null)return we.loadingLoadable.contents}const[ge,xe]=b(W,G,Q);if(ge.state!=="loading"&&m(W,G,Q,ge,xe),ge.state==="hasError")throw ge.contents;return ge.contents}).catch(ne=>{if(ne instanceof Jne)throw qv;if(!d())throw F(W),qv;const se=Mx(ne);throw m(W,G,Q,se,de),ne})}function C(W,L,G,de){var Q,ee,ne,se;if($(W,de)||L.version===((Q=W.getState())===null||Q===void 0||(ee=Q.currentTree)===null||ee===void 0?void 0:ee.version)||L.version===((ne=W.getState())===null||ne===void 0||(se=ne.nextTree)===null||se===void 0?void 0:se.version)){var ge,xe,we;JDe(n,G,W,(ge=(xe=W.getState())===null||xe===void 0||(we=xe.nextTree)===null||we===void 0?void 0:we.version)!==null&&ge!==void 0?ge:W.getState().currentTree.version)}for(const _e of G)o.add(_e)}function b(W,L,G){const de=r9e(n);let Q=!0,ee=!0;const ne=()=>{de(),ee=!1};let se,ge=!1,xe;const we={loadingDepKey:null,loadingDepPromise:null},_e=new Map;function ze({key:re}){const Se=Tx(W,L,re);switch(_e.set(re,Se),Q||(C(W,L,new Set(_e.keys()),G),S(W,G)),Se.state){case"hasValue":return Se.contents;case"hasError":throw Se.contents;case"loading":throw we.loadingDepKey=re,we.loadingDepPromise=Se.contents,Se.contents}throw wn("Invalid Loadable state")}const Y=re=>(...Se)=>{if(ee)throw wn("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return t==null&&fy(!1),n9e(W,re,Se,{node:t})};try{se=r({get:ze,getCallback:Y}),se=e9e(se)?ze(se):se,WDe(se)&&(se.state==="hasError"&&(ge=!0),se=se.contents),jr(se)?se=x(W,se,L,_e,G,we).finally(ne):ne(),se=se instanceof Yne?se.value:se}catch(re){se=re,jr(se)?se=v(W,se,L,_e,G,we).finally(ne):(ge=!0,ne())}return ge?xe=Mx(se):jr(se)?xe=GDe(se):xe=U8(se),Q=!1,I(W,G,_e),C(W,L,new Set(_e.keys()),G),[xe,_e]}function A(W,L){let G=L.atomValues.get(n);if(G!=null)return G;const de=new Set;try{G=s.get(ee=>(typeof ee!="string"&&fy(!1),Tx(W,L,ee).contents),{onNodeVisit:ee=>{ee.type==="branch"&&ee.nodeKey!==n&&de.add(ee.nodeKey)}})}catch(ee){throw wn(`Problem with cache lookup for selector "${n}": ${ee.message}`)}if(G){var Q;L.atomValues.set(n,G),C(W,L,de,(Q=M(W))===null||Q===void 0?void 0:Q.executionID)}return G}function _(W,L){const G=A(W,L);if(G!=null)return F(W),G;const de=T(W,L);if(de!=null){var Q;return((Q=de.loadingLoadable)===null||Q===void 0?void 0:Q.state)==="loading"&&E(W,de.executionID),de.loadingLoadable}const ee=i9e(),[ne,se]=b(W,L,ee);return ne.state==="loading"?(N(W,ee,ne,se,L),E(W,ee)):(F(W),D(L,ne,se)),ne}function T(W,L){const G=bne([u.has(W)?[Wr(u.get(W))]:[],Y4(Y7(u,([Q])=>Q!==W),([,Q])=>Q)]);function de(Q){for(const[ee,ne]of Q)if(!Tx(W,L,ee).is(ne))return!0;return!1}for(const Q of G){if(Q.stateVersions.get(L.version)||!de(Q.depValuesDiscoveredSoFarDuringAsyncWork))return Q.stateVersions.set(L.version,!0),Q;Q.stateVersions.set(L.version,!1)}}function M(W){return u.get(W)}function N(W,L,G,de,Q){u.set(W,{depValuesDiscoveredSoFarDuringAsyncWork:de,executionID:L,loadingLoadable:G,stateVersions:new Map([[Q.version,!0]])})}function I(W,L,G){if($(W,L)){const de=M(W);de!=null&&(de.depValuesDiscoveredSoFarDuringAsyncWork=G)}}function F(W){u.delete(W)}function $(W,L){var G;return L===((G=M(W))===null||G===void 0?void 0:G.executionID)}function z(W){return Array.from(W.entries()).map(([L,G])=>[L,G.contents])}function D(W,L,G){W.atomValues.set(n,L);try{s.set(z(G),L)}catch(de){throw wn(`Problem with setting cache for selector "${n}": ${de.message}`)}}function P(W){if(Wv.includes(n)){const L=`Recoil selector has circular dependencies: ${Wv.slice(Wv.indexOf(n)).join(" → ")}`;return Mx(wn(L))}Wv.push(n);try{return W()}finally{Wv.pop()}}function V(W,L){const G=L.atomValues.get(n);return G??s.get(de=>{var Q;return typeof de!="string"&&fy(!1),(Q=KDe(W,L,de))===null||Q===void 0?void 0:Q.contents})}function B(W,L){return P(()=>_(W,L))}function H(W){W.atomValues.delete(n)}function K(W,L){t==null&&fy(!1);for(const de of o){var G;const Q=ZDe(de);(G=Q.clearCache)===null||G===void 0||G.call(Q,W,L)}o.clear(),H(L),s.clear(),xz(W,t)}return a!=null?t=wz({key:n,nodeType:"selector",peek:V,get:B,set:(L,G,de)=>{let Q=!1;const ee=new Map;function ne({key:we}){if(Q)throw wn("Recoil: Async selector sets are not currently supported.");const _e=Tx(L,G,we);if(_e.state==="hasValue")return _e.contents;if(_e.state==="loading"){const ze=`Getting value of asynchronous atom or selector "${we}" in a pending state while setting selector "${n}" is not yet supported.`;throw wn(ze)}else throw _e.contents}function se(we,_e){if(Q)throw wn("Recoil: Async selector sets are not currently supported.");const ze=typeof _e=="function"?_e(ne(we)):_e;YDe(L,G,we.key,ze).forEach((re,Se)=>ee.set(Se,re))}function ge(we){se(we,QDe)}const xe=a({set:se,get:ne,reset:ge},de);if(xe!==void 0)throw jr(xe)?wn("Recoil: Async selector sets are not currently supported."):wn("Recoil: selector set should be a void function.");return Q=!0,ee},init:f,invalidate:H,clearCache:K,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):t=wz({key:n,nodeType:"selector",peek:V,get:B,init:f,invalidate:H,clearCache:K,shouldDeleteConfigOnRelease:h,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}Qne.value=e=>new Yne(e);var H0=Qne;const{isLoadable:a9e,loadableWithError:V8,loadableWithPromise:H8,loadableWithValue:og}=R2,{WrappedValue:Xne}=Wne,{peekNodeInfo:o9e}=mh,{DEFAULT_VALUE:sp,DefaultValue:Jd,getConfigDeletionHandler:Zne,registerNode:s9e,setConfigDeletionHandler:l9e}=es,{isRecoilValue:u9e}=$0,{getRecoilValueAsLoadable:c9e,markRecoilValueModified:d9e,setRecoilValue:Sz,setRecoilValueLoadable:f9e}=ac,{retainedByOptionWithDefault:h9e}=gm,Gv=e=>e instanceof Xne?e.value:e;function p9e(e){const{key:t,persistence_UNSTABLE:n}=e,r=h9e(e.retainedBy_UNSTABLE);let i=0;function a(E){return H8(E.then(x=>(o=og(x),x)).catch(x=>{throw o=V8(x),x}))}let o=jr(e.default)?a(e.default):a9e(e.default)?e.default.state==="loading"?a(e.default.contents):e.default:og(Gv(e.default));o.contents;let s;const l=new Map;function u(E){return E}function c(E,x){const v=x.then(C=>{var b,A;return((A=((b=E.getState().nextTree)!==null&&b!==void 0?b:E.getState().currentTree).atomValues.get(t))===null||A===void 0?void 0:A.contents)===v&&Sz(E,y,C),C}).catch(C=>{var b,A;throw((A=((b=E.getState().nextTree)!==null&&b!==void 0?b:E.getState().currentTree).atomValues.get(t))===null||A===void 0?void 0:A.contents)===v&&f9e(E,y,V8(C)),C});return v}function d(E,x,v){var C;i++;const b=()=>{var F;i--,(F=l.get(E))===null||F===void 0||F.forEach($=>$()),l.delete(E)};if(E.getState().knownAtoms.add(t),o.state==="loading"){const F=()=>{var $;(($=E.getState().nextTree)!==null&&$!==void 0?$:E.getState().currentTree).atomValues.has(t)||d9e(E,y)};o.contents.finally(F)}const A=(C=e.effects)!==null&&C!==void 0?C:e.effects_UNSTABLE;if(A!=null){let P=function(L){if($&&L.key===t){const G=F;return G instanceof Jd?f(E,x):jr(G)?H8(G.then(de=>de instanceof Jd?o.toPromise():de)):og(G)}return c9e(E,L)},V=function(L){return P(L).toPromise()},B=function(L){var G;const de=o9e(E,(G=E.getState().nextTree)!==null&&G!==void 0?G:E.getState().currentTree,L.key);return $&&L.key===t&&!(F instanceof Jd)?{...de,isSet:!0,loadable:P(L)}:de};var M=P,N=V,I=B;let F=sp,$=!0,z=!1,D=null;const H=L=>G=>{if($){const de=P(y),Q=de.state==="hasValue"?de.contents:sp;F=typeof G=="function"?G(Q):G,jr(F)&&(F=F.then(ee=>(D={effect:L,value:ee},ee)))}else{if(jr(G))throw wn("Setting atoms to async values is not implemented.");typeof G!="function"&&(D={effect:L,value:Gv(G)}),Sz(E,y,typeof G=="function"?de=>{const Q=Gv(G(de));return D={effect:L,value:Q},Q}:Gv(G))}},K=L=>()=>H(L)(sp),W=L=>G=>{var de;const{release:Q}=E.subscribeToTransactions(ee=>{var ne;let{currentTree:se,previousTree:ge}=ee.getState();ge||(ge=se);const xe=(ne=se.atomValues.get(t))!==null&&ne!==void 0?ne:o;if(xe.state==="hasValue"){var we,_e,ze,Y;const re=xe.contents,Se=(we=ge.atomValues.get(t))!==null&&we!==void 0?we:o,le=Se.state==="hasValue"?Se.contents:sp;((_e=D)===null||_e===void 0?void 0:_e.effect)!==L||((ze=D)===null||ze===void 0?void 0:ze.value)!==re?G(re,le,!se.atomValues.has(t)):((Y=D)===null||Y===void 0?void 0:Y.effect)===L&&(D=null)}},t);l.set(E,[...(de=l.get(E))!==null&&de!==void 0?de:[],Q])};for(const L of A)try{const G=L({node:y,storeID:E.storeID,parentStoreID_UNSTABLE:E.parentStoreID,trigger:v,setSelf:H(L),resetSelf:K(L),onSet:W(L),getPromise:V,getLoadable:P,getInfo_UNSTABLE:B});if(G!=null){var _;l.set(E,[...(_=l.get(E))!==null&&_!==void 0?_:[],G])}}catch(G){F=G,z=!0}if($=!1,!(F instanceof Jd)){var T;const L=z?V8(F):jr(F)?H8(c(E,F)):og(Gv(F));L.contents,x.atomValues.set(t,L),(T=E.getState().nextTree)===null||T===void 0||T.atomValues.set(t,L)}}return b}function f(E,x){var v,C;return(v=(C=x.atomValues.get(t))!==null&&C!==void 0?C:s)!==null&&v!==void 0?v:o}function h(E,x){if(x.atomValues.has(t))return Wr(x.atomValues.get(t));if(x.nonvalidatedAtoms.has(t)){if(s!=null)return s;if(n==null)return o;const v=x.nonvalidatedAtoms.get(t),C=n.validator(v,sp);return s=C instanceof Jd?o:og(C),s}else return o}function m(){s=void 0}function g(E,x,v){if(x.atomValues.has(t)){const C=Wr(x.atomValues.get(t));if(C.state==="hasValue"&&v===C.contents)return new Map}else if(!x.nonvalidatedAtoms.has(t)&&v instanceof Jd)return new Map;return s=void 0,new Map().set(t,og(v))}function S(){return Zne(t)!==void 0&&i<=0}const y=s9e({key:t,nodeType:"atom",peek:f,get:h,set:g,init:d,invalidate:m,shouldDeleteConfigOnRelease:S,dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return y}function aR(e){const{...t}=e,n="default"in e?e.default:new Promise(()=>{});return u9e(n)?m9e({...t,default:n}):p9e({...t,default:n})}function m9e(e){const t=aR({...e,default:sp,persistence_UNSTABLE:e.persistence_UNSTABLE===void 0?void 0:{...e.persistence_UNSTABLE,validator:r=>r instanceof Jd?r:Wr(e.persistence_UNSTABLE).validator(r,sp)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),n=H0({key:`${e.key}__withFallback`,get:({get:r})=>{const i=r(t);return i instanceof Jd?e.default:i},set:({set:r},i)=>r(t,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return l9e(n.key,Zne(e.key)),n}aR.value=e=>new Xne(e);var ere=aR;class g9e{constructor(t){var n;dn(this,"_map",void 0),dn(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=t==null?void 0:t.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(t){return this._map.has(this._keyMapper(t))}get(t){return this._map.get(this._keyMapper(t))}set(t,n){this._map.set(this._keyMapper(t),n)}delete(t){this._map.delete(this._keyMapper(t))}clear(){this._map.clear()}}var v9e={MapCache:g9e},y9e=v9e.MapCache,b9e=Object.freeze({__proto__:null,MapCache:y9e});const{LRUCache:Cz}=Kne,{MapCache:w9e}=b9e,Dx={equality:"reference",eviction:"none",maxSize:1/0};function x9e({equality:e=Dx.equality,eviction:t=Dx.eviction,maxSize:n=Dx.maxSize}=Dx){const r=S9e(e);return C9e(t,n,r)}function S9e(e){switch(e){case"reference":return t=>t;case"value":return t=>lE(t)}throw wn(`Unrecognized equality policy ${e}`)}function C9e(e,t,n){switch(e){case"keep-all":return new w9e({mapKey:n});case"lru":return new Cz({mapKey:n,maxSize:Wr(t)});case"most-recent":return new Cz({mapKey:n,maxSize:1})}throw wn(`Unrecognized eviction policy ${e}`)}var tre=x9e;const{setConfigDeletionHandler:E9e}=es;function k9e(e){var t,n;const r=tre({equality:(t=(n=e.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var a,o;const s=r.get(i);if(s!=null)return s;const{cachePolicyForParams_UNSTABLE:l,...u}=e,c="default"in e?e.default:new Promise(()=>{}),d=ere({...u,key:`${e.key}__${(a=lE(i))!==null&&a!==void 0?a:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE,effects:typeof e.effects=="function"?e.effects(i):typeof e.effects_UNSTABLE=="function"?e.effects_UNSTABLE(i):(o=e.effects)!==null&&o!==void 0?o:e.effects_UNSTABLE});return r.set(i,d),E9e(d.key,()=>{r.delete(i)}),d}}var A9e=k9e;const{setConfigDeletionHandler:_9e}=es;let M9e=0;function T9e(e){var t,n;const r=tre({equality:(t=(n=e.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&t!==void 0?t:"value",eviction:"keep-all"});return i=>{var a;let o;try{o=r.get(i)}catch(f){throw wn(`Problem with cache lookup for selector ${e.key}: ${f.message}`)}if(o!=null)return o;const s=`${e.key}__selectorFamily/${(a=lE(i,{allowFunctions:!0}))!==null&&a!==void 0?a:"void"}/${M9e++}`,l=f=>e.get(i)(f),u=e.cachePolicy_UNSTABLE,c=typeof e.retainedBy_UNSTABLE=="function"?e.retainedBy_UNSTABLE(i):e.retainedBy_UNSTABLE;let d;if(e.set!=null){const f=e.set;d=H0({key:s,get:l,set:(m,g)=>f(i)(m,g),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else d=H0({key:s,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,d),_9e(d.key,()=>{r.delete(i)}),d}}var gh=T9e;const N9e=gh({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function D9e(e){return N9e(e)}var R9e=D9e;const I9e=gh({key:"__error",get:e=>()=>{throw wn(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function O9e(e){return I9e(e)}var P9e=O9e;function j9e(e){return e}var L9e=j9e;const{loadableWithError:nre,loadableWithPromise:rre,loadableWithValue:ire}=R2;function uE(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[i,a]of t.entries())try{n[i]=e(a)}catch(o){r[i]=o}return[n,r]}function F9e(e){return e!=null&&!jr(e)}function cE(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function qM(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((n,r,i)=>({...n,[r]:t[i]}),{})}function m0(e,t,n){const r=n.map((i,a)=>i==null?ire(t[a]):jr(i)?rre(i):nre(i));return qM(e,r)}function B9e(e,t){return t.map((n,r)=>n===void 0?e[r]:n)}const z9e=gh({key:"__waitForNone",get:e=>({get:t})=>{const n=cE(e),[r,i]=uE(t,n);return m0(e,r,i)},dangerouslyAllowMutability:!0}),$9e=gh({key:"__waitForAny",get:e=>({get:t})=>{const n=cE(e),[r,i]=uE(t,n);return i.some(a=>!jr(a))?m0(e,r,i):new Promise(a=>{for(const[o,s]of i.entries())jr(s)&&s.then(l=>{r[o]=l,i[o]=void 0,a(m0(e,r,i))}).catch(l=>{i[o]=l,a(m0(e,r,i))})})},dangerouslyAllowMutability:!0}),U9e=gh({key:"__waitForAll",get:e=>({get:t})=>{const n=cE(e),[r,i]=uE(t,n);if(i.every(o=>o==null))return qM(e,r);const a=i.find(F9e);if(a!=null)throw a;return Promise.all(i).then(o=>qM(e,B9e(r,o)))},dangerouslyAllowMutability:!0}),V9e=gh({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=cE(e),[r,i]=uE(t,n);return i.every(a=>!jr(a))?m0(e,r,i):Promise.all(i.map((a,o)=>jr(a)?a.then(s=>{r[o]=s,i[o]=void 0}).catch(s=>{r[o]=void 0,i[o]=s}):null)).then(()=>m0(e,r,i))},dangerouslyAllowMutability:!0}),H9e=gh({key:"__noWait",get:e=>({get:t})=>{try{return H0.value(ire(t(e)))}catch(n){return H0.value(jr(n)?rre(n):nre(n))}},dangerouslyAllowMutability:!0});var q9e={waitForNone:z9e,waitForAny:$9e,waitForAll:U9e,waitForAllSettled:V9e,noWait:H9e};const{RecoilLoadable:W9e}=R2,{DefaultValue:G9e}=es,{RecoilRoot:K9e,useRecoilStoreID:Y9e}=vd,{isRecoilValue:J9e}=$0,{retentionZone:Q9e}=Q4,{freshSnapshot:X9e}=rE,{useRecoilState:Z9e,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:e7e,useRecoilStateLoadable:t7e,useRecoilValue:n7e,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:r7e,useRecoilValueLoadable:i7e,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:a7e,useResetRecoilState:o7e,useSetRecoilState:s7e}=vNe,{useGotoRecoilSnapshot:l7e,useRecoilSnapshot:u7e,useRecoilTransactionObserver:c7e}=$ne,{useRecoilCallback:d7e}=qne,{noWait:f7e,waitForAll:h7e,waitForAllSettled:p7e,waitForAny:m7e,waitForNone:g7e}=q9e;var F2={DefaultValue:G9e,isRecoilValue:J9e,RecoilLoadable:W9e,RecoilEnv:M1,RecoilRoot:K9e,useRecoilStoreID:Y9e,useRecoilBridgeAcrossReactRoots_UNSTABLE:HNe,atom:ere,selector:H0,atomFamily:A9e,selectorFamily:gh,constSelector:R9e,errorSelector:P9e,readOnlySelector:L9e,noWait:f7e,waitForNone:g7e,waitForAny:m7e,waitForAll:h7e,waitForAllSettled:p7e,useRecoilValue:n7e,useRecoilValueLoadable:i7e,useRecoilState:Z9e,useRecoilStateLoadable:t7e,useSetRecoilState:s7e,useResetRecoilState:o7e,useGetRecoilValueInfo_UNSTABLE:FNe,useRecoilRefresher_UNSTABLE:bDe,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:a7e,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:r7e,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:e7e,useRecoilCallback:d7e,useRecoilTransaction_UNSTABLE:EDe,useGotoRecoilSnapshot:l7e,useRecoilSnapshot:u7e,useRecoilTransactionObserver_UNSTABLE:c7e,snapshot_UNSTABLE:X9e,useRetain:eR,retentionZone:Q9e},v7e=F2.RecoilRoot,B2=F2.atom,are=F2.selector,sc=F2.useRecoilValue,Ct=F2.useRecoilState;const Ez=B2({key:"character-active-internal",default:b7e()}),Sr=are({key:"characterState",get:({get:e})=>e(Ez),set:({set:e},t)=>{t||y7e(),e(Ez,t)}});function y7e(){localStorage.removeItem("character")}function b7e(){return null}const Nb=20,z2=550,w7e=815,kz="Wanderer's Guide",Xp="#359fdf";function x7e(e){var r,i;const t=Ja(),n=sc(Sr);return p.jsxs(Ae,{gap:5,wrap:"nowrap",children:[p.jsx(A6e,{color:((i=(r=n==null?void 0:n.details)==null?void 0:r.sheet_theme)==null?void 0:i.color)||Xp,size:e.size}),p.jsx(_s,{radius:"md",h:e.size,src:k6e,alt:"Wanderer's Guide",style:{objectFit:"contain",objectPosition:"center",cursor:"pointer"},onClick:()=>t("/")})]})}function ore(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(a=>a(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function sre(e){return j.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}const S7e=()=>ore({opened:!1,empty:!1,selected:-1,listId:"",query:"",registeredActions:new Set}),C7e=e=>sre(e);function q0(e,t){const n=t.getState();t.setState({...n,...e(t.getState())})}function lre(e){q0(()=>({opened:!0}),e)}function ure(e){q0(()=>({opened:!1}),e)}function cre(e){q0(t=>({opened:!t.opened}),e)}function dre(e,t){t.updateState(n=>({...n,selected:e}))}function E7e(e,t){t.updateState(n=>({...n,listId:e}))}function dE(e,t){var l,u;const n=t.getState(),r=document.getElementById(n.listId),i=r==null?void 0:r.querySelector("[data-selected]"),a=(r==null?void 0:r.querySelectorAll("[data-action]"))??[],o=e===-1?a.length-1:e===a.length?0:e,s=Fu(o,0,a.length-1);return i==null||i.removeAttribute("data-selected"),(l=a[s])==null||l.scrollIntoView({block:"nearest"}),(u=a[s])==null||u.setAttribute("data-selected","true"),dre(s,t),s}function k7e(e){return dE(e.getState().selected+1,e)}function A7e(e){return dE(e.getState().selected-1,e)}function _7e(e){const t=e.getState(),n=document.querySelector(`#${t.listId} [data-selected]`);n==null||n.click()}function M7e(e,t){const n=t.getState();return n.registeredActions.add(e),()=>{n.registeredActions.delete(e)}}function T7e(e,t){q0(()=>({query:e}),t),Promise.resolve().then(()=>{dE(0,t),q0(n=>({empty:n.query.trim().length>0&&n.registeredActions.size===0||!1}),t)})}function N7e({clearQuery:e},t){t.updateState(n=>({...n,selected:-1,query:e?"":n.query,empty:e?!1:n.empty}))}const Hu={open:lre,close:ure,toggle:cre,updateState:q0,setSelectedAction:dre,setListId:E7e,selectAction:dE,selectNextAction:k7e,selectPreviousAction:A7e,triggerSelectedAction:_7e,registerAction:M7e,setQuery:T7e,clearSpotlightState:N7e};function D7e(){const e=S7e();return[e,{open:()=>lre(e),close:()=>ure(e),toggle:()=>cre(e)}]}const[fre,fE]=D7e();function WM(e){const t=e;return t.group!==void 0&&Array.isArray(t.actions)}var Yu={root:"m-d2b315db",content:"m-3cd250e0",body:"m-d2abce9b",search:"m-f366a061",actionsList:"m-6e463822",action:"m-d49bb8ef",actionBody:"m-3d475731",actionSection:"m-832642f6",actionLabel:"m-6c2a1345",actionDescription:"m-a6d9d78d",empty:"m-82f78f74",footer:"m-ddcaf054",actionsGroup:"m-5a3e5f7b"};const[R7e,N1]=Kr("Spotlight component was not found in tree"),I7e={size:"lg"},hE=Ge((e,t)=>{const{classNames:n,styles:r,onKeyDown:i,onChange:a,vars:o,value:s,...l}=Fe("SpotlightSearch",I7e,e),u=N1(),c=u.getStyles("search"),[d,f]=O.useState(!1),h=m=>{i==null||i(m),!d&&(m.nativeEvent.code==="ArrowDown"&&(m.preventDefault(),Hu.selectNextAction(u.store)),m.nativeEvent.code==="ArrowUp"&&(m.preventDefault(),Hu.selectPreviousAction(u.store)),m.nativeEvent.code==="Enter"&&(m.preventDefault(),Hu.triggerSelectedAction(u.store)))};return O.createElement(ki,{ref:t,classNames:[{input:c.className},n],styles:[{input:c.style},r],...l,value:s??u.query,onChange:m=>{u.setQuery(m.currentTarget.value),a==null||a(m)},onKeyDown:h,onCompositionStart:()=>f(!0),onCompositionEnd:()=>f(!1)})});hE.classes=Yu;hE.displayName="@mantine/spotlight/SpotlightSearch";const O7e={},pE=Ge((e,t)=>{const{className:n,style:r,id:i,children:a,vars:o,classNames:s,styles:l,...u}=Fe("SpotlightActionsList",O7e,e),c=N1(),d=`mantine-${j.useId().replace(/:/g,"")}`,f=i||d;return j.useEffect(()=>(Hu.setListId(f,c.store),()=>Hu.setListId("",c.store)),[]),O.createElement(Jn.Autosize,{...c.getStyles("actionsList",{className:n,style:r,classNames:s,styles:l}),ref:t,type:"scroll",scrollbarSize:"var(--spotlight-actions-list-padding)",offsetScrollbars:"y",id:f,...u},a)});pE.classes=Yu;pE.displayName="@mantine/spotlight/SpotlightActionsList";const P7e={dimmedSections:!0,highlightQuery:!1},Db=Ge((e,t)=>{const n=Fe("SpotlightAction",P7e,e),{className:r,style:i,classNames:a,styles:o,id:s,description:l,label:u,leftSection:c,rightSection:d,children:f,dimmedSections:h,highlightQuery:m,highlightColor:g,closeSpotlightOnTrigger:S,onClick:y,onMouseDown:E,keywords:x,vars:v,...C}=n,b=N1(),A={classNames:a,styles:o},_=m&&typeof u=="string"?O.createElement(l7,{component:"span",highlight:b.query,color:g,...b.getStyles("actionLabel",A)},u):O.createElement("span",{...b.getStyles("actionLabel",A)},u);return O.createElement(Hn,{ref:t,"data-action":!0,...b.getStyles("action",{className:r,style:i,...A}),...C,onMouseDown:T=>{T.preventDefault(),E==null||E(T)},onClick:T=>{y==null||y(T),(S??b.closeOnActionTrigger)&&Hu.close(b.store)},tabIndex:-1},f||O.createElement(O.Fragment,null,c&&O.createElement(Z,{component:"span",mod:{position:"left",dimmed:h},...b.getStyles("actionSection",A)},c),O.createElement("span",{...b.getStyles("actionBody",A)},_,O.createElement("span",{...b.getStyles("actionDescription",A)},l)),d&&O.createElement(Z,{component:"span",mod:{position:"right",dimmed:h},...b.getStyles("actionSection",A)},d)))});Db.classes=Yu;Db.displayName="@mantine/spotlight/SpotlightAction";const j7e={},mE=Ge((e,t)=>{const{className:n,style:r,classNames:i,styles:a,...o}=Fe("SpotlightEmpty",j7e,e),s=N1();return O.createElement(Z,{ref:t,...s.getStyles("empty",{classNames:i,styles:a,className:n,style:r}),...o})});mE.classes=Yu;mE.displayName="@mantine/spotlight/SpotlightEmpty";const L7e={},oR=Ge((e,t)=>{const{className:n,style:r,classNames:i,styles:a,...o}=Fe("SpotlightFooter",L7e,e),s=N1();return O.createElement(Z,{ref:t,...s.getStyles("footer",{className:n,classNames:i,style:r,styles:a}),...o})});oR.classes=Yu;oR.displayName="@mantine/spotlight/SpotlightFooter";const F7e={},gE=Ge((e,t)=>{const{className:n,style:r,styles:i,classNames:a,label:o,children:s,...l}=Fe("SpotlightActionsGroup",F7e,e),u=N1();return O.createElement(Z,{...u.getStyles("actionsGroup",{className:n,style:r,classNames:a,styles:i}),ref:t,...l,__vars:{"--spotlight-label":`'${o}'`}},s)});gE.classes=Yu;gE.displayName="@mantine/core/SpotlightActionsGroup";function B7e(e,t){if(!e)return[];const n=()=>Hu.open(t);return Array.isArray(e)?e.map(r=>[r,n]):[[e,n]]}const z7e={size:600,yOffset:80,zIndex:Ya("max"),overlayProps:{backgroundOpacity:.35,blur:7},transitionProps:{duration:200,transition:"pop"},store:fre,clearQueryOnClose:!0,closeOnActionTrigger:!0,shortcut:"mod + K",maxHeight:400,scrollable:!1},vE=Ge((e,t)=>{const n=Fe("SpotlightRoot",z7e,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,store:u,children:c,query:d,onQueryChange:f,transitionProps:h,clearQueryOnClose:m,shortcut:g,tagsToIgnore:S,triggerOnContentEditable:y,disabled:E,onSpotlightOpen:x,onSpotlightClose:v,forceOpened:C,closeOnActionTrigger:b,maxHeight:A,scrollable:_,...T}=n,M=ht(),{opened:N,query:I}=C7e(u),F=d||I,$=D=>{f==null||f(D),Hu.setQuery(D,u)},z=gt({name:"Spotlight",classes:Yu,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s});return bxe(B7e(g,u),S,y),$n(()=>{N?x==null||x():v==null||v()},[N]),E?null:O.createElement(R7e,{value:{getStyles:z,query:F,setQuery:$,store:u,closeOnActionTrigger:b}},O.createElement(ra,{ref:t,...T,withCloseButton:!1,opened:N||!!C,padding:0,onClose:()=>Hu.close(u),className:i,style:a,classNames:f2({theme:M,classNames:[Yu,r],props:n,stylesCtx:void 0}),styles:kb({theme:M,styles:o,props:n,stylesCtx:void 0}),transitionProps:{...h,onExited:()=>{var D;m&&$(""),Hu.clearSpotlightState({clearQuery:m},u),(D=h==null?void 0:h.onExited)==null||D.call(h)}},__vars:{"--spotlight-max-height":_?me(A):void 0},__staticSelector:"Spotlight","data-scrollable":_||void 0},c))});vE.classes=Yu;vE.displayName="@mantine/spotlight/SpotlightRoot";function $7e(e){return Array.isArray(e)?e.map(t=>t.trim()).join(",").toLowerCase().trim():typeof e=="string"?e.toLowerCase().trim():""}function U7e(e){return e.reduce((t,n)=>"actions"in n?[...t,...n.actions.map(r=>({...r,group:n.group}))]:[...t,n],[])}function V7e(e){const t={},n=[];return e.forEach(r=>{r.group?(t[r.group]||(t[r.group]={pushed:!1,data:{group:r.group,actions:[]}}),t[r.group].data.actions.push(r),t[r.group].pushed||(t[r.group].pushed=!0,n.push(t[r.group].data))):n.push(r)}),n}const H7e=(e,t)=>{const n=e.trim().toLowerCase(),r=[[],[]];return U7e(t).forEach(a=>{var o,s;(o=a.label)!=null&&o.toLowerCase().includes(n)?r[0].push(a):((s=a.description)!=null&&s.toLowerCase().includes(n)||$7e(a.keywords).includes(n))&&r[1].push(a)}),V7e(r.flat())};function hre(e,t){const n=[];if(!Array.isArray(e))return[];for(let r=0;r<e.length;r+=1){const i=e[r];if(n.length>=t)return n;WM(i)&&n.push({group:i.group,actions:hre(i.actions,t-n.length)}),WM(i)||n.push(i)}return n}const q7e={size:600,yOffset:80,limit:1/0,zIndex:Ya("max"),overlayProps:{backgroundOpacity:.35,blur:7},transitionProps:{duration:200,transition:"pop"},store:fre,filter:H7e,clearQueryOnClose:!0,closeOnActionTrigger:!0,shortcut:"mod + K",highlightQuery:!1},Ps=Ge((e,t)=>{const n=Fe("Spotlight",q7e,e),{searchProps:r,filter:i,query:a,onQueryChange:o,actions:s,nothingFound:l,highlightQuery:u,limit:c,...d}=n,[f,h]=Ei({value:a,defaultValue:"",finalValue:"",onChange:o}),m=hre(i(f,s),c).map(g=>{if(WM(g)){const S=g.actions.map(({id:y,...E})=>O.createElement(Db,{key:y,highlightQuery:u,...E}));return O.createElement(gE,{key:g.group,label:g.group},S)}return O.createElement(Db,{key:g.id,highlightQuery:u,...g})});return O.createElement(vE,{...d,query:f,onQueryChange:h,ref:t},O.createElement(hE,{...r}),O.createElement(pE,null,m,m.length===0&&l&&O.createElement(mE,null,l)))});Ps.classes=Yu;Ps.displayName="@mantine/spotlight/Spotlight";Ps.Search=hE;Ps.ActionsList=pE;Ps.Action=Db;Ps.Empty=mE;Ps.ActionsGroup=gE;Ps.Footer=oR;Ps.Root=vE;Ps.open=fE.open;Ps.close=fE.close;Ps.toggle=fE.toggle;var pre={exports:{}},W7e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",G7e=W7e,K7e=G7e;function mre(){}function gre(){}gre.resetWarningCache=mre;var Y7e=function(){function e(r,i,a,o,s,l){if(l!==K7e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:gre,resetWarningCache:mre};return n.PropTypes=n,n};pre.exports=Y7e();var J7e=pre.exports;const Fn=Rs(J7e);var Q7e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},X7e=Object.defineProperty,Z7e=Object.defineProperties,eRe=Object.getOwnPropertyDescriptors,QS=Object.getOwnPropertySymbols,vre=Object.prototype.hasOwnProperty,yre=Object.prototype.propertyIsEnumerable,Az=(e,t,n)=>t in e?X7e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_z=(e,t)=>{for(var n in t||(t={}))vre.call(t,n)&&Az(e,n,t[n]);if(QS)for(var n of QS(t))yre.call(t,n)&&Az(e,n,t[n]);return e},tRe=(e,t)=>Z7e(e,eRe(t)),nRe=(e,t)=>{var n={};for(var r in e)vre.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&QS)for(var r of QS(e))t.indexOf(r)<0&&yre.call(e,r)&&(n[r]=e[r]);return n},De=(e,t,n)=>{const r=j.forwardRef((i,a)=>{var o=i,{color:s="currentColor",size:l=24,stroke:u=2,children:c}=o,d=nRe(o,["color","size","stroke","children"]);return j.createElement("svg",_z(tRe(_z({ref:a},Q7e),{width:l,height:l,stroke:s,strokeWidth:u,className:`tabler-icon tabler-icon-${e}`}),d),[...n.map(([f,h])=>j.createElement(f,h)),...c||[]])});return r.propTypes={color:Fn.string,size:Fn.oneOfType([Fn.string,Fn.number]),stroke:Fn.oneOfType([Fn.string,Fn.number])},r.displayName=`${t}`,r},rRe=De("address-book","IconAddressBook",[["path",{d:"M20 6v12a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2z",key:"svg-0"}],["path",{d:"M10 16h6",key:"svg-1"}],["path",{d:"M13 11m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M4 8h3",key:"svg-3"}],["path",{d:"M4 12h3",key:"svg-4"}],["path",{d:"M4 16h3",key:"svg-5"}]]),iRe=De("adjustments","IconAdjustments",[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]]),aRe=De("affiliate-filled","IconAffiliateFilled",[["path",{d:"M18.5 3a2.5 2.5 0 1 1 -.912 4.828l-4.556 4.555a5.475 5.475 0 0 1 .936 3.714l2.624 .787a2.5 2.5 0 1 1 -.575 1.916l-2.623 -.788a5.5 5.5 0 0 1 -10.39 -2.29l-.004 -.222l.004 -.221a5.5 5.5 0 0 1 2.984 -4.673l-.788 -2.624a2.498 2.498 0 0 1 -2.194 -2.304l-.006 -.178l.005 -.164a2.5 2.5 0 1 1 4.111 2.071l.787 2.625a5.475 5.475 0 0 1 3.714 .936l4.555 -4.556a2.487 2.487 0 0 1 -.167 -.748l-.005 -.164l.005 -.164a2.5 2.5 0 0 1 2.495 -2.336z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),oRe=De("alarm-filled","IconAlarmFilled",[["path",{d:"M16 6.072a8 8 0 1 1 -11.995 7.213l-.005 -.285l.005 -.285a8 8 0 0 1 11.995 -6.643zm-4 2.928a1 1 0 0 0 -1 1v3l.007 .117a1 1 0 0 0 .993 .883h2l.117 -.007a1 1 0 0 0 .883 -.993l-.007 -.117a1 1 0 0 0 -.993 -.883h-1v-2l-.007 -.117a1 1 0 0 0 -.993 -.883z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["path",{d:"M6.412 3.191a1 1 0 0 1 1.273 1.539l-.097 .08l-2.75 2a1 1 0 0 1 -1.273 -1.54l.097 -.08l2.75 -2z",fill:"currentColor",key:"svg-1",strokeWidth:"0"}],["path",{d:"M16.191 3.412a1 1 0 0 1 1.291 -.288l.106 .067l2.75 2a1 1 0 0 1 -1.07 1.685l-.106 -.067l-2.75 -2a1 1 0 0 1 -.22 -1.397z",fill:"currentColor",key:"svg-2",strokeWidth:"0"}]]),sRe=De("album","IconAlbum",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4v7l2 -2l2 2v-7",key:"svg-1"}]]),lRe=De("alien-filled","IconAlienFilled",[["path",{d:"M12.004 2c4.942 0 8.288 2.503 8.85 6.444a12.884 12.884 0 0 1 -2.163 9.308a11.794 11.794 0 0 1 -3.51 3.356c-1.982 1.19 -4.376 1.19 -6.373 -.008a11.763 11.763 0 0 1 -3.489 -3.34a12.808 12.808 0 0 1 -2.171 -9.306c.564 -3.95 3.91 -6.454 8.856 -6.454zm1.913 14.6a1 1 0 0 0 -1.317 -.517l-.146 .055a1.5 1.5 0 0 1 -1.054 -.055l-.11 -.04a1 1 0 0 0 -.69 1.874a3.5 3.5 0 0 0 2.8 0a1 1 0 0 0 .517 -1.317zm-5.304 -6.39a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -1.497l-2 -2zm8.094 .083a1 1 0 0 0 -1.414 0l-2 2l-.083 .094a1 1 0 0 0 1.497 1.32l2 -2l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),uRe=De("align-center","IconAlignCenter",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M8 12l8 0",key:"svg-1"}],["path",{d:"M6 18l12 0",key:"svg-2"}]]),cRe=De("align-justified","IconAlignJustified",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l12 0",key:"svg-2"}]]),dRe=De("align-left","IconAlignLeft",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l10 0",key:"svg-1"}],["path",{d:"M4 18l14 0",key:"svg-2"}]]),fRe=De("align-right","IconAlignRight",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M10 12l10 0",key:"svg-1"}],["path",{d:"M6 18l14 0",key:"svg-2"}]]),bre=De("archive","IconArchive",[["path",{d:"M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10",key:"svg-1"}],["path",{d:"M10 12l4 0",key:"svg-2"}]]),hRe=De("arrow-badge-down-filled","IconArrowBadgeDownFilled",[["path",{d:"M16.375 6.22l-4.375 3.498l-4.375 -3.5a1 1 0 0 0 -1.625 .782v6a1 1 0 0 0 .375 .78l5 4a1 1 0 0 0 1.25 0l5 -4a1 1 0 0 0 .375 -.78v-6a1 1 0 0 0 -1.625 -.78z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),wre=De("arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]),pRe=De("arrow-narrow-right","IconArrowNarrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M15 16l4 -4",key:"svg-1"}],["path",{d:"M15 8l4 4",key:"svg-2"}]]),mRe=De("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),gRe=De("artboard","IconArtboard",[["path",{d:"M8 8m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M3 8l1 0",key:"svg-1"}],["path",{d:"M3 16l1 0",key:"svg-2"}],["path",{d:"M8 3l0 1",key:"svg-3"}],["path",{d:"M16 3l0 1",key:"svg-4"}],["path",{d:"M20 8l1 0",key:"svg-5"}],["path",{d:"M20 16l1 0",key:"svg-6"}],["path",{d:"M8 20l0 1",key:"svg-7"}],["path",{d:"M16 20l0 1",key:"svg-8"}]]),vRe=De("asset","IconAsset",[["path",{d:"M9 15m-6 0a6 6 0 1 0 12 0a6 6 0 1 0 -12 0",key:"svg-0"}],["path",{d:"M9 15m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M14.218 17.975l6.619 -12.174",key:"svg-3"}],["path",{d:"M6.079 9.756l12.217 -6.631",key:"svg-4"}],["path",{d:"M9 15m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-5"}]]),xre=De("backpack","IconBackpack",[["path",{d:"M5 18v-6a6 6 0 0 1 6 -6h2a6 6 0 0 1 6 6v6a3 3 0 0 1 -3 3h-8a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M10 6v-1a2 2 0 1 1 4 0v1",key:"svg-1"}],["path",{d:"M9 21v-4a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v4",key:"svg-2"}],["path",{d:"M11 10h2",key:"svg-3"}]]),sR=De("badges-filled","IconBadgesFilled",[["path",{d:"M16.486 12.143l-4.486 2.69l-4.486 -2.69a1 1 0 0 0 -1.514 .857v4a1 1 0 0 0 .486 .857l5 3a1 1 0 0 0 1.028 0l5 -3a1 1 0 0 0 .486 -.857v-4a1 1 0 0 0 -1.514 -.857z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["path",{d:"M16.486 3.143l-4.486 2.69l-4.486 -2.69a1 1 0 0 0 -1.514 .857v4a1 1 0 0 0 .486 .857l5 3a1 1 0 0 0 1.028 0l5 -3a1 1 0 0 0 .486 -.857v-4a1 1 0 0 0 -1.514 -.857z",fill:"currentColor",key:"svg-1",strokeWidth:"0"}]]),yRe=De("bat","IconBat",[["path",{d:"M17 16c.74 -2.286 2.778 -3.762 5 -3c-.173 -2.595 .13 -5.314 -2 -7.5c-1.708 2.648 -3.358 2.557 -5 2.5v-4l-3 2l-3 -2v4c-1.642 .057 -3.292 .148 -5 -2.5c-2.13 2.186 -1.827 4.905 -2 7.5c2.222 -.762 4.26 .714 5 3c2.593 0 3.889 .952 5 4c1.111 -3.048 2.407 -4 5 -4z",key:"svg-0"}],["path",{d:"M9 8a3 3 0 0 0 6 0",key:"svg-1"}]]),bRe=De("biohazard","IconBiohazard",[["path",{d:"M12 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M11.939 14c0 .173 .048 .351 .056 .533l0 .217a4.75 4.75 0 0 1 -4.533 4.745l-.217 0m-4.75 -4.75a4.75 4.75 0 0 1 7.737 -3.693m6.513 8.443a4.75 4.75 0 0 1 -4.69 -5.503l-.06 0m1.764 -2.944a4.75 4.75 0 0 1 7.731 3.477l0 .217m-11.195 -3.813a4.75 4.75 0 0 1 -1.828 -7.624l.164 -.172m6.718 0a4.75 4.75 0 0 1 -1.665 7.798",key:"svg-1"}]]),wRe=De("blockquote","IconBlockquote",[["path",{d:"M6 15h15",key:"svg-0"}],["path",{d:"M21 19h-15",key:"svg-1"}],["path",{d:"M15 11h6",key:"svg-2"}],["path",{d:"M21 7h-6",key:"svg-3"}],["path",{d:"M9 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2",key:"svg-4"}],["path",{d:"M3 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2",key:"svg-5"}]]),xRe=De("bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]),SRe=De("bong","IconBong",[["path",{d:"M13 3v8.416c.134 .059 .265 .123 .393 .193l3.607 -3.609l2 2l-3.608 3.608a5 5 0 1 1 -6.392 -2.192v-8.416h4z",key:"svg-0"}],["path",{d:"M8 3h6",key:"svg-1"}],["path",{d:"M6.1 17h9.8",key:"svg-2"}]]),yE=De("book-2","IconBook2",[["path",{d:"M19 4v16h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12z",key:"svg-0"}],["path",{d:"M19 16h-12a2 2 0 0 0 -2 2",key:"svg-1"}],["path",{d:"M9 8h6",key:"svg-2"}]]),CRe=De("book","IconBook",[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]]),ERe=De("bookmark-filled","IconBookmarkFilled",[["path",{d:"M14 2a5 5 0 0 1 5 5v14a1 1 0 0 1 -1.555 .832l-5.445 -3.63l-5.444 3.63a1 1 0 0 1 -1.55 -.72l-.006 -.112v-14a5 5 0 0 1 5 -5h4z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),kRe=De("bookmarks","IconBookmarks",[["path",{d:"M15 10v11l-5 -3l-5 3v-11a3 3 0 0 1 3 -3h4a3 3 0 0 1 3 3z",key:"svg-0"}],["path",{d:"M11 3h5a3 3 0 0 1 3 3v11",key:"svg-1"}]]),Sre=De("books","IconBooks",[["path",{d:"M5 4m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M9 4m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M5 8h4",key:"svg-2"}],["path",{d:"M9 16h4",key:"svg-3"}],["path",{d:"M13.803 4.56l2.184 -.53c.562 -.135 1.133 .19 1.282 .732l3.695 13.418a1.02 1.02 0 0 1 -.634 1.219l-.133 .041l-2.184 .53c-.562 .135 -1.133 -.19 -1.282 -.732l-3.695 -13.418a1.02 1.02 0 0 1 .634 -1.219l.133 -.041z",key:"svg-4"}],["path",{d:"M14 9l4 -1",key:"svg-5"}],["path",{d:"M16 16l3.923 -.98",key:"svg-6"}]]),ARe=De("bow","IconBow",[["path",{d:"M17 3h4v4",key:"svg-0"}],["path",{d:"M21 3l-15 15",key:"svg-1"}],["path",{d:"M3 18h3v3",key:"svg-2"}],["path",{d:"M16.5 20c1.576 -1.576 2.5 -4.095 2.5 -6.5c0 -4.81 -3.69 -8.5 -8.5 -8.5c-2.415 0 -4.922 .913 -6.5 2.5l12.5 12.5z",key:"svg-3"}]]),_Re=De("box-seam","IconBoxSeam",[["path",{d:"M12 3l8 4.5v9l-8 4.5l-8 -4.5v-9l8 -4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M8.2 9.8l7.6 -4.6",key:"svg-2"}],["path",{d:"M12 12v9",key:"svg-3"}],["path",{d:"M12 12l-8 -4.5",key:"svg-4"}]]),MRe=De("brand-4chan","IconBrand4chan",[["path",{d:"M14 11s6.054 -1.05 6 -4.5c-.038 -2.324 -2.485 -3.19 -3.016 -1.5c0 0 -.502 -2 -2.01 -2c-1.508 0 -2.984 3 -.974 8z",key:"svg-0"}],["path",{d:"M13.98 11s6.075 -1.05 6.02 -4.5c-.038 -2.324 -2.493 -3.19 -3.025 -1.5c0 0 -.505 -2 -2.017 -2c-1.513 0 -3 3 -.977 8z",key:"svg-1"}],["path",{d:"M13 13.98l.062 .309l.081 .35l.075 .29l.092 .328l.11 .358l.061 .188l.139 .392c.64 1.73 1.841 3.837 3.88 3.805c2.324 -.038 3.19 -2.493 1.5 -3.025l.148 -.045l.165 -.058a4.13 4.13 0 0 0 .098 -.039l.222 -.098c.586 -.28 1.367 -.832 1.367 -1.777c0 -1.513 -3 -3 -8 -.977z",key:"svg-2"}],["path",{d:"M10.02 13l-.309 .062l-.35 .081l-.29 .075l-.328 .092l-.358 .11l-.188 .061l-.392 .139c-1.73 .64 -3.837 1.84 -3.805 3.88c.038 2.324 2.493 3.19 3.025 1.5l.045 .148l.058 .165l.039 .098l.098 .222c.28 .586 .832 1.367 1.777 1.367c1.513 0 3 -3 .977 -8z",key:"svg-3"}],["path",{d:"M11 10.02l-.062 -.309l-.081 -.35l-.075 -.29l-.092 -.328l-.11 -.358l-.128 -.382l-.148 -.399c-.658 -1.687 -1.844 -3.634 -3.804 -3.604c-2.324 .038 -3.19 2.493 -1.5 3.025l-.148 .045l-.164 .058a4.13 4.13 0 0 0 -.1 .039l-.22 .098c-.588 .28 -1.368 .832 -1.368 1.777c0 1.513 3 3 8 .977z",key:"svg-4"}]]),TRe=De("brand-codesandbox","IconBrandCodesandbox",[["path",{d:"M20 7.5v9l-4 2.25l-4 2.25l-4 -2.25l-4 -2.25v-9l4 -2.25l4 -2.25l4 2.25z",key:"svg-0"}],["path",{d:"M12 12l4 -2.25l4 -2.25",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}],["path",{d:"M12 12l-4 -2.25l-4 -2.25",key:"svg-3"}],["path",{d:"M20 12l-4 2v4.75",key:"svg-4"}],["path",{d:"M4 12l4 2l0 4.75",key:"svg-5"}],["path",{d:"M8 5.25l4 2.25l4 -2.25",key:"svg-6"}]]),NRe=De("brand-discord-filled","IconBrandDiscordFilled",[["path",{d:"M14.983 3l.123 .006c2.014 .214 3.527 .672 4.966 1.673a1 1 0 0 1 .371 .488c1.876 5.315 2.373 9.987 1.451 12.28c-1.003 2.005 -2.606 3.553 -4.394 3.553c-.732 0 -1.693 -.968 -2.328 -2.045a21.512 21.512 0 0 0 2.103 -.493a1 1 0 1 0 -.55 -1.924c-3.32 .95 -6.13 .95 -9.45 0a1 1 0 0 0 -.55 1.924c.717 .204 1.416 .37 2.103 .494c-.635 1.075 -1.596 2.044 -2.328 2.044c-1.788 0 -3.391 -1.548 -4.428 -3.629c-.888 -2.217 -.39 -6.89 1.485 -12.204a1 1 0 0 1 .371 -.488c1.439 -1.001 2.952 -1.459 4.966 -1.673a1 1 0 0 1 .935 .435l.063 .107l.651 1.285l.137 -.016a12.97 12.97 0 0 1 2.643 0l.134 .016l.65 -1.284a1 1 0 0 1 .754 -.54l.122 -.009zm-5.983 7a2 2 0 0 0 -1.977 1.697l-.018 .154l-.005 .149l.005 .15a2 2 0 1 0 1.995 -2.15zm6 0a2 2 0 0 0 -1.977 1.697l-.018 .154l-.005 .149l.005 .15a2 2 0 1 0 1.995 -2.15z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),DRe=De("brand-discord","IconBrandDiscord",[["path",{d:"M8 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-0"}],["path",{d:"M14 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M15.5 17c0 1 1.5 3 2 3c1.5 0 2.833 -1.667 3.5 -3c.667 -1.667 .5 -5.833 -1.5 -11.5c-1.457 -1.015 -3 -1.34 -4.5 -1.5l-.972 1.923a11.913 11.913 0 0 0 -4.053 0l-.975 -1.923c-1.5 .16 -3.043 .485 -4.5 1.5c-2 5.667 -2.167 9.833 -1.5 11.5c.667 1.333 2 3 3.5 3c.5 0 2 -2 2 -3",key:"svg-2"}],["path",{d:"M7 16.5c3.5 1 6.5 1 10 0",key:"svg-3"}]]),RRe=De("brand-patreon","IconBrandPatreon",[["path",{d:"M20 8.408c-.003 -2.299 -1.746 -4.182 -3.79 -4.862c-2.54 -.844 -5.888 -.722 -8.312 .453c-2.939 1.425 -3.862 4.545 -3.896 7.656c-.028 2.559 .22 9.297 3.92 9.345c2.75 .036 3.159 -3.603 4.43 -5.356c.906 -1.247 2.071 -1.599 3.506 -1.963c2.465 -.627 4.146 -2.626 4.142 -5.273z",key:"svg-0"}]]),IRe=De("brand-pinterest","IconBrandPinterest",[["path",{d:"M8 20l4 -9",key:"svg-0"}],["path",{d:"M10.7 14c.437 1.263 1.43 2 2.55 2c2.071 0 3.75 -1.554 3.75 -4a5 5 0 1 0 -9.7 1.7",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]]),Cre=De("brand-safari","IconBrandSafari",[["path",{d:"M8 16l2 -6l6 -2l-2 6l-6 2",key:"svg-0"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-1"}]]),ORe=De("brand-telegram","IconBrandTelegram",[["path",{d:"M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4",key:"svg-0"}]]),PRe=De("brand-threejs","IconBrandThreejs",[["path",{d:"M8 22l-5 -19l19 5.5z",key:"svg-0"}],["path",{d:"M12.573 17.58l-6.152 -1.576l8.796 -9.466l1.914 6.64",key:"svg-1"}],["path",{d:"M12.573 17.58l-1.573 -6.58l6.13 2.179",key:"svg-2"}],["path",{d:"M9.527 4.893l1.473 6.107l-6.31 -1.564z",key:"svg-3"}]]),jRe=De("brand-tinder","IconBrandTinder",[["path",{d:"M18.918 8.174c2.56 4.982 .501 11.656 -5.38 12.626c-7.702 1.687 -12.84 -7.716 -7.054 -13.229c.309 -.305 1.161 -1.095 1.516 -1.349c0 .528 .27 3.475 1 3.167c3 0 4 -4.222 3.587 -7.389c2.7 1.411 4.987 3.376 6.331 6.174z",key:"svg-0"}]]),LRe=De("brand-wechat","IconBrandWechat",[["path",{d:"M16.5 10c3.038 0 5.5 2.015 5.5 4.5c0 1.397 -.778 2.645 -2 3.47l0 2.03l-1.964 -1.178a6.649 6.649 0 0 1 -1.536 .178c-3.038 0 -5.5 -2.015 -5.5 -4.5s2.462 -4.5 5.5 -4.5z",key:"svg-0"}],["path",{d:"M11.197 15.698c-.69 .196 -1.43 .302 -2.197 .302a8.008 8.008 0 0 1 -2.612 -.432l-2.388 1.432v-2.801c-1.237 -1.082 -2 -2.564 -2 -4.199c0 -3.314 3.134 -6 7 -6c3.782 0 6.863 2.57 7 5.785l0 .233",key:"svg-1"}],["path",{d:"M10 8h.01",key:"svg-2"}],["path",{d:"M7 8h.01",key:"svg-3"}],["path",{d:"M15 14h.01",key:"svg-4"}],["path",{d:"M18 14h.01",key:"svg-5"}]]),lR=De("brush","IconBrush",[["path",{d:"M3 21v-4a4 4 0 1 1 4 4h-4",key:"svg-0"}],["path",{d:"M21 3a16 16 0 0 0 -12.8 10.2",key:"svg-1"}],["path",{d:"M21 3a16 16 0 0 1 -10.2 12.8",key:"svg-2"}],["path",{d:"M10.6 9a9 9 0 0 1 4.4 4.4",key:"svg-3"}]]),FRe=De("building-castle","IconBuildingCastle",[["path",{d:"M15 19v-2a3 3 0 0 0 -6 0v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-14h4v3h3v-3h4v3h3v-3h4v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M3 11l18 0",key:"svg-1"}]]),BRe=De("building-fortress","IconBuildingFortress",[["path",{d:"M7 21h1a1 1 0 0 0 1 -1v-1h0a3 3 0 0 1 6 0m3 2h1a1 1 0 0 0 1 -1v-15l-3 -2l-3 2v6h-4v-6l-3 -2l-3 2v15a1 1 0 0 0 1 1h2m8 -2v1a1 1 0 0 0 1 1h2",key:"svg-0"}],["path",{d:"M7 7h0v.01",key:"svg-1"}],["path",{d:"M7 10h0v.01",key:"svg-2"}],["path",{d:"M7 13h0v.01",key:"svg-3"}],["path",{d:"M17 7h0v.01",key:"svg-4"}],["path",{d:"M17 10h0v.01",key:"svg-5"}],["path",{d:"M17 13h0v.01",key:"svg-6"}]]),zRe=De("building-lighthouse","IconBuildingLighthouse",[["path",{d:"M12 3l2 3l2 15h-8l2 -15z",key:"svg-0"}],["path",{d:"M8 9l8 0",key:"svg-1"}],["path",{d:"M3 11l2 -2l-2 -2",key:"svg-2"}],["path",{d:"M21 11l-2 -2l2 -2",key:"svg-3"}]]),$Re=De("building","IconBuilding",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M9 8l1 0",key:"svg-1"}],["path",{d:"M9 12l1 0",key:"svg-2"}],["path",{d:"M9 16l1 0",key:"svg-3"}],["path",{d:"M14 8l1 0",key:"svg-4"}],["path",{d:"M14 12l1 0",key:"svg-5"}],["path",{d:"M14 16l1 0",key:"svg-6"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16",key:"svg-7"}]]),URe=De("butterfly","IconButterfly",[["path",{d:"M12 18.176a3 3 0 1 1 -4.953 -2.449l-.025 .023a4.502 4.502 0 0 1 1.483 -8.75c1.414 0 2.675 .652 3.5 1.671a4.5 4.5 0 1 1 4.983 7.079a3 3 0 1 1 -4.983 2.25z",key:"svg-0"}],["path",{d:"M12 19v-10",key:"svg-1"}],["path",{d:"M9 3l3 2l3 -2",key:"svg-2"}]]),VRe=De("calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]]),HRe=De("campfire-filled","IconCampfireFilled",[["path",{d:"M19.757 16.03a1 1 0 0 1 .597 1.905l-.111 .035l-16 4a1 1 0 0 1 -.597 -1.905l.111 -.035l16 -4z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["path",{d:"M3.03 16.757a1 1 0 0 1 1.098 -.749l.115 .022l16 4a1 1 0 0 1 -.37 1.962l-.116 -.022l-16 -4a1 1 0 0 1 -.727 -1.213z",fill:"currentColor",key:"svg-1",strokeWidth:"0"}],["path",{d:"M13.553 2.106c-4.174 2.086 -6.553 5.358 -6.553 8.894a5 5 0 0 0 10 0c0 -1.047 -.188 -1.808 -.606 -2.705l-.169 -.345l-.33 -.647c-.621 -1.24 -.895 -2.338 -.895 -4.303a1 1 0 0 0 -1.447 -.894z",fill:"currentColor",key:"svg-2",strokeWidth:"0"}]]),qRe=De("candle","IconCandle",[["path",{d:"M9 21h6v-9a1 1 0 0 0 -1 -1h-4a1 1 0 0 0 -1 1v9z",key:"svg-0"}],["path",{d:"M12 3l1.465 1.638a2 2 0 1 1 -3.015 .099l1.55 -1.737z",key:"svg-1"}]]),Ere=De("caret-left-right","IconCaretLeftRight",[["path",{d:"M14 18l6 -6l-6 -6v12",key:"svg-0"}],["path",{d:"M10 18l-6 -6l6 -6v12",key:"svg-1"}]]),Mz=De("caret-right-filled","IconCaretRightFilled",[["path",{d:"M9 6c0 -.852 .986 -1.297 1.623 -.783l.084 .076l6 6a1 1 0 0 1 .083 1.32l-.083 .094l-6 6l-.094 .083l-.077 .054l-.096 .054l-.036 .017l-.067 .027l-.108 .032l-.053 .01l-.06 .01l-.057 .004l-.059 .002l-.059 -.002l-.058 -.005l-.06 -.009l-.052 -.01l-.108 -.032l-.067 -.027l-.132 -.07l-.09 -.065l-.081 -.073l-.083 -.094l-.054 -.077l-.054 -.096l-.017 -.036l-.027 -.067l-.032 -.108l-.01 -.053l-.01 -.06l-.004 -.057l-.002 -12.059z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),WRe=De("cat","IconCat",[["path",{d:"M20 3v10a8 8 0 1 1 -16 0v-10l3.432 3.432a7.963 7.963 0 0 1 4.568 -1.432c1.769 0 3.403 .574 4.728 1.546l3.272 -3.546z",key:"svg-0"}],["path",{d:"M2 16h5l-4 4",key:"svg-1"}],["path",{d:"M22 16h-5l4 4",key:"svg-2"}],["path",{d:"M12 16m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M9 11v.01",key:"svg-4"}],["path",{d:"M15 11v.01",key:"svg-5"}]]),GRe=De("chart-treemap","IconChartTreemap",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4v16",key:"svg-1"}],["path",{d:"M4 15h8",key:"svg-2"}],["path",{d:"M12 12h8",key:"svg-3"}],["path",{d:"M16 12v8",key:"svg-4"}],["path",{d:"M16 16h4",key:"svg-5"}]]),kre=De("check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]),KRe=De("cherry-filled","IconCherryFilled",[["path",{d:"M16.588 5.191l.058 .045l.078 .074l.072 .084l.013 .018a.998 .998 0 0 1 .182 .727l-.022 .111l-.03 .092c-.99 2.725 -.666 5.158 .679 7.706a4 4 0 1 1 -4.613 4.152l-.005 -.2l.005 -.2a4.002 4.002 0 0 1 2.5 -3.511c-.947 -2.03 -1.342 -4.065 -1.052 -6.207c-.166 .077 -.332 .15 -.499 .218l.094 -.064c-2.243 1.47 -3.552 3.004 -3.98 4.57a4.5 4.5 0 1 1 -7.064 3.906l-.004 -.212l.005 -.212a4.5 4.5 0 0 1 5.2 -4.233c.332 -1.073 .945 -2.096 1.83 -3.069c-1.794 -.096 -3.586 -.759 -5.355 -1.986l-.268 -.19l-.051 -.04l-.046 -.04l-.044 -.044l-.04 -.046l-.04 -.05l-.032 -.047l-.035 -.06l-.053 -.11l-.038 -.116l-.023 -.117l-.005 -.042l-.005 -.118l.01 -.118l.023 -.117l.038 -.115l.03 -.066l.023 -.045l.035 -.06l.032 -.046l.04 -.051l.04 -.046l.044 -.044l.046 -.04l.05 -.04c4.018 -2.922 8.16 -2.922 12.177 0z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),Are=De("chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]),YRe=De("chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]),JRe=De("chevrons-down","IconChevronsDown",[["path",{d:"M7 7l5 5l5 -5",key:"svg-0"}],["path",{d:"M7 13l5 5l5 -5",key:"svg-1"}]]),QRe=De("chevrons-up","IconChevronsUp",[["path",{d:"M7 11l5 -5l5 5",key:"svg-0"}],["path",{d:"M7 17l5 -5l5 5",key:"svg-1"}]]),XRe=De("circle-dot-filled","IconCircleDotFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 6.66a2 2 0 0 0 -1.977 1.697l-.018 .154l-.005 .149l.005 .15a2 2 0 1 0 1.995 -2.15z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),D1=De("circle-minus","IconCircleMinus",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l6 0",key:"svg-1"}]]),_re=De("circle-off","IconCircleOff",[["path",{d:"M20.042 16.045a9 9 0 0 0 -12.087 -12.087m-2.318 1.677a9 9 0 1 0 12.725 12.73",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]),R1=De("circle-plus","IconCirclePlus",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]]),ZRe=De("clear-formatting","IconClearFormatting",[["path",{d:"M17 15l4 4m0 -4l-4 4",key:"svg-0"}],["path",{d:"M7 6v-1h11v1",key:"svg-1"}],["path",{d:"M7 19l4 0",key:"svg-2"}],["path",{d:"M13 5l-4 14",key:"svg-3"}]]),Mre=De("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),Tre=De("code","IconCode",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]]),eIe=De("color-picker","IconColorPicker",[["path",{d:"M11 7l6 6",key:"svg-0"}],["path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z",key:"svg-1"}]]),tIe=De("confetti","IconConfetti",[["path",{d:"M4 5h2",key:"svg-0"}],["path",{d:"M5 4v2",key:"svg-1"}],["path",{d:"M11.5 4l-.5 2",key:"svg-2"}],["path",{d:"M18 5h2",key:"svg-3"}],["path",{d:"M19 4v2",key:"svg-4"}],["path",{d:"M15 9l-1 1",key:"svg-5"}],["path",{d:"M18 13l2 -.5",key:"svg-6"}],["path",{d:"M18 19h2",key:"svg-7"}],["path",{d:"M19 18v2",key:"svg-8"}],["path",{d:"M14 16.518l-6.518 -6.518l-4.39 9.58a1 1 0 0 0 1.329 1.329l9.579 -4.39z",key:"svg-9"}]]),nIe=De("cookie","IconCookie",[["path",{d:"M8 13v.01",key:"svg-0"}],["path",{d:"M12 17v.01",key:"svg-1"}],["path",{d:"M12 12v.01",key:"svg-2"}],["path",{d:"M16 14v.01",key:"svg-3"}],["path",{d:"M11 8v.01",key:"svg-4"}],["path",{d:"M13.148 3.476l2.667 1.104a4 4 0 0 0 4.656 6.14l.053 .132a3 3 0 0 1 0 2.296c-.497 .786 -.838 1.404 -1.024 1.852c-.189 .456 -.409 1.194 -.66 2.216a3 3 0 0 1 -1.624 1.623c-1.048 .263 -1.787 .483 -2.216 .661c-.475 .197 -1.092 .538 -1.852 1.024a3 3 0 0 1 -2.296 0c-.802 -.503 -1.419 -.844 -1.852 -1.024c-.471 -.195 -1.21 -.415 -2.216 -.66a3 3 0 0 1 -1.623 -1.624c-.265 -1.052 -.485 -1.79 -.661 -2.216c-.198 -.479 -.54 -1.096 -1.024 -1.852a3 3 0 0 1 0 -2.296c.48 -.744 .82 -1.361 1.024 -1.852c.171 -.413 .391 -1.152 .66 -2.216a3 3 0 0 1 1.624 -1.623c1.032 -.256 1.77 -.476 2.216 -.661c.458 -.19 1.075 -.531 1.852 -1.024a3 3 0 0 1 2.296 0z",key:"svg-5"}]]),Qa=De("copy","IconCopy",[["path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2",key:"svg-1"}]]),rIe=De("crown","IconCrown",[["path",{d:"M12 6l4 6l5 -4l-2 10h-14l-2 -10l5 4z",key:"svg-0"}]]),iIe=De("deer","IconDeer",[["path",{d:"M3 3c0 2 1 3 4 3c2 0 3 1 3 3",key:"svg-0"}],["path",{d:"M21 3c0 2 -1 3 -4 3c-2 0 -3 .333 -3 3",key:"svg-1"}],["path",{d:"M12 18c-1 0 -4 -3 -4 -6c0 -2 1.333 -3 4 -3s4 1 4 3c0 3 -3 6 -4 6",key:"svg-2"}],["path",{d:"M15.185 14.889l.095 -.18a4 4 0 1 1 -6.56 0",key:"svg-3"}],["path",{d:"M17 3c0 1.333 -.333 2.333 -1 3",key:"svg-4"}],["path",{d:"M7 3c0 1.333 .333 2.333 1 3",key:"svg-5"}],["path",{d:"M7 6c-2.667 .667 -4.333 1.667 -5 3",key:"svg-6"}],["path",{d:"M17 6c2.667 .667 4.333 1.667 5 3",key:"svg-7"}],["path",{d:"M8.5 10l-1.5 -1",key:"svg-8"}],["path",{d:"M15.5 10l1.5 -1",key:"svg-9"}],["path",{d:"M12 15h.01",key:"svg-10"}]]),aIe=De("devices","IconDevices",[["path",{d:"M13 9a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1v-10z",key:"svg-0"}],["path",{d:"M18 8v-3a1 1 0 0 0 -1 -1h-13a1 1 0 0 0 -1 1v12a1 1 0 0 0 1 1h9",key:"svg-1"}],["path",{d:"M16 9h2",key:"svg-2"}]]),oIe=De("dice-5-filled","IconDice5Filled",[["path",{d:"M18.333 2c1.96 0 3.56 1.537 3.662 3.472l.005 .195v12.666c0 1.96 -1.537 3.56 -3.472 3.662l-.195 .005h-12.666a3.667 3.667 0 0 1 -3.662 -3.472l-.005 -.195v-12.666c0 -1.96 1.537 -3.56 3.472 -3.662l.195 -.005h12.666zm-2.833 12a1.5 1.5 0 1 0 0 3a1.5 1.5 0 0 0 0 -3zm-7 0a1.5 1.5 0 1 0 0 3a1.5 1.5 0 0 0 0 -3zm3.5 -3.5a1.5 1.5 0 1 0 0 3a1.5 1.5 0 0 0 0 -3zm-3.5 -3.5a1.5 1.5 0 1 0 0 3a1.5 1.5 0 0 0 0 -3zm7 0a1.5 1.5 0 1 0 0 3a1.5 1.5 0 0 0 0 -3z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),sIe=De("discount-check-filled","IconDiscountCheckFilled",[["path",{d:"M12.01 2.011a3.2 3.2 0 0 1 2.113 .797l.154 .145l.698 .698a1.2 1.2 0 0 0 .71 .341l.135 .008h1a3.2 3.2 0 0 1 3.195 3.018l.005 .182v1c0 .27 .092 .533 .258 .743l.09 .1l.697 .698a3.2 3.2 0 0 1 .147 4.382l-.145 .154l-.698 .698a1.2 1.2 0 0 0 -.341 .71l-.008 .135v1a3.2 3.2 0 0 1 -3.018 3.195l-.182 .005h-1a1.2 1.2 0 0 0 -.743 .258l-.1 .09l-.698 .697a3.2 3.2 0 0 1 -4.382 .147l-.154 -.145l-.698 -.698a1.2 1.2 0 0 0 -.71 -.341l-.135 -.008h-1a3.2 3.2 0 0 1 -3.195 -3.018l-.005 -.182v-1a1.2 1.2 0 0 0 -.258 -.743l-.09 -.1l-.697 -.698a3.2 3.2 0 0 1 -.147 -4.382l.145 -.154l.698 -.698a1.2 1.2 0 0 0 .341 -.71l.008 -.135v-1l.005 -.182a3.2 3.2 0 0 1 3.013 -3.013l.182 -.005h1a1.2 1.2 0 0 0 .743 -.258l.1 -.09l.698 -.697a3.2 3.2 0 0 1 2.269 -.944zm3.697 7.282a1 1 0 0 0 -1.414 0l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),lIe=De("dna","IconDna",[["path",{d:"M14.828 14.828a4 4 0 1 0 -5.656 -5.656a4 4 0 0 0 5.656 5.656z",key:"svg-0"}],["path",{d:"M9.172 20.485a4 4 0 1 0 -5.657 -5.657",key:"svg-1"}],["path",{d:"M14.828 3.515a4 4 0 0 0 5.657 5.657",key:"svg-2"}]]),uIe=De("dog","IconDog",[["path",{d:"M11 5h2",key:"svg-0"}],["path",{d:"M19 12c-.667 5.333 -2.333 8 -5 8h-4c-2.667 0 -4.333 -2.667 -5 -8",key:"svg-1"}],["path",{d:"M11 16c0 .667 .333 1 1 1s1 -.333 1 -1h-2z",key:"svg-2"}],["path",{d:"M12 18v2",key:"svg-3"}],["path",{d:"M10 11v.01",key:"svg-4"}],["path",{d:"M14 11v.01",key:"svg-5"}],["path",{d:"M5 4l6 .97l-6.238 6.688a1.021 1.021 0 0 1 -1.41 .111a.953 .953 0 0 1 -.327 -.954l1.975 -6.815z",key:"svg-6"}],["path",{d:"M19 4l-6 .97l6.238 6.688c.358 .408 .989 .458 1.41 .111a.953 .953 0 0 0 .327 -.954l-1.975 -6.815z",key:"svg-7"}]]),ia=De("dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),cIe=De("drone","IconDrone",[["path",{d:"M10 10h4v4h-4z",key:"svg-0"}],["path",{d:"M10 10l-3.5 -3.5",key:"svg-1"}],["path",{d:"M9.96 6a3.5 3.5 0 1 0 -3.96 3.96",key:"svg-2"}],["path",{d:"M14 10l3.5 -3.5",key:"svg-3"}],["path",{d:"M18 9.96a3.5 3.5 0 1 0 -3.96 -3.96",key:"svg-4"}],["path",{d:"M14 14l3.5 3.5",key:"svg-5"}],["path",{d:"M14.04 18a3.5 3.5 0 1 0 3.96 -3.96",key:"svg-6"}],["path",{d:"M10 14l-3.5 3.5",key:"svg-7"}],["path",{d:"M6 14.04a3.5 3.5 0 1 0 3.96 3.96",key:"svg-8"}]]),dIe=De("droplet-filled","IconDropletFilled",[["path",{d:"M10.708 2.372a2.382 2.382 0 0 0 -.71 .686l-4.892 7.26c-1.981 3.314 -1.22 7.466 1.767 9.882c2.969 2.402 7.286 2.402 10.254 0c2.987 -2.416 3.748 -6.569 1.795 -9.836l-4.919 -7.306c-.722 -1.075 -2.192 -1.376 -3.295 -.686z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),fIe=De("ear","IconEar",[["path",{d:"M6 10a7 7 0 1 1 13 3.6a10 10 0 0 1 -2 2a8 8 0 0 0 -2 3a4.5 4.5 0 0 1 -6.8 1.4",key:"svg-0"}],["path",{d:"M10 10a3 3 0 1 1 5 2.2",key:"svg-1"}]]),uR=De("external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]),hIe=De("eye-filled","IconEyeFilled",[["path",{d:"M12 4c4.29 0 7.863 2.429 10.665 7.154l.22 .379l.045 .1l.03 .083l.014 .055l.014 .082l.011 .1v.11l-.014 .111a.992 .992 0 0 1 -.026 .11l-.039 .108l-.036 .075l-.016 .03c-2.764 4.836 -6.3 7.38 -10.555 7.499l-.313 .004c-4.396 0 -8.037 -2.549 -10.868 -7.504a1 1 0 0 1 0 -.992c2.831 -4.955 6.472 -7.504 10.868 -7.504zm0 5a3 3 0 1 0 0 6a3 3 0 0 0 0 -6z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),pIe=De("eyeglass","IconEyeglass",[["path",{d:"M8 4h-2l-3 10",key:"svg-0"}],["path",{d:"M16 4h2l3 10",key:"svg-1"}],["path",{d:"M10 16l4 0",key:"svg-2"}],["path",{d:"M21 16.5a3.5 3.5 0 0 1 -7 0v-2.5h7v2.5",key:"svg-3"}],["path",{d:"M10 16.5a3.5 3.5 0 0 1 -7 0v-2.5h7v2.5",key:"svg-4"}]]),mIe=De("face-mask","IconFaceMask",[["path",{d:"M5 14.5h-.222c-1.535 0 -2.778 -1.12 -2.778 -2.5s1.243 -2.5 2.778 -2.5h.222",key:"svg-0"}],["path",{d:"M19 14.5h.222c1.534 0 2.778 -1.12 2.778 -2.5s-1.244 -2.5 -2.778 -2.5h-.222",key:"svg-1"}],["path",{d:"M9 10h6",key:"svg-2"}],["path",{d:"M9 14h6",key:"svg-3"}],["path",{d:"M12.55 18.843l5 -1.429a2 2 0 0 0 1.45 -1.923v-6.981a2 2 0 0 0 -1.45 -1.923l-5 -1.429a2 2 0 0 0 -1.1 0l-5 1.429a2 2 0 0 0 -1.45 1.922v6.982a2 2 0 0 0 1.45 1.923l5 1.429a2 2 0 0 0 1.1 0z",key:"svg-4"}]]),gIe=De("feather","IconFeather",[["path",{d:"M4 20l10 -10m0 -5v5h5m-9 -1v5h5m-9 -1v5h5m-5 -5l4 -4l4 -4",key:"svg-0"}],["path",{d:"M19 10c.638 -.636 1 -1.515 1 -2.486a3.515 3.515 0 0 0 -3.517 -3.514c-.97 0 -1.847 .367 -2.483 1m-3 13l4 -4l4 -4",key:"svg-1"}]]),vIe=De("file-text","IconFileText",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 9l1 0",key:"svg-2"}],["path",{d:"M9 13l6 0",key:"svg-3"}],["path",{d:"M9 17l6 0",key:"svg-4"}]]),yIe=De("file-type-pdf","IconFileTypePdf",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M5 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6",key:"svg-2"}],["path",{d:"M17 18h2",key:"svg-3"}],["path",{d:"M20 15h-3v6",key:"svg-4"}],["path",{d:"M11 15v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1z",key:"svg-5"}]]),bIe=De("fish","IconFish",[["path",{d:"M16.69 7.44a6.973 6.973 0 0 0 -1.69 4.56c0 1.747 .64 3.345 1.699 4.571",key:"svg-0"}],["path",{d:"M2 9.504c7.715 8.647 14.75 10.265 20 2.498c-5.25 -7.761 -12.285 -6.142 -20 2.504",key:"svg-1"}],["path",{d:"M18 11v.01",key:"svg-2"}],["path",{d:"M11.5 10.5c-.667 1 -.667 2 0 3",key:"svg-3"}]]),Nre=De("flare","IconFlare",[["path",{d:"M12 3l3 6l6 3l-6 3l-3 6l-3 -6l-6 -3l6 -3z",key:"svg-0"}]]),wIe=De("folder-filled","IconFolderFilled",[["path",{d:"M9 3a1 1 0 0 1 .608 .206l.1 .087l2.706 2.707h6.586a3 3 0 0 1 2.995 2.824l.005 .176v8a3 3 0 0 1 -2.824 2.995l-.176 .005h-14a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-11a3 3 0 0 1 2.824 -2.995l.176 -.005h4z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),xIe=De("frame","IconFrame",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M4 17l16 0",key:"svg-1"}],["path",{d:"M7 4l0 16",key:"svg-2"}],["path",{d:"M17 4l0 16",key:"svg-3"}]]),SIe=De("ghost-2-filled","IconGhost2Filled",[["path",{d:"M12 1.999l.041 .002l.208 .003a8 8 0 0 1 7.747 7.747l.003 .248l.177 .006a3 3 0 0 1 2.819 2.819l.005 .176a3 3 0 0 1 -3 3l-.001 1.696l1.833 2.75a1 1 0 0 1 -.72 1.548l-.112 .006h-10c-3.445 .002 -6.327 -2.49 -6.901 -5.824l-.028 -.178l-.071 .001a3 3 0 0 1 -2.995 -2.824l-.005 -.175a3 3 0 0 1 3 -3l.004 -.25a8 8 0 0 1 7.996 -7.75zm0 10.001a2 2 0 0 0 -2 2a1 1 0 0 0 1 1h2a1 1 0 0 0 1 -1a2 2 0 0 0 -2 -2zm-1.99 -4l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993zm4 0l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),CIe=De("h-1","IconH1",[["path",{d:"M19 18v-8l-2 2",key:"svg-0"}],["path",{d:"M4 6v12",key:"svg-1"}],["path",{d:"M12 6v12",key:"svg-2"}],["path",{d:"M11 18h2",key:"svg-3"}],["path",{d:"M3 18h2",key:"svg-4"}],["path",{d:"M4 12h8",key:"svg-5"}],["path",{d:"M3 6h2",key:"svg-6"}],["path",{d:"M11 6h2",key:"svg-7"}]]),EIe=De("h-2","IconH2",[["path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.417 1.318 -.816 1.858l-3.184 4.143l4 0",key:"svg-0"}],["path",{d:"M4 6v12",key:"svg-1"}],["path",{d:"M12 6v12",key:"svg-2"}],["path",{d:"M11 18h2",key:"svg-3"}],["path",{d:"M3 18h2",key:"svg-4"}],["path",{d:"M4 12h8",key:"svg-5"}],["path",{d:"M3 6h2",key:"svg-6"}],["path",{d:"M11 6h2",key:"svg-7"}]]),kIe=De("h-3","IconH3",[["path",{d:"M19 14a2 2 0 1 0 -2 -2",key:"svg-0"}],["path",{d:"M17 16a2 2 0 1 0 2 -2",key:"svg-1"}],["path",{d:"M4 6v12",key:"svg-2"}],["path",{d:"M12 6v12",key:"svg-3"}],["path",{d:"M11 18h2",key:"svg-4"}],["path",{d:"M3 18h2",key:"svg-5"}],["path",{d:"M4 12h8",key:"svg-6"}],["path",{d:"M3 6h2",key:"svg-7"}],["path",{d:"M11 6h2",key:"svg-8"}]]),AIe=De("h-4","IconH4",[["path",{d:"M20 18v-8l-4 6h5",key:"svg-0"}],["path",{d:"M4 6v12",key:"svg-1"}],["path",{d:"M12 6v12",key:"svg-2"}],["path",{d:"M11 18h2",key:"svg-3"}],["path",{d:"M3 18h2",key:"svg-4"}],["path",{d:"M4 12h8",key:"svg-5"}],["path",{d:"M3 6h2",key:"svg-6"}],["path",{d:"M11 6h2",key:"svg-7"}]]),_Ie=De("h-5","IconH5",[["path",{d:"M17 18h2a2 2 0 1 0 0 -4h-2v-4h4",key:"svg-0"}],["path",{d:"M4 6v12",key:"svg-1"}],["path",{d:"M12 6v12",key:"svg-2"}],["path",{d:"M11 18h2",key:"svg-3"}],["path",{d:"M3 18h2",key:"svg-4"}],["path",{d:"M4 12h8",key:"svg-5"}],["path",{d:"M3 6h2",key:"svg-6"}],["path",{d:"M11 6h2",key:"svg-7"}]]),MIe=De("h-6","IconH6",[["path",{d:"M19 14a2 2 0 1 0 0 4a2 2 0 0 0 0 -4z",key:"svg-0"}],["path",{d:"M21 12a2 2 0 1 0 -4 0v4",key:"svg-1"}],["path",{d:"M4 6v12",key:"svg-2"}],["path",{d:"M12 6v12",key:"svg-3"}],["path",{d:"M11 18h2",key:"svg-4"}],["path",{d:"M3 18h2",key:"svg-5"}],["path",{d:"M4 12h8",key:"svg-6"}],["path",{d:"M3 6h2",key:"svg-7"}],["path",{d:"M11 6h2",key:"svg-8"}]]),GM=De("hammer","IconHammer",[["path",{d:"M11.414 10l-7.383 7.418a2.091 2.091 0 0 0 0 2.967a2.11 2.11 0 0 0 2.976 0l7.407 -7.385",key:"svg-0"}],["path",{d:"M18.121 15.293l2.586 -2.586a1 1 0 0 0 0 -1.414l-7.586 -7.586a1 1 0 0 0 -1.414 0l-2.586 2.586a1 1 0 0 0 0 1.414l7.586 7.586a1 1 0 0 0 1.414 0z",key:"svg-1"}]]),TIe=De("hand-stop","IconHandStop",[["path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-0"}],["path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5",key:"svg-1"}],["path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-2"}],["path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-3"}]]),NIe=De("hash","IconHash",[["path",{d:"M5 9l14 0",key:"svg-0"}],["path",{d:"M5 15l14 0",key:"svg-1"}],["path",{d:"M11 4l-4 16",key:"svg-2"}],["path",{d:"M17 4l-4 16",key:"svg-3"}]]),DIe=De("haze","IconHaze",[["path",{d:"M3 12h1",key:"svg-0"}],["path",{d:"M12 3v1",key:"svg-1"}],["path",{d:"M20 12h1",key:"svg-2"}],["path",{d:"M5.6 5.6l.7 .7",key:"svg-3"}],["path",{d:"M18.4 5.6l-.7 .7",key:"svg-4"}],["path",{d:"M8 12a4 4 0 1 1 8 0",key:"svg-5"}],["path",{d:"M3 16h18",key:"svg-6"}],["path",{d:"M3 20h18",key:"svg-7"}]]),Dre=De("heart-handshake","IconHeartHandshake",[["path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572",key:"svg-0"}],["path",{d:"M12 6l-3.293 3.293a1 1 0 0 0 0 1.414l.543 .543c.69 .69 1.81 .69 2.5 0l1 -1a3.182 3.182 0 0 1 4.5 0l2.25 2.25",key:"svg-1"}],["path",{d:"M12.5 15.5l2 2",key:"svg-2"}],["path",{d:"M15 13l2 2",key:"svg-3"}]]),RIe=De("heart","IconHeart",[["path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572",key:"svg-0"}]]),By=De("help-circle","IconHelpCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 16v.01",key:"svg-1"}],["path",{d:"M12 13a2 2 0 0 0 .914 -3.782a1.98 1.98 0 0 0 -2.414 .483",key:"svg-2"}]]),IIe=De("help-triangle-filled","IconHelpTriangleFilled",[["path",{d:"M12 1.67c.955 0 1.845 .467 2.39 1.247l.105 .16l8.114 13.548a2.914 2.914 0 0 1 -2.307 4.363l-.195 .008h-16.225a2.914 2.914 0 0 1 -2.582 -4.2l.099 -.185l8.11 -13.538a2.914 2.914 0 0 1 2.491 -1.403zm0 13.33a1 1 0 0 0 -.993 .883l-.007 .117l.007 .127a1 1 0 0 0 1.986 0l.007 -.117l-.007 -.127a1 1 0 0 0 -.993 -.883zm1.368 -6.673a2.98 2.98 0 0 0 -3.631 .728a1 1 0 0 0 1.44 1.383l.171 -.18a.98 .98 0 0 1 1.11 -.15a1 1 0 0 1 -.34 1.886l-.232 .012a1 1 0 0 0 .111 1.994a3 3 0 0 0 1.371 -5.673z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),OIe=De("hierarchy","IconHierarchy",[["path",{d:"M12 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M5 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M6.5 17.5l5.5 -4.5l5.5 4.5",key:"svg-3"}],["path",{d:"M12 7l0 6",key:"svg-4"}]]),PIe=De("highlight","IconHighlight",[["path",{d:"M3 19h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M12.5 5.5l4 4",key:"svg-1"}],["path",{d:"M4.5 13.5l4 4",key:"svg-2"}],["path",{d:"M21 15v4h-8l4 -4z",key:"svg-3"}]]),jIe=De("history","IconHistory",[["path",{d:"M12 8l0 4l2 2",key:"svg-0"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5",key:"svg-1"}]]),KM=De("home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]),LIe=De("id","IconId",[["path",{d:"M3 4m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v10a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M9 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M15 8l2 0",key:"svg-2"}],["path",{d:"M15 12l2 0",key:"svg-3"}],["path",{d:"M7 16l10 0",key:"svg-4"}]]),FIe=De("italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]),BIe=De("jewish-star-filled","IconJewishStarFilled",[["path",{d:"M8.433 6h-5.433l-.114 .006a1 1 0 0 0 -.743 1.508l2.69 4.486l-2.69 4.486l-.054 .1a1 1 0 0 0 .911 1.414h5.434l2.709 4.514l.074 .108a1 1 0 0 0 1.64 -.108l2.708 -4.514h5.435l.114 -.006a1 1 0 0 0 .743 -1.508l-2.691 -4.486l2.691 -4.486l.054 -.1a1 1 0 0 0 -.911 -1.414h-5.434l-2.709 -4.514a1 1 0 0 0 -1.714 0l-2.71 4.514z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),zIe=De("jewish-star","IconJewishStar",[["path",{d:"M12 2l3 5h6l-3 5l3 5h-6l-3 5l-3 -5h-6l3 -5l-3 -5h6z",key:"svg-0"}]]),$Ie=De("key","IconKey",[["path",{d:"M16.555 3.843l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.643 2.643a2.877 2.877 0 0 1 -4.069 0l-.301 -.301l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.877 2.877 0 0 1 0 -4.069l2.643 -2.643a2.877 2.877 0 0 1 4.069 0z",key:"svg-0"}],["path",{d:"M15 9h.01",key:"svg-1"}]]),Rre=De("language","IconLanguage",[["path",{d:"M4 5h7",key:"svg-0"}],["path",{d:"M9 3v2c0 4.418 -2.239 8 -5 8",key:"svg-1"}],["path",{d:"M5 9c0 2.144 2.952 3.908 6.7 4",key:"svg-2"}],["path",{d:"M12 20l4 -9l4 9",key:"svg-3"}],["path",{d:"M19.1 18h-6.2",key:"svg-4"}]]),UIe=De("layers-intersect","IconLayersIntersect",[["path",{d:"M8 4m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M4 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-1"}]]),VIe=De("leaf","IconLeaf",[["path",{d:"M5 21c.5 -4.5 2.5 -8 7 -10",key:"svg-0"}],["path",{d:"M9 18c6.218 0 10.5 -3.288 11 -12v-2h-4.014c-9 0 -11.986 4 -12 9c0 1 0 3 2 5h3z",key:"svg-1"}]]),HIe=De("line-dashed","IconLineDashed",[["path",{d:"M5 12h2",key:"svg-0"}],["path",{d:"M17 12h2",key:"svg-1"}],["path",{d:"M11 12h2",key:"svg-2"}]]),Ire=De("link","IconLink",[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]]),qIe=De("list-details","IconListDetails",[["path",{d:"M13 5h8",key:"svg-0"}],["path",{d:"M13 9h5",key:"svg-1"}],["path",{d:"M13 15h8",key:"svg-2"}],["path",{d:"M13 19h5",key:"svg-3"}],["path",{d:"M3 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-4"}],["path",{d:"M3 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-5"}]]),WIe=De("list-numbers","IconListNumbers",[["path",{d:"M11 6h9",key:"svg-0"}],["path",{d:"M11 12h9",key:"svg-1"}],["path",{d:"M12 18h8",key:"svg-2"}],["path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4",key:"svg-3"}],["path",{d:"M6 10v-6l-2 2",key:"svg-4"}]]),GIe=De("list","IconList",[["path",{d:"M9 6l11 0",key:"svg-0"}],["path",{d:"M9 12l11 0",key:"svg-1"}],["path",{d:"M9 18l11 0",key:"svg-2"}],["path",{d:"M5 6l0 .01",key:"svg-3"}],["path",{d:"M5 12l0 .01",key:"svg-4"}],["path",{d:"M5 18l0 .01",key:"svg-5"}]]),KIe=De("logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]),YIe=De("map-pin-filled","IconMapPinFilled",[["path",{d:"M18.364 4.636a9 9 0 0 1 .203 12.519l-.203 .21l-4.243 4.242a3 3 0 0 1 -4.097 .135l-.144 -.135l-4.244 -4.243a9 9 0 0 1 12.728 -12.728zm-6.364 3.364a3 3 0 1 0 0 6a3 3 0 0 0 0 -6z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),Ore=De("map","IconMap",[["path",{d:"M3 7l6 -3l6 3l6 -3v13l-6 3l-6 -3l-6 3v-13",key:"svg-0"}],["path",{d:"M9 4v13",key:"svg-1"}],["path",{d:"M15 7v13",key:"svg-2"}]]),Pre=De("math-symbols","IconMathSymbols",[["path",{d:"M3 12l18 0",key:"svg-0"}],["path",{d:"M12 3l0 18",key:"svg-1"}],["path",{d:"M16.5 4.5l3 3",key:"svg-2"}],["path",{d:"M19.5 4.5l-3 3",key:"svg-3"}],["path",{d:"M6 4l0 4",key:"svg-4"}],["path",{d:"M4 6l4 0",key:"svg-5"}],["path",{d:"M18 16l.01 0",key:"svg-6"}],["path",{d:"M18 20l.01 0",key:"svg-7"}],["path",{d:"M4 18l4 0",key:"svg-8"}]]),JIe=De("maximize","IconMaximize",[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]]),QIe=De("microscope","IconMicroscope",[["path",{d:"M5 21h14",key:"svg-0"}],["path",{d:"M6 18h2",key:"svg-1"}],["path",{d:"M7 18v3",key:"svg-2"}],["path",{d:"M9 11l3 3l6 -6l-3 -3z",key:"svg-3"}],["path",{d:"M10.5 12.5l-1.5 1.5",key:"svg-4"}],["path",{d:"M17 3l3 3",key:"svg-5"}],["path",{d:"M12 21a6 6 0 0 0 3.715 -10.712",key:"svg-6"}]]),XIe=De("mood-confuzed-filled","IconMoodConfuzedFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.43 10.162a11 11 0 0 0 -6.6 1.65a1 1 0 0 0 1.06 1.696a9 9 0 0 1 5.4 -1.35a1 1 0 0 0 .14 -1.996zm-6.56 -4.502l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm6 0l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),ZIe=De("mood-happy-filled","IconMoodHappyFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-2 9.66h-6a1 1 0 0 0 -1 1v.05a3.975 3.975 0 0 0 3.777 3.97l.227 .005a4.026 4.026 0 0 0 3.99 -3.79l.006 -.206a1 1 0 0 0 -1 -1.029zm-5.99 -5l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993zm6 0l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),eOe=De("mood-sad-filled","IconMoodSadFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 9.86a4.5 4.5 0 0 0 -3.214 1.35a1 1 0 1 0 1.428 1.4a2.5 2.5 0 0 1 3.572 0a1 1 0 0 0 1.428 -1.4a4.5 4.5 0 0 0 -3.214 -1.35zm-2.99 -4.2l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm6 0l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),tOe=De("mood-smile-filled","IconMoodSmileFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.8 10.946a1 1 0 0 0 -1.414 .014a2.5 2.5 0 0 1 -3.572 0a1 1 0 0 0 -1.428 1.4a4.5 4.5 0 0 0 6.428 0a1 1 0 0 0 -.014 -1.414zm-6.19 -5.286l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993zm6 0l-.127 .007a1 1 0 0 0 .117 1.993l.127 -.007a1 1 0 0 0 -.117 -1.993z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),nOe=De("moon-filled","IconMoonFilled",[["path",{d:"M12 1.992a10 10 0 1 0 9.236 13.838c.341 -.82 -.476 -1.644 -1.298 -1.31a6.5 6.5 0 0 1 -6.864 -10.787l.077 -.08c.551 -.63 .113 -1.653 -.758 -1.653h-.266l-.068 -.006l-.06 -.002z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),rOe=De("moon-stars","IconMoonStars",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}],["path",{d:"M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-1"}],["path",{d:"M19 11h2m-1 -1v2",key:"svg-2"}]]),iOe=De("mushroom-filled","IconMushroomFilled",[["path",{d:"M15 15v4a3 3 0 0 1 -5.995 .176l-.005 -.176v-4h6zm-10.1 -2a1.9 1.9 0 0 1 -1.894 -1.752l-.006 -.148c0 -5.023 4.027 -9.1 9 -9.1s9 4.077 9 9.1a1.9 1.9 0 0 1 -1.752 1.894l-.148 .006h-14.2z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),aOe=De("music","IconMusic",[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M9 17v-13h10v13",key:"svg-2"}],["path",{d:"M9 8h10",key:"svg-3"}]]),jre=De("notebook","IconNotebook",[["path",{d:"M6 4h11a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-11a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1m3 0v18",key:"svg-0"}],["path",{d:"M13 8l2 0",key:"svg-1"}],["path",{d:"M13 12l2 0",key:"svg-2"}]]),Lre=De("notes","IconNotes",[["path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 7l6 0",key:"svg-1"}],["path",{d:"M9 11l6 0",key:"svg-2"}],["path",{d:"M9 15l4 0",key:"svg-3"}]]),oOe=De("packages","IconPackages",[["path",{d:"M7 16.5l-5 -3l5 -3l5 3v5.5l-5 3z",key:"svg-0"}],["path",{d:"M2 13.5v5.5l5 3",key:"svg-1"}],["path",{d:"M7 16.545l5 -3.03",key:"svg-2"}],["path",{d:"M17 16.5l-5 -3l5 -3l5 3v5.5l-5 3z",key:"svg-3"}],["path",{d:"M12 19l5 3",key:"svg-4"}],["path",{d:"M17 16.5l5 -3",key:"svg-5"}],["path",{d:"M12 13.5v-5.5l-5 -3l5 -3l5 3v5.5",key:"svg-6"}],["path",{d:"M7 5.03v5.455",key:"svg-7"}],["path",{d:"M12 8l5 -3",key:"svg-8"}]]),Fre=De("palette","IconPalette",[["path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25",key:"svg-0"}],["path",{d:"M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}]]),sOe=De("password","IconPassword",[["path",{d:"M12 10v4",key:"svg-0"}],["path",{d:"M10 13l4 -2",key:"svg-1"}],["path",{d:"M10 11l4 2",key:"svg-2"}],["path",{d:"M5 10v4",key:"svg-3"}],["path",{d:"M3 13l4 -2",key:"svg-4"}],["path",{d:"M3 11l4 2",key:"svg-5"}],["path",{d:"M19 10v4",key:"svg-6"}],["path",{d:"M17 13l4 -2",key:"svg-7"}],["path",{d:"M17 11l4 2",key:"svg-8"}]]),lOe=De("paw-filled","IconPawFilled",[["path",{d:"M12 10c-1.32 0 -1.983 .421 -2.931 1.924l-.244 .398l-.395 .688a50.89 50.89 0 0 0 -.141 .254c-.24 .434 -.571 .753 -1.139 1.142l-.55 .365c-.94 .627 -1.432 1.118 -1.707 1.955c-.124 .338 -.196 .853 -.193 1.28c0 1.687 1.198 2.994 2.8 2.994l.242 -.006c.119 -.006 .234 -.017 .354 -.034l.248 -.043l.132 -.028l.291 -.073l.162 -.045l.57 -.17l.763 -.243l.455 -.136c.53 -.15 .94 -.222 1.283 -.222c.344 0 .753 .073 1.283 .222l.455 .136l.764 .242l.569 .171l.312 .084c.097 .024 .187 .045 .273 .062l.248 .043c.12 .017 .235 .028 .354 .034l.242 .006c1.602 0 2.8 -1.307 2.8 -3c0 -.427 -.073 -.939 -.207 -1.306c-.236 -.724 -.677 -1.223 -1.48 -1.83l-.257 -.19l-.528 -.38c-.642 -.47 -1.003 -.826 -1.253 -1.278l-.27 -.485l-.252 -.432c-1.011 -1.696 -1.618 -2.099 -3.053 -2.099z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["path",{d:"M19.78 7h-.03c-1.219 .02 -2.35 1.066 -2.908 2.504c-.69 1.775 -.348 3.72 1.075 4.333c.256 .109 .527 .163 .801 .163c1.231 0 2.38 -1.053 2.943 -2.504c.686 -1.774 .34 -3.72 -1.076 -4.332a2.05 2.05 0 0 0 -.804 -.164z",fill:"currentColor",key:"svg-1",strokeWidth:"0"}],["path",{d:"M9.025 3c-.112 0 -.185 .002 -.27 .015l-.093 .016c-1.532 .206 -2.397 1.989 -2.108 3.855c.272 1.725 1.462 3.114 2.92 3.114l.187 -.005a1.26 1.26 0 0 0 .084 -.01l.092 -.016c1.533 -.206 2.397 -1.989 2.108 -3.855c-.27 -1.727 -1.46 -3.114 -2.92 -3.114z",fill:"currentColor",key:"svg-2",strokeWidth:"0"}],["path",{d:"M14.972 3c-1.459 0 -2.647 1.388 -2.916 3.113c-.29 1.867 .574 3.65 2.174 3.867c.103 .013 .2 .02 .296 .02c1.39 0 2.543 -1.265 2.877 -2.883l.041 -.23c.29 -1.867 -.574 -3.65 -2.174 -3.867a2.154 2.154 0 0 0 -.298 -.02z",fill:"currentColor",key:"svg-3",strokeWidth:"0"}],["path",{d:"M4.217 7c-.274 0 -.544 .054 -.797 .161c-1.426 .615 -1.767 2.562 -1.078 4.335c.563 1.451 1.71 2.504 2.941 2.504c.274 0 .544 -.054 .797 -.161c1.426 -.615 1.767 -2.562 1.078 -4.335c-.563 -1.451 -1.71 -2.504 -2.941 -2.504z",fill:"currentColor",key:"svg-4",strokeWidth:"0"}]]),Bre=De("paw","IconPaw",[["path",{d:"M14.7 13.5c-1.1 -2 -1.441 -2.5 -2.7 -2.5c-1.259 0 -1.736 .755 -2.836 2.747c-.942 1.703 -2.846 1.845 -3.321 3.291c-.097 .265 -.145 .677 -.143 .962c0 1.176 .787 2 1.8 2c1.259 0 3 -1 4.5 -1s3.241 1 4.5 1c1.013 0 1.8 -.823 1.8 -2c0 -.285 -.049 -.697 -.146 -.962c-.475 -1.451 -2.512 -1.835 -3.454 -3.538z",key:"svg-0"}],["path",{d:"M20.188 8.082a1.039 1.039 0 0 0 -.406 -.082h-.015c-.735 .012 -1.56 .75 -1.993 1.866c-.519 1.335 -.28 2.7 .538 3.052c.129 .055 .267 .082 .406 .082c.739 0 1.575 -.742 2.011 -1.866c.516 -1.335 .273 -2.7 -.54 -3.052z",key:"svg-1"}],["path",{d:"M9.474 9c.055 0 .109 0 .163 -.011c.944 -.128 1.533 -1.346 1.32 -2.722c-.203 -1.297 -1.047 -2.267 -1.932 -2.267c-.055 0 -.109 0 -.163 .011c-.944 .128 -1.533 1.346 -1.32 2.722c.204 1.293 1.048 2.267 1.933 2.267z",key:"svg-2"}],["path",{d:"M16.456 6.733c.214 -1.376 -.375 -2.594 -1.32 -2.722a1.164 1.164 0 0 0 -.162 -.011c-.885 0 -1.728 .97 -1.93 2.267c-.214 1.376 .375 2.594 1.32 2.722c.054 .007 .108 .011 .162 .011c.885 0 1.73 -.974 1.93 -2.267z",key:"svg-3"}],["path",{d:"M5.69 12.918c.816 -.352 1.054 -1.719 .536 -3.052c-.436 -1.124 -1.271 -1.866 -2.009 -1.866c-.14 0 -.277 .027 -.407 .082c-.816 .352 -1.054 1.719 -.536 3.052c.436 1.124 1.271 1.866 2.009 1.866c.14 0 .277 -.027 .407 -.082z",key:"svg-4"}]]),uOe=De("pentagram","IconPentagram",[["path",{d:"M5.636 5.636a9 9 0 1 1 12.728 12.728a9 9 0 0 1 -12.728 -12.728z",key:"svg-0"}],["path",{d:"M15.236 11l5.264 4h-6.5l-2 6l-2 -6h-6.5l5.276 -4l-2.056 -6.28l5.28 3.78l5.28 -3.78z",key:"svg-1"}]]),cOe=De("photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]),dOe=De("pig","IconPig",[["path",{d:"M15 11v.01",key:"svg-0"}],["path",{d:"M16 3l0 3.803a6.019 6.019 0 0 1 2.658 3.197h1.341a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-1.342a6.008 6.008 0 0 1 -1.658 2.473v2.027a1.5 1.5 0 0 1 -3 0v-.583a6.04 6.04 0 0 1 -1 .083h-4a6.04 6.04 0 0 1 -1 -.083v.583a1.5 1.5 0 0 1 -3 0v-2l0 -.027a6 6 0 0 1 4 -10.473h2.5l4.5 -3z",key:"svg-1"}]]),fOe=De("pizza","IconPizza",[["path",{d:"M12 21.5c-3.04 0 -5.952 -.714 -8.5 -1.983l8.5 -16.517l8.5 16.517a19.09 19.09 0 0 1 -8.5 1.983z",key:"svg-0"}],["path",{d:"M5.38 15.866a14.94 14.94 0 0 0 6.815 1.634a14.944 14.944 0 0 0 6.502 -1.479",key:"svg-1"}],["path",{d:"M13 11.01v-.01",key:"svg-2"}],["path",{d:"M11 14v-.01",key:"svg-3"}]]),hOe=De("planet","IconPlanet",[["path",{d:"M18.816 13.58c2.292 2.138 3.546 4 3.092 4.9c-.745 1.46 -5.783 -.259 -11.255 -3.838c-5.47 -3.579 -9.304 -7.664 -8.56 -9.123c.464 -.91 2.926 -.444 5.803 .805",key:"svg-0"}],["path",{d:"M12 12m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-1"}]]),pOe=De("plant-2","IconPlant2",[["path",{d:"M2 9a10 10 0 1 0 20 0",key:"svg-0"}],["path",{d:"M12 19a10 10 0 0 1 10 -10",key:"svg-1"}],["path",{d:"M2 9a10 10 0 0 1 10 10",key:"svg-2"}],["path",{d:"M12 4a9.7 9.7 0 0 1 2.99 7.5",key:"svg-3"}],["path",{d:"M9.01 11.5a9.7 9.7 0 0 1 2.99 -7.5",key:"svg-4"}]]),cR=De("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]),mOe=De("poo","IconPoo",[["path",{d:"M10 12h.01",key:"svg-0"}],["path",{d:"M14 12h.01",key:"svg-1"}],["path",{d:"M10 16a3.5 3.5 0 0 0 4 0",key:"svg-2"}],["path",{d:"M11 4c2 0 3.5 1.5 3.5 4l.164 0a2.5 2.5 0 0 1 2.196 3.32a3 3 0 0 1 1.615 3.063a3 3 0 0 1 -1.299 5.607l-.176 0h-10a3 3 0 0 1 -1.474 -5.613a3 3 0 0 1 1.615 -3.062a2.5 2.5 0 0 1 2.195 -3.32l.164 0c1.5 0 2.5 -2 1.5 -4z",key:"svg-3"}]]),gOe=De("pumpkin-scary","IconPumpkinScary",[["path",{d:"M9 15l1.5 1l1.5 -1l1.5 1l1.5 -1",key:"svg-0"}],["path",{d:"M10 11h.01",key:"svg-1"}],["path",{d:"M14 11h.01",key:"svg-2"}],["path",{d:"M17 6.082c2.609 .588 3.627 4.162 2.723 7.983c-.903 3.82 -2.75 6.44 -5.359 5.853a3.355 3.355 0 0 1 -.774 -.279a3.728 3.728 0 0 1 -1.59 .361c-.556 0 -1.09 -.127 -1.59 -.362a3.296 3.296 0 0 1 -.774 .28c-2.609 .588 -4.456 -2.033 -5.36 -5.853c-.903 -3.82 .115 -7.395 2.724 -7.983c1.085 -.244 1.575 .066 2.585 .787c.716 -.554 1.54 -.869 2.415 -.869c.876 0 1.699 .315 2.415 .87c1.01 -.722 1.5 -1.032 2.585 -.788z",key:"svg-3"}],["path",{d:"M12 6c0 -1.226 .693 -2.346 1.789 -2.894l.211 -.106",key:"svg-4"}]]),vOe=De("puzzle","IconPuzzle",[["path",{d:"M4 7h3a1 1 0 0 0 1 -1v-1a2 2 0 0 1 4 0v1a1 1 0 0 0 1 1h3a1 1 0 0 1 1 1v3a1 1 0 0 0 1 1h1a2 2 0 0 1 0 4h-1a1 1 0 0 0 -1 1v3a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1v-1a2 2 0 0 0 -4 0v1a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h1a2 2 0 0 0 0 -4h-1a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1",key:"svg-0"}]]),yOe=De("question-mark","IconQuestionMark",[["path",{d:"M8 8a3.5 3 0 0 1 3.5 -3h1a3.5 3 0 0 1 3.5 3a3 3 0 0 1 -2 3a3 4 0 0 0 -2 4",key:"svg-0"}],["path",{d:"M12 19l0 .01",key:"svg-1"}]]),bOe=De("quote","IconQuote",[["path",{d:"M10 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5",key:"svg-0"}],["path",{d:"M19 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5",key:"svg-1"}]]),wOe=De("radioactive-filled","IconRadioactiveFilled",[["path",{d:"M21 11a1 1 0 0 1 1 1a10 10 0 0 1 -5 8.656a1 1 0 0 1 -1.302 -.268l-.064 -.098l-3 -5.19a.995 .995 0 0 1 -.133 -.542l.01 -.11l.023 -.106l.034 -.106l.046 -.1l.056 -.094l.067 -.089a.994 .994 0 0 1 .165 -.155l.098 -.064a2 2 0 0 0 .993 -1.57l.007 -.163a1 1 0 0 1 .883 -.994l.117 -.007h6z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["path",{d:"M7 3.344a10 10 0 0 1 10 0a1 1 0 0 1 .418 1.262l-.052 .104l-3 5.19l-.064 .098a.994 .994 0 0 1 -.155 .165l-.089 .067a1 1 0 0 1 -.195 .102l-.105 .034l-.107 .022a1.003 1.003 0 0 1 -.547 -.07l-.104 -.052a2 2 0 0 0 -1.842 -.082l-.158 .082a1 1 0 0 1 -1.302 -.268l-.064 -.098l-3 -5.19a1 1 0 0 1 .366 -1.366z",fill:"currentColor",key:"svg-1",strokeWidth:"0"}],["path",{d:"M9 11a1 1 0 0 1 .993 .884l.007 .117a2 2 0 0 0 .861 1.645l.237 .152a.994 .994 0 0 1 .165 .155l.067 .089l.056 .095l.045 .099c.014 .036 .026 .07 .035 .106l.022 .107l.011 .11a.994 .994 0 0 1 -.08 .437l-.053 .104l-3 5.19a1 1 0 0 1 -1.366 .366a10 10 0 0 1 -5 -8.656a1 1 0 0 1 .883 -.993l.117 -.007h6z",fill:"currentColor",key:"svg-2",strokeWidth:"0"}]]),Tz=De("refresh-dot","IconRefreshDot",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),xOe=De("report-analytics","IconReportAnalytics",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 17v-5",key:"svg-2"}],["path",{d:"M12 17v-1",key:"svg-3"}],["path",{d:"M15 17v-3",key:"svg-4"}]]),SOe=De("robot","IconRobot",[["path",{d:"M6 4m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 2v2",key:"svg-1"}],["path",{d:"M9 12v9",key:"svg-2"}],["path",{d:"M15 12v9",key:"svg-3"}],["path",{d:"M5 16l4 -2",key:"svg-4"}],["path",{d:"M15 14l4 2",key:"svg-5"}],["path",{d:"M9 18h6",key:"svg-6"}],["path",{d:"M10 8v.01",key:"svg-7"}],["path",{d:"M14 8v.01",key:"svg-8"}]]),COe=De("route-x","IconRouteX",[["path",{d:"M3 17l4 4",key:"svg-0"}],["path",{d:"M7 17l-4 4",key:"svg-1"}],["path",{d:"M17 3l4 4",key:"svg-2"}],["path",{d:"M21 3l-4 4",key:"svg-3"}],["path",{d:"M11 19h5.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h4.5",key:"svg-4"}]]),EOe=De("sailboat","IconSailboat",[["path",{d:"M2 20a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1",key:"svg-0"}],["path",{d:"M4 18l-1 -3h18l-1 3",key:"svg-1"}],["path",{d:"M11 12h7l-7 -9v9",key:"svg-2"}],["path",{d:"M8 7l-2 5",key:"svg-3"}]]),W0=De("search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]),kOe=De("seeding","IconSeeding",[["path",{d:"M12 10a6 6 0 0 0 -6 -6h-3v2a6 6 0 0 0 6 6h3",key:"svg-0"}],["path",{d:"M12 14a6 6 0 0 1 6 -6h3v1a6 6 0 0 1 -6 6h-3",key:"svg-1"}],["path",{d:"M12 20l0 -10",key:"svg-2"}]]),dR=De("settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),AOe=De("shadow","IconShadow",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M13 12h5",key:"svg-1"}],["path",{d:"M13 15h4",key:"svg-2"}],["path",{d:"M13 18h1",key:"svg-3"}],["path",{d:"M13 9h4",key:"svg-4"}],["path",{d:"M13 6h1",key:"svg-5"}]]),_Oe=De("shield-checkered-filled","IconShieldCheckeredFilled",[["path",{d:"M11.013 12v9.754a13 13 0 0 1 -8.733 -9.754h8.734zm9.284 3.794a13 13 0 0 1 -7.283 5.951l-.001 -9.745h8.708a12.96 12.96 0 0 1 -1.424 3.794zm-9.283 -13.268l-.001 7.474h-8.986c-.068 -1.432 .101 -2.88 .514 -4.282a1 1 0 0 1 1.005 -.717a11 11 0 0 0 7.192 -2.256l.276 -.219zm1.999 7.474v-7.453l-.09 -.073a11 11 0 0 0 7.189 2.537l.342 -.01a1 1 0 0 1 1.005 .717c.413 1.403 .582 2.85 .514 4.282h-8.96z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),MOe=De("shield-lock-filled","IconShieldLockFilled",[["path",{d:"M11.998 2l.118 .007l.059 .008l.061 .013l.111 .034a.993 .993 0 0 1 .217 .112l.104 .082l.255 .218a11 11 0 0 0 7.189 2.537l.342 -.01a1 1 0 0 1 1.005 .717a13 13 0 0 1 -9.208 16.25a1 1 0 0 1 -.502 0a13 13 0 0 1 -9.209 -16.25a1 1 0 0 1 1.005 -.717a11 11 0 0 0 7.531 -2.527l.263 -.225l.096 -.075a.993 .993 0 0 1 .217 -.112l.112 -.034a.97 .97 0 0 1 .119 -.021l.115 -.007zm.002 7a2 2 0 0 0 -1.995 1.85l-.005 .15l.005 .15a2 2 0 0 0 .995 1.581v1.769l.007 .117a1 1 0 0 0 1.993 -.117l.001 -1.768a2 2 0 0 0 -1.001 -3.732z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),TOe=De("shovel","IconShovel",[["path",{d:"M17 4l3 3",key:"svg-0"}],["path",{d:"M18.5 5.5l-8 8",key:"svg-1"}],["path",{d:"M8.276 11.284l4.44 4.44a.968 .968 0 0 1 0 1.369l-2.704 2.704a4.108 4.108 0 0 1 -5.809 -5.81l2.704 -2.703a.968 .968 0 0 1 1.37 0z",key:"svg-2"}]]),NOe=De("signature","IconSignature",[["path",{d:"M3 17c3.333 -3.333 5 -6 5 -8c0 -3 -1 -3 -2 -3s-2.032 1.085 -2 3c.034 2.048 1.658 4.877 2.5 6c1.5 2 2.5 2.5 3.5 1l2 -3c.333 2.667 1.333 4 3 4c.53 0 2.639 -2 3 -2c.517 0 1.517 .667 3 2",key:"svg-0"}]]),DOe=De("soup","IconSoup",[["path",{d:"M4 11h16a1 1 0 0 1 1 1v.5c0 1.5 -2.517 5.573 -4 6.5v1a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-1c-1.687 -1.054 -4 -5 -4 -6.5v-.5a1 1 0 0 1 1 -1z",key:"svg-0"}],["path",{d:"M12 4a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2",key:"svg-1"}],["path",{d:"M16 4a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2",key:"svg-2"}],["path",{d:"M8 4a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2",key:"svg-3"}]]),ROe=De("spade-filled","IconSpadeFilled",[["path",{d:"M11.327 2.26a1395.065 1395.065 0 0 0 -4.923 4.504c-.626 .6 -1.212 1.21 -1.774 1.843a6.528 6.528 0 0 0 -.314 8.245l.14 .177c1.012 1.205 2.561 1.755 4.055 1.574l.246 -.037l-.706 2.118a1 1 0 0 0 .949 1.316h6l.118 -.007a1 1 0 0 0 .83 -1.31l-.688 -2.065l.104 .02c1.589 .25 3.262 -.387 4.32 -1.785a6.527 6.527 0 0 0 -.311 -8.243a31.787 31.787 0 0 0 -1.76 -1.83l-4.938 -4.518a1 1 0 0 0 -1.348 -.001z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),IOe=De("sparkles","IconSparkles",[["path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z",key:"svg-0"}]]),OOe=De("speakerphone","IconSpeakerphone",[["path",{d:"M18 8a3 3 0 0 1 0 6",key:"svg-0"}],["path",{d:"M10 8v11a1 1 0 0 1 -1 1h-1a1 1 0 0 1 -1 -1v-5",key:"svg-1"}],["path",{d:"M12 8h0l4.524 -3.77a.9 .9 0 0 1 1.476 .692v12.156a.9 .9 0 0 1 -1.476 .692l-4.524 -3.77h-8a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h8",key:"svg-2"}]]),POe=De("sphere","IconSphere",[["path",{d:"M3 12c0 1.657 4.03 3 9 3s9 -1.343 9 -3",key:"svg-0"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-1"}]]),jOe=De("spider","IconSpider",[["path",{d:"M5 4v2l5 5",key:"svg-0"}],["path",{d:"M2.5 9.5l1.5 1.5h6",key:"svg-1"}],["path",{d:"M4 19v-2l6 -6",key:"svg-2"}],["path",{d:"M19 4v2l-5 5",key:"svg-3"}],["path",{d:"M21.5 9.5l-1.5 1.5h-6",key:"svg-4"}],["path",{d:"M20 19v-2l-6 -6",key:"svg-5"}],["path",{d:"M12 15m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-6"}],["path",{d:"M12 9m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-7"}]]),LOe=De("square-root-2","IconSquareRoot2",[["path",{d:"M13 12h1c1 0 1 1 2.016 3.527c.984 2.473 .984 3.473 1.984 3.473h1",key:"svg-0"}],["path",{d:"M12 19c1.5 0 3 -2 4 -3.5s2.5 -3.5 4 -3.5",key:"svg-1"}],["path",{d:"M3 12h1l3 8l3 -16h10",key:"svg-2"}]]),FOe=De("star-filled","IconStarFilled",[["path",{d:"M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]),BOe=De("stars-filled","IconStarsFilled",[["path",{d:"M17.657 12.007a1.39 1.39 0 0 0 -1.103 .765l-.855 1.723l-1.907 .277c-.52 .072 -.96 .44 -1.124 .944l-.038 .14c-.1 .465 .046 .954 .393 1.29l1.377 1.337l-.326 1.892a1.393 1.393 0 0 0 2.018 1.465l1.708 -.895l1.708 .896a1.388 1.388 0 0 0 1.462 -.105l.112 -.09a1.39 1.39 0 0 0 .442 -1.272l-.325 -1.891l1.38 -1.339c.38 -.371 .516 -.924 .352 -1.427l-.051 -.134a1.39 1.39 0 0 0 -1.073 -.81l-1.907 -.278l-.853 -1.722a1.393 1.393 0 0 0 -1.247 -.773l-.143 .007z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["path",{d:"M6.057 12.007a1.39 1.39 0 0 0 -1.103 .765l-.855 1.723l-1.907 .277c-.52 .072 -.96 .44 -1.124 .944l-.038 .14c-.1 .465 .046 .954 .393 1.29l1.377 1.337l-.326 1.892a1.393 1.393 0 0 0 2.018 1.465l1.708 -.895l1.708 .896a1.388 1.388 0 0 0 1.462 -.105l.112 -.09a1.39 1.39 0 0 0 .442 -1.272l-.324 -1.891l1.38 -1.339c.38 -.371 .516 -.924 .352 -1.427l-.051 -.134a1.39 1.39 0 0 0 -1.073 -.81l-1.908 -.279l-.853 -1.722a1.393 1.393 0 0 0 -1.247 -.772l-.143 .007z",fill:"currentColor",key:"svg-1",strokeWidth:"0"}],["path",{d:"M11.857 2.007a1.39 1.39 0 0 0 -1.103 .765l-.855 1.723l-1.907 .277c-.52 .072 -.96 .44 -1.124 .944l-.038 .14c-.1 .465 .046 .954 .393 1.29l1.377 1.337l-.326 1.892a1.393 1.393 0 0 0 2.018 1.465l1.708 -.894l1.709 .896a1.388 1.388 0 0 0 1.462 -.105l.112 -.09a1.39 1.39 0 0 0 .442 -1.272l-.325 -1.892l1.38 -1.339c.38 -.371 .516 -.924 .352 -1.427l-.051 -.134a1.39 1.39 0 0 0 -1.073 -.81l-1.908 -.279l-.853 -1.722a1.393 1.393 0 0 0 -1.247 -.772l-.143 .007z",fill:"currentColor",key:"svg-2",strokeWidth:"0"}]]),zOe=De("storm","IconStorm",[["path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M12 12m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-1"}],["path",{d:"M5.369 14.236c-1.839 -3.929 -1.561 -7.616 -.704 -11.236",key:"svg-2"}],["path",{d:"M18.63 9.76c1.837 3.928 1.561 7.615 .703 11.236",key:"svg-3"}]]),$Oe=De("strikethrough","IconStrikethrough",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5",key:"svg-1"}]]),UOe=De("subscript","IconSubscript",[["path",{d:"M5 7l8 10m-8 0l8 -10",key:"svg-0"}],["path",{d:"M21 20h-4l3.5 -4a1.73 1.73 0 0 0 -3.5 -2",key:"svg-1"}]]),VOe=De("superscript","IconSuperscript",[["path",{d:"M5 7l8 10m-8 0l8 -10",key:"svg-0"}],["path",{d:"M21 11h-4l3.5 -4a1.73 1.73 0 0 0 -3.5 -2",key:"svg-1"}]]),HOe=De("switch-horizontal","IconSwitchHorizontal",[["path",{d:"M16 3l4 4l-4 4",key:"svg-0"}],["path",{d:"M10 7l10 0",key:"svg-1"}],["path",{d:"M8 13l-4 4l4 4",key:"svg-2"}],["path",{d:"M4 17l9 0",key:"svg-3"}]]),zre=De("sword","IconSword",[["path",{d:"M20 4v5l-9 7l-4 4l-3 -3l4 -4l7 -9z",key:"svg-0"}],["path",{d:"M6.5 11.5l6 6",key:"svg-1"}]]),$re=De("swords","IconSwords",[["path",{d:"M21 3v5l-11 9l-4 4l-3 -3l4 -4l9 -11z",key:"svg-0"}],["path",{d:"M5 13l6 6",key:"svg-1"}],["path",{d:"M14.32 17.32l3.68 3.68l3 -3l-3.365 -3.365",key:"svg-2"}],["path",{d:"M10 5.5l-2 -2.5h-5v5l3 2.5",key:"svg-3"}]]),qOe=De("tag","IconTag",[["path",{d:"M7.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M3 6v5.172a2 2 0 0 0 .586 1.414l7.71 7.71a2.41 2.41 0 0 0 3.408 0l5.592 -5.592a2.41 2.41 0 0 0 0 -3.408l-7.71 -7.71a2 2 0 0 0 -1.414 -.586h-5.172a3 3 0 0 0 -3 3z",key:"svg-1"}]]),WOe=De("telescope","IconTelescope",[["path",{d:"M6 21l6 -5l6 5",key:"svg-0"}],["path",{d:"M12 13v8",key:"svg-1"}],["path",{d:"M3.294 13.678l.166 .281c.52 .88 1.624 1.265 2.605 .91l14.242 -5.165a1.023 1.023 0 0 0 .565 -1.456l-2.62 -4.705a1.087 1.087 0 0 0 -1.447 -.42l-.056 .032l-12.694 7.618c-1.02 .613 -1.357 1.897 -.76 2.905z",key:"svg-2"}],["path",{d:"M14 5l3 5.5",key:"svg-3"}]]),Ure=De("timeline","IconTimeline",[["path",{d:"M4 16l6 -7l5 5l5 -6",key:"svg-0"}],["path",{d:"M15 14m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M10 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M4 16m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M20 8m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}]]),GOe=De("tools-kitchen","IconToolsKitchen",[["path",{d:"M4 3h8l-1 9h-6z",key:"svg-0"}],["path",{d:"M7 18h2v3h-2z",key:"svg-1"}],["path",{d:"M20 3v12h-5c-.023 -3.681 .184 -7.406 5 -12z",key:"svg-2"}],["path",{d:"M20 15v6h-1v-3",key:"svg-3"}],["path",{d:"M8 12l0 6",key:"svg-4"}]]),KOe=De("tower","IconTower",[["path",{d:"M5 3h1a1 1 0 0 1 1 1v2h3v-2a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2h3v-2a1 1 0 0 1 1 -1h1a1 1 0 0 1 1 1v4.394a2 2 0 0 1 -.336 1.11l-1.328 1.992a2 2 0 0 0 -.336 1.11v7.394a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1v-7.394a2 2 0 0 0 -.336 -1.11l-1.328 -1.992a2 2 0 0 1 -.336 -1.11v-4.394a1 1 0 0 1 1 -1z",key:"svg-0"}],["path",{d:"M10 21v-5a2 2 0 1 1 4 0v5",key:"svg-1"}]]),Xa=De("trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),XS=De("tree","IconTree",[["path",{d:"M12 13l-2 -2",key:"svg-0"}],["path",{d:"M12 12l2 -2",key:"svg-1"}],["path",{d:"M12 21v-13",key:"svg-2"}],["path",{d:"M9.824 16a3 3 0 0 1 -2.743 -3.69a3 3 0 0 1 .304 -4.833a3 3 0 0 1 4.615 -3.707a3 3 0 0 1 4.614 3.707a3 3 0 0 1 .305 4.833a3 3 0 0 1 -2.919 3.695h-4z",key:"svg-3"}]]),YOe=De("trekking","IconTrekking",[["path",{d:"M12 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 21l2 -4",key:"svg-1"}],["path",{d:"M13 21v-4l-3 -3l1 -6l3 4l3 2",key:"svg-2"}],["path",{d:"M10 14l-1.827 -1.218a2 2 0 0 1 -.831 -2.15l.28 -1.117a2 2 0 0 1 1.939 -1.515h1.439l4 1l3 -2",key:"svg-3"}],["path",{d:"M17 12v9",key:"svg-4"}],["path",{d:"M16 20h2",key:"svg-5"}]]),JOe=De("ufo","IconUfo",[["path",{d:"M16.95 9.01c3.02 .739 5.05 2.123 5.05 3.714c0 2.367 -4.48 4.276 -10 4.276s-10 -1.909 -10 -4.276c0 -1.59 2.04 -2.985 5.07 -3.724",key:"svg-0"}],["path",{d:"M7 9c0 1.105 2.239 2 5 2s5 -.895 5 -2v-.035c0 -2.742 -2.239 -4.965 -5 -4.965s-5 2.223 -5 4.965v.035",key:"svg-1"}],["path",{d:"M15 17l2 3",key:"svg-2"}],["path",{d:"M8.5 17l-1.5 3",key:"svg-3"}],["path",{d:"M12 14h.01",key:"svg-4"}],["path",{d:"M7 13h.01",key:"svg-5"}],["path",{d:"M17 13h.01",key:"svg-6"}]]),QOe=De("underline","IconUnderline",[["path",{d:"M7 5v5a5 5 0 0 0 10 0v-5",key:"svg-0"}],["path",{d:"M5 19h14",key:"svg-1"}]]),XOe=De("unlink","IconUnlink",[["path",{d:"M17 22v-2",key:"svg-0"}],["path",{d:"M9 15l6 -6",key:"svg-1"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-2"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-3"}],["path",{d:"M20 17h2",key:"svg-4"}],["path",{d:"M2 7h2",key:"svg-5"}],["path",{d:"M7 2v2",key:"svg-6"}]]),fR=De("upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]),ZOe=De("user-circle","IconUserCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]]),ePe=De("user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]),YM=De("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]),tPe=De("users-plus","IconUsersPlus",[["path",{d:"M5 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4c.96 0 1.84 .338 2.53 .901",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16v6",key:"svg-4"}]]),hR=De("users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]),nPe=De("virus","IconVirus",[["path",{d:"M12 12m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0",key:"svg-0"}],["path",{d:"M12 7v-4",key:"svg-1"}],["path",{d:"M11 3h2",key:"svg-2"}],["path",{d:"M15.536 8.464l2.828 -2.828",key:"svg-3"}],["path",{d:"M17.657 4.929l1.414 1.414",key:"svg-4"}],["path",{d:"M17 12h4",key:"svg-5"}],["path",{d:"M21 11v2",key:"svg-6"}],["path",{d:"M15.535 15.536l2.829 2.828",key:"svg-7"}],["path",{d:"M19.071 17.657l-1.414 1.414",key:"svg-8"}],["path",{d:"M12 17v4",key:"svg-9"}],["path",{d:"M13 21h-2",key:"svg-10"}],["path",{d:"M8.465 15.536l-2.829 2.828",key:"svg-11"}],["path",{d:"M6.343 19.071l-1.413 -1.414",key:"svg-12"}],["path",{d:"M7 12h-4",key:"svg-13"}],["path",{d:"M3 13v-2",key:"svg-14"}],["path",{d:"M8.464 8.464l-2.828 -2.828",key:"svg-15"}],["path",{d:"M4.929 6.343l1.414 -1.413",key:"svg-16"}]]),G0=De("vocabulary","IconVocabulary",[["path",{d:"M10 19h-6a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1h6a2 2 0 0 1 2 2a2 2 0 0 1 2 -2h6a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-6a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2z",key:"svg-0"}],["path",{d:"M12 5v16",key:"svg-1"}],["path",{d:"M7 7h1",key:"svg-2"}],["path",{d:"M7 11h1",key:"svg-3"}],["path",{d:"M16 7h1",key:"svg-4"}],["path",{d:"M16 11h1",key:"svg-5"}],["path",{d:"M16 15h1",key:"svg-6"}]]),rPe=De("wall","IconWall",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M4 8h16",key:"svg-1"}],["path",{d:"M20 12h-16",key:"svg-2"}],["path",{d:"M4 16h16",key:"svg-3"}],["path",{d:"M9 4v4",key:"svg-4"}],["path",{d:"M14 8v4",key:"svg-5"}],["path",{d:"M8 12v4",key:"svg-6"}],["path",{d:"M16 12v4",key:"svg-7"}],["path",{d:"M11 16v4",key:"svg-8"}]]),iPe=De("wand","IconWand",[["path",{d:"M6 21l15 -15l-3 -3l-15 15l3 3",key:"svg-0"}],["path",{d:"M15 6l3 3",key:"svg-1"}],["path",{d:"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-2"}],["path",{d:"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-3"}]]),aPe=De("webhook","IconWebhook",[["path",{d:"M4.876 13.61a4 4 0 1 0 6.124 3.39h6",key:"svg-0"}],["path",{d:"M15.066 20.502a4 4 0 1 0 1.934 -7.502c-.706 0 -1.424 .179 -2 .5l-3 -5.5",key:"svg-1"}],["path",{d:"M16 8a4 4 0 1 0 -8 0c0 1.506 .77 2.818 2 3.5l-3 5.5",key:"svg-2"}]]),JM=De("window","IconWindow",[["path",{d:"M12 3c-3.866 0 -7 3.272 -7 7v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1 -1v-10c0 -3.728 -3.134 -7 -7 -7z",key:"svg-0"}],["path",{d:"M5 13l14 0",key:"svg-1"}],["path",{d:"M12 3l0 18",key:"svg-2"}]]),Vre=De("world","IconWorld",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]]),I1=De("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]),oPe=De("zoom-check","IconZoomCheck",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}],["path",{d:"M7 10l2 2l4 -4",key:"svg-2"}]]);function sPe({isSmall:e}){const t=wxe(),n=ht(),{hovered:r,ref:i}=Wn();return p.jsx(Hn,{ref:i,onClick:fE.open,style:{width:e?"100%":275,height:32,paddingLeft:n.spacing.sm,paddingRight:5,borderRadius:n.radius.md,color:n.colors.gray[4],fontWeight:500,backdropFilter:"blur(8px)",backgroundColor:r?n.colors.dark[8]+"20":n.colors.dark[8]+"00"},children:p.jsxs(Ae,{gap:"xs",style:{flexWrap:"nowrap"},children:[p.jsx(W0,{size:14,stroke:2}),p.jsx(pe,{fz:"sm",style:{textWrap:"nowrap"},pr:e?0:60,children:"Search everything"}),!e&&p.jsxs(pe,{fw:700,style:{fontSize:8,lineHeight:1,padding:6,borderRadius:n.radius.sm,color:n.colors.dark[0],backgroundColor:n.colors.dark[7]+"80"},children:[t==="undetermined"||t==="macos"?"⌘":"Ctrl"," + K"]})]})})}const bE=B2({key:"supabase-session",default:null});async function lPe(e){const t=await fetch(`https://api.dicebear.com/7.x/shapes/svg?seed=${e}`);return t.ok?await t.text():""}async function O1(e){const t=/^https?:\/\/[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}(\S*)$/;return e.match(t)?new Promise((n,r)=>{let i=new Image;i.onload=function(){n(!0)},i.onerror=function(){n(!1)},i.src=e}):!1}const uPe=B2({key:"user-svg-icon",default:null}),Kv=B2({key:"drawer-history-internal",default:[]}),Rx=B2({key:"drawer-state-internal",default:null}),an=are({key:"drawer-state",get:({get:e})=>{const t=e(Rx),n=e(Kv);return t?{...t,extra:{history:n}}:null},set:({set:e,get:t},n)=>{var a,o;const r=t(Rx),i=t(Kv);if(!n){e(Kv,[]),e(Rx,null);return}(a=n.extra)!=null&&a.addToHistory&&r?e(Kv,[...i,{type:r.type,data:r.data}]):(o=n.extra)!=null&&o.history&&e(Kv,n.extra.history),e(Rx,n)}});function cPe(e){const t=ht(),n=kxe({fixedAt:120}),[r,{toggle:i}]=Ga(),a=Ja(),o=sc(bE),[s,l]=Ct(uPe),[u,c]=j.useState(!1);return j.useEffect(()=>{o&&(s||lPe(o.user.id).then(d=>{l(d)}))},[o]),p.jsxs(fl,{header:{height:50,collapsed:!n,offset:r},navbar:{width:300,breakpoint:"md",collapsed:{desktop:!0,mobile:!r}},padding:"md",children:[p.jsx(fl.Header,{h:50,style:{border:"0px solid",borderRadius:0,backdropFilter:"blur(8px)",backgroundColor:t.colors.dark[8]+"75"},children:p.jsxs(Ae,{h:"100%",px:"md",children:[p.jsx(Z9,{opened:r,onClick:i,hiddenFrom:"md",size:"sm"}),p.jsxs(Ae,{style:{flex:1},children:[p.jsx(x7e,{size:30}),p.jsxs(Ae,{gap:0,style:{flex:1},visibleFrom:"md",justify:"space-between",wrap:"nowrap",children:[p.jsxs(Ae,{gap:0,children:[p.jsx(Hn,{className:zd.control,children:"About"}),p.jsx(Hn,{className:zd.control,children:"Community"}),p.jsx(Hn,{className:zd.control,children:"Support"}),p.jsx(Hn,{className:zd.control,onClick:()=>{window.location.href="https://wanderersguide.app"},children:"Legacy Site"})]}),p.jsxs(Ae,{children:[p.jsx(sPe,{}),o?p.jsxs(je,{width:260,position:"bottom-end",transitionProps:{transition:"pop-top-right"},onClose:()=>c(!1),onOpen:()=>c(!0),withinPortal:!0,children:[p.jsx(je.Target,{children:p.jsx(Hn,{py:1,pr:"xs",style:{borderTopLeftRadius:t.radius.xl,borderBottomLeftRadius:t.radius.xl,borderTopRightRadius:t.radius.md,borderBottomRightRadius:t.radius.md,backgroundColor:u?"#14151750":void 0},children:p.jsxs(Ae,{gap:7,children:[p.jsx(Cl,{src:s?`data:image/svg+xml;utf8,${encodeURIComponent(s)}`:void 0,alt:"Account Dropdown",radius:"xl",size:30}),p.jsx(pe,{fw:500,size:"sm",c:"gray.4",lh:1,mr:3,children:"Account"}),p.jsx(Are,{style:{width:me(12),height:me(12)},stroke:1.5})]})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Item,{leftSection:p.jsx(hR,{style:{width:me(16),height:me(16)},color:t.colors.blue[5],stroke:1.5}),onClick:()=>{a("/characters")},children:"Characters"}),p.jsx(je.Item,{leftSection:p.jsx(OOe,{style:{width:me(16),height:me(16)},color:t.colors.violet[4],stroke:1.5}),children:"Campaigns"}),p.jsx(je.Item,{leftSection:p.jsx($re,{style:{width:me(16),height:me(16)},color:t.colors.teal[6],stroke:1.5}),children:"Encounters"}),p.jsx(je.Item,{leftSection:p.jsx(UIe,{style:{width:me(16),height:me(16)},color:t.colors.yellow[6],stroke:1.5}),onClick:()=>{a("/admin")},children:"Admin Panel"}),p.jsx(je.Label,{children:"Settings"}),p.jsx(je.Item,{leftSection:p.jsx(dR,{style:{width:me(16),height:me(16)},stroke:1.5}),children:"Account settings"}),p.jsx(je.Item,{leftSection:p.jsx(HOe,{style:{width:me(16),height:me(16)},stroke:1.5}),children:"Change account"}),p.jsx(je.Item,{leftSection:p.jsx(KIe,{style:{width:me(16),height:me(16)},stroke:1.5}),onClick:async()=>{o2.auth.signOut()},children:"Logout"})]})]}):p.jsx(mt,{variant:"filled",size:"compact-lg",fz:"sm",onClick:()=>{a("/characters")},children:"Characters"})]})]})]})]})}),p.jsxs(fl.Navbar,{py:"md",px:4,style:{border:"0px solid",borderRadius:0,backdropFilter:"blur(8px)",backgroundColor:t.colors.dark[8]+"75"},children:[p.jsx(Hn,{className:zd.control,children:"Home"}),p.jsx(Hn,{className:zd.control,children:"Blog"}),p.jsx(Hn,{className:zd.control,children:"Contacts"}),p.jsx(Hn,{className:zd.control,children:"Support"})]}),p.jsx(fl.Main,{pt:`calc(${me(60)} + var(--mantine-spacing-md))`,children:e.children})]})}const dPe="modulepreload",fPe=function(e){return"/"+e},Nz={},$2=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=fPe(a),a in Nz)return;Nz[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===a&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":dPe,o||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())},hPe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$2(()=>Promise.resolve().then(()=>U2),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class pR extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Hre extends pR{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class qre extends pR{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Wre extends pR{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pPe=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})};class mPe{constructor(t,{headers:n={},customFetch:r}={}){this.url=t,this.headers=n,this.fetch=hPe(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return pPe(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=n;let s={},l;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(s["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(s["Content-Type"]="application/json",l=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:l}).catch(h=>{throw new Hre(h)}),c=u.headers.get("x-relay-error");if(c&&c==="true")throw new qre(u);if(!u.ok)throw new Wre(u);let d=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield u.json():d==="application/octet-stream"?f=yield u.blob():d==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var QM={exports:{}};(function(e,t){var n=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof go<"u")return go;throw new Error("unable to locate global object")},r=n();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response})(QM,QM.exports);var mR=QM.exports;const gR=Rs(mR),U2=mJ({__proto__:null,default:gR},[mR]);class gPe{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=gR:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l;let u=null,c=null,d=null,f=a.status,h=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=y:c=JSON.parse(y))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(s=a.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");g&&S&&S.length>1&&(d=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(c=[],u=null,f=200,h="OK")}catch{a.status===404&&g===""?(f=204,h="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("Results contain 0 rows"))&&(u=null,f=200,h="OK"),u&&this.shouldThrowOnError)throw u}return{error:u,data:c,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}}class vPe extends gPe{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,n,{foreignTable:r}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){const s=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Eg extends vPe{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=n.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}}class yPe{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Eg({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new Eg({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){const o="POST",s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),a||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Eg({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Eg({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Eg({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const bPe="1.8.4",wPe={"X-Client-Info":`postgrest-js/${bPe}`};class vR{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},wPe),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new yPe(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vR(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let s;r?(a="HEAD",Object.entries(n).forEach(([u,c])=>{o.searchParams.append(u,`${c}`)})):(a="POST",s=n);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Eg({method:a,url:o,headers:l,schema:this.schemaName,body:s,fetch:this.fetch,allowEmpty:!1})}}var q8,Dz;function xPe(){if(Dz)return q8;Dz=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return q8=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),q8}const SPe="websocket",CPe="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",EPe=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],kPe="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",APe=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],_Pe="1.0.34",MPe={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},TPe="https://github.com/theturtle32/WebSocket-Node",NPe={node:">=4.0.0"},DPe={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},RPe={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},IPe={verbose:!1},OPe={test:"tape test/unit/*.js",gulp:"gulp"},PPe="index",jPe={lib:"./lib"},LPe="lib/browser.js",FPe="Apache-2.0",BPe={name:SPe,description:CPe,keywords:EPe,author:kPe,contributors:APe,version:_Pe,repository:MPe,homepage:TPe,engines:NPe,dependencies:DPe,devDependencies:RPe,config:IPe,scripts:OPe,main:PPe,directories:jPe,browser:LPe,license:FPe};var zPe=BPe.version,lp;if(typeof globalThis=="object")lp=globalThis;else try{lp=xPe()}catch{}finally{if(!lp&&typeof window<"u"&&(lp=window),!lp)throw new Error("Could not determine global this")}var Rb=lp.WebSocket||lp.MozWebSocket,$Pe=zPe;function Gre(e,t){var n;return t?n=new Rb(e,t):n=new Rb(e),n}Rb&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(Gre,e,{get:function(){return Rb[e]}})});var UPe={w3cwebsocket:Rb?Gre:null,version:$Pe};const VPe="2.8.0",HPe={"X-Client-Info":`realtime-js/${VPe}`},qPe="1.0.0",Kre=1e4,WPe=1e3;var zy;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zy||(zy={}));var ps;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ps||(ps={}));var ql;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ql||(ql={}));var XM;(function(e){e.websocket="websocket"})(XM||(XM={}));var up;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(up||(up={}));class Yre{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class GPe{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class W8{constructor(t,n,r={},i=Kre){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rz;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rz||(Rz={}));class $y{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$y.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=$y.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$y.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),s={},l={};return this.map(a,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=a[u];if(d){const f=c.map(S=>S.presence_ref),h=d.map(S=>S.presence_ref),m=c.filter(S=>h.indexOf(S.presence_ref)<0),g=d.filter(S=>f.indexOf(S.presence_ref)<0);m.length>0&&(s[u]=m),g.length>0&&(l[u]=g)}else s[u]=c}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),c.length>0){const d=t[s].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[s].unshift(...f)}r(s,c,l)}),this.map(o,(s,l)=>{let u=t[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[s]=u,i(s,u,l),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kr||(kr={}));const Iz=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,o)=>(a[o]=KPe(o,e,t,i),a),{})},KPe=(e,t,n,r)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?Jre(a,o):ZM(o)},Jre=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return XPe(t,n)}switch(e){case kr.bool:return YPe(t);case kr.float4:case kr.float8:case kr.int2:case kr.int4:case kr.int8:case kr.numeric:case kr.oid:return JPe(t);case kr.json:case kr.jsonb:return QPe(t);case kr.timestamp:return ZPe(t);case kr.abstime:case kr.date:case kr.daterange:case kr.int4range:case kr.int8range:case kr.money:case kr.reltime:case kr.text:case kr.time:case kr.timestamptz:case kr.timetz:case kr.tsrange:case kr.tstzrange:return ZM(t);default:return ZM(t)}},ZM=e=>e,YPe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JPe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QPe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},XPe=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>Jre(t,s))}return e},ZPe=e=>typeof e=="string"?e.replace(" ","T"):e;var Oz;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Oz||(Oz={}));var Pz;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(Pz||(Pz={}));var jz;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(jz||(jz={}));class yR{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ps.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new W8(this,ql.join,this.params,this.timeout),this.rejoinTimer=new Yre(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ps.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ps.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ps.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ps.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ql.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new $y(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o}}=this.params;this._onError(u=>t&&t("CHANNEL_ERROR",u)),this._onClose(()=>t&&t("CLOSED"));const s={},l={broadcast:a,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(s.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},s)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var c;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){t&&t("SUBSCRIBED");return}else{const d=this.bindings.postgres_changes,f=(c=d==null?void 0:d.length)!==null&&c!==void 0?c:0,h=[];for(let m=0;m<f;m++){const g=d[m],{filter:{event:S,schema:y,table:E,filter:x}}=g,v=u&&u[m];if(v&&v.event===S&&v.schema===y&&v.table===E&&v.filter===x)h.push(Object.assign(Object.assign({},g),{id:v.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,t&&t("SUBSCRIBED");return}}).receive("error",u=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,s={method:"POST",headers:{apikey:(r=this.socket.accessToken)!==null&&r!==void 0?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(t.type,t,n.timeout||this.timeout);u.rateLimited&&a("rate limited"),t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ps.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ql.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new W8(this,ql.leave,{},t);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new W8(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=ql;if(r&&[s,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var m,g,S;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((S=(g=h.filter)===null||g===void 0?void 0:g.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var m,g,S,y,E,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const v=h.id,C=(m=h.filter)===null||m===void 0?void 0:m.event;return v&&((g=n.ids)===null||g===void 0?void 0:g.includes(v))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const v=(E=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return v==="*"||v===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:S,commit_timestamp:y,type:E,errors:x}=m;f=Object.assign(Object.assign({},{schema:g,table:S,commit_timestamp:y,eventType:E,new:{},old:{},errors:x}),this._getPayloadRecords(m))}h.callback(f,r)})}_isClosed(){return this.state===ps.closed}_isJoined(){return this.state===ps.joined}_isJoining(){return this.state===ps.joining}_isLeaving(){return this.state===ps.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&yR.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ql.close,{},t)}_onError(t){this._on(ql.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ps.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Iz(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Iz(t.columns,t.old_record)),n}}const eje=()=>{};class tje{constructor(t,n){var r,i;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=HPe,this.params={},this.timeout=Kre,this.transport=UPe.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=eje,this.conn=null,this.sendBuffer=[],this.serializer=new GPe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this._resolveFetch=s=>{let l;return s?l=s:typeof fetch>"u"?l=(...u)=>$2(()=>Promise.resolve().then(()=>U2),void 0).then(({default:c})=>c(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${t}/${XM.websocket}`,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.transport&&(this.transport=n.transport),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.eventsPerSecond;a&&(this.eventsPerSecondLimitMs=Math.floor(1e3/a));const o=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;o&&(this.accessToken=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,l)=>l(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Yre(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zy.connecting:return up.Connecting;case zy.open:return up.Open;case zy.closing:return up.Closing;default:return up.Closed}}isConnected(){return this.connectionState()===up.Open}channel(t,n={config:{}}){const r=new yR(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:i,ref:a}=t;let o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};if(this.log("push",`${n} ${r} (${a})`,i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(ql.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qPe}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:a,ref:o}=n;(o&&o===this.pendingHeartbeatRef||i===(a==null?void 0:a.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,a),this.channels.filter(s=>s._isMember(r)).forEach(s=>s._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(s=>s(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ql.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(WPe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(t,n=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(t(),n>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},n)),!1)}}class bR extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Oa(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class nje extends bR{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lz extends bR{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var rje=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})};const Qre=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$2(()=>Promise.resolve().then(()=>U2),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ije=()=>rje(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $2(()=>Promise.resolve().then(()=>U2),void 0)).Response:Response});var P1=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})};const G8=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aje=(e,t)=>P1(void 0,void 0,void 0,function*(){const n=yield ije();e instanceof n?e.json().then(r=>{t(new nje(G8(r),e.status||500))}).catch(r=>{t(new Lz(G8(r),r))}):t(new Lz(G8(e),e))}),oje=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function wE(e,t,n,r,i,a){return P1(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,oje(t,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>aje(l,s))})})}function eT(e,t,n,r){return P1(this,void 0,void 0,function*(){return wE(e,"GET",t,n,r)})}function Qd(e,t,n,r,i){return P1(this,void 0,void 0,function*(){return wE(e,"POST",t,r,i,n)})}function sje(e,t,n,r,i){return P1(this,void 0,void 0,function*(){return wE(e,"PUT",t,r,i,n)})}function Xre(e,t,n,r,i){return P1(this,void 0,void 0,function*(){return wE(e,"DELETE",t,r,i,n)})}var Gs=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})};const lje={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fz={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uje{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Qre(i)}uploadOrUpdate(t,n,r,i){return Gs(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Fz),i),s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl)):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType);const l=this._removeEmptyFolders(n),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:a,headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return c.ok?{data:{path:l},error:null}:{data:null,error:yield c.json()}}catch(a){if(Oa(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Gs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Gs(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Fz.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(s.toString(),{method:"PUT",body:l,headers:c});return d.ok?{data:{path:a},error:null}:{data:null,error:yield d.json()}}catch(l){if(Oa(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t){return Gs(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=yield Qd(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),i=new URL(this.url+r.url),a=i.searchParams.get("token");if(!a)throw new bR("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(Oa(n))return{data:null,error:n};throw n}})}update(t,n,r){return Gs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n){return Gs(this,void 0,void 0,function*(){try{return{data:yield Qd(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(Oa(r))return{data:null,error:r};throw r}})}copy(t,n){return Gs(this,void 0,void 0,function*(){try{return{data:{path:(yield Qd(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(Oa(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,r){return Gs(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Qd(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Oa(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Gs(this,void 0,void 0,function*(){try{const i=yield Qd(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Oa(i))return{data:null,error:i};throw i}})}download(t,n){return Gs(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const s=this._getFinalPath(t);return{data:yield(yield eT(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(Oa(s))return{data:null,error:s};throw s}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(t){return Gs(this,void 0,void 0,function*(){try{return{data:yield Xre(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Oa(n))return{data:null,error:n};throw n}})}list(t,n,r){return Gs(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},lje),n),{prefix:t||""});return{data:yield Qd(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Oa(i))return{data:null,error:i};throw i}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const cje="2.5.4",dje={"X-Client-Info":`storage-js/${cje}`};var sg=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})};class fje{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},dje),n),this.fetch=Qre(r)}listBuckets(){return sg(this,void 0,void 0,function*(){try{return{data:yield eT(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Oa(t))return{data:null,error:t};throw t}})}getBucket(t){return sg(this,void 0,void 0,function*(){try{return{data:yield eT(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Oa(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return sg(this,void 0,void 0,function*(){try{return{data:yield Qd(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oa(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return sg(this,void 0,void 0,function*(){try{return{data:yield sje(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oa(r))return{data:null,error:r};throw r}})}emptyBucket(t){return sg(this,void 0,void 0,function*(){try{return{data:yield Qd(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Oa(n))return{data:null,error:n};throw n}})}deleteBucket(t){return sg(this,void 0,void 0,function*(){try{return{data:yield Xre(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Oa(n))return{data:null,error:n};throw n}})}}class hje extends fje{constructor(t,n={},r){super(t,n,r)}from(t){return new uje(this.url,this.headers,t,this.fetch)}}const pje="2.38.0";let hy="";typeof Deno<"u"?hy="deno":typeof document<"u"?hy="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hy="react-native":hy="node";const mje={"X-Client-Info":`supabase-js-${hy}/${pje}`};var gje=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})};const vje=e=>{let t;return e?t=e:typeof fetch>"u"?t=gR:t=fetch,(...n)=>t(...n)},yje=()=>typeof Headers>"u"?mR.Headers:Headers,bje=(e,t,n)=>{const r=vje(n),i=yje();return(a,o)=>gje(void 0,void 0,void 0,function*(){var s;const l=(s=yield t())!==null&&s!==void 0?s:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};function wje(e){return e.replace(/\/$/,"")}function xje(e,t){const{db:n,auth:r,realtime:i,global:a}=e,{db:o,auth:s,realtime:l,global:u}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},s),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),a)}}function Sje(e){return Math.round(Date.now()/1e3)+e}function Cje(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Mc=()=>typeof document<"u",Kh={tested:!1,writable:!1},Uy=()=>{if(!Mc())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kh.tested)return Kh.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Kh.tested=!0,Kh.writable=!0}catch{Kh.tested=!0,Kh.writable=!1}return Kh.writable};function K8(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Zre=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$2(()=>Promise.resolve().then(()=>U2),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Eje=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lg=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ix=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Y8=async(e,t)=>{await e.removeItem(t)};function kje(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,a,o,s,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),s=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=o<<2|s>>4,i=(s&15)<<4|l>>2,a=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),u!=64&&a!=0&&(n=n+String.fromCharCode(a));return n}class xE{constructor(){this.promise=new xE.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}xE.promiseConstructor=Promise;function Bz(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(kje(r))}async function Aje(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _je(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function Mje(e){return("0"+e.toString(16)).substr(-2)}function Yv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Mje).join("")}async function Tje(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}function Nje(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Tje(e);return Nje(n)}class wR extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function Un(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Dje extends wR{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Rje(e){return Un(e)&&e.name==="AuthApiError"}class eie extends wR{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class j1 extends wR{constructor(t,n,r){super(t),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ug extends j1{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class J8 extends j1{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Ox extends j1{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class Px extends j1{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zz extends j1{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tT extends j1{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}function $z(e){return Un(e)&&e.name==="AuthRetryableFetchError"}var Ije=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const py=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Oje=[502,503,504];async function Uz(e){if(!Eje(e))throw new tT(py(e),0);if(Oje.includes(e.status))throw new tT(py(e),e.status);let t;try{t=await e.json()}catch(n){throw new eie(py(n),n)}throw new Dje(py(t),e.status||500)}const Pje=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Kn(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await jje(e,t,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function jje(e,t,n,r,i,a){const o=Pje(t,r,i,a);let s;try{s=await e(n,o)}catch(l){throw console.error(l),new tT(py(l),0)}if(s.ok||await Uz(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await Uz(l)}}function $d(e){var t;let n=null;zje(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Sje(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function cf(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Lje(e){return{data:e,error:null}}function Fje(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=Ije(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function Bje(e){return e}function zje(e){return e.access_token&&e.refresh_token&&e.expires_in}var $je=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Uje{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Zre(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Kn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Un(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Kn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:cf})}catch(r){if(Un(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=$je(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Kn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Fje,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Un(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Kn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cf})}catch(n){if(Un(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Kn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Bje});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(m.split(";")[1].split("=")[1]);u[`${S}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Un(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Kn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cf})}catch(n){if(Un(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Kn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:cf})}catch(r){if(Un(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Kn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:cf})}catch(r){if(Un(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Kn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Un(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Kn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Un(n))return{data:null,error:n};throw n}}}const tie="2.55.0",Vje="http://localhost:9999",Hje="supabase.auth.token",qje={"X-Client-Info":`gotrue-js/${tie}`},Vz=10,Wje={getItem:e=>Uy()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Uy()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Uy()&&globalThis.localStorage.removeItem(e)}};function Hz(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Gje(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&Uy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class Kje extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}Gje();const Yje={url:Vje,storageKey:Hje,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qje,flowType:"implicit",debug:!1},Qv=30*1e3,qz=3;async function Jje(e,t,n){return await n()}class Ib{constructor(t){var n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ib.nextInstanceID,Ib.nextInstanceID+=1,this.instanceID>0&&Mc()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Yje),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Uje({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Zre(r.fetch),this.lock=r.lock||Jje,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Uy()?this.storage=Wje:(this.memoryStorage={},this.storage=Hz(this.memoryStorage)):(this.memoryStorage={},this.storage=Hz(this.memoryStorage)),Mc()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tie}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=Mc()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),await this._removeSession(),{error:r};const{session:i,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Un(t)?{error:t}:{error:new eie("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(t){var n,r,i;try{await this._removeSession();let a;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,m=null;if(this.flowType==="pkce"){const g=Yv();await lg(this.storage,`${this.storageKey}-code-verifier`,g),h=await Jv(g),m=g===h?"plain":"s256"}a=await Kn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},xform:$d})}else if("phone"in t){const{phone:c,password:d,options:f}=t;a=await Kn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$d})}else throw new Ox("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Un(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{await this._removeSession();let n;if("email"in t){const{email:a,password:o,options:s}=t;n=await Kn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$d})}else if("phone"in t){const{phone:a,password:o,options:s}=t;n=await Kn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$d})}else throw new Ox("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new J8}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:i})}catch(n){if(Un(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Ix(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:i}=await Kn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:$d});return await Y8(this.storage,`${this.storageKey}-code-verifier`),i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new J8}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:i})}async signInWithIdToken(t){await this._removeSession();try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,s=await Kn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$d}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new J8}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Un(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if(await this._removeSession(),"email"in t){const{email:s,options:l}=t;let u=null,c=null;if(this.flowType==="pkce"){const f=Yv();await lg(this.storage,`${this.storageKey}-code-verifier`,f),u=await Jv(f),c=f===u?"plain":"s256"}const{error:d}=await Kn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:c}=await Kn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ox("You must provide either an email or phone number.")}catch(s){if(Un(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var n,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await Kn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:$d});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Un(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{return await this._removeSession(),await Kn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:Lje})}catch(a){if(Un(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ug;const{error:i}=await Kn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Un(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await Kn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:s}=await Kn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Ox("You must provide either an email or phone number and a type")}catch(n){if(Un(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ix(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Kn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cf}):await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Kn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:cf})})}catch(n){if(Un(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new ug;const o=i.session;let s=null,l=null;if(this.flowType==="pkce"&&t.email!=null){const d=Yv();await lg(this.storage,`${this.storageKey}-code-verifier`,d),s=await Jv(d),l=d===s?"plain":"s256"}const{data:u,error:c}=await Kn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:cf});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Un(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Bz(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ug;const n=Date.now()/1e3;let r=n,i=!0,a=null;const o=Bz(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Un(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:s}=n;if(s)throw s;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ug;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Un(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!Mc())throw new Px("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Px("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new zz("Not a valid PKCE flow url.");const n=K8(window.location.href);if(t){if(!n.code)throw new zz("No code detected.");const{data:E,error:x}=await this._exchangeCodeForSession(n.code);if(x)throw x;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:E.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Px(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=n;if(!a||!s||!o||!u)throw new Px("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=Qv&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",m,f,c);const{data:g,error:S}=await this._getUser(a);if(S)throw S;const y={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:n.type},error:null}}catch(n){if(Un(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=K8(window.location.href);return!!(Mc()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=K8(window.location.href),n=await Ix(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(Rje(s)&&(s.status===404||s.status===401)))return{error:s}}return t!=="others"&&(await this._removeSession(),await Y8(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=Cje(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;if(this.flowType==="pkce"){const a=Yv();await lg(this.storage,`${this.storageKey}-code-verifier`,a),r=await Jv(a),i=a===r?"plain":"s256"}try{return await Kn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Un(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _je(async i=>(await Aje(i*200),this._debug(n,"refreshing attempt",i),await Kn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$d})),(i,a,o)=>o&&o.error&&$z(o.error)&&Date.now()+(i+1)*200-r<Qv)}catch(r){if(this._debug(n,"error",r),Un(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Mc()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ix(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),a=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+Vz;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Vz}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),$z(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ug;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new xE;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ug;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Un(a)){const o={session:null,error:a};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),lg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Y8(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mc()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qv);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Qv);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Qv}ms, refresh threshold is ${qz} ticks`),i<=qz&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Kje)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mc()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n){const r=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const i=Yv();await lg(this.storage,`${this.storageKey}-code-verifier`,i);const a=await Jv(i),o=i===a?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",a,"method",o);const s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return`${this.url}/authorize?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Kn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Un(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const{data:s,error:l}=await Kn(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(!((i=s==null?void 0:s.totp)===null||i===void 0)&&i.qr_code&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})})}catch(n){if(Un(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:s}=await Kn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(n){if(Un(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Kn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Un(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified");return{data:{all:r,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Ib.nextInstanceID=0;class Qje extends Ib{constructor(t){super(t)}}var Xje=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})};const Zje={headers:mje},eLe={schema:"public"},tLe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nLe={};class rLe{constructor(t,n,r){var i,a,o,s,l,u,c,d;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=wje(t);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:eLe,realtime:nLe,auth:Object.assign(Object.assign({},tLe),{storageKey:h}),global:Zje},g=xje(r??{},m);this.storageKey=(a=(i=g.auth)===null||i===void 0?void 0:i.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=(o=g.global)===null||o===void 0?void 0:o.headers)!==null&&s!==void 0?s:{},this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,(u=g.global)===null||u===void 0?void 0:u.fetch),this.fetch=bje(n,this._getAccessToken.bind(this),(c=g.global)===null||c===void 0?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},g.realtime)),this.rest=new vR(`${f}/rest/v1`,{headers:this.headers,schema:(d=g.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new mPe(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hje(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Xje(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:o,debug:s},l,u){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qje({url:this.authUrl,headers:Object.assign(Object.assign({},c),l),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,debug:s,fetch:u})}_initRealtimeClient(t){return new tje(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const iLe=(e,t,n)=>new rLe(e,t,n),aLe=()=>ore({notifications:[],queue:[],limit:5}),vm=aLe(),oLe=(e=vm)=>sre(e);function L1(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]);e.setState({notifications:r.slice(0,n.limit),queue:r.slice(n.limit),limit:n.limit})}function Si(e,t=vm){const n=e.id||d0();return L1(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function id(e,t=vm){return L1(t,n=>n.filter(r=>{var i;return r.id===e?((i=r.onClose)==null||i.call(r,r),!1):!0})),e}function sLe(e,t=vm){return L1(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function lLe(e=vm){L1(e,()=>[])}function uLe(e=vm){L1(e,t=>t.slice(0,e.getState().limit))}const F1={show:Si,hide:id,update:sLe,clean:lLe,cleanQueue:uLe,updateState:L1};function nT(e,t){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nT(e,t)}function nie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nT(e,t)}const Wz={disabled:!1},ZS=O.createContext(null);var cLe=function(t){return t.scrollTop},my="unmounted",tp="exited",np="entering",kg="entered",rT="exiting",yd=function(e){nie(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var o=i,s=o&&!o.isMounting?r.enter:r.appear,l;return a.appearStatus=null,r.in?s?(l=tp,a.appearStatus=np):l=kg:r.unmountOnExit||r.mountOnEnter?l=my:l=tp,a.state={status:l},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var o=i.in;return o&&a.status===my?{status:tp}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==np&&o!==kg&&(a=np):(o===np||o===kg)&&(a=rT)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,o,s;return a=o=s=i,i!=null&&typeof i!="number"&&(a=i.exit,o=i.enter,s=i.appear!==void 0?i.appear:o),{exit:a,enter:o,appear:s}},n.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===np){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ug.findDOMNode(this);o&&cLe(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tp&&this.setState({status:my})},n.performEnter=function(i){var a=this,o=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[Ug.findDOMNode(this),s],u=l[0],c=l[1],d=this.getTimeouts(),f=s?d.appear:d.enter;if(!i&&!o||Wz.disabled){this.safeSetState({status:kg},function(){a.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:np},function(){a.props.onEntering(u,c),a.onTransitionEnd(f,function(){a.safeSetState({status:kg},function(){a.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,a=this.props.exit,o=this.getTimeouts(),s=this.props.nodeRef?void 0:Ug.findDOMNode(this);if(!a||Wz.disabled){this.safeSetState({status:tp},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:rT},function(){i.props.onExiting(s),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:tp},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,o=!0;return this.nextCallback=function(s){o&&(o=!1,a.nextCallback=null,i(s))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:Ug.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!o||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===my)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var s=c7(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return O.createElement(ZS.Provider,{value:null},typeof o=="function"?o(i,s):O.cloneElement(O.Children.only(o),s))},t}(O.Component);yd.contextType=ZS;yd.propTypes={};function cg(){}yd.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:cg,onEntering:cg,onEntered:cg,onExit:cg,onExiting:cg,onExited:cg};yd.UNMOUNTED=my;yd.EXITED=tp;yd.ENTERING=np;yd.ENTERED=kg;yd.EXITING=rT;const dLe=yd;function fLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xR(e,t){var n=function(a){return t&&j.isValidElement(a)?t(a):a},r=Object.create(null);return e&&j.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function hLe(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var r=Object.create(null),i=[];for(var a in e)a in t?i.length&&(r[a]=i,i=[]):i.push(a);var o,s={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];s[r[l][o]]=n(u)}s[l]=n(l)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}function xp(e,t,n){return n[t]!=null?n[t]:e.props[t]}function pLe(e,t){return xR(e.children,function(n){return j.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:xp(n,"appear",e),enter:xp(n,"enter",e),exit:xp(n,"exit",e)})})}function mLe(e,t,n){var r=xR(e.children),i=hLe(t,r);return Object.keys(i).forEach(function(a){var o=i[a];if(j.isValidElement(o)){var s=a in t,l=a in r,u=t[a],c=j.isValidElement(u)&&!u.props.in;l&&(!s||c)?i[a]=j.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:xp(o,"exit",e),enter:xp(o,"enter",e)}):!l&&s&&!c?i[a]=j.cloneElement(o,{in:!1}):l&&s&&j.isValidElement(u)&&(i[a]=j.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:xp(o,"exit",e),enter:xp(o,"enter",e)}))}}),i}var gLe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},vLe={component:"div",childFactory:function(t){return t}},SR=function(e){nie(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var o=a.handleExited.bind(fLe(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,a){var o=a.children,s=a.handleExited,l=a.firstRender;return{children:l?pLe(i,s):mLe(i,o,s),firstRender:!1}},n.handleExited=function(i,a){var o=xR(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(s){var l=xi({},s.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,a=i.component,o=i.childFactory,s=c7(i,["component","childFactory"]),l=this.state.contextValue,u=gLe(this.state.children).map(o);return delete s.appear,delete s.enter,delete s.exit,a===null?O.createElement(ZS.Provider,{value:l},u):O.createElement(ZS.Provider,{value:l},O.createElement(a,s,u))},t}(O.Component);SR.propTypes={};SR.defaultProps=vLe;const yLe=SR;function bLe(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const rie=j.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:a,message:o,...s}=e,l=bLe(n,e.autoClose),u=j.useRef(),c=()=>window.clearTimeout(u.current),d=()=>{t(e.id),c()},f=()=>{typeof l=="number"&&(u.current=window.setTimeout(d,l))};return j.useEffect(()=>{var h;(h=e.onOpen)==null||h.call(e,e)},[]),j.useEffect(()=>(f(),c),[l]),O.createElement(w7,{...r,...s,onClose:d,ref:i,onMouseEnter:c,onMouseLeave:f},o)});rie.displayName="@mantine/notifications/NotificationContainer";const Gz={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},wLe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function xLe({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,a]=n.split("-"),o=a==="center"?`${i}-center`:a,s={opacity:0,maxHeight:t,transform:Gz[o],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:wLe[o]},u={opacity:0,maxHeight:0,transform:Gz[o]};return{...s,...{entering:l,entered:l,exiting:u,exited:u}[e]}}var iie={root:"m-b37d9ac7",notification:"m-5ed0edd0"};const SLe=dLe,CLe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Ya("overlay"),store:vm,withinPortal:!0},ELe=(e,{zIndex:t,position:n,containerWidth:r})=>{const[i,a]=n.split("-");return{root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-top":i==="top"?"var(--mantine-spacing-md)":void 0,"--notifications-bottom":i==="bottom"?"var(--mantine-spacing-md)":void 0,"--notifications-left":a==="left"?"var(--mantine-spacing-md)":a==="center"?"50%":void 0,"--notifications-right":a==="right"?"var(--mantine-spacing-md)":void 0,"--notifications-transform":a==="center"?"translateX(-50%)":void 0,"--notifications-container-width":me(r)}}},bd=Ge((e,t)=>{const n=Fe("Notifications",CLe,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,position:u,autoClose:c,transitionDuration:d,containerWidth:f,notificationMaxHeight:h,limit:m,zIndex:g,store:S,portalProps:y,withinPortal:E,...x}=n,v=ht(),C=oLe(S),b=ixe(),A=XC(),_=j.useRef({}),T=j.useRef(0),N=(v.respectReducedMotion?A:!1)?1:d,I=gt({name:"Notifications",classes:iie,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:ELe});j.useEffect(()=>{S==null||S.updateState($=>({...$,limit:m||5}))},[m]),$n(()=>{C.notifications.length>T.current&&setTimeout(()=>b(),0),T.current=C.notifications.length},[C.notifications]);const F=C.notifications.map(({style:$,...z})=>O.createElement(SLe,{key:z.id,timeout:N,onEnter:()=>_.current[z.id].offsetHeight,nodeRef:{current:_.current[z.id]}},D=>O.createElement(rie,{ref:P=>{_.current[z.id]=P},data:z,onHide:P=>id(P,S),autoClose:c,...I("notification",{style:{...xLe({state:D,position:u,transitionDuration:N,maxHeight:h}),...$}})})));return O.createElement(dm,{withinPortal:E,...y},O.createElement(Z,{...I("root"),ref:t,...x},O.createElement(yLe,null,F)))});bd.classes=iie;bd.displayName="@mantine/notifications/Notifications";bd.show=F1.show;bd.hide=F1.hide;bd.update=F1.update;bd.clean=F1.clean;bd.cleanQueue=F1.cleanQueue;bd.updateState=F1.updateState;function $i(e){throw wd(e),new Error(e)}function wd(e){const t=e;id(t),Si({id:t,title:"Error",message:e,autoClose:!1,color:"red",icon:p.jsx(I1,{})})}async function dr(e,t){const{data:n,error:r}=await o2.functions.invoke(e,{body:t});if(r instanceof Wre){const a=await r.context.json();console.error("Request Function returned an error",a)}else r instanceof qre?console.error("Request Relay error:",r.message):r instanceof Hre?console.error("Request Fetch error:",r.message):r&&console.error("Request Unknown error:",r);if(!n)return null;const i=n;return i.status==="error"?($i(i.message),null):i.status==="fail"?(wd("Failed to make request"),null):i.data}var e5={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */e5.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,f=2,h=4,m=1,g=2,S=1,y=2,E=4,x=8,v=16,C=32,b=64,A=128,_=256,T=512,M=30,N="...",I=800,F=16,$=1,z=2,D=3,P=1/0,V=9007199254740991,B=17976931348623157e292,H=0/0,K=4294967295,W=K-1,L=K>>>1,G=[["ary",A],["bind",S],["bindKey",y],["curry",x],["curryRight",v],["flip",T],["partial",C],["partialRight",b],["rearg",_]],de="[object Arguments]",Q="[object Array]",ee="[object AsyncFunction]",ne="[object Boolean]",se="[object Date]",ge="[object DOMException]",xe="[object Error]",we="[object Function]",_e="[object GeneratorFunction]",ze="[object Map]",Y="[object Number]",re="[object Null]",Se="[object Object]",le="[object Promise]",ye="[object Proxy]",Ee="[object RegExp]",be="[object Set]",Me="[object String]",X="[object Symbol]",ce="[object Undefined]",ae="[object WeakMap]",Ce="[object WeakSet]",Ie="[object ArrayBuffer]",Oe="[object DataView]",Ve="[object Float32Array]",qe="[object Float64Array]",Je="[object Int8Array]",We="[object Int16Array]",Nt="[object Int32Array]",Pe="[object Uint8Array]",te="[object Uint8ClampedArray]",he="[object Uint16Array]",U="[object Uint32Array]",ie=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,Ne=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$e=/&(?:amp|lt|gt|quot|#39);/g,Ue=/[&<>"']/g,ut=RegExp($e.source),At=RegExp(Ue.source),_t=/<%-([\s\S]+?)%>/g,Jt=/<%([\s\S]+?)%>/g,Qt=/<%=([\s\S]+?)%>/g,Cr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nr=/^\w*$/,ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dr=/[\\^$.*+?()[\]{}|]/g,Rr=RegExp(Dr.source),Ir=/^\s+/,xu=/\s/,Oh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ph=/\{\n\/\* \[wrapped with (.+)\] \*/,jh=/,? & /,Gn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,io=/[()=,{}\[\]\/\s]/,Fs=/\\(\\)?/g,Lh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$r=/\w*$/,pc=/^[-+]0x[0-9a-f]+$/i,Bm=/^0b[01]+$/i,fv=/^\[object .+?Constructor\]$/,_k=/^0o[0-7]+$/i,Mk=/^(?:0|[1-9]\d*)$/,Tk=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zm=/($^)/,Fh=/['\n\r\u2028\u2029\\]/g,Ln="\\ud800-\\udfff",Ta="\\u0300-\\u036f",Nk="\\ufe20-\\ufe2f",$m="\\u20d0-\\u20ff",Md=Ta+Nk+$m,mw="\\u2700-\\u27bf",nP="a-z\\xdf-\\xf6\\xf8-\\xff",bhe="\\xac\\xb1\\xd7\\xf7",whe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xhe="\\u2000-\\u206f",She=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rP="A-Z\\xc0-\\xd6\\xd8-\\xde",iP="\\ufe0e\\ufe0f",aP=bhe+whe+xhe+She,Dk="['’]",Che="["+Ln+"]",oP="["+aP+"]",gw="["+Md+"]",sP="\\d+",Ehe="["+mw+"]",lP="["+nP+"]",uP="[^"+Ln+aP+sP+mw+nP+rP+"]",Rk="\\ud83c[\\udffb-\\udfff]",khe="(?:"+gw+"|"+Rk+")",cP="[^"+Ln+"]",Ik="(?:\\ud83c[\\udde6-\\uddff]){2}",Ok="[\\ud800-\\udbff][\\udc00-\\udfff]",Um="["+rP+"]",dP="\\u200d",fP="(?:"+lP+"|"+uP+")",Ahe="(?:"+Um+"|"+uP+")",hP="(?:"+Dk+"(?:d|ll|m|re|s|t|ve))?",pP="(?:"+Dk+"(?:D|LL|M|RE|S|T|VE))?",mP=khe+"?",gP="["+iP+"]?",_he="(?:"+dP+"(?:"+[cP,Ik,Ok].join("|")+")"+gP+mP+")*",Mhe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",The="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vP=gP+mP+_he,Nhe="(?:"+[Ehe,Ik,Ok].join("|")+")"+vP,Dhe="(?:"+[cP+gw+"?",gw,Ik,Ok,Che].join("|")+")",Rhe=RegExp(Dk,"g"),Ihe=RegExp(gw,"g"),Pk=RegExp(Rk+"(?="+Rk+")|"+Dhe+vP,"g"),Ohe=RegExp([Um+"?"+lP+"+"+hP+"(?="+[oP,Um,"$"].join("|")+")",Ahe+"+"+pP+"(?="+[oP,Um+fP,"$"].join("|")+")",Um+"?"+fP+"+"+hP,Um+"+"+pP,The,Mhe,sP,Nhe].join("|"),"g"),Phe=RegExp("["+dP+Ln+Md+iP+"]"),jhe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lhe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fhe=-1,Or={};Or[Ve]=Or[qe]=Or[Je]=Or[We]=Or[Nt]=Or[Pe]=Or[te]=Or[he]=Or[U]=!0,Or[de]=Or[Q]=Or[Ie]=Or[ne]=Or[Oe]=Or[se]=Or[xe]=Or[we]=Or[ze]=Or[Y]=Or[Se]=Or[Ee]=Or[be]=Or[Me]=Or[ae]=!1;var Er={};Er[de]=Er[Q]=Er[Ie]=Er[Oe]=Er[ne]=Er[se]=Er[Ve]=Er[qe]=Er[Je]=Er[We]=Er[Nt]=Er[ze]=Er[Y]=Er[Se]=Er[Ee]=Er[be]=Er[Me]=Er[X]=Er[Pe]=Er[te]=Er[he]=Er[U]=!0,Er[xe]=Er[we]=Er[ae]=!1;var Bhe={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},zhe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$he={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Uhe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vhe=parseFloat,Hhe=parseInt,yP=typeof go=="object"&&go&&go.Object===Object&&go,qhe=typeof self=="object"&&self&&self.Object===Object&&self,aa=yP||qhe||Function("return this")(),jk=t&&!t.nodeType&&t,Bh=jk&&!0&&e&&!e.nodeType&&e,bP=Bh&&Bh.exports===jk,Lk=bP&&yP.process,Bs=function(){try{var Le=Bh&&Bh.require&&Bh.require("util").types;return Le||Lk&&Lk.binding&&Lk.binding("util")}catch{}}(),wP=Bs&&Bs.isArrayBuffer,xP=Bs&&Bs.isDate,SP=Bs&&Bs.isMap,CP=Bs&&Bs.isRegExp,EP=Bs&&Bs.isSet,kP=Bs&&Bs.isTypedArray;function as(Le,Ke,He){switch(He.length){case 0:return Le.call(Ke);case 1:return Le.call(Ke,He[0]);case 2:return Le.call(Ke,He[0],He[1]);case 3:return Le.call(Ke,He[0],He[1],He[2])}return Le.apply(Ke,He)}function Whe(Le,Ke,He,wt){for(var rn=-1,Zn=Le==null?0:Le.length;++rn<Zn;){var Li=Le[rn];Ke(wt,Li,He(Li),Le)}return wt}function zs(Le,Ke){for(var He=-1,wt=Le==null?0:Le.length;++He<wt&&Ke(Le[He],He,Le)!==!1;);return Le}function Ghe(Le,Ke){for(var He=Le==null?0:Le.length;He--&&Ke(Le[He],He,Le)!==!1;);return Le}function AP(Le,Ke){for(var He=-1,wt=Le==null?0:Le.length;++He<wt;)if(!Ke(Le[He],He,Le))return!1;return!0}function Td(Le,Ke){for(var He=-1,wt=Le==null?0:Le.length,rn=0,Zn=[];++He<wt;){var Li=Le[He];Ke(Li,He,Le)&&(Zn[rn++]=Li)}return Zn}function vw(Le,Ke){var He=Le==null?0:Le.length;return!!He&&Vm(Le,Ke,0)>-1}function Fk(Le,Ke,He){for(var wt=-1,rn=Le==null?0:Le.length;++wt<rn;)if(He(Ke,Le[wt]))return!0;return!1}function Ur(Le,Ke){for(var He=-1,wt=Le==null?0:Le.length,rn=Array(wt);++He<wt;)rn[He]=Ke(Le[He],He,Le);return rn}function Nd(Le,Ke){for(var He=-1,wt=Ke.length,rn=Le.length;++He<wt;)Le[rn+He]=Ke[He];return Le}function Bk(Le,Ke,He,wt){var rn=-1,Zn=Le==null?0:Le.length;for(wt&&Zn&&(He=Le[++rn]);++rn<Zn;)He=Ke(He,Le[rn],rn,Le);return He}function Khe(Le,Ke,He,wt){var rn=Le==null?0:Le.length;for(wt&&rn&&(He=Le[--rn]);rn--;)He=Ke(He,Le[rn],rn,Le);return He}function zk(Le,Ke){for(var He=-1,wt=Le==null?0:Le.length;++He<wt;)if(Ke(Le[He],He,Le))return!0;return!1}var Yhe=$k("length");function Jhe(Le){return Le.split("")}function Qhe(Le){return Le.match(Gn)||[]}function _P(Le,Ke,He){var wt;return He(Le,function(rn,Zn,Li){if(Ke(rn,Zn,Li))return wt=Zn,!1}),wt}function yw(Le,Ke,He,wt){for(var rn=Le.length,Zn=He+(wt?1:-1);wt?Zn--:++Zn<rn;)if(Ke(Le[Zn],Zn,Le))return Zn;return-1}function Vm(Le,Ke,He){return Ke===Ke?upe(Le,Ke,He):yw(Le,MP,He)}function Xhe(Le,Ke,He,wt){for(var rn=He-1,Zn=Le.length;++rn<Zn;)if(wt(Le[rn],Ke))return rn;return-1}function MP(Le){return Le!==Le}function TP(Le,Ke){var He=Le==null?0:Le.length;return He?Vk(Le,Ke)/He:H}function $k(Le){return function(Ke){return Ke==null?n:Ke[Le]}}function Uk(Le){return function(Ke){return Le==null?n:Le[Ke]}}function NP(Le,Ke,He,wt,rn){return rn(Le,function(Zn,Li,vr){He=wt?(wt=!1,Zn):Ke(He,Zn,Li,vr)}),He}function Zhe(Le,Ke){var He=Le.length;for(Le.sort(Ke);He--;)Le[He]=Le[He].value;return Le}function Vk(Le,Ke){for(var He,wt=-1,rn=Le.length;++wt<rn;){var Zn=Ke(Le[wt]);Zn!==n&&(He=He===n?Zn:He+Zn)}return He}function Hk(Le,Ke){for(var He=-1,wt=Array(Le);++He<Le;)wt[He]=Ke(He);return wt}function epe(Le,Ke){return Ur(Ke,function(He){return[He,Le[He]]})}function DP(Le){return Le&&Le.slice(0,PP(Le)+1).replace(Ir,"")}function ss(Le){return function(Ke){return Le(Ke)}}function qk(Le,Ke){return Ur(Ke,function(He){return Le[He]})}function hv(Le,Ke){return Le.has(Ke)}function RP(Le,Ke){for(var He=-1,wt=Le.length;++He<wt&&Vm(Ke,Le[He],0)>-1;);return He}function IP(Le,Ke){for(var He=Le.length;He--&&Vm(Ke,Le[He],0)>-1;);return He}function tpe(Le,Ke){for(var He=Le.length,wt=0;He--;)Le[He]===Ke&&++wt;return wt}var npe=Uk(Bhe),rpe=Uk(zhe);function ipe(Le){return"\\"+Uhe[Le]}function ape(Le,Ke){return Le==null?n:Le[Ke]}function Hm(Le){return Phe.test(Le)}function ope(Le){return jhe.test(Le)}function spe(Le){for(var Ke,He=[];!(Ke=Le.next()).done;)He.push(Ke.value);return He}function Wk(Le){var Ke=-1,He=Array(Le.size);return Le.forEach(function(wt,rn){He[++Ke]=[rn,wt]}),He}function OP(Le,Ke){return function(He){return Le(Ke(He))}}function Dd(Le,Ke){for(var He=-1,wt=Le.length,rn=0,Zn=[];++He<wt;){var Li=Le[He];(Li===Ke||Li===c)&&(Le[He]=c,Zn[rn++]=He)}return Zn}function bw(Le){var Ke=-1,He=Array(Le.size);return Le.forEach(function(wt){He[++Ke]=wt}),He}function lpe(Le){var Ke=-1,He=Array(Le.size);return Le.forEach(function(wt){He[++Ke]=[wt,wt]}),He}function upe(Le,Ke,He){for(var wt=He-1,rn=Le.length;++wt<rn;)if(Le[wt]===Ke)return wt;return-1}function cpe(Le,Ke,He){for(var wt=He+1;wt--;)if(Le[wt]===Ke)return wt;return wt}function qm(Le){return Hm(Le)?fpe(Le):Yhe(Le)}function Il(Le){return Hm(Le)?hpe(Le):Jhe(Le)}function PP(Le){for(var Ke=Le.length;Ke--&&xu.test(Le.charAt(Ke)););return Ke}var dpe=Uk($he);function fpe(Le){for(var Ke=Pk.lastIndex=0;Pk.test(Le);)++Ke;return Ke}function hpe(Le){return Le.match(Pk)||[]}function ppe(Le){return Le.match(Ohe)||[]}var mpe=function Le(Ke){Ke=Ke==null?aa:Wm.defaults(aa.Object(),Ke,Wm.pick(aa,Lhe));var He=Ke.Array,wt=Ke.Date,rn=Ke.Error,Zn=Ke.Function,Li=Ke.Math,vr=Ke.Object,Gk=Ke.RegExp,gpe=Ke.String,$s=Ke.TypeError,ww=He.prototype,vpe=Zn.prototype,Gm=vr.prototype,xw=Ke["__core-js_shared__"],Sw=vpe.toString,or=Gm.hasOwnProperty,ype=0,jP=function(){var w=/[^.]+$/.exec(xw&&xw.keys&&xw.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),Cw=Gm.toString,bpe=Sw.call(vr),wpe=aa._,xpe=Gk("^"+Sw.call(or).replace(Dr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ew=bP?Ke.Buffer:n,Rd=Ke.Symbol,kw=Ke.Uint8Array,LP=Ew?Ew.allocUnsafe:n,Aw=OP(vr.getPrototypeOf,vr),FP=vr.create,BP=Gm.propertyIsEnumerable,_w=ww.splice,zP=Rd?Rd.isConcatSpreadable:n,pv=Rd?Rd.iterator:n,zh=Rd?Rd.toStringTag:n,Mw=function(){try{var w=qh(vr,"defineProperty");return w({},"",{}),w}catch{}}(),Spe=Ke.clearTimeout!==aa.clearTimeout&&Ke.clearTimeout,Cpe=wt&&wt.now!==aa.Date.now&&wt.now,Epe=Ke.setTimeout!==aa.setTimeout&&Ke.setTimeout,Tw=Li.ceil,Nw=Li.floor,Kk=vr.getOwnPropertySymbols,kpe=Ew?Ew.isBuffer:n,$P=Ke.isFinite,Ape=ww.join,_pe=OP(vr.keys,vr),Fi=Li.max,Na=Li.min,Mpe=wt.now,Tpe=Ke.parseInt,UP=Li.random,Npe=ww.reverse,Yk=qh(Ke,"DataView"),mv=qh(Ke,"Map"),Jk=qh(Ke,"Promise"),Km=qh(Ke,"Set"),gv=qh(Ke,"WeakMap"),vv=qh(vr,"create"),Dw=gv&&new gv,Ym={},Dpe=Wh(Yk),Rpe=Wh(mv),Ipe=Wh(Jk),Ope=Wh(Km),Ppe=Wh(gv),Rw=Rd?Rd.prototype:n,yv=Rw?Rw.valueOf:n,VP=Rw?Rw.toString:n;function oe(w){if(si(w)&&!on(w)&&!(w instanceof Tn)){if(w instanceof Us)return w;if(or.call(w,"__wrapped__"))return Hj(w)}return new Us(w)}var Jm=function(){function w(){}return function(k){if(!Jr(k))return{};if(FP)return FP(k);w.prototype=k;var R=new w;return w.prototype=n,R}}();function Iw(){}function Us(w,k){this.__wrapped__=w,this.__actions__=[],this.__chain__=!!k,this.__index__=0,this.__values__=n}oe.templateSettings={escape:_t,evaluate:Jt,interpolate:Qt,variable:"",imports:{_:oe}},oe.prototype=Iw.prototype,oe.prototype.constructor=oe,Us.prototype=Jm(Iw.prototype),Us.prototype.constructor=Us;function Tn(w){this.__wrapped__=w,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=K,this.__views__=[]}function jpe(){var w=new Tn(this.__wrapped__);return w.__actions__=Lo(this.__actions__),w.__dir__=this.__dir__,w.__filtered__=this.__filtered__,w.__iteratees__=Lo(this.__iteratees__),w.__takeCount__=this.__takeCount__,w.__views__=Lo(this.__views__),w}function Lpe(){if(this.__filtered__){var w=new Tn(this);w.__dir__=-1,w.__filtered__=!0}else w=this.clone(),w.__dir__*=-1;return w}function Fpe(){var w=this.__wrapped__.value(),k=this.__dir__,R=on(w),q=k<0,J=R?w.length:0,fe=Jme(0,J,this.__views__),Te=fe.start,Re=fe.end,Be=Re-Te,Qe=q?Re:Te-1,Xe=this.__iteratees__,tt=Xe.length,vt=0,Rt=Na(Be,this.__takeCount__);if(!R||!q&&J==Be&&Rt==Be)return hj(w,this.__actions__);var qt=[];e:for(;Be--&&vt<Rt;){Qe+=k;for(var yn=-1,Wt=w[Qe];++yn<tt;){var kn=Xe[yn],In=kn.iteratee,cs=kn.type,so=In(Wt);if(cs==z)Wt=so;else if(!so){if(cs==$)continue e;break e}}qt[vt++]=Wt}return qt}Tn.prototype=Jm(Iw.prototype),Tn.prototype.constructor=Tn;function $h(w){var k=-1,R=w==null?0:w.length;for(this.clear();++k<R;){var q=w[k];this.set(q[0],q[1])}}function Bpe(){this.__data__=vv?vv(null):{},this.size=0}function zpe(w){var k=this.has(w)&&delete this.__data__[w];return this.size-=k?1:0,k}function $pe(w){var k=this.__data__;if(vv){var R=k[w];return R===l?n:R}return or.call(k,w)?k[w]:n}function Upe(w){var k=this.__data__;return vv?k[w]!==n:or.call(k,w)}function Vpe(w,k){var R=this.__data__;return this.size+=this.has(w)?0:1,R[w]=vv&&k===n?l:k,this}$h.prototype.clear=Bpe,$h.prototype.delete=zpe,$h.prototype.get=$pe,$h.prototype.has=Upe,$h.prototype.set=Vpe;function mc(w){var k=-1,R=w==null?0:w.length;for(this.clear();++k<R;){var q=w[k];this.set(q[0],q[1])}}function Hpe(){this.__data__=[],this.size=0}function qpe(w){var k=this.__data__,R=Ow(k,w);if(R<0)return!1;var q=k.length-1;return R==q?k.pop():_w.call(k,R,1),--this.size,!0}function Wpe(w){var k=this.__data__,R=Ow(k,w);return R<0?n:k[R][1]}function Gpe(w){return Ow(this.__data__,w)>-1}function Kpe(w,k){var R=this.__data__,q=Ow(R,w);return q<0?(++this.size,R.push([w,k])):R[q][1]=k,this}mc.prototype.clear=Hpe,mc.prototype.delete=qpe,mc.prototype.get=Wpe,mc.prototype.has=Gpe,mc.prototype.set=Kpe;function gc(w){var k=-1,R=w==null?0:w.length;for(this.clear();++k<R;){var q=w[k];this.set(q[0],q[1])}}function Ype(){this.size=0,this.__data__={hash:new $h,map:new(mv||mc),string:new $h}}function Jpe(w){var k=Ww(this,w).delete(w);return this.size-=k?1:0,k}function Qpe(w){return Ww(this,w).get(w)}function Xpe(w){return Ww(this,w).has(w)}function Zpe(w,k){var R=Ww(this,w),q=R.size;return R.set(w,k),this.size+=R.size==q?0:1,this}gc.prototype.clear=Ype,gc.prototype.delete=Jpe,gc.prototype.get=Qpe,gc.prototype.has=Xpe,gc.prototype.set=Zpe;function Uh(w){var k=-1,R=w==null?0:w.length;for(this.__data__=new gc;++k<R;)this.add(w[k])}function eme(w){return this.__data__.set(w,l),this}function tme(w){return this.__data__.has(w)}Uh.prototype.add=Uh.prototype.push=eme,Uh.prototype.has=tme;function Ol(w){var k=this.__data__=new mc(w);this.size=k.size}function nme(){this.__data__=new mc,this.size=0}function rme(w){var k=this.__data__,R=k.delete(w);return this.size=k.size,R}function ime(w){return this.__data__.get(w)}function ame(w){return this.__data__.has(w)}function ome(w,k){var R=this.__data__;if(R instanceof mc){var q=R.__data__;if(!mv||q.length<i-1)return q.push([w,k]),this.size=++R.size,this;R=this.__data__=new gc(q)}return R.set(w,k),this.size=R.size,this}Ol.prototype.clear=nme,Ol.prototype.delete=rme,Ol.prototype.get=ime,Ol.prototype.has=ame,Ol.prototype.set=ome;function HP(w,k){var R=on(w),q=!R&&Gh(w),J=!R&&!q&&Ld(w),fe=!R&&!q&&!J&&eg(w),Te=R||q||J||fe,Re=Te?Hk(w.length,gpe):[],Be=Re.length;for(var Qe in w)(k||or.call(w,Qe))&&!(Te&&(Qe=="length"||J&&(Qe=="offset"||Qe=="parent")||fe&&(Qe=="buffer"||Qe=="byteLength"||Qe=="byteOffset")||wc(Qe,Be)))&&Re.push(Qe);return Re}function qP(w){var k=w.length;return k?w[sA(0,k-1)]:n}function sme(w,k){return Gw(Lo(w),Vh(k,0,w.length))}function lme(w){return Gw(Lo(w))}function Qk(w,k,R){(R!==n&&!Pl(w[k],R)||R===n&&!(k in w))&&vc(w,k,R)}function bv(w,k,R){var q=w[k];(!(or.call(w,k)&&Pl(q,R))||R===n&&!(k in w))&&vc(w,k,R)}function Ow(w,k){for(var R=w.length;R--;)if(Pl(w[R][0],k))return R;return-1}function ume(w,k,R,q){return Id(w,function(J,fe,Te){k(q,J,R(J),Te)}),q}function WP(w,k){return w&&Cu(k,Wi(k),w)}function cme(w,k){return w&&Cu(k,Bo(k),w)}function vc(w,k,R){k=="__proto__"&&Mw?Mw(w,k,{configurable:!0,enumerable:!0,value:R,writable:!0}):w[k]=R}function Xk(w,k){for(var R=-1,q=k.length,J=He(q),fe=w==null;++R<q;)J[R]=fe?n:RA(w,k[R]);return J}function Vh(w,k,R){return w===w&&(R!==n&&(w=w<=R?w:R),k!==n&&(w=w>=k?w:k)),w}function Vs(w,k,R,q,J,fe){var Te,Re=k&d,Be=k&f,Qe=k&h;if(R&&(Te=J?R(w,q,J,fe):R(w)),Te!==n)return Te;if(!Jr(w))return w;var Xe=on(w);if(Xe){if(Te=Xme(w),!Re)return Lo(w,Te)}else{var tt=Da(w),vt=tt==we||tt==_e;if(Ld(w))return gj(w,Re);if(tt==Se||tt==de||vt&&!J){if(Te=Be||vt?{}:Pj(w),!Re)return Be?$me(w,cme(Te,w)):zme(w,WP(Te,w))}else{if(!Er[tt])return J?w:{};Te=Zme(w,tt,Re)}}fe||(fe=new Ol);var Rt=fe.get(w);if(Rt)return Rt;fe.set(w,Te),cL(w)?w.forEach(function(Wt){Te.add(Vs(Wt,k,R,Wt,w,fe))}):lL(w)&&w.forEach(function(Wt,kn){Te.set(kn,Vs(Wt,k,R,kn,w,fe))});var qt=Qe?Be?yA:vA:Be?Bo:Wi,yn=Xe?n:qt(w);return zs(yn||w,function(Wt,kn){yn&&(kn=Wt,Wt=w[kn]),bv(Te,kn,Vs(Wt,k,R,kn,w,fe))}),Te}function dme(w){var k=Wi(w);return function(R){return GP(R,w,k)}}function GP(w,k,R){var q=R.length;if(w==null)return!q;for(w=vr(w);q--;){var J=R[q],fe=k[J],Te=w[J];if(Te===n&&!(J in w)||!fe(Te))return!1}return!0}function KP(w,k,R){if(typeof w!="function")throw new $s(o);return Av(function(){w.apply(n,R)},k)}function wv(w,k,R,q){var J=-1,fe=vw,Te=!0,Re=w.length,Be=[],Qe=k.length;if(!Re)return Be;R&&(k=Ur(k,ss(R))),q?(fe=Fk,Te=!1):k.length>=i&&(fe=hv,Te=!1,k=new Uh(k));e:for(;++J<Re;){var Xe=w[J],tt=R==null?Xe:R(Xe);if(Xe=q||Xe!==0?Xe:0,Te&&tt===tt){for(var vt=Qe;vt--;)if(k[vt]===tt)continue e;Be.push(Xe)}else fe(k,tt,q)||Be.push(Xe)}return Be}var Id=xj(Su),YP=xj(eA,!0);function fme(w,k){var R=!0;return Id(w,function(q,J,fe){return R=!!k(q,J,fe),R}),R}function Pw(w,k,R){for(var q=-1,J=w.length;++q<J;){var fe=w[q],Te=k(fe);if(Te!=null&&(Re===n?Te===Te&&!us(Te):R(Te,Re)))var Re=Te,Be=fe}return Be}function hme(w,k,R,q){var J=w.length;for(R=gn(R),R<0&&(R=-R>J?0:J+R),q=q===n||q>J?J:gn(q),q<0&&(q+=J),q=R>q?0:fL(q);R<q;)w[R++]=k;return w}function JP(w,k){var R=[];return Id(w,function(q,J,fe){k(q,J,fe)&&R.push(q)}),R}function oa(w,k,R,q,J){var fe=-1,Te=w.length;for(R||(R=tge),J||(J=[]);++fe<Te;){var Re=w[fe];k>0&&R(Re)?k>1?oa(Re,k-1,R,q,J):Nd(J,Re):q||(J[J.length]=Re)}return J}var Zk=Sj(),QP=Sj(!0);function Su(w,k){return w&&Zk(w,k,Wi)}function eA(w,k){return w&&QP(w,k,Wi)}function jw(w,k){return Td(k,function(R){return xc(w[R])})}function Hh(w,k){k=Pd(k,w);for(var R=0,q=k.length;w!=null&&R<q;)w=w[Eu(k[R++])];return R&&R==q?w:n}function XP(w,k,R){var q=k(w);return on(w)?q:Nd(q,R(w))}function ao(w){return w==null?w===n?ce:re:zh&&zh in vr(w)?Yme(w):lge(w)}function tA(w,k){return w>k}function pme(w,k){return w!=null&&or.call(w,k)}function mme(w,k){return w!=null&&k in vr(w)}function gme(w,k,R){return w>=Na(k,R)&&w<Fi(k,R)}function nA(w,k,R){for(var q=R?Fk:vw,J=w[0].length,fe=w.length,Te=fe,Re=He(fe),Be=1/0,Qe=[];Te--;){var Xe=w[Te];Te&&k&&(Xe=Ur(Xe,ss(k))),Be=Na(Xe.length,Be),Re[Te]=!R&&(k||J>=120&&Xe.length>=120)?new Uh(Te&&Xe):n}Xe=w[0];var tt=-1,vt=Re[0];e:for(;++tt<J&&Qe.length<Be;){var Rt=Xe[tt],qt=k?k(Rt):Rt;if(Rt=R||Rt!==0?Rt:0,!(vt?hv(vt,qt):q(Qe,qt,R))){for(Te=fe;--Te;){var yn=Re[Te];if(!(yn?hv(yn,qt):q(w[Te],qt,R)))continue e}vt&&vt.push(qt),Qe.push(Rt)}}return Qe}function vme(w,k,R,q){return Su(w,function(J,fe,Te){k(q,R(J),fe,Te)}),q}function xv(w,k,R){k=Pd(k,w),w=Bj(w,k);var q=w==null?w:w[Eu(qs(k))];return q==null?n:as(q,w,R)}function ZP(w){return si(w)&&ao(w)==de}function yme(w){return si(w)&&ao(w)==Ie}function bme(w){return si(w)&&ao(w)==se}function Sv(w,k,R,q,J){return w===k?!0:w==null||k==null||!si(w)&&!si(k)?w!==w&&k!==k:wme(w,k,R,q,Sv,J)}function wme(w,k,R,q,J,fe){var Te=on(w),Re=on(k),Be=Te?Q:Da(w),Qe=Re?Q:Da(k);Be=Be==de?Se:Be,Qe=Qe==de?Se:Qe;var Xe=Be==Se,tt=Qe==Se,vt=Be==Qe;if(vt&&Ld(w)){if(!Ld(k))return!1;Te=!0,Xe=!1}if(vt&&!Xe)return fe||(fe=new Ol),Te||eg(w)?Rj(w,k,R,q,J,fe):Gme(w,k,Be,R,q,J,fe);if(!(R&m)){var Rt=Xe&&or.call(w,"__wrapped__"),qt=tt&&or.call(k,"__wrapped__");if(Rt||qt){var yn=Rt?w.value():w,Wt=qt?k.value():k;return fe||(fe=new Ol),J(yn,Wt,R,q,fe)}}return vt?(fe||(fe=new Ol),Kme(w,k,R,q,J,fe)):!1}function xme(w){return si(w)&&Da(w)==ze}function rA(w,k,R,q){var J=R.length,fe=J,Te=!q;if(w==null)return!fe;for(w=vr(w);J--;){var Re=R[J];if(Te&&Re[2]?Re[1]!==w[Re[0]]:!(Re[0]in w))return!1}for(;++J<fe;){Re=R[J];var Be=Re[0],Qe=w[Be],Xe=Re[1];if(Te&&Re[2]){if(Qe===n&&!(Be in w))return!1}else{var tt=new Ol;if(q)var vt=q(Qe,Xe,Be,w,k,tt);if(!(vt===n?Sv(Xe,Qe,m|g,q,tt):vt))return!1}}return!0}function ej(w){if(!Jr(w)||rge(w))return!1;var k=xc(w)?xpe:fv;return k.test(Wh(w))}function Sme(w){return si(w)&&ao(w)==Ee}function Cme(w){return si(w)&&Da(w)==be}function Eme(w){return si(w)&&Zw(w.length)&&!!Or[ao(w)]}function tj(w){return typeof w=="function"?w:w==null?zo:typeof w=="object"?on(w)?ij(w[0],w[1]):rj(w):CL(w)}function iA(w){if(!kv(w))return _pe(w);var k=[];for(var R in vr(w))or.call(w,R)&&R!="constructor"&&k.push(R);return k}function kme(w){if(!Jr(w))return sge(w);var k=kv(w),R=[];for(var q in w)q=="constructor"&&(k||!or.call(w,q))||R.push(q);return R}function aA(w,k){return w<k}function nj(w,k){var R=-1,q=Fo(w)?He(w.length):[];return Id(w,function(J,fe,Te){q[++R]=k(J,fe,Te)}),q}function rj(w){var k=wA(w);return k.length==1&&k[0][2]?Lj(k[0][0],k[0][1]):function(R){return R===w||rA(R,w,k)}}function ij(w,k){return SA(w)&&jj(k)?Lj(Eu(w),k):function(R){var q=RA(R,w);return q===n&&q===k?IA(R,w):Sv(k,q,m|g)}}function Lw(w,k,R,q,J){w!==k&&Zk(k,function(fe,Te){if(J||(J=new Ol),Jr(fe))Ame(w,k,Te,R,Lw,q,J);else{var Re=q?q(EA(w,Te),fe,Te+"",w,k,J):n;Re===n&&(Re=fe),Qk(w,Te,Re)}},Bo)}function Ame(w,k,R,q,J,fe,Te){var Re=EA(w,R),Be=EA(k,R),Qe=Te.get(Be);if(Qe){Qk(w,R,Qe);return}var Xe=fe?fe(Re,Be,R+"",w,k,Te):n,tt=Xe===n;if(tt){var vt=on(Be),Rt=!vt&&Ld(Be),qt=!vt&&!Rt&&eg(Be);Xe=Be,vt||Rt||qt?on(Re)?Xe=Re:mi(Re)?Xe=Lo(Re):Rt?(tt=!1,Xe=gj(Be,!0)):qt?(tt=!1,Xe=vj(Be,!0)):Xe=[]:_v(Be)||Gh(Be)?(Xe=Re,Gh(Re)?Xe=hL(Re):(!Jr(Re)||xc(Re))&&(Xe=Pj(Be))):tt=!1}tt&&(Te.set(Be,Xe),J(Xe,Be,q,fe,Te),Te.delete(Be)),Qk(w,R,Xe)}function aj(w,k){var R=w.length;if(R)return k+=k<0?R:0,wc(k,R)?w[k]:n}function oj(w,k,R){k.length?k=Ur(k,function(fe){return on(fe)?function(Te){return Hh(Te,fe.length===1?fe[0]:fe)}:fe}):k=[zo];var q=-1;k=Ur(k,ss($t()));var J=nj(w,function(fe,Te,Re){var Be=Ur(k,function(Qe){return Qe(fe)});return{criteria:Be,index:++q,value:fe}});return Zhe(J,function(fe,Te){return Bme(fe,Te,R)})}function _me(w,k){return sj(w,k,function(R,q){return IA(w,q)})}function sj(w,k,R){for(var q=-1,J=k.length,fe={};++q<J;){var Te=k[q],Re=Hh(w,Te);R(Re,Te)&&Cv(fe,Pd(Te,w),Re)}return fe}function Mme(w){return function(k){return Hh(k,w)}}function oA(w,k,R,q){var J=q?Xhe:Vm,fe=-1,Te=k.length,Re=w;for(w===k&&(k=Lo(k)),R&&(Re=Ur(w,ss(R)));++fe<Te;)for(var Be=0,Qe=k[fe],Xe=R?R(Qe):Qe;(Be=J(Re,Xe,Be,q))>-1;)Re!==w&&_w.call(Re,Be,1),_w.call(w,Be,1);return w}function lj(w,k){for(var R=w?k.length:0,q=R-1;R--;){var J=k[R];if(R==q||J!==fe){var fe=J;wc(J)?_w.call(w,J,1):cA(w,J)}}return w}function sA(w,k){return w+Nw(UP()*(k-w+1))}function Tme(w,k,R,q){for(var J=-1,fe=Fi(Tw((k-w)/(R||1)),0),Te=He(fe);fe--;)Te[q?fe:++J]=w,w+=R;return Te}function lA(w,k){var R="";if(!w||k<1||k>V)return R;do k%2&&(R+=w),k=Nw(k/2),k&&(w+=w);while(k);return R}function Cn(w,k){return kA(Fj(w,k,zo),w+"")}function Nme(w){return qP(tg(w))}function Dme(w,k){var R=tg(w);return Gw(R,Vh(k,0,R.length))}function Cv(w,k,R,q){if(!Jr(w))return w;k=Pd(k,w);for(var J=-1,fe=k.length,Te=fe-1,Re=w;Re!=null&&++J<fe;){var Be=Eu(k[J]),Qe=R;if(Be==="__proto__"||Be==="constructor"||Be==="prototype")return w;if(J!=Te){var Xe=Re[Be];Qe=q?q(Xe,Be,Re):n,Qe===n&&(Qe=Jr(Xe)?Xe:wc(k[J+1])?[]:{})}bv(Re,Be,Qe),Re=Re[Be]}return w}var uj=Dw?function(w,k){return Dw.set(w,k),w}:zo,Rme=Mw?function(w,k){return Mw(w,"toString",{configurable:!0,enumerable:!1,value:PA(k),writable:!0})}:zo;function Ime(w){return Gw(tg(w))}function Hs(w,k,R){var q=-1,J=w.length;k<0&&(k=-k>J?0:J+k),R=R>J?J:R,R<0&&(R+=J),J=k>R?0:R-k>>>0,k>>>=0;for(var fe=He(J);++q<J;)fe[q]=w[q+k];return fe}function Ome(w,k){var R;return Id(w,function(q,J,fe){return R=k(q,J,fe),!R}),!!R}function Fw(w,k,R){var q=0,J=w==null?q:w.length;if(typeof k=="number"&&k===k&&J<=L){for(;q<J;){var fe=q+J>>>1,Te=w[fe];Te!==null&&!us(Te)&&(R?Te<=k:Te<k)?q=fe+1:J=fe}return J}return uA(w,k,zo,R)}function uA(w,k,R,q){var J=0,fe=w==null?0:w.length;if(fe===0)return 0;k=R(k);for(var Te=k!==k,Re=k===null,Be=us(k),Qe=k===n;J<fe;){var Xe=Nw((J+fe)/2),tt=R(w[Xe]),vt=tt!==n,Rt=tt===null,qt=tt===tt,yn=us(tt);if(Te)var Wt=q||qt;else Qe?Wt=qt&&(q||vt):Re?Wt=qt&&vt&&(q||!Rt):Be?Wt=qt&&vt&&!Rt&&(q||!yn):Rt||yn?Wt=!1:Wt=q?tt<=k:tt<k;Wt?J=Xe+1:fe=Xe}return Na(fe,W)}function cj(w,k){for(var R=-1,q=w.length,J=0,fe=[];++R<q;){var Te=w[R],Re=k?k(Te):Te;if(!R||!Pl(Re,Be)){var Be=Re;fe[J++]=Te===0?0:Te}}return fe}function dj(w){return typeof w=="number"?w:us(w)?H:+w}function ls(w){if(typeof w=="string")return w;if(on(w))return Ur(w,ls)+"";if(us(w))return VP?VP.call(w):"";var k=w+"";return k=="0"&&1/w==-P?"-0":k}function Od(w,k,R){var q=-1,J=vw,fe=w.length,Te=!0,Re=[],Be=Re;if(R)Te=!1,J=Fk;else if(fe>=i){var Qe=k?null:qme(w);if(Qe)return bw(Qe);Te=!1,J=hv,Be=new Uh}else Be=k?[]:Re;e:for(;++q<fe;){var Xe=w[q],tt=k?k(Xe):Xe;if(Xe=R||Xe!==0?Xe:0,Te&&tt===tt){for(var vt=Be.length;vt--;)if(Be[vt]===tt)continue e;k&&Be.push(tt),Re.push(Xe)}else J(Be,tt,R)||(Be!==Re&&Be.push(tt),Re.push(Xe))}return Re}function cA(w,k){return k=Pd(k,w),w=Bj(w,k),w==null||delete w[Eu(qs(k))]}function fj(w,k,R,q){return Cv(w,k,R(Hh(w,k)),q)}function Bw(w,k,R,q){for(var J=w.length,fe=q?J:-1;(q?fe--:++fe<J)&&k(w[fe],fe,w););return R?Hs(w,q?0:fe,q?fe+1:J):Hs(w,q?fe+1:0,q?J:fe)}function hj(w,k){var R=w;return R instanceof Tn&&(R=R.value()),Bk(k,function(q,J){return J.func.apply(J.thisArg,Nd([q],J.args))},R)}function dA(w,k,R){var q=w.length;if(q<2)return q?Od(w[0]):[];for(var J=-1,fe=He(q);++J<q;)for(var Te=w[J],Re=-1;++Re<q;)Re!=J&&(fe[J]=wv(fe[J]||Te,w[Re],k,R));return Od(oa(fe,1),k,R)}function pj(w,k,R){for(var q=-1,J=w.length,fe=k.length,Te={};++q<J;){var Re=q<fe?k[q]:n;R(Te,w[q],Re)}return Te}function fA(w){return mi(w)?w:[]}function hA(w){return typeof w=="function"?w:zo}function Pd(w,k){return on(w)?w:SA(w,k)?[w]:Vj(er(w))}var Pme=Cn;function jd(w,k,R){var q=w.length;return R=R===n?q:R,!k&&R>=q?w:Hs(w,k,R)}var mj=Spe||function(w){return aa.clearTimeout(w)};function gj(w,k){if(k)return w.slice();var R=w.length,q=LP?LP(R):new w.constructor(R);return w.copy(q),q}function pA(w){var k=new w.constructor(w.byteLength);return new kw(k).set(new kw(w)),k}function jme(w,k){var R=k?pA(w.buffer):w.buffer;return new w.constructor(R,w.byteOffset,w.byteLength)}function Lme(w){var k=new w.constructor(w.source,$r.exec(w));return k.lastIndex=w.lastIndex,k}function Fme(w){return yv?vr(yv.call(w)):{}}function vj(w,k){var R=k?pA(w.buffer):w.buffer;return new w.constructor(R,w.byteOffset,w.length)}function yj(w,k){if(w!==k){var R=w!==n,q=w===null,J=w===w,fe=us(w),Te=k!==n,Re=k===null,Be=k===k,Qe=us(k);if(!Re&&!Qe&&!fe&&w>k||fe&&Te&&Be&&!Re&&!Qe||q&&Te&&Be||!R&&Be||!J)return 1;if(!q&&!fe&&!Qe&&w<k||Qe&&R&&J&&!q&&!fe||Re&&R&&J||!Te&&J||!Be)return-1}return 0}function Bme(w,k,R){for(var q=-1,J=w.criteria,fe=k.criteria,Te=J.length,Re=R.length;++q<Te;){var Be=yj(J[q],fe[q]);if(Be){if(q>=Re)return Be;var Qe=R[q];return Be*(Qe=="desc"?-1:1)}}return w.index-k.index}function bj(w,k,R,q){for(var J=-1,fe=w.length,Te=R.length,Re=-1,Be=k.length,Qe=Fi(fe-Te,0),Xe=He(Be+Qe),tt=!q;++Re<Be;)Xe[Re]=k[Re];for(;++J<Te;)(tt||J<fe)&&(Xe[R[J]]=w[J]);for(;Qe--;)Xe[Re++]=w[J++];return Xe}function wj(w,k,R,q){for(var J=-1,fe=w.length,Te=-1,Re=R.length,Be=-1,Qe=k.length,Xe=Fi(fe-Re,0),tt=He(Xe+Qe),vt=!q;++J<Xe;)tt[J]=w[J];for(var Rt=J;++Be<Qe;)tt[Rt+Be]=k[Be];for(;++Te<Re;)(vt||J<fe)&&(tt[Rt+R[Te]]=w[J++]);return tt}function Lo(w,k){var R=-1,q=w.length;for(k||(k=He(q));++R<q;)k[R]=w[R];return k}function Cu(w,k,R,q){var J=!R;R||(R={});for(var fe=-1,Te=k.length;++fe<Te;){var Re=k[fe],Be=q?q(R[Re],w[Re],Re,R,w):n;Be===n&&(Be=w[Re]),J?vc(R,Re,Be):bv(R,Re,Be)}return R}function zme(w,k){return Cu(w,xA(w),k)}function $me(w,k){return Cu(w,Ij(w),k)}function zw(w,k){return function(R,q){var J=on(R)?Whe:ume,fe=k?k():{};return J(R,w,$t(q,2),fe)}}function Qm(w){return Cn(function(k,R){var q=-1,J=R.length,fe=J>1?R[J-1]:n,Te=J>2?R[2]:n;for(fe=w.length>3&&typeof fe=="function"?(J--,fe):n,Te&&oo(R[0],R[1],Te)&&(fe=J<3?n:fe,J=1),k=vr(k);++q<J;){var Re=R[q];Re&&w(k,Re,q,fe)}return k})}function xj(w,k){return function(R,q){if(R==null)return R;if(!Fo(R))return w(R,q);for(var J=R.length,fe=k?J:-1,Te=vr(R);(k?fe--:++fe<J)&&q(Te[fe],fe,Te)!==!1;);return R}}function Sj(w){return function(k,R,q){for(var J=-1,fe=vr(k),Te=q(k),Re=Te.length;Re--;){var Be=Te[w?Re:++J];if(R(fe[Be],Be,fe)===!1)break}return k}}function Ume(w,k,R){var q=k&S,J=Ev(w);function fe(){var Te=this&&this!==aa&&this instanceof fe?J:w;return Te.apply(q?R:this,arguments)}return fe}function Cj(w){return function(k){k=er(k);var R=Hm(k)?Il(k):n,q=R?R[0]:k.charAt(0),J=R?jd(R,1).join(""):k.slice(1);return q[w]()+J}}function Xm(w){return function(k){return Bk(xL(wL(k).replace(Rhe,"")),w,"")}}function Ev(w){return function(){var k=arguments;switch(k.length){case 0:return new w;case 1:return new w(k[0]);case 2:return new w(k[0],k[1]);case 3:return new w(k[0],k[1],k[2]);case 4:return new w(k[0],k[1],k[2],k[3]);case 5:return new w(k[0],k[1],k[2],k[3],k[4]);case 6:return new w(k[0],k[1],k[2],k[3],k[4],k[5]);case 7:return new w(k[0],k[1],k[2],k[3],k[4],k[5],k[6])}var R=Jm(w.prototype),q=w.apply(R,k);return Jr(q)?q:R}}function Vme(w,k,R){var q=Ev(w);function J(){for(var fe=arguments.length,Te=He(fe),Re=fe,Be=Zm(J);Re--;)Te[Re]=arguments[Re];var Qe=fe<3&&Te[0]!==Be&&Te[fe-1]!==Be?[]:Dd(Te,Be);if(fe-=Qe.length,fe<R)return Mj(w,k,$w,J.placeholder,n,Te,Qe,n,n,R-fe);var Xe=this&&this!==aa&&this instanceof J?q:w;return as(Xe,this,Te)}return J}function Ej(w){return function(k,R,q){var J=vr(k);if(!Fo(k)){var fe=$t(R,3);k=Wi(k),R=function(Re){return fe(J[Re],Re,J)}}var Te=w(k,R,q);return Te>-1?J[fe?k[Te]:Te]:n}}function kj(w){return bc(function(k){var R=k.length,q=R,J=Us.prototype.thru;for(w&&k.reverse();q--;){var fe=k[q];if(typeof fe!="function")throw new $s(o);if(J&&!Te&&qw(fe)=="wrapper")var Te=new Us([],!0)}for(q=Te?q:R;++q<R;){fe=k[q];var Re=qw(fe),Be=Re=="wrapper"?bA(fe):n;Be&&CA(Be[0])&&Be[1]==(A|x|C|_)&&!Be[4].length&&Be[9]==1?Te=Te[qw(Be[0])].apply(Te,Be[3]):Te=fe.length==1&&CA(fe)?Te[Re]():Te.thru(fe)}return function(){var Qe=arguments,Xe=Qe[0];if(Te&&Qe.length==1&&on(Xe))return Te.plant(Xe).value();for(var tt=0,vt=R?k[tt].apply(this,Qe):Xe;++tt<R;)vt=k[tt].call(this,vt);return vt}})}function $w(w,k,R,q,J,fe,Te,Re,Be,Qe){var Xe=k&A,tt=k&S,vt=k&y,Rt=k&(x|v),qt=k&T,yn=vt?n:Ev(w);function Wt(){for(var kn=arguments.length,In=He(kn),cs=kn;cs--;)In[cs]=arguments[cs];if(Rt)var so=Zm(Wt),ds=tpe(In,so);if(q&&(In=bj(In,q,J,Rt)),fe&&(In=wj(In,fe,Te,Rt)),kn-=ds,Rt&&kn<Qe){var gi=Dd(In,so);return Mj(w,k,$w,Wt.placeholder,R,In,gi,Re,Be,Qe-kn)}var jl=tt?R:this,Cc=vt?jl[w]:w;return kn=In.length,Re?In=uge(In,Re):qt&&kn>1&&In.reverse(),Xe&&Be<kn&&(In.length=Be),this&&this!==aa&&this instanceof Wt&&(Cc=yn||Ev(Cc)),Cc.apply(jl,In)}return Wt}function Aj(w,k){return function(R,q){return vme(R,w,k(q),{})}}function Uw(w,k){return function(R,q){var J;if(R===n&&q===n)return k;if(R!==n&&(J=R),q!==n){if(J===n)return q;typeof R=="string"||typeof q=="string"?(R=ls(R),q=ls(q)):(R=dj(R),q=dj(q)),J=w(R,q)}return J}}function mA(w){return bc(function(k){return k=Ur(k,ss($t())),Cn(function(R){var q=this;return w(k,function(J){return as(J,q,R)})})})}function Vw(w,k){k=k===n?" ":ls(k);var R=k.length;if(R<2)return R?lA(k,w):k;var q=lA(k,Tw(w/qm(k)));return Hm(k)?jd(Il(q),0,w).join(""):q.slice(0,w)}function Hme(w,k,R,q){var J=k&S,fe=Ev(w);function Te(){for(var Re=-1,Be=arguments.length,Qe=-1,Xe=q.length,tt=He(Xe+Be),vt=this&&this!==aa&&this instanceof Te?fe:w;++Qe<Xe;)tt[Qe]=q[Qe];for(;Be--;)tt[Qe++]=arguments[++Re];return as(vt,J?R:this,tt)}return Te}function _j(w){return function(k,R,q){return q&&typeof q!="number"&&oo(k,R,q)&&(R=q=n),k=Sc(k),R===n?(R=k,k=0):R=Sc(R),q=q===n?k<R?1:-1:Sc(q),Tme(k,R,q,w)}}function Hw(w){return function(k,R){return typeof k=="string"&&typeof R=="string"||(k=Ws(k),R=Ws(R)),w(k,R)}}function Mj(w,k,R,q,J,fe,Te,Re,Be,Qe){var Xe=k&x,tt=Xe?Te:n,vt=Xe?n:Te,Rt=Xe?fe:n,qt=Xe?n:fe;k|=Xe?C:b,k&=~(Xe?b:C),k&E||(k&=~(S|y));var yn=[w,k,J,Rt,tt,qt,vt,Re,Be,Qe],Wt=R.apply(n,yn);return CA(w)&&zj(Wt,yn),Wt.placeholder=q,$j(Wt,w,k)}function gA(w){var k=Li[w];return function(R,q){if(R=Ws(R),q=q==null?0:Na(gn(q),292),q&&$P(R)){var J=(er(R)+"e").split("e"),fe=k(J[0]+"e"+(+J[1]+q));return J=(er(fe)+"e").split("e"),+(J[0]+"e"+(+J[1]-q))}return k(R)}}var qme=Km&&1/bw(new Km([,-0]))[1]==P?function(w){return new Km(w)}:FA;function Tj(w){return function(k){var R=Da(k);return R==ze?Wk(k):R==be?lpe(k):epe(k,w(k))}}function yc(w,k,R,q,J,fe,Te,Re){var Be=k&y;if(!Be&&typeof w!="function")throw new $s(o);var Qe=q?q.length:0;if(Qe||(k&=~(C|b),q=J=n),Te=Te===n?Te:Fi(gn(Te),0),Re=Re===n?Re:gn(Re),Qe-=J?J.length:0,k&b){var Xe=q,tt=J;q=J=n}var vt=Be?n:bA(w),Rt=[w,k,R,q,J,Xe,tt,fe,Te,Re];if(vt&&oge(Rt,vt),w=Rt[0],k=Rt[1],R=Rt[2],q=Rt[3],J=Rt[4],Re=Rt[9]=Rt[9]===n?Be?0:w.length:Fi(Rt[9]-Qe,0),!Re&&k&(x|v)&&(k&=~(x|v)),!k||k==S)var qt=Ume(w,k,R);else k==x||k==v?qt=Vme(w,k,Re):(k==C||k==(S|C))&&!J.length?qt=Hme(w,k,R,q):qt=$w.apply(n,Rt);var yn=vt?uj:zj;return $j(yn(qt,Rt),w,k)}function Nj(w,k,R,q){return w===n||Pl(w,Gm[R])&&!or.call(q,R)?k:w}function Dj(w,k,R,q,J,fe){return Jr(w)&&Jr(k)&&(fe.set(k,w),Lw(w,k,n,Dj,fe),fe.delete(k)),w}function Wme(w){return _v(w)?n:w}function Rj(w,k,R,q,J,fe){var Te=R&m,Re=w.length,Be=k.length;if(Re!=Be&&!(Te&&Be>Re))return!1;var Qe=fe.get(w),Xe=fe.get(k);if(Qe&&Xe)return Qe==k&&Xe==w;var tt=-1,vt=!0,Rt=R&g?new Uh:n;for(fe.set(w,k),fe.set(k,w);++tt<Re;){var qt=w[tt],yn=k[tt];if(q)var Wt=Te?q(yn,qt,tt,k,w,fe):q(qt,yn,tt,w,k,fe);if(Wt!==n){if(Wt)continue;vt=!1;break}if(Rt){if(!zk(k,function(kn,In){if(!hv(Rt,In)&&(qt===kn||J(qt,kn,R,q,fe)))return Rt.push(In)})){vt=!1;break}}else if(!(qt===yn||J(qt,yn,R,q,fe))){vt=!1;break}}return fe.delete(w),fe.delete(k),vt}function Gme(w,k,R,q,J,fe,Te){switch(R){case Oe:if(w.byteLength!=k.byteLength||w.byteOffset!=k.byteOffset)return!1;w=w.buffer,k=k.buffer;case Ie:return!(w.byteLength!=k.byteLength||!fe(new kw(w),new kw(k)));case ne:case se:case Y:return Pl(+w,+k);case xe:return w.name==k.name&&w.message==k.message;case Ee:case Me:return w==k+"";case ze:var Re=Wk;case be:var Be=q&m;if(Re||(Re=bw),w.size!=k.size&&!Be)return!1;var Qe=Te.get(w);if(Qe)return Qe==k;q|=g,Te.set(w,k);var Xe=Rj(Re(w),Re(k),q,J,fe,Te);return Te.delete(w),Xe;case X:if(yv)return yv.call(w)==yv.call(k)}return!1}function Kme(w,k,R,q,J,fe){var Te=R&m,Re=vA(w),Be=Re.length,Qe=vA(k),Xe=Qe.length;if(Be!=Xe&&!Te)return!1;for(var tt=Be;tt--;){var vt=Re[tt];if(!(Te?vt in k:or.call(k,vt)))return!1}var Rt=fe.get(w),qt=fe.get(k);if(Rt&&qt)return Rt==k&&qt==w;var yn=!0;fe.set(w,k),fe.set(k,w);for(var Wt=Te;++tt<Be;){vt=Re[tt];var kn=w[vt],In=k[vt];if(q)var cs=Te?q(In,kn,vt,k,w,fe):q(kn,In,vt,w,k,fe);if(!(cs===n?kn===In||J(kn,In,R,q,fe):cs)){yn=!1;break}Wt||(Wt=vt=="constructor")}if(yn&&!Wt){var so=w.constructor,ds=k.constructor;so!=ds&&"constructor"in w&&"constructor"in k&&!(typeof so=="function"&&so instanceof so&&typeof ds=="function"&&ds instanceof ds)&&(yn=!1)}return fe.delete(w),fe.delete(k),yn}function bc(w){return kA(Fj(w,n,Gj),w+"")}function vA(w){return XP(w,Wi,xA)}function yA(w){return XP(w,Bo,Ij)}var bA=Dw?function(w){return Dw.get(w)}:FA;function qw(w){for(var k=w.name+"",R=Ym[k],q=or.call(Ym,k)?R.length:0;q--;){var J=R[q],fe=J.func;if(fe==null||fe==w)return J.name}return k}function Zm(w){var k=or.call(oe,"placeholder")?oe:w;return k.placeholder}function $t(){var w=oe.iteratee||jA;return w=w===jA?tj:w,arguments.length?w(arguments[0],arguments[1]):w}function Ww(w,k){var R=w.__data__;return nge(k)?R[typeof k=="string"?"string":"hash"]:R.map}function wA(w){for(var k=Wi(w),R=k.length;R--;){var q=k[R],J=w[q];k[R]=[q,J,jj(J)]}return k}function qh(w,k){var R=ape(w,k);return ej(R)?R:n}function Yme(w){var k=or.call(w,zh),R=w[zh];try{w[zh]=n;var q=!0}catch{}var J=Cw.call(w);return q&&(k?w[zh]=R:delete w[zh]),J}var xA=Kk?function(w){return w==null?[]:(w=vr(w),Td(Kk(w),function(k){return BP.call(w,k)}))}:BA,Ij=Kk?function(w){for(var k=[];w;)Nd(k,xA(w)),w=Aw(w);return k}:BA,Da=ao;(Yk&&Da(new Yk(new ArrayBuffer(1)))!=Oe||mv&&Da(new mv)!=ze||Jk&&Da(Jk.resolve())!=le||Km&&Da(new Km)!=be||gv&&Da(new gv)!=ae)&&(Da=function(w){var k=ao(w),R=k==Se?w.constructor:n,q=R?Wh(R):"";if(q)switch(q){case Dpe:return Oe;case Rpe:return ze;case Ipe:return le;case Ope:return be;case Ppe:return ae}return k});function Jme(w,k,R){for(var q=-1,J=R.length;++q<J;){var fe=R[q],Te=fe.size;switch(fe.type){case"drop":w+=Te;break;case"dropRight":k-=Te;break;case"take":k=Na(k,w+Te);break;case"takeRight":w=Fi(w,k-Te);break}}return{start:w,end:k}}function Qme(w){var k=w.match(Ph);return k?k[1].split(jh):[]}function Oj(w,k,R){k=Pd(k,w);for(var q=-1,J=k.length,fe=!1;++q<J;){var Te=Eu(k[q]);if(!(fe=w!=null&&R(w,Te)))break;w=w[Te]}return fe||++q!=J?fe:(J=w==null?0:w.length,!!J&&Zw(J)&&wc(Te,J)&&(on(w)||Gh(w)))}function Xme(w){var k=w.length,R=new w.constructor(k);return k&&typeof w[0]=="string"&&or.call(w,"index")&&(R.index=w.index,R.input=w.input),R}function Pj(w){return typeof w.constructor=="function"&&!kv(w)?Jm(Aw(w)):{}}function Zme(w,k,R){var q=w.constructor;switch(k){case Ie:return pA(w);case ne:case se:return new q(+w);case Oe:return jme(w,R);case Ve:case qe:case Je:case We:case Nt:case Pe:case te:case he:case U:return vj(w,R);case ze:return new q;case Y:case Me:return new q(w);case Ee:return Lme(w);case be:return new q;case X:return Fme(w)}}function ege(w,k){var R=k.length;if(!R)return w;var q=R-1;return k[q]=(R>1?"& ":"")+k[q],k=k.join(R>2?", ":" "),w.replace(Oh,`{
/* [wrapped with `+k+`] */
`)}function tge(w){return on(w)||Gh(w)||!!(zP&&w&&w[zP])}function wc(w,k){var R=typeof w;return k=k??V,!!k&&(R=="number"||R!="symbol"&&Mk.test(w))&&w>-1&&w%1==0&&w<k}function oo(w,k,R){if(!Jr(R))return!1;var q=typeof k;return(q=="number"?Fo(R)&&wc(k,R.length):q=="string"&&k in R)?Pl(R[k],w):!1}function SA(w,k){if(on(w))return!1;var R=typeof w;return R=="number"||R=="symbol"||R=="boolean"||w==null||us(w)?!0:Nr.test(w)||!Cr.test(w)||k!=null&&w in vr(k)}function nge(w){var k=typeof w;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?w!=="__proto__":w===null}function CA(w){var k=qw(w),R=oe[k];if(typeof R!="function"||!(k in Tn.prototype))return!1;if(w===R)return!0;var q=bA(R);return!!q&&w===q[0]}function rge(w){return!!jP&&jP in w}var ige=xw?xc:zA;function kv(w){var k=w&&w.constructor,R=typeof k=="function"&&k.prototype||Gm;return w===R}function jj(w){return w===w&&!Jr(w)}function Lj(w,k){return function(R){return R==null?!1:R[w]===k&&(k!==n||w in vr(R))}}function age(w){var k=Qw(w,function(q){return R.size===u&&R.clear(),q}),R=k.cache;return k}function oge(w,k){var R=w[1],q=k[1],J=R|q,fe=J<(S|y|A),Te=q==A&&R==x||q==A&&R==_&&w[7].length<=k[8]||q==(A|_)&&k[7].length<=k[8]&&R==x;if(!(fe||Te))return w;q&S&&(w[2]=k[2],J|=R&S?0:E);var Re=k[3];if(Re){var Be=w[3];w[3]=Be?bj(Be,Re,k[4]):Re,w[4]=Be?Dd(w[3],c):k[4]}return Re=k[5],Re&&(Be=w[5],w[5]=Be?wj(Be,Re,k[6]):Re,w[6]=Be?Dd(w[5],c):k[6]),Re=k[7],Re&&(w[7]=Re),q&A&&(w[8]=w[8]==null?k[8]:Na(w[8],k[8])),w[9]==null&&(w[9]=k[9]),w[0]=k[0],w[1]=J,w}function sge(w){var k=[];if(w!=null)for(var R in vr(w))k.push(R);return k}function lge(w){return Cw.call(w)}function Fj(w,k,R){return k=Fi(k===n?w.length-1:k,0),function(){for(var q=arguments,J=-1,fe=Fi(q.length-k,0),Te=He(fe);++J<fe;)Te[J]=q[k+J];J=-1;for(var Re=He(k+1);++J<k;)Re[J]=q[J];return Re[k]=R(Te),as(w,this,Re)}}function Bj(w,k){return k.length<2?w:Hh(w,Hs(k,0,-1))}function uge(w,k){for(var R=w.length,q=Na(k.length,R),J=Lo(w);q--;){var fe=k[q];w[q]=wc(fe,R)?J[fe]:n}return w}function EA(w,k){if(!(k==="constructor"&&typeof w[k]=="function")&&k!="__proto__")return w[k]}var zj=Uj(uj),Av=Epe||function(w,k){return aa.setTimeout(w,k)},kA=Uj(Rme);function $j(w,k,R){var q=k+"";return kA(w,ege(q,cge(Qme(q),R)))}function Uj(w){var k=0,R=0;return function(){var q=Mpe(),J=F-(q-R);if(R=q,J>0){if(++k>=I)return arguments[0]}else k=0;return w.apply(n,arguments)}}function Gw(w,k){var R=-1,q=w.length,J=q-1;for(k=k===n?q:k;++R<k;){var fe=sA(R,J),Te=w[fe];w[fe]=w[R],w[R]=Te}return w.length=k,w}var Vj=age(function(w){var k=[];return w.charCodeAt(0)===46&&k.push(""),w.replace(ln,function(R,q,J,fe){k.push(J?fe.replace(Fs,"$1"):q||R)}),k});function Eu(w){if(typeof w=="string"||us(w))return w;var k=w+"";return k=="0"&&1/w==-P?"-0":k}function Wh(w){if(w!=null){try{return Sw.call(w)}catch{}try{return w+""}catch{}}return""}function cge(w,k){return zs(G,function(R){var q="_."+R[0];k&R[1]&&!vw(w,q)&&w.push(q)}),w.sort()}function Hj(w){if(w instanceof Tn)return w.clone();var k=new Us(w.__wrapped__,w.__chain__);return k.__actions__=Lo(w.__actions__),k.__index__=w.__index__,k.__values__=w.__values__,k}function dge(w,k,R){(R?oo(w,k,R):k===n)?k=1:k=Fi(gn(k),0);var q=w==null?0:w.length;if(!q||k<1)return[];for(var J=0,fe=0,Te=He(Tw(q/k));J<q;)Te[fe++]=Hs(w,J,J+=k);return Te}function fge(w){for(var k=-1,R=w==null?0:w.length,q=0,J=[];++k<R;){var fe=w[k];fe&&(J[q++]=fe)}return J}function hge(){var w=arguments.length;if(!w)return[];for(var k=He(w-1),R=arguments[0],q=w;q--;)k[q-1]=arguments[q];return Nd(on(R)?Lo(R):[R],oa(k,1))}var pge=Cn(function(w,k){return mi(w)?wv(w,oa(k,1,mi,!0)):[]}),mge=Cn(function(w,k){var R=qs(k);return mi(R)&&(R=n),mi(w)?wv(w,oa(k,1,mi,!0),$t(R,2)):[]}),gge=Cn(function(w,k){var R=qs(k);return mi(R)&&(R=n),mi(w)?wv(w,oa(k,1,mi,!0),n,R):[]});function vge(w,k,R){var q=w==null?0:w.length;return q?(k=R||k===n?1:gn(k),Hs(w,k<0?0:k,q)):[]}function yge(w,k,R){var q=w==null?0:w.length;return q?(k=R||k===n?1:gn(k),k=q-k,Hs(w,0,k<0?0:k)):[]}function bge(w,k){return w&&w.length?Bw(w,$t(k,3),!0,!0):[]}function wge(w,k){return w&&w.length?Bw(w,$t(k,3),!0):[]}function xge(w,k,R,q){var J=w==null?0:w.length;return J?(R&&typeof R!="number"&&oo(w,k,R)&&(R=0,q=J),hme(w,k,R,q)):[]}function qj(w,k,R){var q=w==null?0:w.length;if(!q)return-1;var J=R==null?0:gn(R);return J<0&&(J=Fi(q+J,0)),yw(w,$t(k,3),J)}function Wj(w,k,R){var q=w==null?0:w.length;if(!q)return-1;var J=q-1;return R!==n&&(J=gn(R),J=R<0?Fi(q+J,0):Na(J,q-1)),yw(w,$t(k,3),J,!0)}function Gj(w){var k=w==null?0:w.length;return k?oa(w,1):[]}function Sge(w){var k=w==null?0:w.length;return k?oa(w,P):[]}function Cge(w,k){var R=w==null?0:w.length;return R?(k=k===n?1:gn(k),oa(w,k)):[]}function Ege(w){for(var k=-1,R=w==null?0:w.length,q={};++k<R;){var J=w[k];q[J[0]]=J[1]}return q}function Kj(w){return w&&w.length?w[0]:n}function kge(w,k,R){var q=w==null?0:w.length;if(!q)return-1;var J=R==null?0:gn(R);return J<0&&(J=Fi(q+J,0)),Vm(w,k,J)}function Age(w){var k=w==null?0:w.length;return k?Hs(w,0,-1):[]}var _ge=Cn(function(w){var k=Ur(w,fA);return k.length&&k[0]===w[0]?nA(k):[]}),Mge=Cn(function(w){var k=qs(w),R=Ur(w,fA);return k===qs(R)?k=n:R.pop(),R.length&&R[0]===w[0]?nA(R,$t(k,2)):[]}),Tge=Cn(function(w){var k=qs(w),R=Ur(w,fA);return k=typeof k=="function"?k:n,k&&R.pop(),R.length&&R[0]===w[0]?nA(R,n,k):[]});function Nge(w,k){return w==null?"":Ape.call(w,k)}function qs(w){var k=w==null?0:w.length;return k?w[k-1]:n}function Dge(w,k,R){var q=w==null?0:w.length;if(!q)return-1;var J=q;return R!==n&&(J=gn(R),J=J<0?Fi(q+J,0):Na(J,q-1)),k===k?cpe(w,k,J):yw(w,MP,J,!0)}function Rge(w,k){return w&&w.length?aj(w,gn(k)):n}var Ige=Cn(Yj);function Yj(w,k){return w&&w.length&&k&&k.length?oA(w,k):w}function Oge(w,k,R){return w&&w.length&&k&&k.length?oA(w,k,$t(R,2)):w}function Pge(w,k,R){return w&&w.length&&k&&k.length?oA(w,k,n,R):w}var jge=bc(function(w,k){var R=w==null?0:w.length,q=Xk(w,k);return lj(w,Ur(k,function(J){return wc(J,R)?+J:J}).sort(yj)),q});function Lge(w,k){var R=[];if(!(w&&w.length))return R;var q=-1,J=[],fe=w.length;for(k=$t(k,3);++q<fe;){var Te=w[q];k(Te,q,w)&&(R.push(Te),J.push(q))}return lj(w,J),R}function AA(w){return w==null?w:Npe.call(w)}function Fge(w,k,R){var q=w==null?0:w.length;return q?(R&&typeof R!="number"&&oo(w,k,R)?(k=0,R=q):(k=k==null?0:gn(k),R=R===n?q:gn(R)),Hs(w,k,R)):[]}function Bge(w,k){return Fw(w,k)}function zge(w,k,R){return uA(w,k,$t(R,2))}function $ge(w,k){var R=w==null?0:w.length;if(R){var q=Fw(w,k);if(q<R&&Pl(w[q],k))return q}return-1}function Uge(w,k){return Fw(w,k,!0)}function Vge(w,k,R){return uA(w,k,$t(R,2),!0)}function Hge(w,k){var R=w==null?0:w.length;if(R){var q=Fw(w,k,!0)-1;if(Pl(w[q],k))return q}return-1}function qge(w){return w&&w.length?cj(w):[]}function Wge(w,k){return w&&w.length?cj(w,$t(k,2)):[]}function Gge(w){var k=w==null?0:w.length;return k?Hs(w,1,k):[]}function Kge(w,k,R){return w&&w.length?(k=R||k===n?1:gn(k),Hs(w,0,k<0?0:k)):[]}function Yge(w,k,R){var q=w==null?0:w.length;return q?(k=R||k===n?1:gn(k),k=q-k,Hs(w,k<0?0:k,q)):[]}function Jge(w,k){return w&&w.length?Bw(w,$t(k,3),!1,!0):[]}function Qge(w,k){return w&&w.length?Bw(w,$t(k,3)):[]}var Xge=Cn(function(w){return Od(oa(w,1,mi,!0))}),Zge=Cn(function(w){var k=qs(w);return mi(k)&&(k=n),Od(oa(w,1,mi,!0),$t(k,2))}),e0e=Cn(function(w){var k=qs(w);return k=typeof k=="function"?k:n,Od(oa(w,1,mi,!0),n,k)});function t0e(w){return w&&w.length?Od(w):[]}function n0e(w,k){return w&&w.length?Od(w,$t(k,2)):[]}function r0e(w,k){return k=typeof k=="function"?k:n,w&&w.length?Od(w,n,k):[]}function _A(w){if(!(w&&w.length))return[];var k=0;return w=Td(w,function(R){if(mi(R))return k=Fi(R.length,k),!0}),Hk(k,function(R){return Ur(w,$k(R))})}function Jj(w,k){if(!(w&&w.length))return[];var R=_A(w);return k==null?R:Ur(R,function(q){return as(k,n,q)})}var i0e=Cn(function(w,k){return mi(w)?wv(w,k):[]}),a0e=Cn(function(w){return dA(Td(w,mi))}),o0e=Cn(function(w){var k=qs(w);return mi(k)&&(k=n),dA(Td(w,mi),$t(k,2))}),s0e=Cn(function(w){var k=qs(w);return k=typeof k=="function"?k:n,dA(Td(w,mi),n,k)}),l0e=Cn(_A);function u0e(w,k){return pj(w||[],k||[],bv)}function c0e(w,k){return pj(w||[],k||[],Cv)}var d0e=Cn(function(w){var k=w.length,R=k>1?w[k-1]:n;return R=typeof R=="function"?(w.pop(),R):n,Jj(w,R)});function Qj(w){var k=oe(w);return k.__chain__=!0,k}function f0e(w,k){return k(w),w}function Kw(w,k){return k(w)}var h0e=bc(function(w){var k=w.length,R=k?w[0]:0,q=this.__wrapped__,J=function(fe){return Xk(fe,w)};return k>1||this.__actions__.length||!(q instanceof Tn)||!wc(R)?this.thru(J):(q=q.slice(R,+R+(k?1:0)),q.__actions__.push({func:Kw,args:[J],thisArg:n}),new Us(q,this.__chain__).thru(function(fe){return k&&!fe.length&&fe.push(n),fe}))});function p0e(){return Qj(this)}function m0e(){return new Us(this.value(),this.__chain__)}function g0e(){this.__values__===n&&(this.__values__=dL(this.value()));var w=this.__index__>=this.__values__.length,k=w?n:this.__values__[this.__index__++];return{done:w,value:k}}function v0e(){return this}function y0e(w){for(var k,R=this;R instanceof Iw;){var q=Hj(R);q.__index__=0,q.__values__=n,k?J.__wrapped__=q:k=q;var J=q;R=R.__wrapped__}return J.__wrapped__=w,k}function b0e(){var w=this.__wrapped__;if(w instanceof Tn){var k=w;return this.__actions__.length&&(k=new Tn(this)),k=k.reverse(),k.__actions__.push({func:Kw,args:[AA],thisArg:n}),new Us(k,this.__chain__)}return this.thru(AA)}function w0e(){return hj(this.__wrapped__,this.__actions__)}var x0e=zw(function(w,k,R){or.call(w,R)?++w[R]:vc(w,R,1)});function S0e(w,k,R){var q=on(w)?AP:fme;return R&&oo(w,k,R)&&(k=n),q(w,$t(k,3))}function C0e(w,k){var R=on(w)?Td:JP;return R(w,$t(k,3))}var E0e=Ej(qj),k0e=Ej(Wj);function A0e(w,k){return oa(Yw(w,k),1)}function _0e(w,k){return oa(Yw(w,k),P)}function M0e(w,k,R){return R=R===n?1:gn(R),oa(Yw(w,k),R)}function Xj(w,k){var R=on(w)?zs:Id;return R(w,$t(k,3))}function Zj(w,k){var R=on(w)?Ghe:YP;return R(w,$t(k,3))}var T0e=zw(function(w,k,R){or.call(w,R)?w[R].push(k):vc(w,R,[k])});function N0e(w,k,R,q){w=Fo(w)?w:tg(w),R=R&&!q?gn(R):0;var J=w.length;return R<0&&(R=Fi(J+R,0)),ex(w)?R<=J&&w.indexOf(k,R)>-1:!!J&&Vm(w,k,R)>-1}var D0e=Cn(function(w,k,R){var q=-1,J=typeof k=="function",fe=Fo(w)?He(w.length):[];return Id(w,function(Te){fe[++q]=J?as(k,Te,R):xv(Te,k,R)}),fe}),R0e=zw(function(w,k,R){vc(w,R,k)});function Yw(w,k){var R=on(w)?Ur:nj;return R(w,$t(k,3))}function I0e(w,k,R,q){return w==null?[]:(on(k)||(k=k==null?[]:[k]),R=q?n:R,on(R)||(R=R==null?[]:[R]),oj(w,k,R))}var O0e=zw(function(w,k,R){w[R?0:1].push(k)},function(){return[[],[]]});function P0e(w,k,R){var q=on(w)?Bk:NP,J=arguments.length<3;return q(w,$t(k,4),R,J,Id)}function j0e(w,k,R){var q=on(w)?Khe:NP,J=arguments.length<3;return q(w,$t(k,4),R,J,YP)}function L0e(w,k){var R=on(w)?Td:JP;return R(w,Xw($t(k,3)))}function F0e(w){var k=on(w)?qP:Nme;return k(w)}function B0e(w,k,R){(R?oo(w,k,R):k===n)?k=1:k=gn(k);var q=on(w)?sme:Dme;return q(w,k)}function z0e(w){var k=on(w)?lme:Ime;return k(w)}function $0e(w){if(w==null)return 0;if(Fo(w))return ex(w)?qm(w):w.length;var k=Da(w);return k==ze||k==be?w.size:iA(w).length}function U0e(w,k,R){var q=on(w)?zk:Ome;return R&&oo(w,k,R)&&(k=n),q(w,$t(k,3))}var V0e=Cn(function(w,k){if(w==null)return[];var R=k.length;return R>1&&oo(w,k[0],k[1])?k=[]:R>2&&oo(k[0],k[1],k[2])&&(k=[k[0]]),oj(w,oa(k,1),[])}),Jw=Cpe||function(){return aa.Date.now()};function H0e(w,k){if(typeof k!="function")throw new $s(o);return w=gn(w),function(){if(--w<1)return k.apply(this,arguments)}}function eL(w,k,R){return k=R?n:k,k=w&&k==null?w.length:k,yc(w,A,n,n,n,n,k)}function tL(w,k){var R;if(typeof k!="function")throw new $s(o);return w=gn(w),function(){return--w>0&&(R=k.apply(this,arguments)),w<=1&&(k=n),R}}var MA=Cn(function(w,k,R){var q=S;if(R.length){var J=Dd(R,Zm(MA));q|=C}return yc(w,q,k,R,J)}),nL=Cn(function(w,k,R){var q=S|y;if(R.length){var J=Dd(R,Zm(nL));q|=C}return yc(k,q,w,R,J)});function rL(w,k,R){k=R?n:k;var q=yc(w,x,n,n,n,n,n,k);return q.placeholder=rL.placeholder,q}function iL(w,k,R){k=R?n:k;var q=yc(w,v,n,n,n,n,n,k);return q.placeholder=iL.placeholder,q}function aL(w,k,R){var q,J,fe,Te,Re,Be,Qe=0,Xe=!1,tt=!1,vt=!0;if(typeof w!="function")throw new $s(o);k=Ws(k)||0,Jr(R)&&(Xe=!!R.leading,tt="maxWait"in R,fe=tt?Fi(Ws(R.maxWait)||0,k):fe,vt="trailing"in R?!!R.trailing:vt);function Rt(gi){var jl=q,Cc=J;return q=J=n,Qe=gi,Te=w.apply(Cc,jl),Te}function qt(gi){return Qe=gi,Re=Av(kn,k),Xe?Rt(gi):Te}function yn(gi){var jl=gi-Be,Cc=gi-Qe,EL=k-jl;return tt?Na(EL,fe-Cc):EL}function Wt(gi){var jl=gi-Be,Cc=gi-Qe;return Be===n||jl>=k||jl<0||tt&&Cc>=fe}function kn(){var gi=Jw();if(Wt(gi))return In(gi);Re=Av(kn,yn(gi))}function In(gi){return Re=n,vt&&q?Rt(gi):(q=J=n,Te)}function cs(){Re!==n&&mj(Re),Qe=0,q=Be=J=Re=n}function so(){return Re===n?Te:In(Jw())}function ds(){var gi=Jw(),jl=Wt(gi);if(q=arguments,J=this,Be=gi,jl){if(Re===n)return qt(Be);if(tt)return mj(Re),Re=Av(kn,k),Rt(Be)}return Re===n&&(Re=Av(kn,k)),Te}return ds.cancel=cs,ds.flush=so,ds}var q0e=Cn(function(w,k){return KP(w,1,k)}),W0e=Cn(function(w,k,R){return KP(w,Ws(k)||0,R)});function G0e(w){return yc(w,T)}function Qw(w,k){if(typeof w!="function"||k!=null&&typeof k!="function")throw new $s(o);var R=function(){var q=arguments,J=k?k.apply(this,q):q[0],fe=R.cache;if(fe.has(J))return fe.get(J);var Te=w.apply(this,q);return R.cache=fe.set(J,Te)||fe,Te};return R.cache=new(Qw.Cache||gc),R}Qw.Cache=gc;function Xw(w){if(typeof w!="function")throw new $s(o);return function(){var k=arguments;switch(k.length){case 0:return!w.call(this);case 1:return!w.call(this,k[0]);case 2:return!w.call(this,k[0],k[1]);case 3:return!w.call(this,k[0],k[1],k[2])}return!w.apply(this,k)}}function K0e(w){return tL(2,w)}var Y0e=Pme(function(w,k){k=k.length==1&&on(k[0])?Ur(k[0],ss($t())):Ur(oa(k,1),ss($t()));var R=k.length;return Cn(function(q){for(var J=-1,fe=Na(q.length,R);++J<fe;)q[J]=k[J].call(this,q[J]);return as(w,this,q)})}),TA=Cn(function(w,k){var R=Dd(k,Zm(TA));return yc(w,C,n,k,R)}),oL=Cn(function(w,k){var R=Dd(k,Zm(oL));return yc(w,b,n,k,R)}),J0e=bc(function(w,k){return yc(w,_,n,n,n,k)});function Q0e(w,k){if(typeof w!="function")throw new $s(o);return k=k===n?k:gn(k),Cn(w,k)}function X0e(w,k){if(typeof w!="function")throw new $s(o);return k=k==null?0:Fi(gn(k),0),Cn(function(R){var q=R[k],J=jd(R,0,k);return q&&Nd(J,q),as(w,this,J)})}function Z0e(w,k,R){var q=!0,J=!0;if(typeof w!="function")throw new $s(o);return Jr(R)&&(q="leading"in R?!!R.leading:q,J="trailing"in R?!!R.trailing:J),aL(w,k,{leading:q,maxWait:k,trailing:J})}function e1e(w){return eL(w,1)}function t1e(w,k){return TA(hA(k),w)}function n1e(){if(!arguments.length)return[];var w=arguments[0];return on(w)?w:[w]}function r1e(w){return Vs(w,h)}function i1e(w,k){return k=typeof k=="function"?k:n,Vs(w,h,k)}function a1e(w){return Vs(w,d|h)}function o1e(w,k){return k=typeof k=="function"?k:n,Vs(w,d|h,k)}function s1e(w,k){return k==null||GP(w,k,Wi(k))}function Pl(w,k){return w===k||w!==w&&k!==k}var l1e=Hw(tA),u1e=Hw(function(w,k){return w>=k}),Gh=ZP(function(){return arguments}())?ZP:function(w){return si(w)&&or.call(w,"callee")&&!BP.call(w,"callee")},on=He.isArray,c1e=wP?ss(wP):yme;function Fo(w){return w!=null&&Zw(w.length)&&!xc(w)}function mi(w){return si(w)&&Fo(w)}function d1e(w){return w===!0||w===!1||si(w)&&ao(w)==ne}var Ld=kpe||zA,f1e=xP?ss(xP):bme;function h1e(w){return si(w)&&w.nodeType===1&&!_v(w)}function p1e(w){if(w==null)return!0;if(Fo(w)&&(on(w)||typeof w=="string"||typeof w.splice=="function"||Ld(w)||eg(w)||Gh(w)))return!w.length;var k=Da(w);if(k==ze||k==be)return!w.size;if(kv(w))return!iA(w).length;for(var R in w)if(or.call(w,R))return!1;return!0}function m1e(w,k){return Sv(w,k)}function g1e(w,k,R){R=typeof R=="function"?R:n;var q=R?R(w,k):n;return q===n?Sv(w,k,n,R):!!q}function NA(w){if(!si(w))return!1;var k=ao(w);return k==xe||k==ge||typeof w.message=="string"&&typeof w.name=="string"&&!_v(w)}function v1e(w){return typeof w=="number"&&$P(w)}function xc(w){if(!Jr(w))return!1;var k=ao(w);return k==we||k==_e||k==ee||k==ye}function sL(w){return typeof w=="number"&&w==gn(w)}function Zw(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=V}function Jr(w){var k=typeof w;return w!=null&&(k=="object"||k=="function")}function si(w){return w!=null&&typeof w=="object"}var lL=SP?ss(SP):xme;function y1e(w,k){return w===k||rA(w,k,wA(k))}function b1e(w,k,R){return R=typeof R=="function"?R:n,rA(w,k,wA(k),R)}function w1e(w){return uL(w)&&w!=+w}function x1e(w){if(ige(w))throw new rn(a);return ej(w)}function S1e(w){return w===null}function C1e(w){return w==null}function uL(w){return typeof w=="number"||si(w)&&ao(w)==Y}function _v(w){if(!si(w)||ao(w)!=Se)return!1;var k=Aw(w);if(k===null)return!0;var R=or.call(k,"constructor")&&k.constructor;return typeof R=="function"&&R instanceof R&&Sw.call(R)==bpe}var DA=CP?ss(CP):Sme;function E1e(w){return sL(w)&&w>=-V&&w<=V}var cL=EP?ss(EP):Cme;function ex(w){return typeof w=="string"||!on(w)&&si(w)&&ao(w)==Me}function us(w){return typeof w=="symbol"||si(w)&&ao(w)==X}var eg=kP?ss(kP):Eme;function k1e(w){return w===n}function A1e(w){return si(w)&&Da(w)==ae}function _1e(w){return si(w)&&ao(w)==Ce}var M1e=Hw(aA),T1e=Hw(function(w,k){return w<=k});function dL(w){if(!w)return[];if(Fo(w))return ex(w)?Il(w):Lo(w);if(pv&&w[pv])return spe(w[pv]());var k=Da(w),R=k==ze?Wk:k==be?bw:tg;return R(w)}function Sc(w){if(!w)return w===0?w:0;if(w=Ws(w),w===P||w===-P){var k=w<0?-1:1;return k*B}return w===w?w:0}function gn(w){var k=Sc(w),R=k%1;return k===k?R?k-R:k:0}function fL(w){return w?Vh(gn(w),0,K):0}function Ws(w){if(typeof w=="number")return w;if(us(w))return H;if(Jr(w)){var k=typeof w.valueOf=="function"?w.valueOf():w;w=Jr(k)?k+"":k}if(typeof w!="string")return w===0?w:+w;w=DP(w);var R=Bm.test(w);return R||_k.test(w)?Hhe(w.slice(2),R?2:8):pc.test(w)?H:+w}function hL(w){return Cu(w,Bo(w))}function N1e(w){return w?Vh(gn(w),-V,V):w===0?w:0}function er(w){return w==null?"":ls(w)}var D1e=Qm(function(w,k){if(kv(k)||Fo(k)){Cu(k,Wi(k),w);return}for(var R in k)or.call(k,R)&&bv(w,R,k[R])}),pL=Qm(function(w,k){Cu(k,Bo(k),w)}),tx=Qm(function(w,k,R,q){Cu(k,Bo(k),w,q)}),R1e=Qm(function(w,k,R,q){Cu(k,Wi(k),w,q)}),I1e=bc(Xk);function O1e(w,k){var R=Jm(w);return k==null?R:WP(R,k)}var P1e=Cn(function(w,k){w=vr(w);var R=-1,q=k.length,J=q>2?k[2]:n;for(J&&oo(k[0],k[1],J)&&(q=1);++R<q;)for(var fe=k[R],Te=Bo(fe),Re=-1,Be=Te.length;++Re<Be;){var Qe=Te[Re],Xe=w[Qe];(Xe===n||Pl(Xe,Gm[Qe])&&!or.call(w,Qe))&&(w[Qe]=fe[Qe])}return w}),j1e=Cn(function(w){return w.push(n,Dj),as(mL,n,w)});function L1e(w,k){return _P(w,$t(k,3),Su)}function F1e(w,k){return _P(w,$t(k,3),eA)}function B1e(w,k){return w==null?w:Zk(w,$t(k,3),Bo)}function z1e(w,k){return w==null?w:QP(w,$t(k,3),Bo)}function $1e(w,k){return w&&Su(w,$t(k,3))}function U1e(w,k){return w&&eA(w,$t(k,3))}function V1e(w){return w==null?[]:jw(w,Wi(w))}function H1e(w){return w==null?[]:jw(w,Bo(w))}function RA(w,k,R){var q=w==null?n:Hh(w,k);return q===n?R:q}function q1e(w,k){return w!=null&&Oj(w,k,pme)}function IA(w,k){return w!=null&&Oj(w,k,mme)}var W1e=Aj(function(w,k,R){k!=null&&typeof k.toString!="function"&&(k=Cw.call(k)),w[k]=R},PA(zo)),G1e=Aj(function(w,k,R){k!=null&&typeof k.toString!="function"&&(k=Cw.call(k)),or.call(w,k)?w[k].push(R):w[k]=[R]},$t),K1e=Cn(xv);function Wi(w){return Fo(w)?HP(w):iA(w)}function Bo(w){return Fo(w)?HP(w,!0):kme(w)}function Y1e(w,k){var R={};return k=$t(k,3),Su(w,function(q,J,fe){vc(R,k(q,J,fe),q)}),R}function J1e(w,k){var R={};return k=$t(k,3),Su(w,function(q,J,fe){vc(R,J,k(q,J,fe))}),R}var Q1e=Qm(function(w,k,R){Lw(w,k,R)}),mL=Qm(function(w,k,R,q){Lw(w,k,R,q)}),X1e=bc(function(w,k){var R={};if(w==null)return R;var q=!1;k=Ur(k,function(fe){return fe=Pd(fe,w),q||(q=fe.length>1),fe}),Cu(w,yA(w),R),q&&(R=Vs(R,d|f|h,Wme));for(var J=k.length;J--;)cA(R,k[J]);return R});function Z1e(w,k){return gL(w,Xw($t(k)))}var eve=bc(function(w,k){return w==null?{}:_me(w,k)});function gL(w,k){if(w==null)return{};var R=Ur(yA(w),function(q){return[q]});return k=$t(k),sj(w,R,function(q,J){return k(q,J[0])})}function tve(w,k,R){k=Pd(k,w);var q=-1,J=k.length;for(J||(J=1,w=n);++q<J;){var fe=w==null?n:w[Eu(k[q])];fe===n&&(q=J,fe=R),w=xc(fe)?fe.call(w):fe}return w}function nve(w,k,R){return w==null?w:Cv(w,k,R)}function rve(w,k,R,q){return q=typeof q=="function"?q:n,w==null?w:Cv(w,k,R,q)}var vL=Tj(Wi),yL=Tj(Bo);function ive(w,k,R){var q=on(w),J=q||Ld(w)||eg(w);if(k=$t(k,4),R==null){var fe=w&&w.constructor;J?R=q?new fe:[]:Jr(w)?R=xc(fe)?Jm(Aw(w)):{}:R={}}return(J?zs:Su)(w,function(Te,Re,Be){return k(R,Te,Re,Be)}),R}function ave(w,k){return w==null?!0:cA(w,k)}function ove(w,k,R){return w==null?w:fj(w,k,hA(R))}function sve(w,k,R,q){return q=typeof q=="function"?q:n,w==null?w:fj(w,k,hA(R),q)}function tg(w){return w==null?[]:qk(w,Wi(w))}function lve(w){return w==null?[]:qk(w,Bo(w))}function uve(w,k,R){return R===n&&(R=k,k=n),R!==n&&(R=Ws(R),R=R===R?R:0),k!==n&&(k=Ws(k),k=k===k?k:0),Vh(Ws(w),k,R)}function cve(w,k,R){return k=Sc(k),R===n?(R=k,k=0):R=Sc(R),w=Ws(w),gme(w,k,R)}function dve(w,k,R){if(R&&typeof R!="boolean"&&oo(w,k,R)&&(k=R=n),R===n&&(typeof k=="boolean"?(R=k,k=n):typeof w=="boolean"&&(R=w,w=n)),w===n&&k===n?(w=0,k=1):(w=Sc(w),k===n?(k=w,w=0):k=Sc(k)),w>k){var q=w;w=k,k=q}if(R||w%1||k%1){var J=UP();return Na(w+J*(k-w+Vhe("1e-"+((J+"").length-1))),k)}return sA(w,k)}var fve=Xm(function(w,k,R){return k=k.toLowerCase(),w+(R?bL(k):k)});function bL(w){return OA(er(w).toLowerCase())}function wL(w){return w=er(w),w&&w.replace(Tk,npe).replace(Ihe,"")}function hve(w,k,R){w=er(w),k=ls(k);var q=w.length;R=R===n?q:Vh(gn(R),0,q);var J=R;return R-=k.length,R>=0&&w.slice(R,J)==k}function pve(w){return w=er(w),w&&At.test(w)?w.replace(Ue,rpe):w}function mve(w){return w=er(w),w&&Rr.test(w)?w.replace(Dr,"\\$&"):w}var gve=Xm(function(w,k,R){return w+(R?"-":"")+k.toLowerCase()}),vve=Xm(function(w,k,R){return w+(R?" ":"")+k.toLowerCase()}),yve=Cj("toLowerCase");function bve(w,k,R){w=er(w),k=gn(k);var q=k?qm(w):0;if(!k||q>=k)return w;var J=(k-q)/2;return Vw(Nw(J),R)+w+Vw(Tw(J),R)}function wve(w,k,R){w=er(w),k=gn(k);var q=k?qm(w):0;return k&&q<k?w+Vw(k-q,R):w}function xve(w,k,R){w=er(w),k=gn(k);var q=k?qm(w):0;return k&&q<k?Vw(k-q,R)+w:w}function Sve(w,k,R){return R||k==null?k=0:k&&(k=+k),Tpe(er(w).replace(Ir,""),k||0)}function Cve(w,k,R){return(R?oo(w,k,R):k===n)?k=1:k=gn(k),lA(er(w),k)}function Eve(){var w=arguments,k=er(w[0]);return w.length<3?k:k.replace(w[1],w[2])}var kve=Xm(function(w,k,R){return w+(R?"_":"")+k.toLowerCase()});function Ave(w,k,R){return R&&typeof R!="number"&&oo(w,k,R)&&(k=R=n),R=R===n?K:R>>>0,R?(w=er(w),w&&(typeof k=="string"||k!=null&&!DA(k))&&(k=ls(k),!k&&Hm(w))?jd(Il(w),0,R):w.split(k,R)):[]}var _ve=Xm(function(w,k,R){return w+(R?" ":"")+OA(k)});function Mve(w,k,R){return w=er(w),R=R==null?0:Vh(gn(R),0,w.length),k=ls(k),w.slice(R,R+k.length)==k}function Tve(w,k,R){var q=oe.templateSettings;R&&oo(w,k,R)&&(k=n),w=er(w),k=tx({},k,q,Nj);var J=tx({},k.imports,q.imports,Nj),fe=Wi(J),Te=qk(J,fe),Re,Be,Qe=0,Xe=k.interpolate||zm,tt="__p += '",vt=Gk((k.escape||zm).source+"|"+Xe.source+"|"+(Xe===Qt?Lh:zm).source+"|"+(k.evaluate||zm).source+"|$","g"),Rt="//# sourceURL="+(or.call(k,"sourceURL")?(k.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fhe+"]")+`
`;w.replace(vt,function(Wt,kn,In,cs,so,ds){return In||(In=cs),tt+=w.slice(Qe,ds).replace(Fh,ipe),kn&&(Re=!0,tt+=`' +
__e(`+kn+`) +
'`),so&&(Be=!0,tt+=`';
`+so+`;
__p += '`),In&&(tt+=`' +
((__t = (`+In+`)) == null ? '' : __t) +
'`),Qe=ds+Wt.length,Wt}),tt+=`';
`;var qt=or.call(k,"variable")&&k.variable;if(!qt)tt=`with (obj) {
`+tt+`
}
`;else if(io.test(qt))throw new rn(s);tt=(Be?tt.replace(ie,""):tt).replace(ve,"$1").replace(Ne,"$1;"),tt="function("+(qt||"obj")+`) {
`+(qt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Re?", __e = _.escape":"")+(Be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+tt+`return __p
}`;var yn=SL(function(){return Zn(fe,Rt+"return "+tt).apply(n,Te)});if(yn.source=tt,NA(yn))throw yn;return yn}function Nve(w){return er(w).toLowerCase()}function Dve(w){return er(w).toUpperCase()}function Rve(w,k,R){if(w=er(w),w&&(R||k===n))return DP(w);if(!w||!(k=ls(k)))return w;var q=Il(w),J=Il(k),fe=RP(q,J),Te=IP(q,J)+1;return jd(q,fe,Te).join("")}function Ive(w,k,R){if(w=er(w),w&&(R||k===n))return w.slice(0,PP(w)+1);if(!w||!(k=ls(k)))return w;var q=Il(w),J=IP(q,Il(k))+1;return jd(q,0,J).join("")}function Ove(w,k,R){if(w=er(w),w&&(R||k===n))return w.replace(Ir,"");if(!w||!(k=ls(k)))return w;var q=Il(w),J=RP(q,Il(k));return jd(q,J).join("")}function Pve(w,k){var R=M,q=N;if(Jr(k)){var J="separator"in k?k.separator:J;R="length"in k?gn(k.length):R,q="omission"in k?ls(k.omission):q}w=er(w);var fe=w.length;if(Hm(w)){var Te=Il(w);fe=Te.length}if(R>=fe)return w;var Re=R-qm(q);if(Re<1)return q;var Be=Te?jd(Te,0,Re).join(""):w.slice(0,Re);if(J===n)return Be+q;if(Te&&(Re+=Be.length-Re),DA(J)){if(w.slice(Re).search(J)){var Qe,Xe=Be;for(J.global||(J=Gk(J.source,er($r.exec(J))+"g")),J.lastIndex=0;Qe=J.exec(Xe);)var tt=Qe.index;Be=Be.slice(0,tt===n?Re:tt)}}else if(w.indexOf(ls(J),Re)!=Re){var vt=Be.lastIndexOf(J);vt>-1&&(Be=Be.slice(0,vt))}return Be+q}function jve(w){return w=er(w),w&&ut.test(w)?w.replace($e,dpe):w}var Lve=Xm(function(w,k,R){return w+(R?" ":"")+k.toUpperCase()}),OA=Cj("toUpperCase");function xL(w,k,R){return w=er(w),k=R?n:k,k===n?ope(w)?ppe(w):Qhe(w):w.match(k)||[]}var SL=Cn(function(w,k){try{return as(w,n,k)}catch(R){return NA(R)?R:new rn(R)}}),Fve=bc(function(w,k){return zs(k,function(R){R=Eu(R),vc(w,R,MA(w[R],w))}),w});function Bve(w){var k=w==null?0:w.length,R=$t();return w=k?Ur(w,function(q){if(typeof q[1]!="function")throw new $s(o);return[R(q[0]),q[1]]}):[],Cn(function(q){for(var J=-1;++J<k;){var fe=w[J];if(as(fe[0],this,q))return as(fe[1],this,q)}})}function zve(w){return dme(Vs(w,d))}function PA(w){return function(){return w}}function $ve(w,k){return w==null||w!==w?k:w}var Uve=kj(),Vve=kj(!0);function zo(w){return w}function jA(w){return tj(typeof w=="function"?w:Vs(w,d))}function Hve(w){return rj(Vs(w,d))}function qve(w,k){return ij(w,Vs(k,d))}var Wve=Cn(function(w,k){return function(R){return xv(R,w,k)}}),Gve=Cn(function(w,k){return function(R){return xv(w,R,k)}});function LA(w,k,R){var q=Wi(k),J=jw(k,q);R==null&&!(Jr(k)&&(J.length||!q.length))&&(R=k,k=w,w=this,J=jw(k,Wi(k)));var fe=!(Jr(R)&&"chain"in R)||!!R.chain,Te=xc(w);return zs(J,function(Re){var Be=k[Re];w[Re]=Be,Te&&(w.prototype[Re]=function(){var Qe=this.__chain__;if(fe||Qe){var Xe=w(this.__wrapped__),tt=Xe.__actions__=Lo(this.__actions__);return tt.push({func:Be,args:arguments,thisArg:w}),Xe.__chain__=Qe,Xe}return Be.apply(w,Nd([this.value()],arguments))})}),w}function Kve(){return aa._===this&&(aa._=wpe),this}function FA(){}function Yve(w){return w=gn(w),Cn(function(k){return aj(k,w)})}var Jve=mA(Ur),Qve=mA(AP),Xve=mA(zk);function CL(w){return SA(w)?$k(Eu(w)):Mme(w)}function Zve(w){return function(k){return w==null?n:Hh(w,k)}}var eye=_j(),tye=_j(!0);function BA(){return[]}function zA(){return!1}function nye(){return{}}function rye(){return""}function iye(){return!0}function aye(w,k){if(w=gn(w),w<1||w>V)return[];var R=K,q=Na(w,K);k=$t(k),w-=K;for(var J=Hk(q,k);++R<w;)k(R);return J}function oye(w){return on(w)?Ur(w,Eu):us(w)?[w]:Lo(Vj(er(w)))}function sye(w){var k=++ype;return er(w)+k}var lye=Uw(function(w,k){return w+k},0),uye=gA("ceil"),cye=Uw(function(w,k){return w/k},1),dye=gA("floor");function fye(w){return w&&w.length?Pw(w,zo,tA):n}function hye(w,k){return w&&w.length?Pw(w,$t(k,2),tA):n}function pye(w){return TP(w,zo)}function mye(w,k){return TP(w,$t(k,2))}function gye(w){return w&&w.length?Pw(w,zo,aA):n}function vye(w,k){return w&&w.length?Pw(w,$t(k,2),aA):n}var yye=Uw(function(w,k){return w*k},1),bye=gA("round"),wye=Uw(function(w,k){return w-k},0);function xye(w){return w&&w.length?Vk(w,zo):0}function Sye(w,k){return w&&w.length?Vk(w,$t(k,2)):0}return oe.after=H0e,oe.ary=eL,oe.assign=D1e,oe.assignIn=pL,oe.assignInWith=tx,oe.assignWith=R1e,oe.at=I1e,oe.before=tL,oe.bind=MA,oe.bindAll=Fve,oe.bindKey=nL,oe.castArray=n1e,oe.chain=Qj,oe.chunk=dge,oe.compact=fge,oe.concat=hge,oe.cond=Bve,oe.conforms=zve,oe.constant=PA,oe.countBy=x0e,oe.create=O1e,oe.curry=rL,oe.curryRight=iL,oe.debounce=aL,oe.defaults=P1e,oe.defaultsDeep=j1e,oe.defer=q0e,oe.delay=W0e,oe.difference=pge,oe.differenceBy=mge,oe.differenceWith=gge,oe.drop=vge,oe.dropRight=yge,oe.dropRightWhile=bge,oe.dropWhile=wge,oe.fill=xge,oe.filter=C0e,oe.flatMap=A0e,oe.flatMapDeep=_0e,oe.flatMapDepth=M0e,oe.flatten=Gj,oe.flattenDeep=Sge,oe.flattenDepth=Cge,oe.flip=G0e,oe.flow=Uve,oe.flowRight=Vve,oe.fromPairs=Ege,oe.functions=V1e,oe.functionsIn=H1e,oe.groupBy=T0e,oe.initial=Age,oe.intersection=_ge,oe.intersectionBy=Mge,oe.intersectionWith=Tge,oe.invert=W1e,oe.invertBy=G1e,oe.invokeMap=D0e,oe.iteratee=jA,oe.keyBy=R0e,oe.keys=Wi,oe.keysIn=Bo,oe.map=Yw,oe.mapKeys=Y1e,oe.mapValues=J1e,oe.matches=Hve,oe.matchesProperty=qve,oe.memoize=Qw,oe.merge=Q1e,oe.mergeWith=mL,oe.method=Wve,oe.methodOf=Gve,oe.mixin=LA,oe.negate=Xw,oe.nthArg=Yve,oe.omit=X1e,oe.omitBy=Z1e,oe.once=K0e,oe.orderBy=I0e,oe.over=Jve,oe.overArgs=Y0e,oe.overEvery=Qve,oe.overSome=Xve,oe.partial=TA,oe.partialRight=oL,oe.partition=O0e,oe.pick=eve,oe.pickBy=gL,oe.property=CL,oe.propertyOf=Zve,oe.pull=Ige,oe.pullAll=Yj,oe.pullAllBy=Oge,oe.pullAllWith=Pge,oe.pullAt=jge,oe.range=eye,oe.rangeRight=tye,oe.rearg=J0e,oe.reject=L0e,oe.remove=Lge,oe.rest=Q0e,oe.reverse=AA,oe.sampleSize=B0e,oe.set=nve,oe.setWith=rve,oe.shuffle=z0e,oe.slice=Fge,oe.sortBy=V0e,oe.sortedUniq=qge,oe.sortedUniqBy=Wge,oe.split=Ave,oe.spread=X0e,oe.tail=Gge,oe.take=Kge,oe.takeRight=Yge,oe.takeRightWhile=Jge,oe.takeWhile=Qge,oe.tap=f0e,oe.throttle=Z0e,oe.thru=Kw,oe.toArray=dL,oe.toPairs=vL,oe.toPairsIn=yL,oe.toPath=oye,oe.toPlainObject=hL,oe.transform=ive,oe.unary=e1e,oe.union=Xge,oe.unionBy=Zge,oe.unionWith=e0e,oe.uniq=t0e,oe.uniqBy=n0e,oe.uniqWith=r0e,oe.unset=ave,oe.unzip=_A,oe.unzipWith=Jj,oe.update=ove,oe.updateWith=sve,oe.values=tg,oe.valuesIn=lve,oe.without=i0e,oe.words=xL,oe.wrap=t1e,oe.xor=a0e,oe.xorBy=o0e,oe.xorWith=s0e,oe.zip=l0e,oe.zipObject=u0e,oe.zipObjectDeep=c0e,oe.zipWith=d0e,oe.entries=vL,oe.entriesIn=yL,oe.extend=pL,oe.extendWith=tx,LA(oe,oe),oe.add=lye,oe.attempt=SL,oe.camelCase=fve,oe.capitalize=bL,oe.ceil=uye,oe.clamp=uve,oe.clone=r1e,oe.cloneDeep=a1e,oe.cloneDeepWith=o1e,oe.cloneWith=i1e,oe.conformsTo=s1e,oe.deburr=wL,oe.defaultTo=$ve,oe.divide=cye,oe.endsWith=hve,oe.eq=Pl,oe.escape=pve,oe.escapeRegExp=mve,oe.every=S0e,oe.find=E0e,oe.findIndex=qj,oe.findKey=L1e,oe.findLast=k0e,oe.findLastIndex=Wj,oe.findLastKey=F1e,oe.floor=dye,oe.forEach=Xj,oe.forEachRight=Zj,oe.forIn=B1e,oe.forInRight=z1e,oe.forOwn=$1e,oe.forOwnRight=U1e,oe.get=RA,oe.gt=l1e,oe.gte=u1e,oe.has=q1e,oe.hasIn=IA,oe.head=Kj,oe.identity=zo,oe.includes=N0e,oe.indexOf=kge,oe.inRange=cve,oe.invoke=K1e,oe.isArguments=Gh,oe.isArray=on,oe.isArrayBuffer=c1e,oe.isArrayLike=Fo,oe.isArrayLikeObject=mi,oe.isBoolean=d1e,oe.isBuffer=Ld,oe.isDate=f1e,oe.isElement=h1e,oe.isEmpty=p1e,oe.isEqual=m1e,oe.isEqualWith=g1e,oe.isError=NA,oe.isFinite=v1e,oe.isFunction=xc,oe.isInteger=sL,oe.isLength=Zw,oe.isMap=lL,oe.isMatch=y1e,oe.isMatchWith=b1e,oe.isNaN=w1e,oe.isNative=x1e,oe.isNil=C1e,oe.isNull=S1e,oe.isNumber=uL,oe.isObject=Jr,oe.isObjectLike=si,oe.isPlainObject=_v,oe.isRegExp=DA,oe.isSafeInteger=E1e,oe.isSet=cL,oe.isString=ex,oe.isSymbol=us,oe.isTypedArray=eg,oe.isUndefined=k1e,oe.isWeakMap=A1e,oe.isWeakSet=_1e,oe.join=Nge,oe.kebabCase=gve,oe.last=qs,oe.lastIndexOf=Dge,oe.lowerCase=vve,oe.lowerFirst=yve,oe.lt=M1e,oe.lte=T1e,oe.max=fye,oe.maxBy=hye,oe.mean=pye,oe.meanBy=mye,oe.min=gye,oe.minBy=vye,oe.stubArray=BA,oe.stubFalse=zA,oe.stubObject=nye,oe.stubString=rye,oe.stubTrue=iye,oe.multiply=yye,oe.nth=Rge,oe.noConflict=Kve,oe.noop=FA,oe.now=Jw,oe.pad=bve,oe.padEnd=wve,oe.padStart=xve,oe.parseInt=Sve,oe.random=dve,oe.reduce=P0e,oe.reduceRight=j0e,oe.repeat=Cve,oe.replace=Eve,oe.result=tve,oe.round=bye,oe.runInContext=Le,oe.sample=F0e,oe.size=$0e,oe.snakeCase=kve,oe.some=U0e,oe.sortedIndex=Bge,oe.sortedIndexBy=zge,oe.sortedIndexOf=$ge,oe.sortedLastIndex=Uge,oe.sortedLastIndexBy=Vge,oe.sortedLastIndexOf=Hge,oe.startCase=_ve,oe.startsWith=Mve,oe.subtract=wye,oe.sum=xye,oe.sumBy=Sye,oe.template=Tve,oe.times=aye,oe.toFinite=Sc,oe.toInteger=gn,oe.toLength=fL,oe.toLower=Nve,oe.toNumber=Ws,oe.toSafeInteger=N1e,oe.toString=er,oe.toUpper=Dve,oe.trim=Rve,oe.trimEnd=Ive,oe.trimStart=Ove,oe.truncate=Pve,oe.unescape=jve,oe.uniqueId=sye,oe.upperCase=Lve,oe.upperFirst=OA,oe.each=Xj,oe.eachRight=Zj,oe.first=Kj,LA(oe,function(){var w={};return Su(oe,function(k,R){or.call(oe.prototype,R)||(w[R]=k)}),w}(),{chain:!1}),oe.VERSION=r,zs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(w){oe[w].placeholder=oe}),zs(["drop","take"],function(w,k){Tn.prototype[w]=function(R){R=R===n?1:Fi(gn(R),0);var q=this.__filtered__&&!k?new Tn(this):this.clone();return q.__filtered__?q.__takeCount__=Na(R,q.__takeCount__):q.__views__.push({size:Na(R,K),type:w+(q.__dir__<0?"Right":"")}),q},Tn.prototype[w+"Right"]=function(R){return this.reverse()[w](R).reverse()}}),zs(["filter","map","takeWhile"],function(w,k){var R=k+1,q=R==$||R==D;Tn.prototype[w]=function(J){var fe=this.clone();return fe.__iteratees__.push({iteratee:$t(J,3),type:R}),fe.__filtered__=fe.__filtered__||q,fe}}),zs(["head","last"],function(w,k){var R="take"+(k?"Right":"");Tn.prototype[w]=function(){return this[R](1).value()[0]}}),zs(["initial","tail"],function(w,k){var R="drop"+(k?"":"Right");Tn.prototype[w]=function(){return this.__filtered__?new Tn(this):this[R](1)}}),Tn.prototype.compact=function(){return this.filter(zo)},Tn.prototype.find=function(w){return this.filter(w).head()},Tn.prototype.findLast=function(w){return this.reverse().find(w)},Tn.prototype.invokeMap=Cn(function(w,k){return typeof w=="function"?new Tn(this):this.map(function(R){return xv(R,w,k)})}),Tn.prototype.reject=function(w){return this.filter(Xw($t(w)))},Tn.prototype.slice=function(w,k){w=gn(w);var R=this;return R.__filtered__&&(w>0||k<0)?new Tn(R):(w<0?R=R.takeRight(-w):w&&(R=R.drop(w)),k!==n&&(k=gn(k),R=k<0?R.dropRight(-k):R.take(k-w)),R)},Tn.prototype.takeRightWhile=function(w){return this.reverse().takeWhile(w).reverse()},Tn.prototype.toArray=function(){return this.take(K)},Su(Tn.prototype,function(w,k){var R=/^(?:filter|find|map|reject)|While$/.test(k),q=/^(?:head|last)$/.test(k),J=oe[q?"take"+(k=="last"?"Right":""):k],fe=q||/^find/.test(k);J&&(oe.prototype[k]=function(){var Te=this.__wrapped__,Re=q?[1]:arguments,Be=Te instanceof Tn,Qe=Re[0],Xe=Be||on(Te),tt=function(kn){var In=J.apply(oe,Nd([kn],Re));return q&&vt?In[0]:In};Xe&&R&&typeof Qe=="function"&&Qe.length!=1&&(Be=Xe=!1);var vt=this.__chain__,Rt=!!this.__actions__.length,qt=fe&&!vt,yn=Be&&!Rt;if(!fe&&Xe){Te=yn?Te:new Tn(this);var Wt=w.apply(Te,Re);return Wt.__actions__.push({func:Kw,args:[tt],thisArg:n}),new Us(Wt,vt)}return qt&&yn?w.apply(this,Re):(Wt=this.thru(tt),qt?q?Wt.value()[0]:Wt.value():Wt)})}),zs(["pop","push","shift","sort","splice","unshift"],function(w){var k=ww[w],R=/^(?:push|sort|unshift)$/.test(w)?"tap":"thru",q=/^(?:pop|shift)$/.test(w);oe.prototype[w]=function(){var J=arguments;if(q&&!this.__chain__){var fe=this.value();return k.apply(on(fe)?fe:[],J)}return this[R](function(Te){return k.apply(on(Te)?Te:[],J)})}}),Su(Tn.prototype,function(w,k){var R=oe[k];if(R){var q=R.name+"";or.call(Ym,q)||(Ym[q]=[]),Ym[q].push({name:k,func:R})}}),Ym[$w(n,y).name]=[{name:"wrapper",func:n}],Tn.prototype.clone=jpe,Tn.prototype.reverse=Lpe,Tn.prototype.value=Fpe,oe.prototype.at=h0e,oe.prototype.chain=p0e,oe.prototype.commit=m0e,oe.prototype.next=g0e,oe.prototype.plant=y0e,oe.prototype.reverse=b0e,oe.prototype.toJSON=oe.prototype.valueOf=oe.prototype.value=w0e,oe.prototype.first=oe.prototype.head,pv&&(oe.prototype[pv]=v0e),oe},Wm=mpe();Bh?((Bh.exports=Wm)._=Wm,jk._=Wm):aa._=Wm}).call(go)})(e5,e5.exports);var Cs=e5.exports;const Ze=Rs(Cs);async function _u(e,t){const n=Ze.chunk(t,500);for(const r of n){const i=await dr("vector-db-populate-collection",{collection:"name",type:e,ids:r}),a=await dr("vector-db-populate-collection",{collection:"content",type:e,ids:r});console.log(i,a)}return{chunks:n.length,total:t.length}}async function aie(e,t){let n=(t==null?void 0:t.amount)??1;const r=await dr("vector-db-query-collection",{collection:"name",nResults:t!=null&&t.applyWeights?n+10:n,maxDistance:(t==null?void 0:t.maxDistance)??.35,query:e,where:t!=null&&t.type?{_type:t.type}:void 0});return r?kLe(r,n,t==null?void 0:t.applyWeights).map(i=>i.data):[]}const Kz={trait:.1,action:.1};function kLe(e,t,n){const r=e.sort((i,a)=>{if(n){const o=i.distance+(Kz[`${i.data.type||i.data._type}`]??0),s=a.distance+(Kz[`${a.data.type||a.data._type}`]??0);return o-s}else return i.distance-a.distance});return console.log(r),r.slice(0,t)}function ALe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function iT(e,t){return Array(t+1).join(e)}function _Le(e){return e.replace(/^\n*/,"")}function MLe(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var TLe=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function CR(e){return ER(e,TLe)}var oie=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function sie(e){return ER(e,oie)}function NLe(e){return uie(e,oie)}var lie=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function DLe(e){return ER(e,lie)}function RLe(e){return uie(e,lie)}function ER(e,t){return t.indexOf(e.nodeName)>=0}function uie(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var Za={};Za.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};Za.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};Za.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=iT(r===1?"=":"-",e.length);return`

`+e+`
`+i+`

`}else return`

`+iT("#",r)+" "+e+`

`}};Za.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}};Za.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};Za.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",i=t.parentNode;if(i.nodeName==="OL"){var a=i.getAttribute("start"),o=Array.prototype.indexOf.call(i.children,t);r=(a?Number(a)+o:o+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}};Za.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};Za.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],a=t.firstChild.textContent,o=n.fence.charAt(0),s=3,l=new RegExp("^"+o+"{3,}","gm"),u;u=l.exec(a);)u[0].length>=s&&(s=u[0].length+1);var c=iT(o,s);return`

`+c+i+`
`+a.replace(/\n$/,"")+`
`+c+`

`}};Za.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};Za.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),r=t5(t.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+e+"]("+n+r+")"}};Za.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),i=t5(t.getAttribute("title"));i&&(i=' "'+i+'"');var a,o;switch(n.linkReferenceStyle){case"collapsed":a="["+e+"][]",o="["+e+"]: "+r+i;break;case"shortcut":a="["+e+"]",o="["+e+"]: "+r+i;break;default:var s=this.references.length+1;a="["+e+"]["+s+"]",o="["+s+"]: "+r+i}return this.references.push(o),a},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};Za.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};Za.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};Za.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};Za.image={filter:"img",replacement:function(e,t){var n=t5(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=t5(t.getAttribute("title")),a=i?' "'+i+'"':"";return r?"!["+n+"]("+r+a+")":""}};function t5(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function cie(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}cie.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=Q8(this.array,e,this.options))||(t=Q8(this._keep,e,this.options))||(t=Q8(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function Q8(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(ILe(i,t,n))return i}}function ILe(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function OLe(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(d){return d.nodeName==="PRE"};if(!(!t.firstChild||i(t))){for(var a=null,o=!1,s=null,l=Yz(s,t,i);l!==t;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!a||/ $/.test(a.data))&&!o&&u[0]===" "&&(u=u.substr(1)),!u){l=X8(l);continue}l.data=u,a=l}else if(l.nodeType===1)n(l)||l.nodeName==="BR"?(a&&(a.data=a.data.replace(/ $/,"")),a=null,o=!1):r(l)||i(l)?(a=null,o=!0):a&&(o=!1);else{l=X8(l);continue}var c=Yz(s,l,i);s=l,l=c}a&&(a.data=a.data.replace(/ $/,""),a.data||X8(a))}}function X8(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function Yz(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var die=typeof window<"u"?window:{};function PLe(){var e=die.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function jLe(){var e=function(){};return LLe()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function LLe(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{window.ActiveXObject&&(e=!0)}return e}var FLe=PLe()?die.DOMParser:jLe();function BLe(e,t){var n;if(typeof e=="string"){var r=zLe().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return OLe({element:n,isBlock:CR,isVoid:sie,isPre:t.preformattedCode?$Le:null}),n}var Z8;function zLe(){return Z8=Z8||new FLe,Z8}function $Le(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function ULe(e,t){return e.isBlock=CR(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=VLe(e),e.flankingWhitespace=HLe(e,t),e}function VLe(e){return!sie(e)&&!DLe(e)&&/^\s*$/i.test(e.textContent)&&!NLe(e)&&!RLe(e)}function HLe(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=qLe(e.textContent);return n.leadingAscii&&Jz("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&Jz("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function qLe(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function Jz(e,t,n){var r,i,a;return e==="left"?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(r.nodeType===3?a=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?a=!1:r.nodeType===1&&!CR(r)&&(a=i.test(r.textContent))),a}var WLe=Array.prototype.reduce,GLe=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function n5(e){if(!(this instanceof n5))return new n5(e);var t={rules:Za,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=ALe({},t,e),this.rules=new cie(this.options)}n5.prototype={turndown:function(e){if(!JLe(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=fie.call(this,new BLe(e,this.options));return KLe.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return GLe.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function fie(e){var t=this;return WLe.call(e.childNodes,function(n,r){r=new ULe(r,t.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(i=YLe.call(t,r)),hie(n,i)},"")}function KLe(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=hie(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function YLe(e){var t=this.rules.forNode(e),n=fie.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function hie(e,t){var n=MLe(e),r=_Le(t),i=Math.max(e.length-n.length,t.length-r.length),a=`

`.substring(0,i);return n+a+r}function JLe(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}var pie={exports:{}};(function(e){(function(){function t(v){var C={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(v===!1)return JSON.parse(JSON.stringify(C));var b={};for(var A in C)C.hasOwnProperty(A)&&(b[A]=C[A].defaultValue);return b}function n(){var v=t(!0),C={};for(var b in v)v.hasOwnProperty(b)&&(C[b]=!0);return C}var r={},i={},a={},o=t(!0),s="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(v,C){return o[v]=C,this},r.getOption=function(v){return o[v]},r.getOptions=function(){return o},r.resetOptions=function(){o=t(!0)},r.setFlavor=function(v){if(!l.hasOwnProperty(v))throw Error(v+" flavor was not found");r.resetOptions();var C=l[v];s=v;for(var b in C)C.hasOwnProperty(b)&&(o[b]=C[b])},r.getFlavor=function(){return s},r.getFlavorOptions=function(v){if(l.hasOwnProperty(v))return l[v]},r.getDefaultOptions=function(v){return t(v)},r.subParser=function(v,C){if(r.helper.isString(v))if(typeof C<"u")i[v]=C;else{if(i.hasOwnProperty(v))return i[v];throw Error("SubParser named "+v+" not registered!")}},r.extension=function(v,C){if(!r.helper.isString(v))throw Error("Extension 'name' must be a string");if(v=r.helper.stdExtName(v),r.helper.isUndefined(C)){if(!a.hasOwnProperty(v))throw Error("Extension named "+v+" is not registered!");return a[v]}else{typeof C=="function"&&(C=C()),r.helper.isArray(C)||(C=[C]);var b=u(C,v);if(b.valid)a[v]=C;else throw Error(b.error)}},r.getAllExtensions=function(){return a},r.removeExtension=function(v){delete a[v]},r.resetExtensions=function(){a={}};function u(v,C){var b=C?"Error in "+C+" extension->":"Error in unnamed extension",A={valid:!0,error:""};r.helper.isArray(v)||(v=[v]);for(var _=0;_<v.length;++_){var T=b+" sub-extension "+_+": ",M=v[_];if(typeof M!="object")return A.valid=!1,A.error=T+"must be an object, but "+typeof M+" given",A;if(!r.helper.isString(M.type))return A.valid=!1,A.error=T+'property "type" must be a string, but '+typeof M.type+" given",A;var N=M.type=M.type.toLowerCase();if(N==="language"&&(N=M.type="lang"),N==="html"&&(N=M.type="output"),N!=="lang"&&N!=="output"&&N!=="listener")return A.valid=!1,A.error=T+"type "+N+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',A;if(N==="listener"){if(r.helper.isUndefined(M.listeners))return A.valid=!1,A.error=T+'. Extensions of type "listener" must have a property called "listeners"',A}else if(r.helper.isUndefined(M.filter)&&r.helper.isUndefined(M.regex))return A.valid=!1,A.error=T+N+' extensions must define either a "regex" property or a "filter" method',A;if(M.listeners){if(typeof M.listeners!="object")return A.valid=!1,A.error=T+'"listeners" property must be an object but '+typeof M.listeners+" given",A;for(var I in M.listeners)if(M.listeners.hasOwnProperty(I)&&typeof M.listeners[I]!="function")return A.valid=!1,A.error=T+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+I+" must be a function but "+typeof M.listeners[I]+" given",A}if(M.filter){if(typeof M.filter!="function")return A.valid=!1,A.error=T+'"filter" must be a function, but '+typeof M.filter+" given",A}else if(M.regex){if(r.helper.isString(M.regex)&&(M.regex=new RegExp(M.regex,"g")),!(M.regex instanceof RegExp))return A.valid=!1,A.error=T+'"regex" property must either be a string or a RegExp object, but '+typeof M.regex+" given",A;if(r.helper.isUndefined(M.replace))return A.valid=!1,A.error=T+'"regex" extensions must implement a replace string or function',A}}return A}r.validateExtension=function(v){var C=u(v,null);return C.valid?!0:(console.warn(C.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(v){return typeof v=="string"||v instanceof String},r.helper.isFunction=function(v){var C={};return v&&C.toString.call(v)==="[object Function]"},r.helper.isArray=function(v){return Array.isArray(v)},r.helper.isUndefined=function(v){return typeof v>"u"},r.helper.forEach=function(v,C){if(r.helper.isUndefined(v))throw new Error("obj param is required");if(r.helper.isUndefined(C))throw new Error("callback param is required");if(!r.helper.isFunction(C))throw new Error("callback param must be a function/closure");if(typeof v.forEach=="function")v.forEach(C);else if(r.helper.isArray(v))for(var b=0;b<v.length;b++)C(v[b],b,v);else if(typeof v=="object")for(var A in v)v.hasOwnProperty(A)&&C(v[A],A,v);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(v){return v.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function c(v,C){var b=C.charCodeAt(0);return"¨E"+b+"E"}r.helper.escapeCharactersCallback=c,r.helper.escapeCharacters=function(v,C,b){var A="(["+C.replace(/([\[\]\\])/g,"\\$1")+"])";b&&(A="\\\\"+A);var _=new RegExp(A,"g");return v=v.replace(_,c),v},r.helper.unescapeHTMLEntities=function(v){return v.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var d=function(v,C,b,A){var _=A||"",T=_.indexOf("g")>-1,M=new RegExp(C+"|"+b,"g"+_.replace(/g/g,"")),N=new RegExp(C,_.replace(/g/g,"")),I=[],F,$,z,D,P;do for(F=0;z=M.exec(v);)if(N.test(z[0]))F++||($=M.lastIndex,D=$-z[0].length);else if(F&&!--F){P=z.index+z[0].length;var V={left:{start:D,end:$},match:{start:$,end:z.index},right:{start:z.index,end:P},wholeMatch:{start:D,end:P}};if(I.push(V),!T)return I}while(F&&(M.lastIndex=$));return I};r.helper.matchRecursiveRegExp=function(v,C,b,A){for(var _=d(v,C,b,A),T=[],M=0;M<_.length;++M)T.push([v.slice(_[M].wholeMatch.start,_[M].wholeMatch.end),v.slice(_[M].match.start,_[M].match.end),v.slice(_[M].left.start,_[M].left.end),v.slice(_[M].right.start,_[M].right.end)]);return T},r.helper.replaceRecursiveRegExp=function(v,C,b,A,_){if(!r.helper.isFunction(C)){var T=C;C=function(){return T}}var M=d(v,b,A,_),N=v,I=M.length;if(I>0){var F=[];M[0].wholeMatch.start!==0&&F.push(v.slice(0,M[0].wholeMatch.start));for(var $=0;$<I;++$)F.push(C(v.slice(M[$].wholeMatch.start,M[$].wholeMatch.end),v.slice(M[$].match.start,M[$].match.end),v.slice(M[$].left.start,M[$].left.end),v.slice(M[$].right.start,M[$].right.end))),$<I-1&&F.push(v.slice(M[$].wholeMatch.end,M[$+1].wholeMatch.start));M[I-1].wholeMatch.end<v.length&&F.push(v.slice(M[I-1].wholeMatch.end)),N=F.join("")}return N},r.helper.regexIndexOf=function(v,C,b){if(!r.helper.isString(v))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(C instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var A=v.substring(b||0).search(C);return A>=0?A+(b||0):A},r.helper.splitAtIndex=function(v,C){if(!r.helper.isString(v))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[v.substring(0,C),v.substring(C)]},r.helper.encodeEmailAddress=function(v){var C=[function(b){return"&#"+b.charCodeAt(0)+";"},function(b){return"&#x"+b.charCodeAt(0).toString(16)+";"},function(b){return b}];return v=v.replace(/./g,function(b){if(b==="@")b=C[Math.floor(Math.random()*2)](b);else{var A=Math.random();b=A>.9?C[2](b):A>.45?C[1](b):C[0](b)}return b}),v},r.helper.padEnd=function(C,b,A){return b=b>>0,A=String(A||" "),C.length>b?String(C):(b=b-C.length,b>A.length&&(A+=A.repeat(b/A.length)),String(C)+A.slice(0,b))},typeof console>"u"&&(console={warn:function(v){alert(v)},log:function(v){alert(v)},error:function(v){throw v}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(v){var C={},b=[],A=[],_={},T=s,M={parsed:{},raw:"",format:""};N();function N(){v=v||{};for(var D in o)o.hasOwnProperty(D)&&(C[D]=o[D]);if(typeof v=="object")for(var P in v)v.hasOwnProperty(P)&&(C[P]=v[P]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof v+" was passed instead.");C.extensions&&r.helper.forEach(C.extensions,I)}function I(D,P){if(P=P||null,r.helper.isString(D))if(D=r.helper.stdExtName(D),P=D,r.extensions[D]){console.warn("DEPRECATION WARNING: "+D+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),F(r.extensions[D],D);return}else if(!r.helper.isUndefined(a[D]))D=a[D];else throw Error('Extension "'+D+'" could not be loaded. It was either not found or is not a valid extension.');typeof D=="function"&&(D=D()),r.helper.isArray(D)||(D=[D]);var V=u(D,P);if(!V.valid)throw Error(V.error);for(var B=0;B<D.length;++B){switch(D[B].type){case"lang":b.push(D[B]);break;case"output":A.push(D[B]);break}if(D[B].hasOwnProperty("listeners"))for(var H in D[B].listeners)D[B].listeners.hasOwnProperty(H)&&$(H,D[B].listeners[H])}}function F(D,P){typeof D=="function"&&(D=D(new r.Converter)),r.helper.isArray(D)||(D=[D]);var V=u(D,P);if(!V.valid)throw Error(V.error);for(var B=0;B<D.length;++B)switch(D[B].type){case"lang":b.push(D[B]);break;case"output":A.push(D[B]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function $(D,P){if(!r.helper.isString(D))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof D+" given");if(typeof P!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof P+" given");_.hasOwnProperty(D)||(_[D]=[]),_[D].push(P)}function z(D){var P=D.match(/^\s*/)[0].length,V=new RegExp("^\\s{0,"+P+"}","gm");return D.replace(V,"")}this._dispatch=function(P,V,B,H){if(_.hasOwnProperty(P))for(var K=0;K<_[P].length;++K){var W=_[P][K](P,V,this,B,H);W&&typeof W<"u"&&(V=W)}return V},this.listen=function(D,P){return $(D,P),this},this.makeHtml=function(D){if(!D)return D;var P={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:b,outputModifiers:A,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return D=D.replace(/¨/g,"¨T"),D=D.replace(/\$/g,"¨D"),D=D.replace(/\r\n/g,`
`),D=D.replace(/\r/g,`
`),D=D.replace(/\u00A0/g,"&nbsp;"),C.smartIndentationFix&&(D=z(D)),D=`

`+D+`

`,D=r.subParser("detab")(D,C,P),D=D.replace(/^[ \t]+$/mg,""),r.helper.forEach(b,function(V){D=r.subParser("runExtension")(V,D,C,P)}),D=r.subParser("metadata")(D,C,P),D=r.subParser("hashPreCodeTags")(D,C,P),D=r.subParser("githubCodeBlocks")(D,C,P),D=r.subParser("hashHTMLBlocks")(D,C,P),D=r.subParser("hashCodeTags")(D,C,P),D=r.subParser("stripLinkDefinitions")(D,C,P),D=r.subParser("blockGamut")(D,C,P),D=r.subParser("unhashHTMLSpans")(D,C,P),D=r.subParser("unescapeSpecialChars")(D,C,P),D=D.replace(/¨D/g,"$$"),D=D.replace(/¨T/g,"¨"),D=r.subParser("completeHTMLDocument")(D,C,P),r.helper.forEach(A,function(V){D=r.subParser("runExtension")(V,D,C,P)}),M=P.metadata,D},this.makeMarkdown=this.makeMd=function(D,P){if(D=D.replace(/\r\n/g,`
`),D=D.replace(/\r/g,`
`),D=D.replace(/>[ \t]+</,">¨NBSP;<"),!P)if(window&&window.document)P=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var V=P.createElement("div");V.innerHTML=D;var B={preList:G(V)};L(V);for(var H=V.childNodes,K="",W=0;W<H.length;W++)K+=r.subParser("makeMarkdown.node")(H[W],B);function L(de){for(var Q=0;Q<de.childNodes.length;++Q){var ee=de.childNodes[Q];ee.nodeType===3?!/\S/.test(ee.nodeValue)&&!/^[ ]+$/.test(ee.nodeValue)?(de.removeChild(ee),--Q):(ee.nodeValue=ee.nodeValue.split(`
`).join(" "),ee.nodeValue=ee.nodeValue.replace(/(\s)+/g,"$1")):ee.nodeType===1&&L(ee)}}function G(de){for(var Q=de.querySelectorAll("pre"),ee=[],ne=0;ne<Q.length;++ne)if(Q[ne].childElementCount===1&&Q[ne].firstChild.tagName.toLowerCase()==="code"){var se=Q[ne].firstChild.innerHTML.trim(),ge=Q[ne].firstChild.getAttribute("data-language")||"";if(ge==="")for(var xe=Q[ne].firstChild.className.split(" "),we=0;we<xe.length;++we){var _e=xe[we].match(/^language-(.+)$/);if(_e!==null){ge=_e[1];break}}se=r.helper.unescapeHTMLEntities(se),ee.push(se),Q[ne].outerHTML='<precode language="'+ge+'" precodenum="'+ne.toString()+'"></precode>'}else ee.push(Q[ne].innerHTML),Q[ne].innerHTML="",Q[ne].setAttribute("prenum",ne.toString());return ee}return K},this.setOption=function(D,P){C[D]=P},this.getOption=function(D){return C[D]},this.getOptions=function(){return C},this.addExtension=function(D,P){P=P||null,I(D,P)},this.useExtension=function(D){I(D)},this.setFlavor=function(D){if(!l.hasOwnProperty(D))throw Error(D+" flavor was not found");var P=l[D];T=D;for(var V in P)P.hasOwnProperty(V)&&(C[V]=P[V])},this.getFlavor=function(){return T},this.removeExtension=function(D){r.helper.isArray(D)||(D=[D]);for(var P=0;P<D.length;++P){for(var V=D[P],B=0;B<b.length;++B)b[B]===V&&b.splice(B,1);for(var H=0;H<A.length;++H)A[H]===V&&A.splice(H,1)}},this.getAllExtensions=function(){return{language:b,output:A}},this.getMetadata=function(D){return D?M.raw:M.parsed},this.getMetadataFormat=function(){return M.format},this._setMetadataPair=function(D,P){M.parsed[D]=P},this._setMetadataFormat=function(D){M.format=D},this._setMetadataRaw=function(D){M.raw=D}},r.subParser("anchors",function(v,C,b){v=b.converter._dispatch("anchors.before",v,C,b);var A=function(_,T,M,N,I,F,$){if(r.helper.isUndefined($)&&($=""),M=M.toLowerCase(),_.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)N="";else if(!N)if(M||(M=T.toLowerCase().replace(/ ?\n/g," ")),N="#"+M,!r.helper.isUndefined(b.gUrls[M]))N=b.gUrls[M],r.helper.isUndefined(b.gTitles[M])||($=b.gTitles[M]);else return _;N=N.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var z='<a href="'+N+'"';return $!==""&&$!==null&&($=$.replace(/"/g,"&quot;"),$=$.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),z+=' title="'+$+'"'),C.openLinksInNewWindow&&!/^#/.test(N)&&(z+=' rel="noopener noreferrer" target="¨E95Eblank"'),z+=">"+T+"</a>",z};return v=v.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,A),v=v.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,A),v=v.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,A),v=v.replace(/\[([^\[\]]+)]()()()()()/g,A),C.ghMentions&&(v=v.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(_,T,M,N,I){if(M==="\\")return T+N;if(!r.helper.isString(C.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var F=C.ghMentionsLink.replace(/\{u}/g,I),$="";return C.openLinksInNewWindow&&($=' rel="noopener noreferrer" target="¨E95Eblank"'),T+'<a href="'+F+'"'+$+">"+N+"</a>"})),v=b.converter._dispatch("anchors.after",v,C,b),v});var f=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,h=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,m=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,g=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,S=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,y=function(v){return function(C,b,A,_,T,M,N){A=A.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var I=A,F="",$="",z=b||"",D=N||"";return/^www\./i.test(A)&&(A=A.replace(/^www\./i,"http://www.")),v.excludeTrailingPunctuationFromURLs&&M&&(F=M),v.openLinksInNewWindow&&($=' rel="noopener noreferrer" target="¨E95Eblank"'),z+'<a href="'+A+'"'+$+">"+I+"</a>"+F+D}},E=function(v,C){return function(b,A,_){var T="mailto:";return A=A||"",_=r.subParser("unescapeSpecialChars")(_,v,C),v.encodeEmails?(T=r.helper.encodeEmailAddress(T+_),_=r.helper.encodeEmailAddress(_)):T=T+_,A+'<a href="'+T+'">'+_+"</a>"}};r.subParser("autoLinks",function(v,C,b){return v=b.converter._dispatch("autoLinks.before",v,C,b),v=v.replace(m,y(C)),v=v.replace(S,E(C,b)),v=b.converter._dispatch("autoLinks.after",v,C,b),v}),r.subParser("simplifiedAutoLinks",function(v,C,b){return C.simplifiedAutoLink&&(v=b.converter._dispatch("simplifiedAutoLinks.before",v,C,b),C.excludeTrailingPunctuationFromURLs?v=v.replace(h,y(C)):v=v.replace(f,y(C)),v=v.replace(g,E(C,b)),v=b.converter._dispatch("simplifiedAutoLinks.after",v,C,b)),v}),r.subParser("blockGamut",function(v,C,b){return v=b.converter._dispatch("blockGamut.before",v,C,b),v=r.subParser("blockQuotes")(v,C,b),v=r.subParser("headers")(v,C,b),v=r.subParser("horizontalRule")(v,C,b),v=r.subParser("lists")(v,C,b),v=r.subParser("codeBlocks")(v,C,b),v=r.subParser("tables")(v,C,b),v=r.subParser("hashHTMLBlocks")(v,C,b),v=r.subParser("paragraphs")(v,C,b),v=b.converter._dispatch("blockGamut.after",v,C,b),v}),r.subParser("blockQuotes",function(v,C,b){v=b.converter._dispatch("blockQuotes.before",v,C,b),v=v+`

`;var A=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return C.splitAdjacentBlockquotes&&(A=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),v=v.replace(A,function(_){return _=_.replace(/^[ \t]*>[ \t]?/gm,""),_=_.replace(/¨0/g,""),_=_.replace(/^[ \t]+$/gm,""),_=r.subParser("githubCodeBlocks")(_,C,b),_=r.subParser("blockGamut")(_,C,b),_=_.replace(/(^|\n)/g,"$1  "),_=_.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(T,M){var N=M;return N=N.replace(/^  /mg,"¨0"),N=N.replace(/¨0/g,""),N}),r.subParser("hashBlock")(`<blockquote>
`+_+`
</blockquote>`,C,b)}),v=b.converter._dispatch("blockQuotes.after",v,C,b),v}),r.subParser("codeBlocks",function(v,C,b){v=b.converter._dispatch("codeBlocks.before",v,C,b),v+="¨0";var A=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return v=v.replace(A,function(_,T,M){var N=T,I=M,F=`
`;return N=r.subParser("outdent")(N,C,b),N=r.subParser("encodeCode")(N,C,b),N=r.subParser("detab")(N,C,b),N=N.replace(/^\n+/g,""),N=N.replace(/\n+$/g,""),C.omitExtraWLInCodeBlocks&&(F=""),N="<pre><code>"+N+F+"</code></pre>",r.subParser("hashBlock")(N,C,b)+I}),v=v.replace(/¨0/,""),v=b.converter._dispatch("codeBlocks.after",v,C,b),v}),r.subParser("codeSpans",function(v,C,b){return v=b.converter._dispatch("codeSpans.before",v,C,b),typeof v>"u"&&(v=""),v=v.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(A,_,T,M){var N=M;return N=N.replace(/^([ \t]*)/g,""),N=N.replace(/[ \t]*$/g,""),N=r.subParser("encodeCode")(N,C,b),N=_+"<code>"+N+"</code>",N=r.subParser("hashHTMLSpans")(N,C,b),N}),v=b.converter._dispatch("codeSpans.after",v,C,b),v}),r.subParser("completeHTMLDocument",function(v,C,b){if(!C.completeHTMLDocument)return v;v=b.converter._dispatch("completeHTMLDocument.before",v,C,b);var A="html",_=`<!DOCTYPE HTML>
`,T="",M=`<meta charset="utf-8">
`,N="",I="";typeof b.metadata.parsed.doctype<"u"&&(_="<!DOCTYPE "+b.metadata.parsed.doctype+`>
`,A=b.metadata.parsed.doctype.toString().toLowerCase(),(A==="html"||A==="html5")&&(M='<meta charset="utf-8">'));for(var F in b.metadata.parsed)if(b.metadata.parsed.hasOwnProperty(F))switch(F.toLowerCase()){case"doctype":break;case"title":T="<title>"+b.metadata.parsed.title+`</title>
`;break;case"charset":A==="html"||A==="html5"?M='<meta charset="'+b.metadata.parsed.charset+`">
`:M='<meta name="charset" content="'+b.metadata.parsed.charset+`">
`;break;case"language":case"lang":N=' lang="'+b.metadata.parsed[F]+'"',I+='<meta name="'+F+'" content="'+b.metadata.parsed[F]+`">
`;break;default:I+='<meta name="'+F+'" content="'+b.metadata.parsed[F]+`">
`}return v=_+"<html"+N+`>
<head>
`+T+M+I+`</head>
<body>
`+v.trim()+`
</body>
</html>`,v=b.converter._dispatch("completeHTMLDocument.after",v,C,b),v}),r.subParser("detab",function(v,C,b){return v=b.converter._dispatch("detab.before",v,C,b),v=v.replace(/\t(?=\t)/g,"    "),v=v.replace(/\t/g,"¨A¨B"),v=v.replace(/¨B(.+?)¨A/g,function(A,_){for(var T=_,M=4-T.length%4,N=0;N<M;N++)T+=" ";return T}),v=v.replace(/¨A/g,"    "),v=v.replace(/¨B/g,""),v=b.converter._dispatch("detab.after",v,C,b),v}),r.subParser("ellipsis",function(v,C,b){return C.ellipsis&&(v=b.converter._dispatch("ellipsis.before",v,C,b),v=v.replace(/\.\.\./g,"…"),v=b.converter._dispatch("ellipsis.after",v,C,b)),v}),r.subParser("emoji",function(v,C,b){if(!C.emoji)return v;v=b.converter._dispatch("emoji.before",v,C,b);var A=/:([\S]+?):/g;return v=v.replace(A,function(_,T){return r.helper.emojis.hasOwnProperty(T)?r.helper.emojis[T]:_}),v=b.converter._dispatch("emoji.after",v,C,b),v}),r.subParser("encodeAmpsAndAngles",function(v,C,b){return v=b.converter._dispatch("encodeAmpsAndAngles.before",v,C,b),v=v.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),v=v.replace(/<(?![a-z\/?$!])/gi,"&lt;"),v=v.replace(/</g,"&lt;"),v=v.replace(/>/g,"&gt;"),v=b.converter._dispatch("encodeAmpsAndAngles.after",v,C,b),v}),r.subParser("encodeBackslashEscapes",function(v,C,b){return v=b.converter._dispatch("encodeBackslashEscapes.before",v,C,b),v=v.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),v=v.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,r.helper.escapeCharactersCallback),v=b.converter._dispatch("encodeBackslashEscapes.after",v,C,b),v}),r.subParser("encodeCode",function(v,C,b){return v=b.converter._dispatch("encodeCode.before",v,C,b),v=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),v=b.converter._dispatch("encodeCode.after",v,C,b),v}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(v,C,b){v=b.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",v,C,b);var A=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,_=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return v=v.replace(A,function(T){return T.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),v=v.replace(_,function(T){return T.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),v=b.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",v,C,b),v}),r.subParser("githubCodeBlocks",function(v,C,b){return C.ghCodeBlocks?(v=b.converter._dispatch("githubCodeBlocks.before",v,C,b),v+="¨0",v=v.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(A,_,T,M){var N=C.omitExtraWLInCodeBlocks?"":`
`;return M=r.subParser("encodeCode")(M,C,b),M=r.subParser("detab")(M,C,b),M=M.replace(/^\n+/g,""),M=M.replace(/\n+$/g,""),M="<pre><code"+(T?' class="'+T+" language-"+T+'"':"")+">"+M+N+"</code></pre>",M=r.subParser("hashBlock")(M,C,b),`

¨G`+(b.ghCodeBlocks.push({text:A,codeblock:M})-1)+`G

`}),v=v.replace(/¨0/,""),b.converter._dispatch("githubCodeBlocks.after",v,C,b)):v}),r.subParser("hashBlock",function(v,C,b){return v=b.converter._dispatch("hashBlock.before",v,C,b),v=v.replace(/(^\n+|\n+$)/g,""),v=`

¨K`+(b.gHtmlBlocks.push(v)-1)+`K

`,v=b.converter._dispatch("hashBlock.after",v,C,b),v}),r.subParser("hashCodeTags",function(v,C,b){v=b.converter._dispatch("hashCodeTags.before",v,C,b);var A=function(_,T,M,N){var I=M+r.subParser("encodeCode")(T,C,b)+N;return"¨C"+(b.gHtmlSpans.push(I)-1)+"C"};return v=r.helper.replaceRecursiveRegExp(v,A,"<code\\b[^>]*>","</code>","gim"),v=b.converter._dispatch("hashCodeTags.after",v,C,b),v}),r.subParser("hashElement",function(v,C,b){return function(A,_){var T=_;return T=T.replace(/\n\n/g,`
`),T=T.replace(/^\n/,""),T=T.replace(/\n+$/g,""),T=`

¨K`+(b.gHtmlBlocks.push(T)-1)+`K

`,T}}),r.subParser("hashHTMLBlocks",function(v,C,b){v=b.converter._dispatch("hashHTMLBlocks.before",v,C,b);var A=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],_=function(D,P,V,B){var H=D;return V.search(/\bmarkdown\b/)!==-1&&(H=V+b.converter.makeHtml(P)+B),`

¨K`+(b.gHtmlBlocks.push(H)-1)+`K

`};C.backslashEscapesHTMLTags&&(v=v.replace(/\\<(\/?[^>]+?)>/g,function(D,P){return"&lt;"+P+"&gt;"}));for(var T=0;T<A.length;++T)for(var M,N=new RegExp("^ {0,3}(<"+A[T]+"\\b[^>]*>)","im"),I="<"+A[T]+"\\b[^>]*>",F="</"+A[T]+">";(M=r.helper.regexIndexOf(v,N))!==-1;){var $=r.helper.splitAtIndex(v,M),z=r.helper.replaceRecursiveRegExp($[1],_,I,F,"im");if(z===$[1])break;v=$[0].concat(z)}return v=v.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(v,C,b)),v=r.helper.replaceRecursiveRegExp(v,function(D){return`

¨K`+(b.gHtmlBlocks.push(D)-1)+`K

`},"^ {0,3}<!--","-->","gm"),v=v.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(v,C,b)),v=b.converter._dispatch("hashHTMLBlocks.after",v,C,b),v}),r.subParser("hashHTMLSpans",function(v,C,b){v=b.converter._dispatch("hashHTMLSpans.before",v,C,b);function A(_){return"¨C"+(b.gHtmlSpans.push(_)-1)+"C"}return v=v.replace(/<[^>]+?\/>/gi,function(_){return A(_)}),v=v.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(_){return A(_)}),v=v.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(_){return A(_)}),v=v.replace(/<[^>]+?>/gi,function(_){return A(_)}),v=b.converter._dispatch("hashHTMLSpans.after",v,C,b),v}),r.subParser("unhashHTMLSpans",function(v,C,b){v=b.converter._dispatch("unhashHTMLSpans.before",v,C,b);for(var A=0;A<b.gHtmlSpans.length;++A){for(var _=b.gHtmlSpans[A],T=0;/¨C(\d+)C/.test(_);){var M=RegExp.$1;if(_=_.replace("¨C"+M+"C",b.gHtmlSpans[M]),T===10){console.error("maximum nesting of 10 spans reached!!!");break}++T}v=v.replace("¨C"+A+"C",_)}return v=b.converter._dispatch("unhashHTMLSpans.after",v,C,b),v}),r.subParser("hashPreCodeTags",function(v,C,b){v=b.converter._dispatch("hashPreCodeTags.before",v,C,b);var A=function(_,T,M,N){var I=M+r.subParser("encodeCode")(T,C,b)+N;return`

¨G`+(b.ghCodeBlocks.push({text:_,codeblock:I})-1)+`G

`};return v=r.helper.replaceRecursiveRegExp(v,A,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),v=b.converter._dispatch("hashPreCodeTags.after",v,C,b),v}),r.subParser("headers",function(v,C,b){v=b.converter._dispatch("headers.before",v,C,b);var A=isNaN(parseInt(C.headerLevelStart))?1:parseInt(C.headerLevelStart),_=C.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,T=C.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;v=v.replace(_,function(I,F){var $=r.subParser("spanGamut")(F,C,b),z=C.noHeaderId?"":' id="'+N(F)+'"',D=A,P="<h"+D+z+">"+$+"</h"+D+">";return r.subParser("hashBlock")(P,C,b)}),v=v.replace(T,function(I,F){var $=r.subParser("spanGamut")(F,C,b),z=C.noHeaderId?"":' id="'+N(F)+'"',D=A+1,P="<h"+D+z+">"+$+"</h"+D+">";return r.subParser("hashBlock")(P,C,b)});var M=C.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;v=v.replace(M,function(I,F,$){var z=$;C.customizedHeaderId&&(z=$.replace(/\s?\{([^{]+?)}\s*$/,""));var D=r.subParser("spanGamut")(z,C,b),P=C.noHeaderId?"":' id="'+N($)+'"',V=A-1+F.length,B="<h"+V+P+">"+D+"</h"+V+">";return r.subParser("hashBlock")(B,C,b)});function N(I){var F,$;if(C.customizedHeaderId){var z=I.match(/\{([^{]+?)}\s*$/);z&&z[1]&&(I=z[1])}return F=I,r.helper.isString(C.prefixHeaderId)?$=C.prefixHeaderId:C.prefixHeaderId===!0?$="section-":$="",C.rawPrefixHeaderId||(F=$+F),C.ghCompatibleHeaderId?F=F.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():C.rawHeaderId?F=F.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():F=F.replace(/[^\w]/g,"").toLowerCase(),C.rawPrefixHeaderId&&(F=$+F),b.hashLinkCounts[F]?F=F+"-"+b.hashLinkCounts[F]++:b.hashLinkCounts[F]=1,F}return v=b.converter._dispatch("headers.after",v,C,b),v}),r.subParser("horizontalRule",function(v,C,b){v=b.converter._dispatch("horizontalRule.before",v,C,b);var A=r.subParser("hashBlock")("<hr />",C,b);return v=v.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,A),v=v.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,A),v=v.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,A),v=b.converter._dispatch("horizontalRule.after",v,C,b),v}),r.subParser("images",function(v,C,b){v=b.converter._dispatch("images.before",v,C,b);var A=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,_=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,T=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,M=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,N=/!\[([^\[\]]+)]()()()()()/g;function I($,z,D,P,V,B,H,K){return P=P.replace(/\s/g,""),F($,z,D,P,V,B,H,K)}function F($,z,D,P,V,B,H,K){var W=b.gUrls,L=b.gTitles,G=b.gDimensions;if(D=D.toLowerCase(),K||(K=""),$.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)P="";else if(P===""||P===null)if((D===""||D===null)&&(D=z.toLowerCase().replace(/ ?\n/g," ")),P="#"+D,!r.helper.isUndefined(W[D]))P=W[D],r.helper.isUndefined(L[D])||(K=L[D]),r.helper.isUndefined(G[D])||(V=G[D].width,B=G[D].height);else return $;z=z.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),P=P.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var de='<img src="'+P+'" alt="'+z+'"';return K&&r.helper.isString(K)&&(K=K.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),de+=' title="'+K+'"'),V&&B&&(V=V==="*"?"auto":V,B=B==="*"?"auto":B,de+=' width="'+V+'"',de+=' height="'+B+'"'),de+=" />",de}return v=v.replace(M,F),v=v.replace(T,I),v=v.replace(_,F),v=v.replace(A,F),v=v.replace(N,F),v=b.converter._dispatch("images.after",v,C,b),v}),r.subParser("italicsAndBold",function(v,C,b){v=b.converter._dispatch("italicsAndBold.before",v,C,b);function A(_,T,M){return T+_+M}return C.literalMidWordUnderscores?(v=v.replace(/\b___(\S[\s\S]*?)___\b/g,function(_,T){return A(T,"<strong><em>","</em></strong>")}),v=v.replace(/\b__(\S[\s\S]*?)__\b/g,function(_,T){return A(T,"<strong>","</strong>")}),v=v.replace(/\b_(\S[\s\S]*?)_\b/g,function(_,T){return A(T,"<em>","</em>")})):(v=v.replace(/___(\S[\s\S]*?)___/g,function(_,T){return/\S$/.test(T)?A(T,"<strong><em>","</em></strong>"):_}),v=v.replace(/__(\S[\s\S]*?)__/g,function(_,T){return/\S$/.test(T)?A(T,"<strong>","</strong>"):_}),v=v.replace(/_([^\s_][\s\S]*?)_/g,function(_,T){return/\S$/.test(T)?A(T,"<em>","</em>"):_})),C.literalMidWordAsterisks?(v=v.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(_,T,M){return A(M,T+"<strong><em>","</em></strong>")}),v=v.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(_,T,M){return A(M,T+"<strong>","</strong>")}),v=v.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(_,T,M){return A(M,T+"<em>","</em>")})):(v=v.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(_,T){return/\S$/.test(T)?A(T,"<strong><em>","</em></strong>"):_}),v=v.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(_,T){return/\S$/.test(T)?A(T,"<strong>","</strong>"):_}),v=v.replace(/\*([^\s*][\s\S]*?)\*/g,function(_,T){return/\S$/.test(T)?A(T,"<em>","</em>"):_})),v=b.converter._dispatch("italicsAndBold.after",v,C,b),v}),r.subParser("lists",function(v,C,b){function A(M,N){b.gListLevel++,M=M.replace(/\n{2,}$/,`
`),M+="¨0";var I=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,F=/\n[ \t]*\n(?!¨0)/.test(M);return C.disableForced4SpacesIndentedSublists&&(I=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),M=M.replace(I,function($,z,D,P,V,B,H){H=H&&H.trim()!=="";var K=r.subParser("outdent")(V,C,b),W="";return B&&C.tasklists&&(W=' class="task-list-item" style="list-style-type: none;"',K=K.replace(/^[ \t]*\[(x|X| )?]/m,function(){var L='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return H&&(L+=" checked"),L+=">",L})),K=K.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(L){return"¨A"+L}),z||K.search(/\n{2,}/)>-1?(K=r.subParser("githubCodeBlocks")(K,C,b),K=r.subParser("blockGamut")(K,C,b)):(K=r.subParser("lists")(K,C,b),K=K.replace(/\n$/,""),K=r.subParser("hashHTMLBlocks")(K,C,b),K=K.replace(/\n\n+/g,`

`),F?K=r.subParser("paragraphs")(K,C,b):K=r.subParser("spanGamut")(K,C,b)),K=K.replace("¨A",""),K="<li"+W+">"+K+`</li>
`,K}),M=M.replace(/¨0/g,""),b.gListLevel--,N&&(M=M.replace(/\s+$/,"")),M}function _(M,N){if(N==="ol"){var I=M.match(/^ *(\d+)\./);if(I&&I[1]!=="1")return' start="'+I[1]+'"'}return""}function T(M,N,I){var F=C.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,$=C.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,z=N==="ul"?F:$,D="";if(M.search(z)!==-1)(function V(B){var H=B.search(z),K=_(M,N);H!==-1?(D+=`

<`+N+K+`>
`+A(B.slice(0,H),!!I)+"</"+N+`>
`,N=N==="ul"?"ol":"ul",z=N==="ul"?F:$,V(B.slice(H))):D+=`

<`+N+K+`>
`+A(B,!!I)+"</"+N+`>
`})(M);else{var P=_(M,N);D=`

<`+N+P+`>
`+A(M,!!I)+"</"+N+`>
`}return D}return v=b.converter._dispatch("lists.before",v,C,b),v+="¨0",b.gListLevel?v=v.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(M,N,I){var F=I.search(/[*+-]/g)>-1?"ul":"ol";return T(N,F,!0)}):v=v.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(M,N,I,F){var $=F.search(/[*+-]/g)>-1?"ul":"ol";return T(I,$,!1)}),v=v.replace(/¨0/,""),v=b.converter._dispatch("lists.after",v,C,b),v}),r.subParser("metadata",function(v,C,b){if(!C.metadata)return v;v=b.converter._dispatch("metadata.before",v,C,b);function A(_){b.metadata.raw=_,_=_.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),_=_.replace(/\n {4}/g," "),_.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(T,M,N){return b.metadata.parsed[M]=N,""})}return v=v.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(_,T,M){return A(M),"¨M"}),v=v.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(_,T,M){return T&&(b.metadata.format=T),A(M),"¨M"}),v=v.replace(/¨M/g,""),v=b.converter._dispatch("metadata.after",v,C,b),v}),r.subParser("outdent",function(v,C,b){return v=b.converter._dispatch("outdent.before",v,C,b),v=v.replace(/^(\t|[ ]{1,4})/gm,"¨0"),v=v.replace(/¨0/g,""),v=b.converter._dispatch("outdent.after",v,C,b),v}),r.subParser("paragraphs",function(v,C,b){v=b.converter._dispatch("paragraphs.before",v,C,b),v=v.replace(/^\n+/g,""),v=v.replace(/\n+$/g,"");for(var A=v.split(/\n{2,}/g),_=[],T=A.length,M=0;M<T;M++){var N=A[M];N.search(/¨(K|G)(\d+)\1/g)>=0?_.push(N):N.search(/\S/)>=0&&(N=r.subParser("spanGamut")(N,C,b),N=N.replace(/^([ \t]*)/g,"<p>"),N+="</p>",_.push(N))}for(T=_.length,M=0;M<T;M++){for(var I="",F=_[M],$=!1;/¨(K|G)(\d+)\1/.test(F);){var z=RegExp.$1,D=RegExp.$2;z==="K"?I=b.gHtmlBlocks[D]:$?I=r.subParser("encodeCode")(b.ghCodeBlocks[D].text,C,b):I=b.ghCodeBlocks[D].codeblock,I=I.replace(/\$/g,"$$$$"),F=F.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,I),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(F)&&($=!0)}_[M]=F}return v=_.join(`
`),v=v.replace(/^\n+/g,""),v=v.replace(/\n+$/g,""),b.converter._dispatch("paragraphs.after",v,C,b)}),r.subParser("runExtension",function(v,C,b,A){if(v.filter)C=v.filter(C,A.converter,b);else if(v.regex){var _=v.regex;_ instanceof RegExp||(_=new RegExp(_,"g")),C=C.replace(_,v.replace)}return C}),r.subParser("spanGamut",function(v,C,b){return v=b.converter._dispatch("spanGamut.before",v,C,b),v=r.subParser("codeSpans")(v,C,b),v=r.subParser("escapeSpecialCharsWithinTagAttributes")(v,C,b),v=r.subParser("encodeBackslashEscapes")(v,C,b),v=r.subParser("images")(v,C,b),v=r.subParser("anchors")(v,C,b),v=r.subParser("autoLinks")(v,C,b),v=r.subParser("simplifiedAutoLinks")(v,C,b),v=r.subParser("emoji")(v,C,b),v=r.subParser("underline")(v,C,b),v=r.subParser("italicsAndBold")(v,C,b),v=r.subParser("strikethrough")(v,C,b),v=r.subParser("ellipsis")(v,C,b),v=r.subParser("hashHTMLSpans")(v,C,b),v=r.subParser("encodeAmpsAndAngles")(v,C,b),C.simpleLineBreaks?/\n\n¨K/.test(v)||(v=v.replace(/\n+/g,`<br />
`)):v=v.replace(/  +\n/g,`<br />
`),v=b.converter._dispatch("spanGamut.after",v,C,b),v}),r.subParser("strikethrough",function(v,C,b){function A(_){return C.simplifiedAutoLink&&(_=r.subParser("simplifiedAutoLinks")(_,C,b)),"<del>"+_+"</del>"}return C.strikethrough&&(v=b.converter._dispatch("strikethrough.before",v,C,b),v=v.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(_,T){return A(T)}),v=b.converter._dispatch("strikethrough.after",v,C,b)),v}),r.subParser("stripLinkDefinitions",function(v,C,b){var A=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,_=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;v+="¨0";var T=function(M,N,I,F,$,z,D){return N=N.toLowerCase(),v.toLowerCase().split(N).length-1<2?M:(I.match(/^data:.+?\/.+?;base64,/)?b.gUrls[N]=I.replace(/\s/g,""):b.gUrls[N]=r.subParser("encodeAmpsAndAngles")(I,C,b),z?z+D:(D&&(b.gTitles[N]=D.replace(/"|'/g,"&quot;")),C.parseImgDimensions&&F&&$&&(b.gDimensions[N]={width:F,height:$}),""))};return v=v.replace(_,T),v=v.replace(A,T),v=v.replace(/¨0/,""),v}),r.subParser("tables",function(v,C,b){if(!C.tables)return v;var A=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,_=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function T($){return/^:[ \t]*--*$/.test($)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test($)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test($)?' style="text-align:center;"':""}function M($,z){var D="";return $=$.trim(),(C.tablesHeaderId||C.tableHeaderId)&&(D=' id="'+$.replace(/ /g,"_").toLowerCase()+'"'),$=r.subParser("spanGamut")($,C,b),"<th"+D+z+">"+$+`</th>
`}function N($,z){var D=r.subParser("spanGamut")($,C,b);return"<td"+z+">"+D+`</td>
`}function I($,z){for(var D=`<table>
<thead>
<tr>
`,P=$.length,V=0;V<P;++V)D+=$[V];for(D+=`</tr>
</thead>
<tbody>
`,V=0;V<z.length;++V){D+=`<tr>
`;for(var B=0;B<P;++B)D+=z[V][B];D+=`</tr>
`}return D+=`</tbody>
</table>
`,D}function F($){var z,D=$.split(`
`);for(z=0;z<D.length;++z)/^ {0,3}\|/.test(D[z])&&(D[z]=D[z].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(D[z])&&(D[z]=D[z].replace(/\|[ \t]*$/,"")),D[z]=r.subParser("codeSpans")(D[z],C,b);var P=D[0].split("|").map(function(de){return de.trim()}),V=D[1].split("|").map(function(de){return de.trim()}),B=[],H=[],K=[],W=[];for(D.shift(),D.shift(),z=0;z<D.length;++z)D[z].trim()!==""&&B.push(D[z].split("|").map(function(de){return de.trim()}));if(P.length<V.length)return $;for(z=0;z<V.length;++z)K.push(T(V[z]));for(z=0;z<P.length;++z)r.helper.isUndefined(K[z])&&(K[z]=""),H.push(M(P[z],K[z]));for(z=0;z<B.length;++z){for(var L=[],G=0;G<H.length;++G)r.helper.isUndefined(B[z][G]),L.push(N(B[z][G],K[G]));W.push(L)}return I(H,W)}return v=b.converter._dispatch("tables.before",v,C,b),v=v.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),v=v.replace(A,F),v=v.replace(_,F),v=b.converter._dispatch("tables.after",v,C,b),v}),r.subParser("underline",function(v,C,b){return C.underline&&(v=b.converter._dispatch("underline.before",v,C,b),C.literalMidWordUnderscores?(v=v.replace(/\b___(\S[\s\S]*?)___\b/g,function(A,_){return"<u>"+_+"</u>"}),v=v.replace(/\b__(\S[\s\S]*?)__\b/g,function(A,_){return"<u>"+_+"</u>"})):(v=v.replace(/___(\S[\s\S]*?)___/g,function(A,_){return/\S$/.test(_)?"<u>"+_+"</u>":A}),v=v.replace(/__(\S[\s\S]*?)__/g,function(A,_){return/\S$/.test(_)?"<u>"+_+"</u>":A})),v=v.replace(/(_)/g,r.helper.escapeCharactersCallback),v=b.converter._dispatch("underline.after",v,C,b)),v}),r.subParser("unescapeSpecialChars",function(v,C,b){return v=b.converter._dispatch("unescapeSpecialChars.before",v,C,b),v=v.replace(/¨E(\d+)E/g,function(A,_){var T=parseInt(_);return String.fromCharCode(T)}),v=b.converter._dispatch("unescapeSpecialChars.after",v,C,b),v}),r.subParser("makeMarkdown.blockquote",function(v,C){var b="";if(v.hasChildNodes())for(var A=v.childNodes,_=A.length,T=0;T<_;++T){var M=r.subParser("makeMarkdown.node")(A[T],C);M!==""&&(b+=M)}return b=b.trim(),b="> "+b.split(`
`).join(`
> `),b}),r.subParser("makeMarkdown.codeBlock",function(v,C){var b=v.getAttribute("language"),A=v.getAttribute("precodenum");return"```"+b+`
`+C.preList[A]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(v){return"`"+v.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(v,C){var b="";if(v.hasChildNodes()){b+="*";for(var A=v.childNodes,_=A.length,T=0;T<_;++T)b+=r.subParser("makeMarkdown.node")(A[T],C);b+="*"}return b}),r.subParser("makeMarkdown.header",function(v,C,b){var A=new Array(b+1).join("#"),_="";if(v.hasChildNodes()){_=A+" ";for(var T=v.childNodes,M=T.length,N=0;N<M;++N)_+=r.subParser("makeMarkdown.node")(T[N],C)}return _}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(v){var C="";return v.hasAttribute("src")&&(C+="!["+v.getAttribute("alt")+"](",C+="<"+v.getAttribute("src")+">",v.hasAttribute("width")&&v.hasAttribute("height")&&(C+=" ="+v.getAttribute("width")+"x"+v.getAttribute("height")),v.hasAttribute("title")&&(C+=' "'+v.getAttribute("title")+'"'),C+=")"),C}),r.subParser("makeMarkdown.links",function(v,C){var b="";if(v.hasChildNodes()&&v.hasAttribute("href")){var A=v.childNodes,_=A.length;b="[";for(var T=0;T<_;++T)b+=r.subParser("makeMarkdown.node")(A[T],C);b+="](",b+="<"+v.getAttribute("href")+">",v.hasAttribute("title")&&(b+=' "'+v.getAttribute("title")+'"'),b+=")"}return b}),r.subParser("makeMarkdown.list",function(v,C,b){var A="";if(!v.hasChildNodes())return"";for(var _=v.childNodes,T=_.length,M=v.getAttribute("start")||1,N=0;N<T;++N)if(!(typeof _[N].tagName>"u"||_[N].tagName.toLowerCase()!=="li")){var I="";b==="ol"?I=M.toString()+". ":I="- ",A+=I+r.subParser("makeMarkdown.listItem")(_[N],C),++M}return A+=`
<!-- -->
`,A.trim()}),r.subParser("makeMarkdown.listItem",function(v,C){for(var b="",A=v.childNodes,_=A.length,T=0;T<_;++T)b+=r.subParser("makeMarkdown.node")(A[T],C);return/\n$/.test(b)?b=b.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):b+=`
`,b}),r.subParser("makeMarkdown.node",function(v,C,b){b=b||!1;var A="";if(v.nodeType===3)return r.subParser("makeMarkdown.txt")(v,C);if(v.nodeType===8)return"<!--"+v.data+`-->

`;if(v.nodeType!==1)return"";var _=v.tagName.toLowerCase();switch(_){case"h1":b||(A=r.subParser("makeMarkdown.header")(v,C,1)+`

`);break;case"h2":b||(A=r.subParser("makeMarkdown.header")(v,C,2)+`

`);break;case"h3":b||(A=r.subParser("makeMarkdown.header")(v,C,3)+`

`);break;case"h4":b||(A=r.subParser("makeMarkdown.header")(v,C,4)+`

`);break;case"h5":b||(A=r.subParser("makeMarkdown.header")(v,C,5)+`

`);break;case"h6":b||(A=r.subParser("makeMarkdown.header")(v,C,6)+`

`);break;case"p":b||(A=r.subParser("makeMarkdown.paragraph")(v,C)+`

`);break;case"blockquote":b||(A=r.subParser("makeMarkdown.blockquote")(v,C)+`

`);break;case"hr":b||(A=r.subParser("makeMarkdown.hr")(v,C)+`

`);break;case"ol":b||(A=r.subParser("makeMarkdown.list")(v,C,"ol")+`

`);break;case"ul":b||(A=r.subParser("makeMarkdown.list")(v,C,"ul")+`

`);break;case"precode":b||(A=r.subParser("makeMarkdown.codeBlock")(v,C)+`

`);break;case"pre":b||(A=r.subParser("makeMarkdown.pre")(v,C)+`

`);break;case"table":b||(A=r.subParser("makeMarkdown.table")(v,C)+`

`);break;case"code":A=r.subParser("makeMarkdown.codeSpan")(v,C);break;case"em":case"i":A=r.subParser("makeMarkdown.emphasis")(v,C);break;case"strong":case"b":A=r.subParser("makeMarkdown.strong")(v,C);break;case"del":A=r.subParser("makeMarkdown.strikethrough")(v,C);break;case"a":A=r.subParser("makeMarkdown.links")(v,C);break;case"img":A=r.subParser("makeMarkdown.image")(v,C);break;default:A=v.outerHTML+`

`}return A}),r.subParser("makeMarkdown.paragraph",function(v,C){var b="";if(v.hasChildNodes())for(var A=v.childNodes,_=A.length,T=0;T<_;++T)b+=r.subParser("makeMarkdown.node")(A[T],C);return b=b.trim(),b}),r.subParser("makeMarkdown.pre",function(v,C){var b=v.getAttribute("prenum");return"<pre>"+C.preList[b]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(v,C){var b="";if(v.hasChildNodes()){b+="~~";for(var A=v.childNodes,_=A.length,T=0;T<_;++T)b+=r.subParser("makeMarkdown.node")(A[T],C);b+="~~"}return b}),r.subParser("makeMarkdown.strong",function(v,C){var b="";if(v.hasChildNodes()){b+="**";for(var A=v.childNodes,_=A.length,T=0;T<_;++T)b+=r.subParser("makeMarkdown.node")(A[T],C);b+="**"}return b}),r.subParser("makeMarkdown.table",function(v,C){var b="",A=[[],[]],_=v.querySelectorAll("thead>tr>th"),T=v.querySelectorAll("tbody>tr"),M,N;for(M=0;M<_.length;++M){var I=r.subParser("makeMarkdown.tableCell")(_[M],C),F="---";if(_[M].hasAttribute("style")){var $=_[M].getAttribute("style").toLowerCase().replace(/\s/g,"");switch($){case"text-align:left;":F=":---";break;case"text-align:right;":F="---:";break;case"text-align:center;":F=":---:";break}}A[0][M]=I.trim(),A[1][M]=F}for(M=0;M<T.length;++M){var z=A.push([])-1,D=T[M].getElementsByTagName("td");for(N=0;N<_.length;++N){var P=" ";typeof D[N]<"u"&&(P=r.subParser("makeMarkdown.tableCell")(D[N],C)),A[z].push(P)}}var V=3;for(M=0;M<A.length;++M)for(N=0;N<A[M].length;++N){var B=A[M][N].length;B>V&&(V=B)}for(M=0;M<A.length;++M){for(N=0;N<A[M].length;++N)M===1?A[M][N].slice(-1)===":"?A[M][N]=r.helper.padEnd(A[M][N].slice(-1),V-1,"-")+":":A[M][N]=r.helper.padEnd(A[M][N],V,"-"):A[M][N]=r.helper.padEnd(A[M][N],V);b+="| "+A[M].join(" | ")+` |
`}return b.trim()}),r.subParser("makeMarkdown.tableCell",function(v,C){var b="";if(!v.hasChildNodes())return"";for(var A=v.childNodes,_=A.length,T=0;T<_;++T)b+=r.subParser("makeMarkdown.node")(A[T],C,!0);return b.trim()}),r.subParser("makeMarkdown.txt",function(v){var C=v.nodeValue;return C=C.replace(/ +/g," "),C=C.replace(/¨NBSP;/g," "),C=r.helper.unescapeHTMLEntities(C),C=C.replace(/([*_~|`])/g,"\\$1"),C=C.replace(/^(\s*)>/g,"\\$1>"),C=C.replace(/^#/gm,"\\#"),C=C.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),C=C.replace(/^( {0,3}\d+)\./gm,"$1\\."),C=C.replace(/^( {0,3})([+-])/gm,"$1\\$2"),C=C.replace(/]([\s]*)\(/g,"\\]$1\\("),C=C.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),C});var x=this;e.exports?e.exports=r:x.showdown=r}).call(go)})(pie);var QLe=pie.exports;function ba(e){if(!Cs.isString(e))return;const t=new n5({hr:""});return t.keep(["abbr"]),t.turndown(e)||void 0}function Wf(e){return Cs.isString(e)&&new QLe.Converter().makeHtml(e)||void 0}function _r(e){if(!Cs.isString(e))return;let t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||void 0}function kR(e){return aT(e)?"ability-block":e}function aT(e){return["action","feat","physical-feature","sense","class-feature","heritage"].includes(e??"")}function AR(e){return["ONE-ACTION","TWO-ACTIONS","THREE-ACTIONS","REACTION","FREE-ACTION","ONE-TO-TWO-ACTIONS","ONE-TO-THREE-ACTIONS","TWO-TO-THREE-ACTIONS","TWO-TO-TWO-ROUNDS","TWO-TO-THREE-ROUNDS","THREE-TO-TWO-ROUNDS","THREE-TO-THREE-ROUNDS",null].includes(e)}function Vr(e,t){return{trait:p.jsx(qOe,{size:t}),item:p.jsx(xre,{size:t}),spell:p.jsx(Nre,{size:t}),class:p.jsx(G0,{size:t}),"ability-block":p.jsx(Ere,{size:t}),creature:p.jsx(Bre,{size:t}),ancestry:p.jsx(XS,{size:t}),background:p.jsx(JM,{size:t}),language:p.jsx(Rre,{size:t}),"content-source":p.jsx(yE,{size:t})}[e]}function cp(e){return e?!!(e.level>0&&e.details&&e.details.ancestry&&e.details.background&&e.details.class):!1}function Ip(e){return e[e.length-1]==="y"?e.substring(0,e.length-1)+"ies":e[e.length-1]==="s"?e+"es":e+"s"}function hu(e){return e?(e=e.replace("ability-block","option"),Ze.startCase(e.toLowerCase().replace("-"," "))):""}function oT(e,t){if(e.length===0)return"";if(e.length===1)return e[0];{const n=e.slice(0,-1).reduce((r,i,a)=>p.jsxs(p.Fragment,{children:[r,a>0&&", ",i]}),null);return p.jsxs(p.Fragment,{children:[n," ",t," ",e.slice(-1)[0]]})}}const Qz=100;function XLe(){const e=ht(),t=Ja(),[n,r]=Ct(an),i=j.useRef(""),[a,o]=YD("",400),[s,l]=j.useState(!1);j.useEffect(()=>{a&&ZLe(u,a,t,r,e).then(c=>{a===i.current?l(c):o(i.current)})},[a]);const u={group:"Pages",actions:[{id:"page-characters",label:"Characters",description:"View and edit your characters",onClick:()=>t("/characters"),leftSection:p.jsx(hR,{style:{width:me(24),height:me(24)},stroke:1.5}),keywords:["page"]},{id:"page-account",label:"Account",description:"View your account details and settings",onClick:()=>t("/account"),leftSection:p.jsx(YM,{style:{width:me(24),height:me(24)},stroke:1.5}),highlightColor:e.colors[e.primaryColor][2],keywords:["page"]},{id:"page-community",label:"Community",description:"View the community forums and discussions",onClick:()=>t("/community"),leftSection:p.jsx(DRe,{style:{width:me(24),height:me(24)},stroke:1.5}),highlightColor:e.colors[e.primaryColor][2],keywords:["page"]},{id:"page-support",label:"Support",description:"Support the site on Patreon and get access to additional features",onClick:()=>t("/support"),leftSection:p.jsx(RRe,{style:{width:me(24),height:me(24)},stroke:1.5}),highlightColor:e.colors[e.primaryColor][2],keywords:["page"]},{id:"page-legacy-site",label:"Legacy Site",description:"Go to the legacy site for original Pathfinder 2e",onClick:()=>{window.location.href="https://legacy.wanderersguide.app/"},leftSection:p.jsx(bre,{style:{width:me(24),height:me(24)},stroke:1.5}),highlightColor:e.colors[e.primaryColor][2],keywords:["page"]}]};return p.jsx(Ps,{scrollable:!0,onQueryChange:c=>{o(c.trim()),i.current=c.trim(),c.trim()===""?l(!1):l(null)},actions:s===null?[]:s===!1||a===""?[u]:[...s],nothingFound:s===null?p.jsx(ta,{h:200,children:p.jsx(ai,{type:"dots",size:"lg"})}):p.jsx(ta,{h:200,children:p.jsx(pe,{c:"dimmed",fs:"italic",children:"Nothing found..."})}),highlightQuery:!0,searchProps:{leftSection:p.jsx(W0,{style:{width:me(20),height:me(20)},stroke:1.5}),rightSection:p.jsxs(at,{shadow:"md",position:"top",openDelay:250,zIndex:1e4,withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(bt,{variant:"subtle",radius:"xl",size:"lg",color:"gray.6","aria-label":"Advanced Search",onClick:()=>{console.log("Advanced Search")},style:{pointerEvents:"auto"},children:p.jsx(iRe,{style:{width:me(20),height:me(20)},stroke:1.5})})}),p.jsx(at.Dropdown,{px:10,py:5,children:p.jsx(pe,{size:"sm",children:"Advanced Search"})})]}),placeholder:"Search anything..."},filter:(c,d)=>{if(!c)return d;const f=[];for(let h of d){const m=h.actions.filter(g=>{var S,y;if(nFe(g))return!0;{const E=(S=g.label)==null?void 0:S.toLowerCase().includes(c.toLowerCase()),x=(y=g.description)==null?void 0:y.toLowerCase().includes(c.toLowerCase()),v=(Cs.isArray(g.keywords)?g.keywords:[]).some(C=>C.toLowerCase().includes(c.toLowerCase()));return E||x||v}});m.length>0&&f.push({...h,actions:m})}return f}})}async function ZLe(e,t,n,r,i){const a=(t.length>Qz?t.slice(0,Qz):t).trim();let o=[];a&&a.length>=3&&(o=[...await eFe(a,r,i),...o],o=[...await tFe(a,n,i),...o]);const s=Ze.groupBy(o,"_type"),l=[];for(const u in s)l.push({group:Ip(hu(u)),actions:s[u]});return[e,...l]}async function eFe(e,t,n){return(await aie(e,{amount:10,applyWeights:!0})).map(i=>{let a=`${i.description}`.split(".")[0]+".";const o=i._type==="ability-block"?i.type:null;return i.level&&(!o||+i.level>0)?a=`Lvl. ${i.level} | `+a:i.rank&&(a=`Rk. ${i.rank} | `+a),a=Ze.truncate(a,{length:80}),{id:`${i._type}-${i.id}`,label:`${i.name}`,description:i.description?a:void 0,onClick:()=>{t({type:o??i._type,data:{id:i.id}})},leftSection:Vr(i._type,"1.5rem"),highlightColor:n.colors[n.primaryColor][2],keywords:["query",`${i._type}`],_type:o??i._type}})}async function tFe(e,t,n){return(await dr("find-character",{})??[]).map(i=>{var c,d,f,h;const a=i.level,o="",s=((d=(c=i.details)==null?void 0:c.ancestry)==null?void 0:d.name)??"",l=((h=(f=i.details)==null?void 0:f.class)==null?void 0:h.name)??"";let u=`Lvl. ${a} | ${o} ${s} | ${l}`;return u=Ze.truncate(u,{length:80}),{id:`character-${i.id}`,label:`${i.name}`,description:u,onClick:()=>{cp(i)?t(`/sheet/${i.id}`):t(`/builder/${i.id}`)},leftSection:p.jsx(vIe,{style:{width:me(24),height:me(24)},stroke:1.5}),highlightColor:n.colors[n.primaryColor][2],keywords:["character"],_type:"character"}})}function nFe(e){if(e.keywords&&e.keywords.length>0&&e.keywords[0]==="query"){const t=e.keywords[1];return t||null}else return null}const _R=j.createContext(null);_R.displayName="@mantine/modals/ModalsContext";function rFe(){const e=j.useContext(_R);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function iFe({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:a=!0,groupProps:o,onCancel:s,onConfirm:l,children:u}){const{cancel:c,confirm:d}=r,f=rFe(),h=g=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(g)),typeof s=="function"&&s(),a&&f.closeModal(e)},m=g=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(g)),typeof l=="function"&&l(),i&&f.closeModal(e)};return O.createElement(O.Fragment,null,u&&O.createElement(Z,{mb:"md"},u),O.createElement(Ae,{justify:"flex-end",...o},O.createElement(mt,{variant:"default",...t,onClick:h},(t==null?void 0:t.children)||c),O.createElement(mt,{...n,onClick:m},(n==null?void 0:n.children)||d)))}function Xz(e,t){var n,r,i,a;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(a=(i=e.props).onClose)==null||a.call(i)}function aFe(e,t){switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const n=e.modals.find(i=>i.id===t.modalId);if(!n)return e;Xz(n,t.canceled);const r=e.modals.filter(i=>i.id!==t.modalId);return{current:r[r.length-1]||e.current,modals:r}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(n=>{Xz(n,t.canceled)}),{current:e.current,modals:[]}):e;default:return e}}const[oFe,V2]=Vwe("mantine-modals"),sFe=V2("openModal"),lFe=V2("closeModal"),uFe=V2("closeAllModals"),cFe=V2("openConfirmModal"),Zp=e=>V2("openContextModal")(e),vh={open:sFe,close:lFe,closeAll:uFe,openConfirmModal:cFe,openContextModal:Zp};function dFe(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:a,closeOnCancel:o,cancelProps:s,confirmProps:l,groupProps:u,labels:c,...d}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:a,closeOnCancel:o,cancelProps:s,confirmProps:l,groupProps:u,labels:c},modalProps:{id:t,...d}}}function fFe({children:e,modalProps:t,labels:n,modals:r}){const[i,a]=j.useReducer(aFe,{modals:[],current:null}),o=j.useRef(i);o.current=i;const s=j.useCallback(S=>{a({type:"CLOSE_ALL",canceled:S})},[o,a]),l=j.useCallback(({modalId:S,...y})=>{const E=S||d0();return a({type:"OPEN",modal:{id:E,type:"content",props:y}}),E},[a]),u=j.useCallback(({modalId:S,...y})=>{const E=S||d0();return a({type:"OPEN",modal:{id:E,type:"confirm",props:y}}),E},[a]),c=j.useCallback((S,{modalId:y,...E})=>{const x=y||d0();return a({type:"OPEN",modal:{id:x,type:"context",props:E,ctx:S}}),x},[a]),d=j.useCallback((S,y)=>{a({type:"CLOSE",modalId:S,canceled:y})},[o,a]);oFe({openModal:l,openConfirmModal:u,openContextModal:({modal:S,...y})=>c(S,y),closeModal:d,closeContextModal:d,closeAllModals:s});const f={modals:i.modals,openModal:l,openConfirmModal:u,openContextModal:c,closeModal:d,closeContextModal:d,closeAll:s},h=()=>{const S=o.current.current;switch(S==null?void 0:S.type){case"context":{const{innerProps:y,...E}=S.props,x=r[S.ctx];return{modalProps:E,content:O.createElement(x,{innerProps:y,context:f,id:S.id})}}case"confirm":{const{modalProps:y,confirmProps:E}=dFe(S.props);return{modalProps:y,content:O.createElement(iFe,{...E,id:S.id,labels:S.props.labels||n})}}case"content":{const{children:y,...E}=S.props;return{modalProps:E,content:O.createElement(O.Fragment,null,y)}}default:return{modalProps:{},content:null}}},{modalProps:m,content:g}=h();return O.createElement(_R.Provider,{value:f},O.createElement(ra,{zIndex:Ya("modal")+1,...t,...m,opened:i.modals.length>0,onClose:()=>d(i.current.id)},g),e)}class B1{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Ob=typeof window>"u"||"Deno"in window;function Xs(){}function hFe(e,t){return typeof e=="function"?e(t):e}function sT(e){return typeof e=="number"&&e>=0&&e!==1/0}function mie(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gy(e,t,n){return H2(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function pFe(e,t,n){return H2(e)?typeof t=="function"?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function Xd(e,t,n){return H2(e)?[{...t,queryKey:e},n]:[e||{},t]}function Zz(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(H2(o)){if(r){if(t.queryHash!==MR(o,t.options))return!1}else if(!r5(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||typeof i<"u"&&i!==t.state.fetchStatus||a&&!a(t))}function e$(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:a}=e;if(H2(a)){if(!t.options.mutationKey)return!1;if(n){if(Sp(t.options.mutationKey)!==Sp(a))return!1}else if(!r5(t.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function MR(e,t){return((t==null?void 0:t.queryKeyHashFn)||Sp)(e)}function Sp(e){return JSON.stringify(e,(t,n)=>lT(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function r5(e,t){return gie(e,t)}function gie(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!gie(e[n],t[n])):!1}function vie(e,t){if(e===t)return e;const n=t$(e)&&t$(t);if(n||lT(e)&&lT(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{};let s=0;for(let l=0;l<a;l++){const u=n?l:i[l];o[u]=vie(e[u],t[u]),o[u]===e[u]&&s++}return r===a&&s===r?e:o}return t}function i5(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function t$(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lT(e){if(!n$(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!n$(n)||!n.hasOwnProperty("isPrototypeOf"))}function n$(e){return Object.prototype.toString.call(e)==="[object Object]"}function H2(e){return Array.isArray(e)}function yie(e){return new Promise(t=>{setTimeout(t,e)})}function r$(e){yie(0).then(e)}function mFe(){if(typeof AbortController=="function")return new AbortController}function uT(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?vie(e,t):t}class gFe extends B1{constructor(){super(),this.setup=t=>{if(!Ob&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const a5=new gFe,i$=["online","offline"];class vFe extends B1{constructor(){super(),this.setup=t=>{if(!Ob&&window.addEventListener){const n=()=>t();return i$.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{i$.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const o5=new vFe;function yFe(e){return Math.min(1e3*2**e,3e4)}function SE(e){return(e??"online")==="online"?o5.isOnline():!0}class bie{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function X3(e){return e instanceof bie}function wie(e){let t=!1,n=0,r=!1,i,a,o;const s=new Promise((S,y)=>{a=S,o=y}),l=S=>{r||(h(new bie(S)),e.abort==null||e.abort())},u=()=>{t=!0},c=()=>{t=!1},d=()=>!a5.isFocused()||e.networkMode!=="always"&&!o5.isOnline(),f=S=>{r||(r=!0,e.onSuccess==null||e.onSuccess(S),i==null||i(),a(S))},h=S=>{r||(r=!0,e.onError==null||e.onError(S),i==null||i(),o(S))},m=()=>new Promise(S=>{i=y=>{const E=r||!d();return E&&S(y),E},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),g=()=>{if(r)return;let S;try{S=e.fn()}catch(y){S=Promise.reject(y)}Promise.resolve(S).then(f).catch(y=>{var E,x;if(r)return;const v=(E=e.retry)!=null?E:3,C=(x=e.retryDelay)!=null?x:yFe,b=typeof C=="function"?C(n,y):C,A=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!A){h(y);return}n++,e.onFail==null||e.onFail(n,y),yie(b).then(()=>{if(d())return m()}).then(()=>{t?h(y):g()})})};return SE(e.networkMode)?g():m().then(g),{promise:s,cancel:l,continue:()=>(i==null?void 0:i())?s:Promise.resolve(),cancelRetry:u,continueRetry:c}}const TR=console;function bFe(){let e=[],t=0,n=c=>{c()},r=c=>{c()};const i=c=>{let d;t++;try{d=c()}finally{t--,t||s()}return d},a=c=>{t?e.push(c):r$(()=>{n(c)})},o=c=>(...d)=>{a(()=>{c(...d)})},s=()=>{const c=e;e=[],c.length&&r$(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:i,batchCalls:o,schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}const ci=bFe();class xie{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sT(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(Ob?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class wFe extends xie{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||TR,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||xFe(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=uT(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(Xs).catch(Xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!mie(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const o=mFe(),s={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(s);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(s)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var d;this.dispatch({type:"fetch",meta:(d=c.fetchOptions)==null?void 0:d.meta})}const f=h=>{if(X3(h)&&h.silent||this.dispatch({type:"error",error:h}),!X3(h)){var m,g,S,y;(m=(g=this.cache.config).onError)==null||m.call(g,h,this),(S=(y=this.cache.config).onSettled)==null||S.call(y,this.state.data,h,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=wie({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:h=>{var m,g,S,y;if(typeof h>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(h),(m=(g=this.cache.config).onSuccess)==null||m.call(g,h,this),(S=(y=this.cache.config).onSettled)==null||S.call(y,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(h,m)=>{this.dispatch({type:"failed",failureCount:h,error:m})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var i,a;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:SE(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=t.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return X3(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ci.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function xFe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class SFe extends B1{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var i;const a=n.queryKey,o=(i=n.queryHash)!=null?i:MR(a,n);let s=this.get(o);return s||(s=new wFe({cache:this,logger:t.getLogger(),queryKey:a,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){ci.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=Xd(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>Zz(r,i))}findAll(t,n){const[r]=Xd(t,n);return Object.keys(r).length>0?this.queries.filter(i=>Zz(r,i)):this.queries}notify(t){ci.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}onFocus(){ci.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){ci.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class CFe extends xie{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||TR,this.observers=[],this.state=t.state||Sie(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var A;return this.retryer=wie({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(_,T)=>{this.dispatch({type:"failed",failureCount:_,error:T})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(A=this.options.retry)!=null?A:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,a,o,s,l,u,c;if(!n){var d,f,h,m;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(f=this.mutationCache.config).onMutate)==null?void 0:d.call(f,this.state.variables,this));const _=await((h=(m=this.options).onMutate)==null?void 0:h.call(m,this.state.variables));_!==this.state.context&&this.dispatch({type:"loading",context:_,variables:this.state.variables})}const A=await t();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,A,this.state.variables,this.state.context,this)),await((a=(o=this.options).onSuccess)==null?void 0:a.call(o,A,this.state.variables,this.state.context)),await((s=(l=this.mutationCache.config).onSettled)==null?void 0:s.call(l,A,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,A,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:A}),A}catch(A){try{var g,S,y,E,x,v,C,b;throw await((g=(S=this.mutationCache.config).onError)==null?void 0:g.call(S,A,this.state.variables,this.state.context,this)),await((y=(E=this.options).onError)==null?void 0:y.call(E,A,this.state.variables,this.state.context)),await((x=(v=this.mutationCache.config).onSettled)==null?void 0:x.call(v,void 0,A,this.state.variables,this.state.context,this)),await((C=(b=this.options).onSettled)==null?void 0:C.call(b,void 0,A,this.state.variables,this.state.context)),A}finally{this.dispatch({type:"error",error:A})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!SE(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),ci.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function Sie(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class EFe extends B1{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const i=new CFe({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){ci.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>e$(t,n))}findAll(t){return this.mutations.filter(n=>e$(t,n))}notify(t){ci.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return ci.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Xs)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function kFe(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,i,a,o;const s=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,l=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,u=l==null?void 0:l.pageParam,c=(l==null?void 0:l.direction)==="forward",d=(l==null?void 0:l.direction)==="backward",f=((a=e.state.data)==null?void 0:a.pages)||[],h=((o=e.state.data)==null?void 0:o.pageParams)||[];let m=h,g=!1;const S=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>{var A;if((A=e.signal)!=null&&A.aborted)g=!0;else{var _;(_=e.signal)==null||_.addEventListener("abort",()=>{g=!0})}return e.signal}})},y=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),E=(b,A,_,T)=>(m=T?[A,...m]:[...m,A],T?[_,...b]:[...b,_]),x=(b,A,_,T)=>{if(g)return Promise.reject("Cancelled");if(typeof _>"u"&&!A&&b.length)return Promise.resolve(b);const M={queryKey:e.queryKey,pageParam:_,meta:e.options.meta};S(M);const N=y(M);return Promise.resolve(N).then(F=>E(b,_,F,T))};let v;if(!f.length)v=x([]);else if(c){const b=typeof u<"u",A=b?u:a$(e.options,f);v=x(f,b,A)}else if(d){const b=typeof u<"u",A=b?u:AFe(e.options,f);v=x(f,b,A,!0)}else{m=[];const b=typeof e.options.getNextPageParam>"u";v=(s&&f[0]?s(f[0],0,f):!0)?x([],b,h[0]):Promise.resolve(E([],h[0],f[0]));for(let _=1;_<f.length;_++)v=v.then(T=>{if(s&&f[_]?s(f[_],_,f):!0){const N=b?h[_]:a$(e.options,T);return x(T,b,N)}return Promise.resolve(E(T,h[_],f[_]))})}return v.then(b=>({pages:b,pageParams:m}))}}}}function a$(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function AFe(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class _Fe{constructor(t={}){this.queryCache=t.queryCache||new SFe,this.mutationCache=t.mutationCache||new EFe,this.logger=t.logger||TR,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=a5.subscribe(()=>{a5.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=o5.subscribe(()=>{o5.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=Xd(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const i=gy(t,n,r),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.queryCache.find(t),a=i==null?void 0:i.state.data,o=hFe(n,a);if(typeof o>"u")return;const s=gy(t),l=this.defaultQueryOptions(s);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(t,n,r){return ci.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=Xd(t,n),i=this.queryCache;ci.batch(()=>{i.findAll(r).forEach(a=>{i.remove(a)})})}resetQueries(t,n,r){const[i,a]=Xd(t,n,r),o=this.queryCache,s={type:"active",...i};return ci.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(s,a)))}cancelQueries(t,n,r){const[i,a={}]=Xd(t,n,r);typeof a.revert>"u"&&(a.revert=!0);const o=ci.batch(()=>this.queryCache.findAll(i).map(s=>s.cancel(a)));return Promise.all(o).then(Xs).catch(Xs)}invalidateQueries(t,n,r){const[i,a]=Xd(t,n,r);return ci.batch(()=>{var o,s;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(s=i.refetchType)!=null?s:i.type)!=null?o:"active"};return this.refetchQueries(l,a)})}refetchQueries(t,n,r){const[i,a]=Xd(t,n,r),o=ci.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...a,cancelRefetch:(u=a==null?void 0:a.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let s=Promise.all(o).then(Xs);return a!=null&&a.throwOnError||(s=s.catch(Xs)),s}fetchQuery(t,n,r){const i=gy(t,n,r),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(Xs).catch(Xs)}fetchInfiniteQuery(t,n,r){const i=gy(t,n,r);return i.behavior=kFe(),this.fetchQuery(i)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(Xs).catch(Xs)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(i=>Sp(t)===Sp(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>r5(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(i=>Sp(t)===Sp(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>r5(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=MR(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class MFe extends B1{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),o$(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cT(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cT(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),i5(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&s$(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t),r=this.createResult(n,t);return NFe(this,r,t)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Xs)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Ob||this.currentResult.isStale||!sT(this.options.staleTime))return;const n=mie(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(Ob||this.options.enabled===!1||!sT(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||a5.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,i=this.options,a=this.currentResult,o=this.currentResultState,s=this.currentResultOptions,l=t!==r,u=l?t.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:d}=t;let{dataUpdatedAt:f,error:h,errorUpdatedAt:m,fetchStatus:g,status:S}=d,y=!1,E=!1,x;if(n._optimisticResults){const _=this.hasListeners(),T=!_&&o$(t,n),M=_&&s$(t,r,n,i);(T||M)&&(g=SE(t.options.networkMode)?"fetching":"paused",f||(S="loading")),n._optimisticResults==="isRestoring"&&(g="idle")}if(n.keepPreviousData&&!d.dataUpdatedAt&&c!=null&&c.isSuccess&&S!=="error")x=c.data,f=c.dataUpdatedAt,S=c.status,y=!0;else if(n.select&&typeof d.data<"u")if(a&&d.data===(o==null?void 0:o.data)&&n.select===this.selectFn)x=this.selectResult;else try{this.selectFn=n.select,x=n.select(d.data),x=uT(a==null?void 0:a.data,x,n),this.selectResult=x,this.selectError=null}catch(_){this.selectError=_}else x=d.data;if(typeof n.placeholderData<"u"&&typeof x>"u"&&S==="loading"){let _;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(s==null?void 0:s.placeholderData))_=a.data;else if(_=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof _<"u")try{_=n.select(_),this.selectError=null}catch(T){this.selectError=T}typeof _<"u"&&(S="success",x=uT(a==null?void 0:a.data,_,n),E=!0)}this.selectError&&(h=this.selectError,x=this.selectResult,m=Date.now(),S="error");const v=g==="fetching",C=S==="loading",b=S==="error";return{status:S,fetchStatus:g,isLoading:C,isSuccess:S==="success",isError:b,isInitialLoading:C&&v,data:x,dataUpdatedAt:f,error:h,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!C,isLoadingError:b&&d.dataUpdatedAt===0,isPaused:g==="paused",isPlaceholderData:E,isPreviousData:y,isRefetchError:b&&d.dataUpdatedAt!==0,isStale:NR(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,i5(r,n))return;this.currentResult=r;const i={cache:!0},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!this.trackedProps.size)return!0;const l=new Set(s??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(u=>{const c=u;return this.currentResult[c]!==n[c]&&l.has(c)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!X3(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){ci.batch(()=>{if(t.onSuccess){var n,r,i,a;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(t.onError){var o,s,l,u;(o=(s=this.options).onError)==null||o.call(s,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function TFe(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function o$(e,t){return TFe(e,t)||e.state.dataUpdatedAt>0&&cT(e,t,t.refetchOnMount)}function cT(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&NR(e,t)}return!1}function s$(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&NR(e,n)}function NR(e,t){return e.isStaleByTime(t.staleTime)}function NFe(e,t,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?t.isPlaceholderData:!i5(e.getCurrentResult(),t)}let DFe=class extends B1{constructor(t,n){super(),this.client=t,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=this.client.defaultMutationOptions(t),i5(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const n={listeners:!0};t.type==="success"?n.onSuccess=!0:t.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:Sie(),n={...t,isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(t){ci.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var n,r,i,a;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var o,s,l,u;(o=(s=this.mutateOptions).onError)==null||o.call(s,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(u=this.mutateOptions).onSettled)==null||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)})})}};var Cie={exports:{}},Eie={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0=j;function RFe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IFe=typeof Object.is=="function"?Object.is:RFe,OFe=K0.useState,PFe=K0.useEffect,jFe=K0.useLayoutEffect,LFe=K0.useDebugValue;function FFe(e,t){var n=t(),r=OFe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return jFe(function(){i.value=n,i.getSnapshot=t,e6(i)&&a({inst:i})},[e,n,t]),PFe(function(){return e6(i)&&a({inst:i}),e(function(){e6(i)&&a({inst:i})})},[e]),LFe(n),n}function e6(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!IFe(e,n)}catch{return!0}}function BFe(e,t){return t()}var zFe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?BFe:FFe;Eie.useSyncExternalStore=K0.useSyncExternalStore!==void 0?K0.useSyncExternalStore:zFe;Cie.exports=Eie;var $Fe=Cie.exports;const kie=$Fe.useSyncExternalStore,l$=j.createContext(void 0),Aie=j.createContext(!1);function _ie(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=l$),window.ReactQueryClientContext):l$)}const z1=({context:e}={})=>{const t=j.useContext(_ie(e,j.useContext(Aie)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},UFe=({client:e,children:t,context:n,contextSharing:r=!1})=>{j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=_ie(n,r);return j.createElement(Aie.Provider,{value:!n&&r},j.createElement(i.Provider,{value:e},t))},Mie=j.createContext(!1),VFe=()=>j.useContext(Mie);Mie.Provider;function HFe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const qFe=j.createContext(HFe()),WFe=()=>j.useContext(qFe);function Tie(e,t){return typeof e=="function"?e(...t):!!e}const GFe=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},KFe=e=>{j.useEffect(()=>{e.clearReset()},[e])},YFe=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&Tie(n,[e.error,r]),JFe=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},QFe=(e,t)=>e.isLoading&&e.isFetching&&!t,XFe=(e,t,n)=>(e==null?void 0:e.suspense)&&QFe(t,n),ZFe=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function eBe(e,t){const n=z1({context:e.context}),r=VFe(),i=WFe(),a=n.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=ci.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=ci.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=ci.batchCalls(a.onSettled)),JFe(a),GFe(a,i),KFe(i);const[o]=j.useState(()=>new t(n,a)),s=o.getOptimisticResult(a);if(kie(j.useCallback(l=>{const u=r?()=>{}:o.subscribe(ci.batchCalls(l));return o.updateResult(),u},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),j.useEffect(()=>{o.setOptions(a,{listeners:!1})},[a,o]),XFe(a,s,r))throw ZFe(a,o,i);if(YFe({result:s,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:o.getCurrentQuery()}))throw s.error;return a.notifyOnChangeProps?s:o.trackResult(s)}function En(e,t,n){const r=gy(e,t,n);return eBe(r,MFe)}function Nie(e,t,n){const r=pFe(e,t,n),i=z1({context:r.context}),[a]=j.useState(()=>new DFe(i,r));j.useEffect(()=>{a.setOptions(r)},[a,r]);const o=kie(j.useCallback(l=>a.subscribe(ci.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),s=j.useCallback((l,u)=>{a.mutate(l,u).catch(tBe)},[a]);if(o.error&&Tie(a.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}function tBe(){}function uo(e){const t=e.size||25,n=e.symbol===2?12:e.symbol===3?17:8,r=e.mx||n;return p.jsx(pe,{pos:"relative",mx:r,children:p.jsx(pe,{...e,fz:t,ff:"ActionIcons, sans-serif",c:"gray.5",style:{position:"absolute",top:-1,left:0,transform:"translate(-50%, -50%)"},children:e.symbol})})}function ei(e){const{cost:t,...n}=e;switch(t){case"ONE-ACTION":return p.jsx(uo,{symbol:1,...n});case"TWO-ACTIONS":return p.jsx(uo,{symbol:2,...n});case"THREE-ACTIONS":return p.jsx(uo,{symbol:3,...n});case"FREE-ACTION":return p.jsx(uo,{symbol:4,...n});case"REACTION":return p.jsx(uo,{symbol:5,...n});case"ONE-TO-TWO-ACTIONS":return p.jsxs(pe,{...n,children:[p.jsx(uo,{symbol:1,...n})," to ",p.jsx(uo,{symbol:2,...n})]});case"ONE-TO-THREE-ACTIONS":return p.jsxs(pe,{...n,children:[p.jsx(uo,{symbol:1,...n})," to ",p.jsx(uo,{symbol:3,...n})]});case"TWO-TO-THREE-ACTIONS":return p.jsxs(pe,{...n,children:[p.jsx(uo,{symbol:2,...n})," to ",p.jsx(uo,{symbol:3,...n})]});case"TWO-TO-TWO-ROUNDS":return p.jsxs(pe,{...n,children:[p.jsx(uo,{symbol:2,...n})," to 2 rounds"]});case"THREE-TO-TWO-ROUNDS":return p.jsxs(pe,{...n,children:[p.jsx(uo,{symbol:3,...n})," to 2 rounds"]});case"TWO-TO-THREE-ROUNDS":return p.jsxs(pe,{...n,children:[p.jsx(uo,{symbol:2,...n})," to 3 rounds"]});case"THREE-TO-THREE-ROUNDS":return p.jsxs(pe,{...n,children:[p.jsx(uo,{symbol:3,...n})," to 3 rounds"]});default:return null}}var nBe=function(){function e(){}var t=e.prototype;return t.expandToken=function(r){for(var i=[],a="",o=0,s=r.length;o<s;++o)a+=r.charAt(o),i.push(a);return i},e}(),rBe=function(){function e(){}var t=e.prototype;return t.sanitize=function(r){return r?r.toLocaleLowerCase().trim():""},e}();function dT(e,t){t=t||[],e=e||{};for(var n=e,r=0;r<t.length;r++)if(n=n[t[r]],n==null)return null;return n}var iBe=function(){function e(n){this._uidFieldName=n,this._tokenToIdfCache={},this._tokenMap={}}var t=e.prototype;return t.indexDocument=function(r,i,a){this._tokenToIdfCache={};var o=this._tokenMap,s;typeof o[r]!="object"?o[r]=s={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(s=o[r],s.$totalNumOccurrences++);var l=s.$uidMap;typeof l[i]!="object"?(s.$numDocumentOccurrences++,l[i]={$document:a,$numTokenOccurrences:1}):l[i].$numTokenOccurrences++},t.search=function(r,i){for(var a={},o=0,s=r.length;o<s;o++){var l=r[o],u=this._tokenMap[l];if(!u)return[];if(o===0)for(var c=Object.keys(u.$uidMap),d=0,f=c.length;d<f;d++){var h=c[d];a[h]=u.$uidMap[h].$document}else for(var c=Object.keys(a),d=0,f=c.length;d<f;d++){var h=c[d];typeof u.$uidMap[h]!="object"&&delete a[h]}}var m=[];for(var h in a)m.push(a[h]);var g=this._createCalculateTfIdf();return m.sort(function(S,y){return g(r,y,i)-g(r,S,i)})},t._createCalculateIdf=function(){var r=this._tokenMap,i=this._tokenToIdfCache;return function(o,s){if(!i[o]){var l=typeof r[o]<"u"?r[o].$numDocumentOccurrences:0;i[o]=1+Math.log(s.length/(1+l))}return i[o]}},t._createCalculateTfIdf=function(){var r=this._tokenMap,i=this._uidFieldName,a=this._createCalculateIdf();return function(s,l,u){for(var c=0,d=0,f=s.length;d<f;++d){var h=s[d],m=a(h,u);m===1/0&&(m=0);var g;i instanceof Array?g=l&&dT(l,i):g=l&&l[i];var S=typeof r[h]<"u"&&typeof r[h].$uidMap[g]<"u"?r[h].$uidMap[g].$numTokenOccurrences:0;c+=S*m}return c}},e}(),aBe=/[^a-zа-яё0-9\-']+/i,oBe=function(){function e(){}var t=e.prototype;return t.tokenize=function(r){return r.split(aBe).filter(function(i){return i})},e}();function u$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sBe(e,t,n){return t&&u$(e.prototype,t),n&&u$(e,n),e}var fT=function(){function e(n){if(!n)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=n,this._indexStrategy=new nBe,this._searchIndex=new iBe(n),this._sanitizer=new rBe,this._tokenizer=new oBe,this._documents=[],this._searchableFields=[]}var t=e.prototype;return t.addDocument=function(r){this.addDocuments([r])},t.addDocuments=function(r){this._documents=this._documents.concat(r),this.indexDocuments_(r,this._searchableFields)},t.addIndex=function(r){this._searchableFields.push(r),this.indexDocuments_(this._documents,[r])},t.search=function(r){var i=this._tokenizer.tokenize(this._sanitizer.sanitize(r));return this._searchIndex.search(i,this._documents)},t.indexDocuments_=function(r,i){this._initialized=!0;for(var a=this._indexStrategy,o=this._sanitizer,s=this._searchIndex,l=this._tokenizer,u=this._uidFieldName,c=0,d=r.length;c<d;c++){var f=r[c],h;u instanceof Array?h=dT(f,u):h=f[u];for(var m=0,g=i.length;m<g;m++){var S,y=i[m];if(y instanceof Array?S=dT(f,y):S=f[y],S!=null&&typeof S!="string"&&S.toString&&(S=S.toString()),typeof S=="string")for(var E=l.tokenize(o.sanitize(S)),x=0,v=E.length;x<v;x++)for(var C=E[x],b=a.expandToken(C),A=0,_=b.length;A<_;A++){var T=b[A];s.indexDocument(T,h,f)}}}},sBe(e,[{key:"indexStrategy",set:function(r){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=r},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(r){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=r},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(r){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=r},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(r){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=r},get:function(){return this._tokenizer}}]),e}();function lBe(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const uBe=/[ \t\n\f\r]/g;function cBe(e){return typeof e=="object"?e.type==="text"?c$(e.value):!1:c$(e)}function c$(e){return e.replace(uBe,"")===""}let q2=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};q2.prototype.property={};q2.prototype.normal={};q2.prototype.space=null;function Die(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new q2(n,r,t)}function hT(e){return e.toLowerCase()}class Ml{constructor(t,n){this.property=t,this.attribute=n}}Ml.prototype.space=null;Ml.prototype.boolean=!1;Ml.prototype.booleanish=!1;Ml.prototype.overloadedBoolean=!1;Ml.prototype.number=!1;Ml.prototype.commaSeparated=!1;Ml.prototype.spaceSeparated=!1;Ml.prototype.commaOrSpaceSeparated=!1;Ml.prototype.mustUseProperty=!1;Ml.prototype.defined=!1;let dBe=0;const un=ym(),Ti=ym(),Rie=ym(),ct=ym(),Ar=ym(),g0=ym(),fs=ym();function ym(){return 2**++dBe}const pT=Object.freeze(Object.defineProperty({__proto__:null,boolean:un,booleanish:Ti,commaOrSpaceSeparated:fs,commaSeparated:g0,number:ct,overloadedBoolean:Rie,spaceSeparated:Ar},Symbol.toStringTag,{value:"Module"})),t6=Object.keys(pT);class DR extends Ml{constructor(t,n,r,i){let a=-1;if(super(t,n),d$(this,"space",i),typeof r=="number")for(;++a<t6.length;){const o=t6[a];d$(this,t6[a],(r&pT[o])===pT[o])}}}DR.prototype.defined=!0;function d$(e,t,n){n&&(e[t]=n)}const fBe={}.hasOwnProperty;function $1(e){const t={},n={};let r;for(r in e.properties)if(fBe.call(e.properties,r)){const i=e.properties[r],a=new DR(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[hT(r)]=r,n[hT(a.attribute)]=r}return new q2(t,n,e.space)}const Iie=$1({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Oie=$1({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Pie(e,t){return t in e?e[t]:t}function jie(e,t){return Pie(e,t.toLowerCase())}const Lie=$1({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:jie,properties:{xmlns:null,xmlnsXLink:null}}),Fie=$1({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ti,ariaAutoComplete:null,ariaBusy:Ti,ariaChecked:Ti,ariaColCount:ct,ariaColIndex:ct,ariaColSpan:ct,ariaControls:Ar,ariaCurrent:null,ariaDescribedBy:Ar,ariaDetails:null,ariaDisabled:Ti,ariaDropEffect:Ar,ariaErrorMessage:null,ariaExpanded:Ti,ariaFlowTo:Ar,ariaGrabbed:Ti,ariaHasPopup:null,ariaHidden:Ti,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ar,ariaLevel:ct,ariaLive:null,ariaModal:Ti,ariaMultiLine:Ti,ariaMultiSelectable:Ti,ariaOrientation:null,ariaOwns:Ar,ariaPlaceholder:null,ariaPosInSet:ct,ariaPressed:Ti,ariaReadOnly:Ti,ariaRelevant:null,ariaRequired:Ti,ariaRoleDescription:Ar,ariaRowCount:ct,ariaRowIndex:ct,ariaRowSpan:ct,ariaSelected:Ti,ariaSetSize:ct,ariaSort:null,ariaValueMax:ct,ariaValueMin:ct,ariaValueNow:ct,ariaValueText:null,role:null}}),hBe=$1({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:jie,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:g0,acceptCharset:Ar,accessKey:Ar,action:null,allow:null,allowFullScreen:un,allowPaymentRequest:un,allowUserMedia:un,alt:null,as:null,async:un,autoCapitalize:null,autoComplete:Ar,autoFocus:un,autoPlay:un,blocking:Ar,capture:un,charSet:null,checked:un,cite:null,className:Ar,cols:ct,colSpan:null,content:null,contentEditable:Ti,controls:un,controlsList:Ar,coords:ct|g0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:un,defer:un,dir:null,dirName:null,disabled:un,download:Rie,draggable:Ti,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:un,formTarget:null,headers:Ar,height:ct,hidden:un,high:ct,href:null,hrefLang:null,htmlFor:Ar,httpEquiv:Ar,id:null,imageSizes:null,imageSrcSet:null,inert:un,inputMode:null,integrity:null,is:null,isMap:un,itemId:null,itemProp:Ar,itemRef:Ar,itemScope:un,itemType:Ar,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:un,low:ct,manifest:null,max:null,maxLength:ct,media:null,method:null,min:null,minLength:ct,multiple:un,muted:un,name:null,nonce:null,noModule:un,noValidate:un,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:un,optimum:ct,pattern:null,ping:Ar,placeholder:null,playsInline:un,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:un,referrerPolicy:null,rel:Ar,required:un,reversed:un,rows:ct,rowSpan:ct,sandbox:Ar,scope:null,scoped:un,seamless:un,selected:un,shadowRootDelegatesFocus:un,shadowRootMode:null,shape:null,size:ct,sizes:null,slot:null,span:ct,spellCheck:Ti,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ct,step:null,style:null,tabIndex:ct,target:null,title:null,translate:null,type:null,typeMustMatch:un,useMap:null,value:Ti,width:ct,wrap:null,align:null,aLink:null,archive:Ar,axis:null,background:null,bgColor:null,border:ct,borderColor:null,bottomMargin:ct,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:un,declare:un,event:null,face:null,frame:null,frameBorder:null,hSpace:ct,leftMargin:ct,link:null,longDesc:null,lowSrc:null,marginHeight:ct,marginWidth:ct,noResize:un,noHref:un,noShade:un,noWrap:un,object:null,profile:null,prompt:null,rev:null,rightMargin:ct,rules:null,scheme:null,scrolling:Ti,standby:null,summary:null,text:null,topMargin:ct,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ct,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:un,disableRemotePlayback:un,prefix:null,property:null,results:ct,security:null,unselectable:null}}),pBe=$1({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Pie,properties:{about:fs,accentHeight:ct,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ct,amplitude:ct,arabicForm:null,ascent:ct,attributeName:null,attributeType:null,azimuth:ct,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ct,by:null,calcMode:null,capHeight:ct,className:Ar,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ct,diffuseConstant:ct,direction:null,display:null,dur:null,divisor:ct,dominantBaseline:null,download:un,dx:null,dy:null,edgeMode:null,editable:null,elevation:ct,enableBackground:null,end:null,event:null,exponent:ct,externalResourcesRequired:null,fill:null,fillOpacity:ct,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:g0,g2:g0,glyphName:g0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ct,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ct,horizOriginX:ct,horizOriginY:ct,id:null,ideographic:ct,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ct,k:ct,k1:ct,k2:ct,k3:ct,k4:ct,kernelMatrix:fs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ct,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ct,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ct,overlineThickness:ct,paintOrder:null,panose1:null,path:null,pathLength:ct,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ar,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ct,pointsAtY:ct,pointsAtZ:ct,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fs,rev:fs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fs,requiredFeatures:fs,requiredFonts:fs,requiredFormats:fs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ct,specularExponent:ct,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ct,strikethroughThickness:ct,string:null,stroke:null,strokeDashArray:fs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ct,strokeOpacity:ct,strokeWidth:null,style:null,surfaceScale:ct,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fs,tabIndex:ct,tableValues:null,target:null,targetX:ct,targetY:ct,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ct,underlineThickness:ct,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ct,values:null,vAlphabetic:ct,vMathematical:ct,vectorEffect:null,vHanging:ct,vIdeographic:ct,version:null,vertAdvY:ct,vertOriginX:ct,vertOriginY:ct,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ct,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),mBe=/^data[-\w.:]+$/i,f$=/-[a-z]/g,gBe=/[A-Z]/g;function vBe(e,t){const n=hT(t);let r=t,i=Ml;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&mBe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(f$,bBe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!f$.test(a)){let o=a.replace(gBe,yBe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=DR}return new i(r,t)}function yBe(e){return"-"+e.toLowerCase()}function bBe(e){return e.charAt(1).toUpperCase()}const wBe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xBe=Die([Oie,Iie,Lie,Fie,hBe],"html"),Bie=Die([Oie,Iie,Lie,Fie,pBe],"svg");function SBe(e){return e.join(" ").trim()}var RR={exports:{}},h$=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,CBe=/\n/g,EBe=/^\s*/,kBe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ABe=/^:\s*/,_Be=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,MBe=/^[;\s]*/,TBe=/^\s+|\s+$/g,NBe=`
`,p$="/",m$="*",dp="",DBe="comment",RBe="declaration",IBe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var g=m.match(CBe);g&&(n+=g.length);var S=m.lastIndexOf(NBe);r=~S?m.length-S:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new o(m),u(),g}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(m){var g=new Error(t.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(m){var g=m.exec(e);if(g){var S=g[0];return i(S),e=e.slice(S.length),g}}function u(){l(EBe)}function c(m){var g;for(m=m||[];g=d();)g!==!1&&m.push(g);return m}function d(){var m=a();if(!(p$!=e.charAt(0)||m$!=e.charAt(1))){for(var g=2;dp!=e.charAt(g)&&(m$!=e.charAt(g)||p$!=e.charAt(g+1));)++g;if(g+=2,dp===e.charAt(g-1))return s("End of comment missing");var S=e.slice(2,g-2);return r+=2,i(S),e=e.slice(g),r+=2,m({type:DBe,comment:S})}}function f(){var m=a(),g=l(kBe);if(g){if(d(),!l(ABe))return s("property missing ':'");var S=l(_Be),y=m({type:RBe,property:g$(g[0].replace(h$,dp)),value:S?g$(S[0].replace(h$,dp)):dp});return l(MBe),y}}function h(){var m=[];c(m);for(var g;g=f();)g!==!1&&(m.push(g),c(m));return m}return u(),h()};function g$(e){return e?e.replace(TBe,dp):dp}var OBe=IBe;function zie(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=OBe(e),a=typeof t=="function",o,s,l=0,u=i.length;l<u;l++)r=i[l],o=r.property,s=r.value,a?t(o,s,r):s&&(n||(n={}),n[o]=s);return n}RR.exports=zie;RR.exports.default=zie;var PBe=RR.exports;const jBe=Rs(PBe),$ie=Uie("end"),IR=Uie("start");function Uie(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function LBe(e){const t=IR(e),n=$ie(e);if(t&&n)return{start:t,end:n}}function Vy(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?v$(e.position):"start"in e||"end"in e?v$(e):"line"in e||"column"in e?mT(e):""}function mT(e){return y$(e&&e.line)+":"+y$(e&&e.column)}function v$(e){return mT(e&&e.start)+"-"+mT(e&&e.end)}function y$(e){return e&&typeof e=="number"?e:1}class Io extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=Vy(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}Io.prototype.file="";Io.prototype.name="";Io.prototype.reason="";Io.prototype.message="";Io.prototype.stack="";Io.prototype.column=void 0;Io.prototype.line=void 0;Io.prototype.ancestors=void 0;Io.prototype.cause=void 0;Io.prototype.fatal=void 0;Io.prototype.place=void 0;Io.prototype.ruleId=void 0;Io.prototype.source=void 0;const OR={}.hasOwnProperty,FBe=new Map,BBe=/[A-Z]/g,zBe=/-([a-z])/g,$Be=new Set(["table","tbody","thead","tfoot","tr"]),UBe=new Set(["td","th"]);function VBe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=qBe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=HBe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Bie:xBe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=Vie(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function Vie(e,t,n){if(t.type==="element"||t.type==="root"){const r=e.schema;let i=r;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Bie,e.schema=i),e.ancestors.push(t);let a=WBe(e,t);const o=GBe(e,e.ancestors);let s=e.Fragment;if(e.ancestors.pop(),t.type==="element")if(a&&$Be.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!cBe(l):!0})),OR.call(e.components,t.tagName)){const l=t.tagName;s=e.components[l],typeof s!="string"&&s!==e.Fragment&&e.passNode&&(o.node=t)}else s=t.tagName;if(a.length>0){const l=a.length>1?a:a[0];l&&(o.children=l)}return e.schema=r,e.create(t,s,o,n)}if(t.type==="text")return t.value}function HBe(e,t,n){return r;function r(i,a,o,s){const u=Array.isArray(o.children)?n:t;return s?u(a,o,s):u(a,o)}}function qBe(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=IR(r);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function WBe(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:FBe;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys&&a.type==="element"){const l=i.get(a.tagName)||0;o=a.tagName+"-"+l,i.set(a.tagName,l+1)}const s=Vie(e,a,o);s!==void 0&&n.push(s)}return n}function GBe(e,t){const n=t[t.length-1],r={};let i;if("properties"in n&&n.properties){let a;for(i in n.properties)if(i!=="children"&&OR.call(n.properties,i)){const o=KBe(e,t,i,n.properties[i]);if(o){const[s,l]=o;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&UBe.has(n.tagName)?a=l:r[s]=l}}if(a){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}}return r}function KBe(e,t,n,r){const i=vBe(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?lBe(r):SBe(r)),i.property==="style"){let a=typeof r=="object"?r:YBe(e,t,String(r));return e.stylePropertyNameCase==="css"&&(a=JBe(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&i.space?wBe[i.property]||i.property:i.attribute,r]}}function YBe(e,t,n){const r={};try{jBe(n,i)}catch(a){if(!e.ignoreInvalidStyle){const o=a,s=new Io("Cannot parse `style` attribute",{ancestors:t,cause:o,source:"hast-util-to-jsx-runtime",ruleId:"style"});throw s.file=e.filePath||void 0,s.url="https://github.com/syntax-tree/hast-util-to-jsx-runtime#cannot-parse-style-attribute",s}}return r;function i(a,o){let s=a;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(zBe,XBe)),r[s]=o}}function JBe(e){const t={};let n;for(n in e)OR.call(e,n)&&(t[QBe(n)]=e[n]);return t}function QBe(e){let t=e.replace(BBe,ZBe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function XBe(e,t){return t.toUpperCase()}function ZBe(e){return"-"+e.toLowerCase()}const n6={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},eze=yh(/\p{P}/u),vo=yh(/[A-Za-z]/),Ua=yh(/[\dA-Za-z]/),tze=yh(/[#-'*+\--9=?A-Z^-~]/);function s5(e){return e!==null&&(e<32||e===127)}const gT=yh(/\d/),nze=yh(/[\dA-Fa-f]/),Hie=yh(/[!-/:-@[-`{-~]/);function Bt(e){return e!==null&&e<-2}function xr(e){return e!==null&&(e<0||e===32)}function _n(e){return e===-2||e===-1||e===32}function CE(e){return Hie(e)||eze(e)}const em=yh(/\s/);function yh(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}const rze={'"':"quot","&":"amp","<":"lt",">":"gt"};function ize(e){return e.replace(/["&<>]/g,t);function t(n){return"&"+rze[n]+";"}}function aze(e,t){const n=ize(bm(e||""));if(!t)return n;const r=n.indexOf(":"),i=n.indexOf("?"),a=n.indexOf("#"),o=n.indexOf("/");return r<0||o>-1&&r>o||i>-1&&r>i||a>-1&&r>a||t.test(n.slice(0,r))?n:""}function bm(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Ua(e.charCodeAt(n+1))&&Ua(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o="�"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}const oze={};function PR(e,t){const n=t||oze,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return qie(e,r,i)}function qie(e,t,n){if(sze(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return b$(e.children,t,n)}return Array.isArray(e)?b$(e,t,n):""}function b$(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=qie(e[i],t,n);return r.join("")}function sze(e){return!!(e&&typeof e=="object")}const w$=document.createElement("i");function jR(e){const t="&"+e+";";w$.innerHTML=t;const n=w$.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Es(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function al(e,t){return e.length>0?(Es(e,e.length,0,t),e):t}const x$={}.hasOwnProperty;function Wie(e){const t={};let n=-1;for(;++n<e.length;)lze(t,e[n]);return t}function lze(e,t){let n;for(n in t){const i=(x$.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){x$.call(i,o)||(i[o]=[]);const s=a[o];uze(i[o],Array.isArray(s)?s:s?[s]:[])}}}function uze(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Es(e,0,0,r)}function Gie(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function nu(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function Bn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return _n(l)?(e.enter(n),s(l)):t(l)}function s(l){return _n(l)&&a++<i?(e.consume(l),s):(e.exit(n),t(l))}}const cze={tokenize:dze};function dze(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Bn(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Bt(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const fze={tokenize:hze},S$={tokenize:pze};function hze(e){const t=this,n=[];let r=0,i,a,o;return s;function s(x){if(r<n.length){const v=n[r];return t.containerState=v[1],e.attempt(v[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&E();const v=t.events.length;let C=v,b;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){b=t.events[C][1].end;break}y(r);let A=v;for(;A<t.events.length;)t.events[A][1].end=Object.assign({},b),A++;return Es(t.events,C+1,0,t.events.slice(v)),t.events.length=A,u(x)}return s(x)}function u(x){if(r===n.length){if(!i)return f(x);if(i.currentConstruct&&i.currentConstruct.concrete)return m(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(S$,c,d)(x)}function c(x){return i&&E(),y(r),f(x)}function d(x){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(x)}function f(x){return t.containerState={},e.attempt(S$,h,m)(x)}function h(x){return r++,n.push([t.currentConstruct,t.containerState]),f(x)}function m(x){if(x===null){i&&E(),y(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),g(x)}function g(x){if(x===null){S(e.exit("chunkFlow"),!0),y(0),e.consume(x);return}return Bt(x)?(e.consume(x),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(x),g)}function S(x,v){const C=t.sliceStream(x);if(v&&C.push(null),x.previous=a,a&&(a.next=x),a=x,i.defineSkip(x.start),i.write(C),t.parser.lazy[x.start.line]){let b=i.events.length;for(;b--;)if(i.events[b][1].start.offset<o&&(!i.events[b][1].end||i.events[b][1].end.offset>o))return;const A=t.events.length;let _=A,T,M;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){if(T){M=t.events[_][1].end;break}T=!0}for(y(r),b=A;b<t.events.length;)t.events[b][1].end=Object.assign({},M),b++;Es(t.events,_+1,0,t.events.slice(A)),t.events.length=b}}function y(x){let v=n.length;for(;v-- >x;){const C=n[v];t.containerState=C[1],C[0].exit.call(t,e)}n.length=x}function E(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function pze(e,t,n){return Bn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function l5(e){if(e===null||xr(e)||em(e))return 1;if(CE(e))return 2}function EE(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const vT={name:"attention",tokenize:gze,resolveAll:mze};function mze(e,t){let n=-1,r,i,a,o,s,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d=Object.assign({},e[r][1].end),f=Object.assign({},e[n][1].start);C$(d,-l),C$(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[r][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:f},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},s.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=al(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=al(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),u=al(u,EE(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=al(u,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=al(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Es(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function gze(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=l5(r);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const u=e.exit("attentionSequence"),c=l5(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(a===42?d:d&&(i||!f)),u._close=!!(a===42?f:f&&(c||!d)),t(l)}}function C$(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const vze={name:"autolink",tokenize:yze};function yze(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(h){return vo(h)?(e.consume(h),o):u(h)}function o(h){return h===43||h===45||h===46||Ua(h)?(r=1,s(h)):u(h)}function s(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||Ua(h))&&r++<32?(e.consume(h),s):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||s5(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):tze(h)?(e.consume(h),u):n(h)}function c(h){return Ua(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||Ua(h))&&r++<63){const m=h===45?f:d;return e.consume(h),m}return n(h)}}const W2={tokenize:bze,partial:!0};function bze(e,t,n){return r;function r(a){return _n(a)?Bn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Bt(a)?t(a):n(a)}}const Kie={name:"blockQuote",tokenize:wze,continuation:{tokenize:xze},exit:Sze};function wze(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return _n(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function xze(e,t,n){const r=this;return i;function i(o){return _n(o)?Bn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(Kie,t,n)(o)}}function Sze(e){e.exit("blockQuote")}const Yie={name:"characterEscape",tokenize:Cze};function Cze(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Hie(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const Jie={name:"characterReference",tokenize:Eze};function Eze(e,t,n){const r=this;let i=0,a,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,o=Ua,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=nze,c):(e.enter("characterReferenceValue"),a=7,o=gT,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return o===Ua&&!jR(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<a?(e.consume(d),c):n(d)}}const E$={tokenize:Aze,partial:!0},k$={name:"codeFenced",tokenize:kze,concrete:!0};function kze(e,t,n){const r=this,i={tokenize:C,partial:!0};let a=0,o=0,s;return l;function l(b){return u(b)}function u(b){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,s=b,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(b)}function c(b){return b===s?(o++,e.consume(b),c):o<3?n(b):(e.exit("codeFencedFenceSequence"),_n(b)?Bn(e,d,"whitespace")(b):d(b))}function d(b){return b===null||Bt(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(E$,g,v)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===null||Bt(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(b)):_n(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Bn(e,h,"whitespace")(b)):b===96&&b===s?n(b):(e.consume(b),f)}function h(b){return b===null||Bt(b)?d(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===null||Bt(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(b)):b===96&&b===s?n(b):(e.consume(b),m)}function g(b){return e.attempt(i,v,S)(b)}function S(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),y}function y(b){return a>0&&_n(b)?Bn(e,E,"linePrefix",a+1)(b):E(b)}function E(b){return b===null||Bt(b)?e.check(E$,g,v)(b):(e.enter("codeFlowValue"),x(b))}function x(b){return b===null||Bt(b)?(e.exit("codeFlowValue"),E(b)):(e.consume(b),x)}function v(b){return e.exit("codeFenced"),t(b)}function C(b,A,_){let T=0;return M;function M(z){return b.enter("lineEnding"),b.consume(z),b.exit("lineEnding"),N}function N(z){return b.enter("codeFencedFence"),_n(z)?Bn(b,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):I(z)}function I(z){return z===s?(b.enter("codeFencedFenceSequence"),F(z)):_(z)}function F(z){return z===s?(T++,b.consume(z),F):T>=o?(b.exit("codeFencedFenceSequence"),_n(z)?Bn(b,$,"whitespace")(z):$(z)):_(z)}function $(z){return z===null||Bt(z)?(b.exit("codeFencedFence"),A(z)):_(z)}}}function Aze(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const r6={name:"codeIndented",tokenize:Mze},_ze={tokenize:Tze,partial:!0};function Mze(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Bn(e,a,"linePrefix",4+1)(u)}function a(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Bt(u)?e.attempt(_ze,o,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||Bt(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function Tze(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Bt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Bn(e,a,"linePrefix",4+1)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Bt(o)?i(o):n(o)}}const Nze={name:"codeText",tokenize:Ize,resolve:Dze,previous:Rze};function Dze(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Rze(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ize(e,t,n){let r=0,i,a;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),r++,s):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(a=e.enter("codeTextSequence"),i=0,c(d)):Bt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Bt(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(a.type="codeTextData",u(d))}}function Qie(e){const t={};let n=-1,r,i,a,o,s,l,u;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Oze(e,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(o=e[a],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),s=e.slice(i,n),s.unshift(r),Es(e,i,n-i+1,s))}}return!u}function Oze(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const a=[],o=n._tokenizer||r.parser[n.contentType](n.start),s=o.events,l=[],u={};let c,d,f=-1,h=n,m=0,g=0;const S=[g];for(;h;){for(;e[++i][1]!==h;);a.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<s.length;)s[f][0]==="exit"&&s[f-1][0]==="enter"&&s[f][1].type===s[f-1][1].type&&s[f][1].start.line!==s[f][1].end.line&&(g=f+1,S.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):S.pop(),f=S.length;f--;){const y=s.slice(S[f],S[f+1]),E=a.pop();l.unshift([E,E+y.length-1]),Es(e,E,2,y)}for(f=-1;++f<l.length;)u[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return u}const Pze={tokenize:Fze,resolve:Lze},jze={tokenize:Bze,partial:!0};function Lze(e){return Qie(e),e}function Fze(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):Bt(s)?e.check(jze,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Bze(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Bn(e,a,"linePrefix")}function a(o){if(o===null||Bt(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function Xie(e,t,n,r,i,a,o,s,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(y),e.exit(a),f):y===null||y===32||y===41||s5(y)?n(y):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),g(y))}function f(y){return y===62?(e.enter(a),e.consume(y),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(s),f(y)):y===null||y===60||Bt(y)?n(y):(e.consume(y),y===92?m:h)}function m(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function g(y){return!c&&(y===null||y===41||xr(y))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,g):y===41?(e.consume(y),c--,g):y===null||y===32||y===40||s5(y)?n(y):(e.consume(y),y===92?S:g)}function S(y){return y===40||y===41||y===92?(e.consume(y),g):g(y)}}function Zie(e,t,n,r,i,a){const o=this;let s=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(a),c}function c(h){return s>999||h===null||h===91||h===93&&!l||h===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(a),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):Bt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||Bt(h)||s++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!_n(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),s++,d):d(h)}}function eae(e,t,n,r,i,a){let o;return s;function s(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(a),u(f))}function u(f){return f===o?(e.exit(a),l(o)):f===null?n(f):Bt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Bn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||Bt(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(e.consume(f),c):c(f)}}function Hy(e,t){let n;return r;function r(i){return Bt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):_n(i)?Bn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const zze={name:"definition",tokenize:Uze},$ze={tokenize:Vze,partial:!0};function Uze(e,t,n){const r=this;let i;return a;function a(h){return e.enter("definition"),o(h)}function o(h){return Zie.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return i=nu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return xr(h)?Hy(e,u)(h):u(h)}function u(h){return Xie(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt($ze,d,d)(h)}function d(h){return _n(h)?Bn(e,f,"whitespace")(h):f(h)}function f(h){return h===null||Bt(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function Vze(e,t,n){return r;function r(s){return xr(s)?Hy(e,i)(s):n(s)}function i(s){return eae(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return _n(s)?Bn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Bt(s)?t(s):n(s)}}const Hze={name:"hardBreakEscape",tokenize:qze};function qze(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Bt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const Wze={name:"headingAtx",tokenize:Kze,resolve:Gze};function Gze(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Es(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Kze(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),a(c)}function a(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||xr(c)?(e.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||Bt(c)?(e.exit("atxHeading"),t(c)):_n(c)?Bn(e,s,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||xr(c)?(e.exit("atxHeadingText"),s(c)):(e.consume(c),u)}}const Yze=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],A$=["pre","script","style","textarea"],Jze={name:"htmlFlow",tokenize:e$e,resolveTo:Zze,concrete:!0},Qze={tokenize:n$e,partial:!0},Xze={tokenize:t$e,partial:!0};function Zze(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function e$e(e,t,n){const r=this;let i,a,o,s,l;return u;function u(L){return c(L)}function c(L){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(L),d}function d(L){return L===33?(e.consume(L),f):L===47?(e.consume(L),a=!0,g):L===63?(e.consume(L),i=3,r.interrupt?t:H):vo(L)?(e.consume(L),o=String.fromCharCode(L),S):n(L)}function f(L){return L===45?(e.consume(L),i=2,h):L===91?(e.consume(L),i=5,s=0,m):vo(L)?(e.consume(L),i=4,r.interrupt?t:H):n(L)}function h(L){return L===45?(e.consume(L),r.interrupt?t:H):n(L)}function m(L){const G="CDATA[";return L===G.charCodeAt(s++)?(e.consume(L),s===G.length?r.interrupt?t:I:m):n(L)}function g(L){return vo(L)?(e.consume(L),o=String.fromCharCode(L),S):n(L)}function S(L){if(L===null||L===47||L===62||xr(L)){const G=L===47,de=o.toLowerCase();return!G&&!a&&A$.includes(de)?(i=1,r.interrupt?t(L):I(L)):Yze.includes(o.toLowerCase())?(i=6,G?(e.consume(L),y):r.interrupt?t(L):I(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(L):a?E(L):x(L))}return L===45||Ua(L)?(e.consume(L),o+=String.fromCharCode(L),S):n(L)}function y(L){return L===62?(e.consume(L),r.interrupt?t:I):n(L)}function E(L){return _n(L)?(e.consume(L),E):M(L)}function x(L){return L===47?(e.consume(L),M):L===58||L===95||vo(L)?(e.consume(L),v):_n(L)?(e.consume(L),x):M(L)}function v(L){return L===45||L===46||L===58||L===95||Ua(L)?(e.consume(L),v):C(L)}function C(L){return L===61?(e.consume(L),b):_n(L)?(e.consume(L),C):x(L)}function b(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(e.consume(L),l=L,A):_n(L)?(e.consume(L),b):_(L)}function A(L){return L===l?(e.consume(L),l=null,T):L===null||Bt(L)?n(L):(e.consume(L),A)}function _(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||xr(L)?C(L):(e.consume(L),_)}function T(L){return L===47||L===62||_n(L)?x(L):n(L)}function M(L){return L===62?(e.consume(L),N):n(L)}function N(L){return L===null||Bt(L)?I(L):_n(L)?(e.consume(L),N):n(L)}function I(L){return L===45&&i===2?(e.consume(L),D):L===60&&i===1?(e.consume(L),P):L===62&&i===4?(e.consume(L),K):L===63&&i===3?(e.consume(L),H):L===93&&i===5?(e.consume(L),B):Bt(L)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Qze,W,F)(L)):L===null||Bt(L)?(e.exit("htmlFlowData"),F(L)):(e.consume(L),I)}function F(L){return e.check(Xze,$,W)(L)}function $(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),z}function z(L){return L===null||Bt(L)?F(L):(e.enter("htmlFlowData"),I(L))}function D(L){return L===45?(e.consume(L),H):I(L)}function P(L){return L===47?(e.consume(L),o="",V):I(L)}function V(L){if(L===62){const G=o.toLowerCase();return A$.includes(G)?(e.consume(L),K):I(L)}return vo(L)&&o.length<8?(e.consume(L),o+=String.fromCharCode(L),V):I(L)}function B(L){return L===93?(e.consume(L),H):I(L)}function H(L){return L===62?(e.consume(L),K):L===45&&i===2?(e.consume(L),H):I(L)}function K(L){return L===null||Bt(L)?(e.exit("htmlFlowData"),W(L)):(e.consume(L),K)}function W(L){return e.exit("htmlFlow"),t(L)}}function t$e(e,t,n){const r=this;return i;function i(o){return Bt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function n$e(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(W2,t,n)}}const r$e={name:"htmlText",tokenize:i$e};function i$e(e,t,n){const r=this;let i,a,o;return s;function s(H){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(H),l}function l(H){return H===33?(e.consume(H),u):H===47?(e.consume(H),C):H===63?(e.consume(H),x):vo(H)?(e.consume(H),_):n(H)}function u(H){return H===45?(e.consume(H),c):H===91?(e.consume(H),a=0,m):vo(H)?(e.consume(H),E):n(H)}function c(H){return H===45?(e.consume(H),h):n(H)}function d(H){return H===null?n(H):H===45?(e.consume(H),f):Bt(H)?(o=d,P(H)):(e.consume(H),d)}function f(H){return H===45?(e.consume(H),h):d(H)}function h(H){return H===62?D(H):H===45?f(H):d(H)}function m(H){const K="CDATA[";return H===K.charCodeAt(a++)?(e.consume(H),a===K.length?g:m):n(H)}function g(H){return H===null?n(H):H===93?(e.consume(H),S):Bt(H)?(o=g,P(H)):(e.consume(H),g)}function S(H){return H===93?(e.consume(H),y):g(H)}function y(H){return H===62?D(H):H===93?(e.consume(H),y):g(H)}function E(H){return H===null||H===62?D(H):Bt(H)?(o=E,P(H)):(e.consume(H),E)}function x(H){return H===null?n(H):H===63?(e.consume(H),v):Bt(H)?(o=x,P(H)):(e.consume(H),x)}function v(H){return H===62?D(H):x(H)}function C(H){return vo(H)?(e.consume(H),b):n(H)}function b(H){return H===45||Ua(H)?(e.consume(H),b):A(H)}function A(H){return Bt(H)?(o=A,P(H)):_n(H)?(e.consume(H),A):D(H)}function _(H){return H===45||Ua(H)?(e.consume(H),_):H===47||H===62||xr(H)?T(H):n(H)}function T(H){return H===47?(e.consume(H),D):H===58||H===95||vo(H)?(e.consume(H),M):Bt(H)?(o=T,P(H)):_n(H)?(e.consume(H),T):D(H)}function M(H){return H===45||H===46||H===58||H===95||Ua(H)?(e.consume(H),M):N(H)}function N(H){return H===61?(e.consume(H),I):Bt(H)?(o=N,P(H)):_n(H)?(e.consume(H),N):T(H)}function I(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),i=H,F):Bt(H)?(o=I,P(H)):_n(H)?(e.consume(H),I):(e.consume(H),$)}function F(H){return H===i?(e.consume(H),i=void 0,z):H===null?n(H):Bt(H)?(o=F,P(H)):(e.consume(H),F)}function $(H){return H===null||H===34||H===39||H===60||H===61||H===96?n(H):H===47||H===62||xr(H)?T(H):(e.consume(H),$)}function z(H){return H===47||H===62||xr(H)?T(H):n(H)}function D(H){return H===62?(e.consume(H),e.exit("htmlTextData"),e.exit("htmlText"),t):n(H)}function P(H){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),V}function V(H){return _n(H)?Bn(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):B(H)}function B(H){return e.enter("htmlTextData"),o(H)}}const LR={name:"labelEnd",tokenize:c$e,resolveTo:u$e,resolveAll:l$e},a$e={tokenize:d$e},o$e={tokenize:f$e},s$e={tokenize:h$e};function l$e(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function u$e(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return s=[["enter",l,t],["enter",u,t]],s=al(s,e.slice(a+1,a+r+3)),s=al(s,[["enter",c,t]]),s=al(s,EE(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=al(s,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),s=al(s,e.slice(o+1)),s=al(s,[["exit",l,t]]),Es(e,a,e.length,s),e}function c$e(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(f){return a?a._inactive?d(f):(o=r.parser.defined.includes(nu(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(a$e,c,o?c:d)(f):f===91?e.attempt(o$e,c,o?u:d)(f):o?c(f):d(f)}function u(f){return e.attempt(s$e,c,d)(f)}function c(f){return t(f)}function d(f){return a._balanced=!0,n(f)}}function d$e(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return xr(d)?Hy(e,a)(d):a(d)}function a(d){return d===41?c(d):Xie(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return xr(d)?Hy(e,l)(d):c(d)}function s(d){return n(d)}function l(d){return d===34||d===39||d===40?eae(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return xr(d)?Hy(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function f$e(e,t,n){const r=this;return i;function i(s){return Zie.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(nu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function h$e(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const p$e={name:"labelStartImage",tokenize:m$e,resolveAll:LR.resolveAll};function m$e(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const g$e={name:"labelStartLink",tokenize:v$e,resolveAll:LR.resolveAll};function v$e(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const i6={name:"lineEnding",tokenize:y$e};function y$e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Bn(e,t,"linePrefix")}}const Z3={name:"thematicBreak",tokenize:b$e};function b$e(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Bt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),_n(u)?Bn(e,s,"whitespace")(u):s(u))}}const Uo={name:"list",tokenize:S$e,continuation:{tokenize:C$e},exit:k$e},w$e={tokenize:A$e,partial:!0},x$e={tokenize:E$e,partial:!0};function S$e(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(h){const m=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:gT(h)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Z3,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return gT(h)&&++o<10?(e.consume(h),l):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(W2,r.interrupt?n:c,e.attempt(w$e,f,d))}function c(h){return r.containerState.initialBlankLine=!0,a++,f(h)}function d(h){return _n(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function C$e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(W2,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Bn(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!_n(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(x$e,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Bn(e,e.attempt(Uo,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function E$e(e,t,n){const r=this;return Bn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function k$e(e){e.exit(this.containerState.type)}function A$e(e,t,n){const r=this;return Bn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(a){const o=r.events[r.events.length-1];return!_n(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const _$={name:"setextUnderline",tokenize:M$e,resolveTo:_$e};function _$e(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function M$e(e,t,n){const r=this;let i;return a;function a(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),_n(u)?Bn(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Bt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const T$e={tokenize:N$e};function N$e(e){const t=this,n=e.attempt(W2,r,e.attempt(this.parser.constructs.flowInitial,i,Bn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Pze,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const D$e={resolveAll:nae()},R$e=tae("string"),I$e=tae("text");function tae(e){return{tokenize:t,resolveAll:nae(e==="text"?O$e:void 0)};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(c){return u(c)?a(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),a(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function nae(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function O$e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)l=!0,s++;else if(u!==-1){a++;break}}if(s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+a,_bufferIndex:a?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function P$e(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let o=[],s=[];const l={consume:E,enter:x,exit:v,attempt:A(C),check:A(b),interrupt:A(b,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:f,now:m,defineSkip:g,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function d(N){return o=al(o,N),S(),o[o.length-1]!==null?[]:(_(t,0),u.events=EE(a,u.events,u),u.events)}function f(N,I){return L$e(h(N),I)}function h(N){return j$e(o,N)}function m(){const{line:N,column:I,offset:F,_index:$,_bufferIndex:z}=r;return{line:N,column:I,offset:F,_index:$,_bufferIndex:z}}function g(N){i[N.line]=N.column,M()}function S(){let N;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<I.length;)y(I.charCodeAt(r._bufferIndex));else y(I)}}function y(N){c=c(N)}function E(N){Bt(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,M()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=N}function x(N,I){const F=I||{};return F.type=N,F.start=m(),u.events.push(["enter",F,u]),s.push(F),F}function v(N){const I=s.pop();return I.end=m(),u.events.push(["exit",I,u]),I}function C(N,I){_(N,I.from)}function b(N,I){I.restore()}function A(N,I){return F;function F($,z,D){let P,V,B,H;return Array.isArray($)?W($):"tokenize"in $?W([$]):K($);function K(Q){return ee;function ee(ne){const se=ne!==null&&Q[ne],ge=ne!==null&&Q.null,xe=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(ge)?ge:ge?[ge]:[]];return W(xe)(ne)}}function W(Q){return P=Q,V=0,Q.length===0?D:L(Q[V])}function L(Q){return ee;function ee(ne){return H=T(),B=Q,Q.partial||(u.currentConstruct=Q),Q.name&&u.parser.constructs.disable.null.includes(Q.name)?de():Q.tokenize.call(I?Object.assign(Object.create(u),I):u,l,G,de)(ne)}}function G(Q){return N(B,H),z}function de(Q){return H.restore(),++V<P.length?L(P[V]):D}}}function _(N,I){N.resolveAll&&!a.includes(N)&&a.push(N),N.resolve&&Es(u.events,I,u.events.length-I,N.resolve(u.events.slice(I),u)),N.resolveTo&&(u.events=N.resolveTo(u.events,u))}function T(){const N=m(),I=u.previous,F=u.currentConstruct,$=u.events.length,z=Array.from(s);return{restore:D,from:$};function D(){r=N,u.previous=I,u.currentConstruct=F,u.events.length=$,s=z,M()}}function M(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function j$e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function L$e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}const F$e={[42]:Uo,[43]:Uo,[45]:Uo,[48]:Uo,[49]:Uo,[50]:Uo,[51]:Uo,[52]:Uo,[53]:Uo,[54]:Uo,[55]:Uo,[56]:Uo,[57]:Uo,[62]:Kie},B$e={[91]:zze},z$e={[-2]:r6,[-1]:r6,[32]:r6},$$e={[35]:Wze,[42]:Z3,[45]:[_$,Z3],[60]:Jze,[61]:_$,[95]:Z3,[96]:k$,[126]:k$},U$e={[38]:Jie,[92]:Yie},V$e={[-5]:i6,[-4]:i6,[-3]:i6,[33]:p$e,[38]:Jie,[42]:vT,[60]:[vze,r$e],[91]:g$e,[92]:[Hze,Yie],[93]:LR,[95]:vT,[96]:Nze},H$e={null:[vT,D$e]},q$e={null:[42,95]},W$e={null:[]},G$e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:q$e,contentInitial:B$e,disable:W$e,document:F$e,flow:$$e,flowInitial:z$e,insideSpan:H$e,string:U$e,text:V$e},Symbol.toStringTag,{value:"Module"}));function K$e(e){const n=Wie([G$e,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(cze),document:i(fze),flow:i(T$e),string:i(R$e),text:i(I$e)};return r;function i(a){return o;function o(s){return P$e(r,a,s)}}}function Y$e(e){for(;!Qie(e););return e}const M$=/[\0\t\n\r]/g;function J$e(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const l=[];let u,c,d,f,h;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),d=0,t="",n&&(a.charCodeAt(0)===65279&&d++,n=void 0);d<a.length;){if(M$.lastIndex=d,u=M$.exec(a),f=u&&u.index!==void 0?u.index:a.length,h=a.charCodeAt(f),!u){t=a.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(a.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Q$e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function X$e(e){return e.replace(Q$e,Z$e)}function Z$e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return Gie(n.slice(a?2:1),a?16:10)}return jR(n)||e}const rae={}.hasOwnProperty;function eUe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),tUe(n)(Y$e(K$e(n).document().write(J$e()(e,t,!0))))}function tUe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(le),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(ze),blockQuote:a(se),characterEscape:T,characterReference:T,codeFenced:a(ge),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(ge,o),codeText:a(xe,o),codeTextData:T,data:T,codeFlowValue:T,definition:a(we),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(_e),hardBreakEscape:a(Y),hardBreakTrailing:a(Y),htmlFlow:a(re,o),htmlFlowData:T,htmlText:a(re,o),htmlTextData:T,image:a(Se),label:o,link:a(le),listItem:a(Ee),listItemValue:f,listOrdered:a(ye,d),listUnordered:a(ye),paragraph:a(be),reference:L,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ze),strong:a(Me),thematicBreak:a(ce)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:ne,autolinkProtocol:ee,blockQuote:l(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:de,characterReferenceMarkerNumeric:de,characterReferenceValue:Q,codeFenced:l(S),codeFencedFence:g,codeFencedFenceInfo:h,codeFencedFenceMeta:m,codeFlowValue:M,codeIndented:l(y),codeText:l(z),codeTextData:M,data:M,definition:l(),definitionDestinationString:v,definitionLabelString:E,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(F),htmlFlowData:M,htmlText:l($),htmlTextData:M,image:l(P),label:B,labelText:V,lineEnding:N,link:l(D),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:G,resourceDestinationString:H,resourceTitleString:K,resource:W,setextHeading:l(_),setextHeadingLineSequence:A,setextHeadingText:b,strong:l(),thematicBreak:l()}};iae(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ae){let Ce={type:"root",children:[]};const Ie={stack:[Ce],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:c,data:n},Oe=[];let Ve=-1;for(;++Ve<ae.length;)if(ae[Ve][1].type==="listOrdered"||ae[Ve][1].type==="listUnordered")if(ae[Ve][0]==="enter")Oe.push(Ve);else{const qe=Oe.pop();Ve=i(ae,qe,Ve)}for(Ve=-1;++Ve<ae.length;){const qe=t[ae[Ve][0]];rae.call(qe,ae[Ve][1].type)&&qe[ae[Ve][1].type].call(Object.assign({sliceSerialize:ae[Ve][2].sliceSerialize},Ie),ae[Ve][1])}if(Ie.tokenStack.length>0){const qe=Ie.tokenStack[Ie.tokenStack.length-1];(qe[1]||T$).call(Ie,void 0,qe[0])}for(Ce.position={start:Ud(ae.length>0?ae[0][1].start:{line:1,column:1,offset:0}),end:Ud(ae.length>0?ae[ae.length-2][1].end:{line:1,column:1,offset:0})},Ve=-1;++Ve<t.transforms.length;)Ce=t.transforms[Ve](Ce)||Ce;return Ce}function i(ae,Ce,Ie){let Oe=Ce-1,Ve=-1,qe=!1,Je,We,Nt,Pe;for(;++Oe<=Ie;){const te=ae[Oe];switch(te[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{te[0]==="enter"?Ve++:Ve--,Pe=void 0;break}case"lineEndingBlank":{te[0]==="enter"&&(Je&&!Pe&&!Ve&&!Nt&&(Nt=Oe),Pe=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Pe=void 0}if(!Ve&&te[0]==="enter"&&te[1].type==="listItemPrefix"||Ve===-1&&te[0]==="exit"&&(te[1].type==="listUnordered"||te[1].type==="listOrdered")){if(Je){let he=Oe;for(We=void 0;he--;){const U=ae[he];if(U[1].type==="lineEnding"||U[1].type==="lineEndingBlank"){if(U[0]==="exit")continue;We&&(ae[We][1].type="lineEndingBlank",qe=!0),U[1].type="lineEnding",We=he}else if(!(U[1].type==="linePrefix"||U[1].type==="blockQuotePrefix"||U[1].type==="blockQuotePrefixWhitespace"||U[1].type==="blockQuoteMarker"||U[1].type==="listItemIndent"))break}Nt&&(!We||Nt<We)&&(Je._spread=!0),Je.end=Object.assign({},We?ae[We][1].start:te[1].end),ae.splice(We||Oe,0,["exit",Je,te[2]]),Oe++,Ie++}if(te[1].type==="listItemPrefix"){const he={type:"listItem",_spread:!1,start:Object.assign({},te[1].start),end:void 0};Je=he,ae.splice(Oe,0,["enter",he,te[2]]),Oe++,Ie++,Nt=void 0,Pe=!0}}}return ae[Ce][1]._spread=qe,Ie}function a(ae,Ce){return Ie;function Ie(Oe){s.call(this,ae(Oe),Oe),Ce&&Ce.call(this,Oe)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(ae,Ce,Ie){this.stack[this.stack.length-1].children.push(ae),this.stack.push(ae),this.tokenStack.push([Ce,Ie]),ae.position={start:Ud(Ce.start),end:void 0}}function l(ae){return Ce;function Ce(Ie){ae&&ae.call(this,Ie),u.call(this,Ie)}}function u(ae,Ce){const Ie=this.stack.pop(),Oe=this.tokenStack.pop();if(Oe)Oe[0].type!==ae.type&&(Ce?Ce.call(this,ae,Oe[0]):(Oe[1]||T$).call(this,ae,Oe[0]));else throw new Error("Cannot close `"+ae.type+"` ("+Vy({start:ae.start,end:ae.end})+"): it’s not open");Ie.position.end=Ud(ae.end)}function c(){return PR(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(ae){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(ae),10),this.data.expectingFirstListItemValue=void 0}}function h(){const ae=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=ae}function m(){const ae=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=ae}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const ae=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ae.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ae=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ae.replace(/(\r?\n|\r)$/g,"")}function E(ae){const Ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=Ce,Ie.identifier=nu(this.sliceSerialize(ae)).toLowerCase()}function x(){const ae=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ae}function v(){const ae=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ae}function C(ae){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const Ie=this.sliceSerialize(ae).length;Ce.depth=Ie}}function b(){this.data.setextHeadingSlurpLineEnding=!0}function A(ae){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(ae).codePointAt(0)===61?1:2}function _(){this.data.setextHeadingSlurpLineEnding=void 0}function T(ae){const Ie=this.stack[this.stack.length-1].children;let Oe=Ie[Ie.length-1];(!Oe||Oe.type!=="text")&&(Oe=X(),Oe.position={start:Ud(ae.start),end:void 0},Ie.push(Oe)),this.stack.push(Oe)}function M(ae){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(ae),Ce.position.end=Ud(ae.end)}function N(ae){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=Ce.children[Ce.children.length-1];Ie.position.end=Ud(ae.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ce.type)&&(T.call(this,ae),M.call(this,ae))}function I(){this.data.atHardBreak=!0}function F(){const ae=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ae}function $(){const ae=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ae}function z(){const ae=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ae}function D(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=Ce,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function P(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=Ce,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function V(ae){const Ce=this.sliceSerialize(ae),Ie=this.stack[this.stack.length-2];Ie.label=X$e(Ce),Ie.identifier=nu(Ce).toLowerCase()}function B(){const ae=this.stack[this.stack.length-1],Ce=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const Oe=ae.children;Ie.children=Oe}else Ie.alt=Ce}function H(){const ae=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ae}function K(){const ae=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ae}function W(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function G(ae){const Ce=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=Ce,Ie.identifier=nu(this.sliceSerialize(ae)).toLowerCase(),this.data.referenceType="full"}function de(ae){this.data.characterReferenceType=ae.type}function Q(ae){const Ce=this.sliceSerialize(ae),Ie=this.data.characterReferenceType;let Oe;Ie?(Oe=Gie(Ce,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Oe=jR(Ce);const Ve=this.stack.pop();Ve.value+=Oe,Ve.position.end=Ud(ae.end)}function ee(ae){M.call(this,ae);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(ae)}function ne(ae){M.call(this,ae);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(ae)}function se(){return{type:"blockquote",children:[]}}function ge(){return{type:"code",lang:null,meta:null,value:""}}function xe(){return{type:"inlineCode",value:""}}function we(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _e(){return{type:"emphasis",children:[]}}function ze(){return{type:"heading",depth:0,children:[]}}function Y(){return{type:"break"}}function re(){return{type:"html",value:""}}function Se(){return{type:"image",title:null,url:"",alt:null}}function le(){return{type:"link",title:null,url:"",children:[]}}function ye(ae){return{type:"list",ordered:ae.type==="listOrdered",start:null,spread:ae._spread,children:[]}}function Ee(ae){return{type:"listItem",spread:ae._spread,checked:null,children:[]}}function be(){return{type:"paragraph",children:[]}}function Me(){return{type:"strong",children:[]}}function X(){return{type:"text",value:""}}function ce(){return{type:"thematicBreak"}}}function Ud(e){return{line:e.line,column:e.column,offset:e.offset}}function iae(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?iae(e,r):nUe(e,r)}}function nUe(e,t){let n;for(n in t)if(rae.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function T$(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Vy({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Vy({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Vy({start:t.start,end:t.end})+") is still open")}function rUe(e){const t=this;t.parser=n;function n(r){return eUe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function iUe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function aUe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function oUe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function sUe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lUe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function uUe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=bm(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function cUe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dUe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function aae(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function fUe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return aae(e,t);const i={src:bm(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function hUe(e,t){const n={src:bm(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function pUe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function mUe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return aae(e,t);const i={href:bm(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function gUe(e,t){const n={href:bm(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vUe(e,t,n){const r=e.all(t),i=n?yUe(n):oae(t),a={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const c=r[s];(i||s!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,u),e.applyData(t,u)}function yUe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=oae(n[r])}return t}function oae(e){const t=e.spread;return t??e.children.length>1}function bUe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function wUe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xUe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function SUe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function CUe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=IR(t.children[1]),l=$ie(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function EUe(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<s;){const d=t.children[l],f={},h=o?o[l]:void 0;h&&(f.align=h);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function kUe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const N$=9,D$=32;function AUe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(R$(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(R$(t.slice(i),i>0,!1)),a.join("")}function R$(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===N$||a===D$;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===N$||a===D$;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function _Ue(e,t){const n={type:"text",value:AUe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function MUe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const TUe={blockquote:iUe,break:aUe,code:oUe,delete:sUe,emphasis:lUe,footnoteReference:uUe,heading:cUe,html:dUe,imageReference:fUe,image:hUe,inlineCode:pUe,linkReference:mUe,link:gUe,listItem:vUe,list:bUe,paragraph:wUe,root:xUe,strong:SUe,table:CUe,tableCell:kUe,tableRow:EUe,text:_Ue,thematicBreak:MUe,toml:jx,yaml:jx,definition:jx,footnoteDefinition:jx};function jx(){}const sae=-1,kE=0,u5=1,c5=2,FR=3,BR=4,zR=5,$R=6,lae=7,uae=8,I$=typeof self=="object"?self:globalThis,NUe=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case kE:case sae:return n(o,i);case u5:{const s=n([],i);for(const l of o)s.push(r(l));return s}case c5:{const s=n({},i);for(const[l,u]of o)s[r(l)]=r(u);return s}case FR:return n(new Date(o),i);case BR:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case zR:{const s=n(new Map,i);for(const[l,u]of o)s.set(r(l),r(u));return s}case $R:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case lae:{const{name:s,message:l}=o;return n(new I$[s](l),i)}case uae:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new I$[a](o),i)};return r},O$=e=>NUe(new Map,e)(0),dg="",{toString:DUe}={},{keys:RUe}=Object,Xv=e=>{const t=typeof e;if(t!=="object"||!e)return[kE,t];const n=DUe.call(e).slice(8,-1);switch(n){case"Array":return[u5,dg];case"Object":return[c5,dg];case"Date":return[FR,dg];case"RegExp":return[BR,dg];case"Map":return[zR,dg];case"Set":return[$R,dg]}return n.includes("Array")?[u5,n]:n.includes("Error")?[lae,n]:[c5,n]},Lx=([e,t])=>e===kE&&(t==="function"||t==="symbol"),IUe=(e,t,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=Xv(o);switch(s){case kE:{let c=o;switch(l){case"bigint":s=uae,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([sae],o)}return i([s,c],o)}case u5:{if(l)return i([l,[...o]],o);const c=[],d=i([s,c],o);for(const f of o)c.push(a(f));return d}case c5:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const c=[],d=i([s,c],o);for(const f of RUe(o))(e||!Lx(Xv(o[f])))&&c.push([a(f),a(o[f])]);return d}case FR:return i([s,o.toISOString()],o);case BR:{const{source:c,flags:d}=o;return i([s,{source:c,flags:d}],o)}case zR:{const c=[],d=i([s,c],o);for(const[f,h]of o)(e||!(Lx(Xv(f))||Lx(Xv(h))))&&c.push([a(f),a(h)]);return d}case $R:{const c=[],d=i([s,c],o);for(const f of o)(e||!Lx(Xv(f)))&&c.push(a(f));return d}}const{message:u}=o;return i([s,{name:l,message:u}],o)};return a},P$=(e,{json:t,lossy:n}={})=>{const r=[];return IUe(!(t||n),!!t,new Map,r)(e),r},d5=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?O$(P$(e,t)):structuredClone(e):(e,t)=>O$(P$(e,t));function OUe(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function PUe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function jUe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||OUe,r=e.options.footnoteBackLabel||PUe,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=bm(d.toLowerCase());let h=0;const m=[],g=e.footnoteCounts.get(d);for(;g!==void 0&&++h<=g;){m.length>0&&m.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,h);typeof E=="string"&&(E={type:"text",value:E}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const S=c[c.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const E=S.children[S.children.length-1];E&&E.type==="text"?E.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...m)}else c.push(...m);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...d5(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const AE=function(e){if(e==null)return zUe;if(typeof e=="function")return _E(e);if(typeof e=="object")return Array.isArray(e)?LUe(e):FUe(e);if(typeof e=="string")return BUe(e);throw new Error("Expected function, string, or object as test")};function LUe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=AE(e[n]);return _E(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function FUe(e){const t=e;return _E(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function BUe(e){return _E(t);function t(n){return n&&n.type===e}}function _E(e){return t;function t(n,r,i){return!!($Ue(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function zUe(){return!0}function $Ue(e){return e!==null&&typeof e=="object"&&"type"in e}const cae=[],UUe=!0,yT=!1,VUe="skip";function dae(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=AE(i),o=r?-1:1;s(e,void 0,[])();function s(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=cae,m,g,S;if((!t||a(l,u,c[c.length-1]||void 0))&&(h=HUe(n(l,c)),h[0]===yT))return h;if("children"in l&&l.children){const y=l;if(y.children&&h[0]!==VUe)for(g=(r?y.children.length:-1)+o,S=c.concat(y);g>-1&&g<y.children.length;){const E=y.children[g];if(m=s(E,g,S)(),m[0]===yT)return m;g=typeof m[1]=="number"?m[1]:g+o}}return h}}}function HUe(e){return Array.isArray(e)?e:typeof e=="number"?[UUe,e]:e==null?cae:[e]}function UR(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),dae(e,a,s,i);function s(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const bT={}.hasOwnProperty,qUe={};function WUe(e,t){const n=t||qUe,r=new Map,i=new Map,a=new Map,o={...TUe,...n.handlers},s={all:u,applyData:KUe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:GUe,wrap:JUe};return UR(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),s;function l(c,d){const f=c.type,h=s.handlers[f];if(bT.call(s.handlers,f)&&h)return h(s,c,d);if(s.options.passThrough&&s.options.passThrough.includes(f)){if("children"in c){const{children:g,...S}=c,y=d5(S);return y.children=s.all(c),y}return d5(c)}return(s.options.unknownHandler||YUe)(s,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const m=s.one(f[h],c);if(m){if(h&&f[h-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=j$(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=j$(g.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function GUe(e,t){e.position&&(t.position=LBe(e))}function KUe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,d5(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function YUe(e,t){const n=t.data||{},r="value"in t&&!(bT.call(n,"hProperties")||bT.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function JUe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function j$(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function L$(e,t){const n=WUe(e,t),r=n.one(e,void 0),i=jUe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function QUe(e,t){return e&&"run"in e?async function(n,r){const i=L$(n,t);await e.run(i,r)}:function(n){return L$(n,t||e)}}function F$(e){if(e)throw e}var eS=Object.prototype.hasOwnProperty,fae=Object.prototype.toString,B$=Object.defineProperty,z$=Object.getOwnPropertyDescriptor,$$=function(t){return typeof Array.isArray=="function"?Array.isArray(t):fae.call(t)==="[object Array]"},U$=function(t){if(!t||fae.call(t)!=="[object Object]")return!1;var n=eS.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&eS.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||eS.call(t,i)},V$=function(t,n){B$&&n.name==="__proto__"?B$(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},H$=function(t,n){if(n==="__proto__")if(eS.call(t,n)){if(z$)return z$(t,n).value}else return;return t[n]},XUe=function e(){var t,n,r,i,a,o,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=H$(s,n),i=H$(t,n),s!==i&&(c&&i&&(U$(i)||(a=$$(i)))?(a?(a=!1,o=r&&$$(r)?r:[]):o=r&&U$(r)?r:{},V$(s,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&V$(s,{name:n,newValue:i}));return s};const a6=Rs(XUe);function wT(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ZUe(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...u){const c=e[++a];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?eVe(c,s)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function eVe(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(s&&n)throw c;return i(c)}s||(l instanceof Promise?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const Tu={basename:tVe,dirname:nVe,extname:rVe,join:iVe,sep:"/"};function tVe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');G2(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function nVe(e){if(G2(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function rVe(e){G2(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function iVe(...e){let t=-1,n;for(;++t<e.length;)G2(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":aVe(n)}function aVe(e){G2(e);const t=e.codePointAt(0)===47;let n=oVe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function oVe(e,t){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function G2(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const sVe={cwd:lVe};function lVe(){return"/"}function xT(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function uVe(e){if(typeof e=="string")e=new URL(e);else if(!xT(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return cVe(e)}function cVe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const o6=["history","path","basename","stem","extname","dirname"];class hae{constructor(t){let n;t?xT(t)?n={path:t}:typeof t=="string"||dVe(t)?n={value:t}:n=t:n={},this.cwd=sVe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<o6.length;){const a=o6[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)o6.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Tu.basename(this.path):void 0}set basename(t){l6(t,"basename"),s6(t,"basename"),this.path=Tu.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Tu.dirname(this.path):void 0}set dirname(t){q$(this.basename,"dirname"),this.path=Tu.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Tu.extname(this.path):void 0}set extname(t){if(s6(t,"extname"),q$(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Tu.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){xT(t)&&(t=uVe(t)),l6(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Tu.basename(this.path,this.extname):void 0}set stem(t){l6(t,"stem"),s6(t,"stem"),this.path=Tu.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Io(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function s6(e,t){if(e&&e.includes(Tu.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Tu.sep+"`")}function l6(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function q$(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function dVe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const fVe=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};Object.setPrototypeOf(a,r);const o=Object.getOwnPropertyNames(i);for(const s of o){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(a,s,l)}return a},hVe={}.hasOwnProperty;class VR extends fVe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ZUe()}copy(){const t=new VR;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(a6(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(d6("data",this.frozen),this.namespace[t]=n,this):hVe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(d6("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Fx(t),r=this.parser||this.Parser;return u6("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),u6("process",this.parser||this.Parser),c6("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=Fx(t),l=r.parse(s);r.run(l,s,function(c,d,f){if(c||!d||!f)return u(c);const h=d,m=r.stringify(h,f);gVe(m)?f.value=m:f.result=m,u(c,f)});function u(c,d){c||!d?o(c):a?a(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),u6("processSync",this.parser||this.Parser),c6("processSync",this.compiler||this.Compiler),this.process(t,i),G$("processSync","process",n),r;function i(a,o){n=!0,F$(a),r=o}}run(t,n,r){W$(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=Fx(n);i.run(t,l,u);function u(c,d,f){const h=d||t;c?s(c):o?o(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),G$("runSync","run",r),i;function a(o,s){F$(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=Fx(n),i=this.compiler||this.Compiler;return c6("stringify",i),W$(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(d6("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=a6(!0,i.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];a(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...m]=c;const g=r[f][1];wT(g)&&wT(h)&&(h=a6(!0,g,h)),r[f]=[u,h,...m]}}}}const pVe=new VR().freeze();function u6(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function c6(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function d6(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function W$(e){if(!wT(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function G$(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Fx(e){return mVe(e)?e:new hae(e)}function mVe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function gVe(e){return typeof e=="string"||vVe(e)}function vVe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const K$={}.hasOwnProperty,yVe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Y$=[],J$={allowDangerousHtml:!0},bVe=/^(https?|ircs?|mailto|xmpp)$/i,wVe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function xVe(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,a=e.components,o=e.disallowedElements,s=e.rehypePlugins||Y$,l=e.remarkPlugins||Y$,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...J$}:J$,c=e.skipHtml,d=e.unwrapDisallowed,f=e.urlTransform||SVe,h=pVe().use(rUe).use(l).use(QUe,u).use(s),m=new hae;typeof r=="string"&&(m.value=r);for(const E of wVe)Object.hasOwn(e,E.from)&&(""+E.from+(E.to?"use `"+E.to+"` instead":"remove it")+yVe+E.id,void 0);const g=h.parse(m);let S=h.runSync(g,m);return i&&(S={type:"element",tagName:"div",properties:{className:i},children:S.type==="root"?S.children:[S]}),UR(S,y),VBe(S,{Fragment:p.Fragment,components:a,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function y(E,x,v){if(E.type==="raw"&&v&&typeof x=="number")return c?v.children.splice(x,1):v.children[x]={type:"text",value:E.value},x;if(E.type==="element"){let C;for(C in n6)if(K$.call(n6,C)&&K$.call(E.properties,C)){const b=E.properties[C],A=n6[C];(A===null||A.includes(E.tagName))&&(E.properties[C]=f(String(b||""),C,E))}}if(E.type==="element"){let C=t?!t.includes(E.tagName):o?o.includes(E.tagName):!1;if(!C&&n&&typeof x=="number"&&(C=!n(E,x,v)),C&&v&&typeof x=="number")return d&&E.children?v.children.splice(x,1,...E.children):v.children.splice(x,1),x}}}function SVe(e){return aze(e,bVe)}function Q$(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function CVe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function EVe(e,t,n){const i=AE((n||{}).ignore||[]),a=kVe(t);let o=-1;for(;++o<a.length;)dae(e,"text",s);function s(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],m=f?f.children:void 0;if(i(h,m?m.indexOf(h):void 0,f))return;f=h}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=a[o][0],h=a[o][1];let m=0;const S=d.children.indexOf(u);let y=!1,E=[];f.lastIndex=0;let x=f.exec(u.value);for(;x;){const v=x.index,C={index:x.index,input:x.input,stack:[...c,u]};let b=h(...x,C);if(typeof b=="string"&&(b=b.length>0?{type:"text",value:b}:void 0),b===!1?f.lastIndex=v+1:(m!==v&&E.push({type:"text",value:u.value.slice(m,v)}),Array.isArray(b)?E.push(...b):b&&E.push(b),m=v+x[0].length,y=!0),!f.global)break;x=f.exec(u.value)}return y?(m<u.value.length&&E.push({type:"text",value:u.value.slice(m)}),d.children.splice(S,1,...E)):E=[u],S+E.length}}function kVe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([AVe(i[0]),_Ve(i[1])])}return t}function AVe(e){return typeof e=="string"?new RegExp(CVe(e),"g"):e}function _Ve(e){return typeof e=="function"?e:function(){return e}}const f6="phrasing",h6=["autolink","link","image","label"];function MVe(){return{transforms:[PVe],enter:{literalAutolink:NVe,literalAutolinkEmail:p6,literalAutolinkHttp:p6,literalAutolinkWww:p6},exit:{literalAutolink:OVe,literalAutolinkEmail:IVe,literalAutolinkHttp:DVe,literalAutolinkWww:RVe}}}function TVe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:f6,notInConstruct:h6},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:f6,notInConstruct:h6},{character:":",before:"[ps]",after:"\\/",inConstruct:f6,notInConstruct:h6}]}}function NVe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function p6(e){this.config.enter.autolinkProtocol.call(this,e)}function DVe(e){this.config.exit.autolinkProtocol.call(this,e)}function RVe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function IVe(e){this.config.exit.autolinkEmail.call(this,e)}function OVe(e){this.exit(e)}function PVe(e){EVe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,jVe],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,LVe]],{ignore:["link","linkReference"]})}function jVe(e,t,n,r,i){let a="";if(!pae(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!FVe(n)))return!1;const o=BVe(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function LVe(e,t,n,r){return!pae(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function FVe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function BVe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Q$(e,"(");let a=Q$(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function pae(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||em(n)||CE(n))&&(!t||n!==47)}mae.peek=JVe;function zVe(){return{enter:{gfmFootnoteDefinition:UVe,gfmFootnoteDefinitionLabelString:VVe,gfmFootnoteCall:WVe,gfmFootnoteCallString:GVe},exit:{gfmFootnoteDefinition:qVe,gfmFootnoteDefinitionLabelString:HVe,gfmFootnoteCall:YVe,gfmFootnoteCallString:KVe}}}function $Ve(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:QVe,footnoteReference:mae}}}function UVe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function VVe(){this.buffer()}function HVe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=nu(this.sliceSerialize(e)).toLowerCase()}function qVe(e){this.exit(e)}function WVe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function GVe(){this.buffer()}function KVe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=nu(this.sliceSerialize(e)).toLowerCase()}function YVe(e){this.exit(e)}function mae(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{...i.current(),before:a,after:"]"})),s(),o(),a+=i.move("]"),a}function JVe(){return"["}function QVe(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteDefinition"),s=n.enter("label");return a+=i.move(n.safe(n.associationId(e),{...i.current(),before:a,after:"]"})),s(),a+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),a+=i.move(n.indentLines(n.containerFlow(e,i.current()),XVe)),o(),a}function XVe(e,t,n){return t===0?e:(n?"":"    ")+e}const ZVe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];gae.peek=iHe;function eHe(){return{canContainEols:["delete"],enter:{strikethrough:nHe},exit:{strikethrough:rHe}}}function tHe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ZVe}],handlers:{delete:gae}}}function nHe(e){this.enter({type:"delete",children:[]},e)}function rHe(e){this.exit(e)}function gae(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function iHe(){return"~"}function aHe(e,t={}){const n=(t.align||[]).concat(),r=t.stringLength||sHe,i=[],a=[],o=[],s=[];let l=0,u=-1;for(;++u<e.length;){const m=[],g=[];let S=-1;for(e[u].length>l&&(l=e[u].length);++S<e[u].length;){const y=oHe(e[u][S]);if(t.alignDelimiters!==!1){const E=r(y);g[S]=E,(s[S]===void 0||E>s[S])&&(s[S]=E)}m.push(y)}a[u]=m,o[u]=g}let c=-1;if(typeof n=="object"&&"length"in n)for(;++c<l;)i[c]=X$(n[c]);else{const m=X$(n);for(;++c<l;)i[c]=m}c=-1;const d=[],f=[];for(;++c<l;){const m=i[c];let g="",S="";m===99?(g=":",S=":"):m===108?g=":":m===114&&(S=":");let y=t.alignDelimiters===!1?1:Math.max(1,s[c]-g.length-S.length);const E=g+"-".repeat(y)+S;t.alignDelimiters!==!1&&(y=g.length+y+S.length,y>s[c]&&(s[c]=y),f[c]=y),d[c]=E}a.splice(1,0,d),o.splice(1,0,f),u=-1;const h=[];for(;++u<a.length;){const m=a[u],g=o[u];c=-1;const S=[];for(;++c<l;){const y=m[c]||"";let E="",x="";if(t.alignDelimiters!==!1){const v=s[c]-(g[c]||0),C=i[c];C===114?E=" ".repeat(v):C===99?v%2?(E=" ".repeat(v/2+.5),x=" ".repeat(v/2-.5)):(E=" ".repeat(v/2),x=E):x=" ".repeat(v)}t.delimiterStart!==!1&&!c&&S.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&y==="")&&(t.delimiterStart!==!1||c)&&S.push(" "),t.alignDelimiters!==!1&&S.push(E),S.push(y),t.alignDelimiters!==!1&&S.push(x),t.padding!==!1&&S.push(" "),(t.delimiterEnd!==!1||c!==l-1)&&S.push("|")}h.push(t.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return h.join(`
`)}function oHe(e){return e==null?"":String(e)}function sHe(e){return e.length}function X$(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function lHe(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),uHe);return i(),o}function uHe(e,t,n){return">"+(n?"":" ")+e}function cHe(e,t){return Z$(e,t.inConstruct,!0)&&!Z$(e,t.notInConstruct,!1)}function Z$(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function eU(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&cHe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function dHe(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function fHe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function hHe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function pHe(e,t,n,r){const i=hHe(n),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(fHe(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(a,mHe);return d(),f}const s=n.createTracker(r),l=i.repeat(Math.max(dHe(a,i)+1,3)),u=n.enter("codeFenced");let c=s.move(l);if(e.lang){const d=n.enter(`codeFencedLang${o}`);c+=s.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);c+=s.move(" "),c+=s.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...s.current()})),d()}return c+=s.move(`
`),a&&(c+=s.move(a+`
`)),c+=s.move(l),u(),c}function mHe(e,t,n){return(n?"":"    ")+e}function HR(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function gHe(e,t,n,r){const i=HR(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),o(),u}function vHe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}vae.peek=yHe;function vae(e,t,n,r){const i=vHe(n),a=n.enter("emphasis"),o=n.createTracker(r);let s=o.move(i);return s+=o.move(n.containerPhrasing(e,{before:s,after:i,...o.current()})),s+=o.move(i),a(),s}function yHe(e,t,n){return n.options.emphasis||"*"}function bHe(e,t){let n=!1;return UR(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,yT}),!!((!e.depth||e.depth<3)&&PR(e)&&(t.options.setext||n))}function wHe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(bHe(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");a.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),s(),u}yae.peek=xHe;function yae(e){return e.value||""}function xHe(){return"<"}bae.peek=SHe;function bae(e,t,n,r){const i=HR(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),s()),u+=l.move(")"),o(),u}function SHe(){return"!"}wae.peek=CHe;function wae(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const u=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=c,a(),i==="full"||!u||u!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function CHe(){return"!"}xae.peek=EHe;function xae(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const o=n.unsafe[a],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function EHe(){return"`"}function Sae(e,t){const n=PR(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Cae.peek=kHe;function Cae(e,t,n,r){const i=HR(n),a=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(Sae(e,n)){const c=n.stack;n.stack=[],s=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),n.stack=c,d}s=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),s(),u}function kHe(e,t,n){return Sae(e,n)?"<":"["}Eae.peek=AHe;function Eae(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=c,a(),i==="full"||!u||u!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function AHe(){return"["}function qR(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function _He(e){const t=qR(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function MHe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function kae(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function THe(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?MHe(n):qR(n);const s=e.ordered?o==="."?")":".":_He(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),kae(n)===o&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),u}function NHe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function DHe(e,t,n,r){const i=NHe(n);let a=n.bulletCurrent||qR(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(a+" ".repeat(o-a.length)),s.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),c);return l(),u;function c(d,f,h){return f?(h?"":" ".repeat(o))+d:(h?a:a+" ".repeat(o-a.length))+d}}function RHe(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,r);return a(),i(),o}const IHe=AE(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function OHe(e,t,n,r){return(e.children.some(function(o){return IHe(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function PHe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Aae.peek=jHe;function Aae(e,t,n,r){const i=PHe(n),a=n.enter("strong"),o=n.createTracker(r);let s=o.move(i+i);return s+=o.move(n.containerPhrasing(e,{before:s,after:i,...o.current()})),s+=o.move(i+i),a(),s}function jHe(e,t,n){return n.options.strong||"*"}function LHe(e,t,n,r){return n.safe(e.value,r)}function FHe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function BHe(e,t,n){const r=(kae(n)+(n.options.ruleSpaces?" ":"")).repeat(FHe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const _ae={blockquote:lHe,break:eU,code:pHe,definition:gHe,emphasis:vae,hardBreak:eU,heading:wHe,html:yae,image:bae,imageReference:wae,inlineCode:xae,link:Cae,linkReference:Eae,list:THe,listItem:DHe,paragraph:RHe,root:OHe,strong:Aae,text:LHe,thematicBreak:BHe};function zHe(){return{enter:{table:$He,tableData:tU,tableHeader:tU,tableRow:VHe},exit:{codeText:HHe,table:UHe,tableData:m6,tableHeader:m6,tableRow:m6}}}function $He(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function UHe(e){this.exit(e),this.data.inTable=void 0}function VHe(e){this.enter({type:"tableRow",children:[]},e)}function m6(e){this.exit(e)}function tU(e){this.enter({type:"tableCell",children:[]},e)}function HHe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,qHe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function qHe(e,t){return t==="|"?t:e}function WHe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:s}};function o(h,m,g,S){return u(c(h,g,S),h.align)}function s(h,m,g,S){const y=d(h,g,S),E=u([y]);return E.slice(0,E.indexOf(`
`))}function l(h,m,g,S){const y=g.enter("tableCell"),E=g.enter("phrasing"),x=g.containerPhrasing(h,{...S,before:a,after:a});return E(),y(),x}function u(h,m){return aHe(h,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function c(h,m,g){const S=h.children;let y=-1;const E=[],x=m.enter("table");for(;++y<S.length;)E[y]=d(S[y],m,g);return x(),E}function d(h,m,g){const S=h.children;let y=-1;const E=[],x=m.enter("tableRow");for(;++y<S.length;)E[y]=l(S[y],h,m,g);return x(),E}function f(h,m,g){let S=_ae.inlineCode(h,m,g);return g.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function GHe(){return{exit:{taskListCheckValueChecked:nU,taskListCheckValueUnchecked:nU,paragraph:YHe}}}function KHe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:JHe}}}function nU(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function YHe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function JHe(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);a&&s.move(o);let l=_ae.listItem(e,t,n,{...r,...s.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+o}}function QHe(){return[MVe(),zVe(),eHe(),zHe(),GHe()]}function XHe(e){return{extensions:[TVe(),$Ve(),tHe(),WHe(e),KHe()]}}const ZHe={tokenize:aqe,partial:!0},Mae={tokenize:oqe,partial:!0},Tae={tokenize:sqe,partial:!0},Nae={tokenize:lqe,partial:!0},eqe={tokenize:uqe,partial:!0},Dae={tokenize:rqe,previous:Iae},Rae={tokenize:iqe,previous:Oae},xd={tokenize:nqe,previous:Pae},lc={};function tqe(){return{text:lc}}let Yh=48;for(;Yh<123;)lc[Yh]=xd,Yh++,Yh===58?Yh=65:Yh===91&&(Yh=97);lc[43]=xd;lc[45]=xd;lc[46]=xd;lc[95]=xd;lc[72]=[xd,Rae];lc[104]=[xd,Rae];lc[87]=[xd,Dae];lc[119]=[xd,Dae];function nqe(e,t,n){const r=this;let i,a;return o;function o(d){return!ST(d)||!Pae.call(r,r.previous)||WR(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return ST(d)?(e.consume(d),s):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(eqe,c,u)(d):d===45||d===95||Ua(d)?(a=!0,e.consume(d),l):c(d)}function u(d){return e.consume(d),i=!0,l}function c(d){return a&&i&&vo(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function rqe(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!Iae.call(r,r.previous)||WR(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ZHe,e.attempt(Mae,e.attempt(Tae,a),n),n)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function iqe(e,t,n){const r=this;let i="",a=!1;return o;function o(d){return(d===72||d===104)&&Oae.call(r,r.previous)&&!WR(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):n(d)}function s(d){if(vo(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),a?u:(a=!0,l)):n(d)}function u(d){return d===null||s5(d)||xr(d)||em(d)||CE(d)?n(d):e.attempt(Mae,e.attempt(Tae,c),n)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function aqe(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),a):n(o)}function a(o){return o===null?n(o):t(o)}}function oqe(e,t,n){let r,i,a;return o;function o(u){return u===46||u===95?e.check(Nae,l,s)(u):u===null||xr(u)||em(u)||u!==45&&CE(u)?l(u):(a=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function l(u){return i||r||!a?n(u):t(u)}}function sqe(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Nae,t,a)(o):o===null||xr(o)||em(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&r++,e.consume(o),i}}function lqe(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||xr(s)||em(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||xr(s)||em(s)?t(s):r(s)}function a(s){return vo(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):vo(s)?(e.consume(s),o):n(s)}}function uqe(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Ua(a)?n(a):t(a)}}function Iae(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||xr(e)}function Oae(e){return!vo(e)}function Pae(e){return!(e===47||ST(e))}function ST(e){return e===43||e===45||e===46||e===95||Ua(e)}function WR(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const cqe={tokenize:yqe,partial:!0};function dqe(){return{document:{[91]:{tokenize:mqe,continuation:{tokenize:gqe},exit:vqe}},text:{[91]:{tokenize:pqe},[93]:{add:"after",tokenize:fqe,resolveTo:hqe}}}}function fqe(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const u=nu(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function hqe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function pqe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(a>999||d===93&&!o||d===null||d===91||xr(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(nu(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return xr(d)||(o=!0),a++,e.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(e.consume(d),a++,u):u(d)}}function mqe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,s;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(m)}function c(m){if(o>999||m===93&&!s||m===null||m===91||xr(m))return n(m);if(m===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=nu(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return xr(m)||(s=!0),o++,e.consume(m),m===92?d:c}function d(m){return m===91||m===92||m===93?(e.consume(m),o++,c):c(m)}function f(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(a)||i.push(a),Bn(e,h,"gfmFootnoteDefinitionWhitespace")):n(m)}function h(m){return t(m)}}function gqe(e,t,n){return e.check(W2,t,e.attempt(cqe,t,n))}function vqe(e){e.exit("gfmFootnoteDefinition")}function yqe(e,t,n){const r=this;return Bn(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):n(a)}}function bqe(e){let n=(e||{}).singleTilde;const r={tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{[126]:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",c,s],["enter",o[u][1],s],["exit",o[u][1],s],["enter",d,s]],h=s.parser.constructs.insideSpan.null;h&&Es(f,f.length,0,EE(h,o.slice(u+1,l),s)),Es(f,f.length,0,[["exit",d,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",c,s]]),Es(o,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function a(o,s,l){const u=this.previous,c=this.events;let d=0;return f;function f(m){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(m):(o.enter("strikethroughSequenceTemporary"),h(m))}function h(m){const g=l5(u);if(m===126)return d>1?l(m):(o.consume(m),d++,h);if(d<2&&!n)return l(m);const S=o.exit("strikethroughSequenceTemporary"),y=l5(m);return S._open=!y||y===2&&!!g,S._close=!g||g===2&&!!y,s(m)}}}class wqe{constructor(){this.map=[]}add(t,n,r){xqe(this,t,n,r)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let i=r.pop();for(;i;)t.push(...i),i=r.pop();this.map.length=0}}function xqe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Sqe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Cqe(){return{flow:{null:{tokenize:Eqe,resolveAll:kqe}}}}function Eqe(e,t,n){const r=this;let i=0,a=0,o;return s;function s(M){let N=r.events.length-1;for(;N>-1;){const $=r.events[N][1].type;if($==="lineEnding"||$==="linePrefix")N--;else break}const I=N>-1?r.events[N][1].type:null,F=I==="tableHead"||I==="tableRow"?b:l;return F===b&&r.parser.lazy[r.now().line]?n(M):F(M)}function l(M){return e.enter("tableHead"),e.enter("tableRow"),u(M)}function u(M){return M===124||(o=!0,a+=1),c(M)}function c(M){return M===null?n(M):Bt(M)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),h):n(M):_n(M)?Bn(e,c,"whitespace")(M):(a+=1,o&&(o=!1,i+=1),M===124?(e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),o=!0,c):(e.enter("data"),d(M)))}function d(M){return M===null||M===124||xr(M)?(e.exit("data"),c(M)):(e.consume(M),M===92?f:d)}function f(M){return M===92||M===124?(e.consume(M),d):d(M)}function h(M){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(M):(e.enter("tableDelimiterRow"),o=!1,_n(M)?Bn(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):m(M))}function m(M){return M===45||M===58?S(M):M===124?(o=!0,e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),g):C(M)}function g(M){return _n(M)?Bn(e,S,"whitespace")(M):S(M)}function S(M){return M===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(M),e.exit("tableDelimiterMarker"),y):M===45?(a+=1,y(M)):M===null||Bt(M)?v(M):C(M)}function y(M){return M===45?(e.enter("tableDelimiterFiller"),E(M)):C(M)}function E(M){return M===45?(e.consume(M),E):M===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(M),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(M))}function x(M){return _n(M)?Bn(e,v,"whitespace")(M):v(M)}function v(M){return M===124?m(M):M===null||Bt(M)?!o||i!==a?C(M):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(M)):C(M)}function C(M){return n(M)}function b(M){return e.enter("tableRow"),A(M)}function A(M){return M===124?(e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),A):M===null||Bt(M)?(e.exit("tableRow"),t(M)):_n(M)?Bn(e,A,"whitespace")(M):(e.enter("data"),_(M))}function _(M){return M===null||M===124||xr(M)?(e.exit("data"),A(M)):(e.consume(M),M===92?T:_)}function T(M){return M===92||M===124?(e.consume(M),_):_(M)}}function kqe(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,u,c,d;const f=new wqe;for(;++n<e.length;){const h=e[n],m=h[1];h[0]==="enter"?m.type==="tableHead"?(s=!1,l!==0&&(rU(f,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,d=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,c={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",c,t]])),i=m.type==="tableDelimiterRow"?2:c?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],d=Bx(f,t,a,i,void 0,d),a=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],d=Bx(f,t,a,i,void 0,d)),a=o,o=[a[1],n,0,0])):m.type==="tableHead"?(s=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,a[1]!==0?(o[0]=o[1],d=Bx(f,t,a,i,n,d)):o[1]!==0&&(d=Bx(f,t,o,i,n,d)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&rU(f,t,l,u,c),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=Sqe(t.events,n))}return e}function Bx(e,t,n,r,i,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(a.end=Object.assign({},Ag(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Ag(t.events,n[1]);if(a={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=Ag(t.events,n[2]),c=Ag(t.events,n[3]),d={type:s,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;e.add(m,g,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(a.end=Object.assign({},Ag(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function rU(e,t,n,r,i){const a=[],o=Ag(t.events,n);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(n+1,0,a)}function Ag(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Aqe={tokenize:Mqe};function _qe(){return{text:{[91]:Aqe}}}function Mqe(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return xr(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Bt(l)?t(l):_n(l)?e.check({tokenize:Tqe},t,n)(l):n(l)}}function Tqe(e,t,n){return Bn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Nqe(e){return Wie([tqe(),dqe(),bqe(e),Cqe(),_qe()])}const Dqe={};function Rqe(e){const t=this,n=e||Dqe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Nqe(n)),a.push(QHe()),o.push(XHe(n))}function ca(e){this.content=e}ca.prototype={constructor:ca,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),a=r.content.slice();return i==-1?a.push(n||e,t):(a[i+1]=t,n&&(a[i]=n)),new ca(a)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new ca(n)},addToStart:function(e,t){return new ca([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new ca(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),a=r.find(e);return i.splice(a==-1?i.length:a,0,t,n),new ca(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=ca.from(e),e.size?new ca(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=ca.from(e),e.size?new ca(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=ca.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};ca.from=function(e){if(e instanceof ca)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new ca(t)};function jae(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),a=t.child(r);if(i==a){n+=i.nodeSize;continue}if(!i.sameMarkup(a))return n;if(i.isText&&i.text!=a.text){for(let o=0;i.text[o]==a.text[o];o++)n++;return n}if(i.content.size||a.content.size){let o=jae(i.content,a.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function Lae(e,t,n,r){for(let i=e.childCount,a=t.childCount;;){if(i==0||a==0)return i==a?null:{a:n,b:r};let o=e.child(--i),s=t.child(--a),l=o.nodeSize;if(o==s){n-=l,r-=l;continue}if(!o.sameMarkup(s))return{a:n,b:r};if(o.isText&&o.text!=s.text){let u=0,c=Math.min(o.text.length,s.text.length);for(;u<c&&o.text[o.text.length-u-1]==s.text[s.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||s.content.size){let u=Lae(o.content,s.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class rt{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,a){for(let o=0,s=0;s<n;o++){let l=this.content[o],u=s+l.nodeSize;if(u>t&&r(l,i+s,a||null,o)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,t-c),Math.min(l.content.size,n-c),r,i+c)}s=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let a="",o=!0;return this.nodesBetween(t,n,(s,l)=>{s.isText?(a+=s.text.slice(Math.max(t,l)-l,n-l),o=!r):s.isLeaf?(i?a+=typeof i=="function"?i(s):i:s.type.spec.leafText&&(a+=s.type.spec.leafText(s)),o=!r):!o&&s.isBlock&&(a+=r,o=!0)},0),a}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),a=1);a<t.content.length;a++)i.push(t.content[a]);return new rt(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let a=0,o=0;o<n;a++){let s=this.content[a],l=o+s.nodeSize;l>t&&((o<t||l>n)&&(s.isText?s=s.cut(Math.max(0,t-o),Math.min(s.text.length,n-o)):s=s.cut(Math.max(0,t-o-1),Math.min(s.content.size,n-o-1))),r.push(s),i+=s.nodeSize),o=l}return new rt(r,i)}cutByIndex(t,n){return t==n?rt.empty:t==0&&n==this.content.length?this:new rt(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),a=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new rt(i,a)}addToStart(t){return new rt([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new rt(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return jae(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return Lae(this,t,n,r)}findIndex(t,n=-1){if(t==0)return zx(0,t);if(t==this.size)return zx(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let a=this.child(r),o=i+a.nodeSize;if(o>=t)return o==t||n>0?zx(r+1,o):zx(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return rt.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new rt(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return rt.empty;let n,r=0;for(let i=0;i<t.length;i++){let a=t[i];r+=a.nodeSize,i&&a.isText&&t[i-1].sameMarkup(a)?(n||(n=t.slice(0,i)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new rt(n||t,r)}static from(t){if(!t)return rt.empty;if(t instanceof rt)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new rt([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}rt.empty=new rt([],0);const g6={index:0,offset:0};function zx(e,t){return g6.index=e,g6.offset=t,g6}function f5(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!f5(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!f5(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let pr=class CT{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let a=t[i];if(this.eq(a))return t;if(this.type.excludes(a.type))n||(n=t.slice(0,i));else{if(a.type.excludes(this.type))return t;!r&&a.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(a)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&f5(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return CT.none;if(t instanceof CT)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};pr.none=[];class h5 extends Error{}class yt{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=Bae(this.content,t+this.openStart,n);return r&&new yt(r,this.openStart,this.openEnd)}removeBetween(t,n){return new yt(Fae(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return yt.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new yt(rt.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let a=t.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)r++;for(let a=t.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)i++;return new yt(t,r,i)}}yt.empty=new yt(rt.empty,0,0);function Fae(e,t,n){let{index:r,offset:i}=e.findIndex(t),a=e.maybeChild(r),{index:o,offset:s}=e.findIndex(n);if(i==t||a.isText){if(s!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,a.copy(Fae(a.content,t-i-1,n-i-1)))}function Bae(e,t,n,r){let{index:i,offset:a}=e.findIndex(t),o=e.maybeChild(i);if(a==t||o.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=Bae(o.content,t-a-1,n);return s&&e.replaceChild(i,o.copy(s))}function Iqe(e,t,n){if(n.openStart>e.depth)throw new h5("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new h5("Inconsistent open depths");return zae(e,t,n,0)}function zae(e,t,n,r){let i=e.index(r),a=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let o=zae(e,t,n,r+1);return a.copy(a.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,s=o.content;return Pp(o,s.cut(0,e.parentOffset).append(n.content).append(s.cut(t.parentOffset)))}else{let{start:o,end:s}=Oqe(n,e);return Pp(a,Uae(e,o,s,t,r))}else return Pp(a,p5(e,t,r))}function $ae(e,t){if(!t.type.compatibleContent(e.type))throw new h5("Cannot join "+t.type.name+" onto "+e.type.name)}function ET(e,t,n){let r=e.node(n);return $ae(r,t.node(n)),r}function Op(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function qy(e,t,n,r){let i=(t||e).node(n),a=0,o=t?t.index(n):i.childCount;e&&(a=e.index(n),e.depth>n?a++:e.textOffset&&(Op(e.nodeAfter,r),a++));for(let s=a;s<o;s++)Op(i.child(s),r);t&&t.depth==n&&t.textOffset&&Op(t.nodeBefore,r)}function Pp(e,t){return e.type.checkContent(t),e.copy(t)}function Uae(e,t,n,r,i){let a=e.depth>i&&ET(e,t,i+1),o=r.depth>i&&ET(n,r,i+1),s=[];return qy(null,e,i,s),a&&o&&t.index(i)==n.index(i)?($ae(a,o),Op(Pp(a,Uae(e,t,n,r,i+1)),s)):(a&&Op(Pp(a,p5(e,t,i+1)),s),qy(t,n,i,s),o&&Op(Pp(o,p5(n,r,i+1)),s)),qy(r,null,i,s),new rt(s)}function p5(e,t,n){let r=[];if(qy(null,e,n,r),e.depth>n){let i=ET(e,t,n+1);Op(Pp(i,p5(e,t,n+1)),r)}return qy(t,null,n,r),new rt(r)}function Oqe(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let a=n-1;a>=0;a--)i=t.node(a).copy(rt.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class Pb{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let a=0;a<t;a++)i+=r.child(a).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return pr.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let s=r;r=i,i=s}let a=r.marks;for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!i||!a[o].isInSet(i.marks))&&(a=a[o--].removeFromSet(a));return a}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!i||!r[a].isInSet(i.marks))&&(r=r[a--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new m5(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,a=n;for(let o=t;;){let{index:s,offset:l}=o.content.findIndex(a),u=a-l;if(r.push(o,s,i+l),!u||(o=o.child(s),o.isText))break;a=u-1,i+=l+1}return new Pb(n,r,a)}static resolveCached(t,n){for(let i=0;i<v6.length;i++){let a=v6[i];if(a.pos==n&&a.doc==t)return a}let r=v6[y6]=Pb.resolve(t,n);return y6=(y6+1)%Pqe,r}}let v6=[],y6=0,Pqe=12;class m5{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const jqe=Object.create(null);let jp=class kT{constructor(t,n,r,i=pr.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||rt.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&f5(this.attrs,n||t.defaultAttrs||jqe)&&pr.sameSet(this.marks,r||pr.none)}copy(t=null){return t==this.content?this:new kT(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new kT(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return yt.empty;let i=this.resolve(t),a=this.resolve(n),o=r?0:i.sharedDepth(n),s=i.start(o),u=i.node(o).content.cut(i.pos-s,a.pos-s);return new yt(u,i.depth-o,a.depth-o)}replace(t,n,r){return Iqe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Pb.resolveCached(this,t)}resolveNoCache(t){return Pb.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,a=>(r.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Vae(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=rt.empty,i=0,a=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,a),s=o&&o.matchFragment(this.content,n);if(!s||!s.validEnd)return!1;for(let l=i;l<a;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(t).matchType(r),o=a&&a.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=pr.none;for(let n=0;n<this.marks.length;n++)t=this.marks[n].addToSet(t);if(!pr.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=rt.fromJSON(t,n.content);return t.nodeType(n.type).create(n.attrs,i,r)}};jp.prototype.text=void 0;class g5 extends jp{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Vae(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new g5(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new g5(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Vae(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class tm{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Lqe(t,n);if(r.next==null)return tm.empty;let i=Hae(r);r.next&&r.err("Unexpected trailing text");let a=Hqe(Vqe(i));return qqe(a,r),a}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let a=n;i&&a<r;a++)i=i.matchType(t.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function a(o,s){let l=o.matchFragment(t,r);if(l&&(!n||l.validEnd))return rt.from(s.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=a(d,s.concat(c));if(f)return f}}return null}return a(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),a=i.match;if(a.matchType(t)){let o=[];for(let s=i;s.type;s=s.via)o.push(s.type);return o.reverse()}for(let o=0;o<a.next.length;o++){let{type:s,next:l}=a.next[o];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in n)&&(!i.type||l.validEnd)&&(r.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let a=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)a+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return a}).join(`
`)}}tm.empty=new tm(!0);class Lqe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Hae(e){let t=[];do t.push(Fqe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Fqe(e){let t=[];do t.push(Bqe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Bqe(e){let t=Uqe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=zqe(e,t);else break;return t}function iU(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function zqe(e,t){let n=iU(e),r=n;return e.eat(",")&&(e.next!="}"?r=iU(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function $qe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let a in n){let o=n[a];o.groups.indexOf(t)>-1&&i.push(o)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function Uqe(e){if(e.eat("(")){let t=Hae(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=$qe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Vqe(e){let t=[[]];return i(a(e,0),n()),t;function n(){return t.push([])-1}function r(o,s,l){let u={term:l,to:s};return t[o].push(u),u}function i(o,s){o.forEach(l=>l.to=s)}function a(o,s){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(a(u,s)),[]);if(o.type=="seq")for(let l=0;;l++){let u=a(o.exprs[l],s);if(l==o.exprs.length-1)return u;i(u,s=n())}else if(o.type=="star"){let l=n();return r(s,l),i(a(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(a(o.expr,s),l),i(a(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(s)].concat(a(o.expr,s));if(o.type=="range"){let l=s;for(let u=0;u<o.min;u++){let c=n();i(a(o.expr,l),c),l=c}if(o.max==-1)i(a(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let c=n();r(l,c),i(a(o.expr,l),c),l=c}return[r(l)]}else{if(o.type=="name")return[r(s,void 0,o.value)];throw new Error("Unknown expr type")}}}}function qae(e,t){return t-e}function aU(e,t){let n=[];return r(t),n.sort(qae);function r(i){let a=e[i];if(a.length==1&&!a[0].term)return r(a[0].to);n.push(i);for(let o=0;o<a.length;o++){let{term:s,to:l}=a[o];!s&&n.indexOf(l)==-1&&r(l)}}}function Hqe(e){let t=Object.create(null);return n(aU(e,0));function n(r){let i=[];r.forEach(o=>{e[o].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);aU(e,l).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let a=t[r.join(",")]=new tm(r.indexOf(e.length-1)>-1);for(let o=0;o<i.length;o++){let s=i[o][1].sort(qae);a.next.push({type:i[o][0],next:t[s.join(",")]||n(s)})}return a}}function qqe(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],a=!i.validEnd,o=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];o.push(l.name),a&&!(l.isText||l.hasRequiredAttrs())&&(a=!1),r.indexOf(u)==-1&&r.push(u)}a&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Wae(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Gae(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let a=e[r];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Kae(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new Wqe(e[n]);return t}let oU=class Yae{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Kae(r.attrs),this.defaultAttrs=Wae(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==tm.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Gae(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new jp(this,this.computeAttrs(t),rt.from(n),pr.setFrom(r))}createChecked(t=null,n,r){return n=rt.from(n),this.checkContent(n),new jp(this,this.computeAttrs(t),n,pr.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=rt.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),a=i&&i.fillBefore(rt.empty,!0);return a?new jp(this,t,n.append(a),pr.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:pr.none:t}static compile(t,n){let r=Object.create(null);t.forEach((a,o)=>r[a]=new Yae(a,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let a in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class Wqe{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class ME{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=Kae(i.attrs),this.excluded=null;let a=Wae(this.attrs);this.instance=a?new pr(this,a):null}create(t=null){return!t&&this.instance?this.instance:new pr(this,Gae(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((a,o)=>r[a]=new ME(a,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}excludes(t){return this.excluded.indexOf(t)>-1}}class Gqe{constructor(t){this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=ca.from(t.nodes),n.marks=ca.from(t.marks||{}),this.nodes=oU.compile(this.spec.nodes,this),this.marks=ME.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],o=a.spec.content||"",s=a.spec.marks;a.contentMatch=r[o]||(r[o]=tm.parse(o,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.markSet=s=="_"?null:s?sU(this,s.split(" ")):s==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],o=a.spec.excludes;a.excluded=o==null?[a]:o==""?[]:sU(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof oU){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new g5(r,r.defaultAttrs,t,pr.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return jp.fromJSON(this,t)}markFromJSON(t){return pr.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function sU(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],a=e.marks[i],o=a;if(a)n.push(a);else for(let s in e.marks){let l=e.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class Y0{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=t.nodes[r.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new uU(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new uU(this,n,!0);return r.addAll(t,n.from,n.to),yt.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(Jqe(t,a.tag)&&(a.namespace===void 0||t.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let o=a.getAttrs(t);if(o===!1)continue;a.attrs=o||void 0}return a}}}matchStyle(t,n,r,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let o=this.styles[a],s=o.style;if(!(s.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let n=[];function r(i){let a=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let s=n[o];if((s.priority==null?50:s.priority)<a)break}n.splice(o,0,i)}for(let i in t.marks){let a=t.marks[i].spec.parseDOM;a&&a.forEach(o=>{r(o=cU(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in t.nodes){let a=t.nodes[i].spec.parseDOM;a&&a.forEach(o=>{r(o=cU(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Y0(t,Y0.schemaRules(t)))}}const Jae={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Kqe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Qae={ol:!0,ul:!0},v5=1,y5=2,Wy=4;function lU(e,t,n){return t!=null?(t?v5:0)|(t==="full"?y5:0):e&&e.whitespace=="pre"?v5|y5:n&~Wy}class $x{constructor(t,n,r,i,a,o,s){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=a,this.options=s,this.content=[],this.activeMarks=pr.none,this.stashMarks=[],this.match=o||(s&Wy?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(rt.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&v5)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let a=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let n=rt.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(rt.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):Xqe(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Jae.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class uU{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,a,o=lU(null,n.preserveWhitespace,0)|(r?Wy:0);i?a=new $x(i.type,i.attrs,pr.none,pr.none,!0,n.topMatch||i.type.contentMatch,o):r?a=new $x(null,null,pr.none,pr.none,!0,null,o):a=new $x(t.schema.topNodeType,null,pr.none,pr.none,!0,null,o),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){t.nodeType==3?this.addTextNode(t):t.nodeType==1&&this.addElement(t)}withStyleRules(t,n){let r=t.getAttribute("style");if(!r)return n();let i=this.readStyles(Qqe(r));if(!i)return;let[a,o]=i,s=this.top;for(let l=0;l<o.length;l++)this.removePendingMark(o[l],s);for(let l=0;l<a.length;l++)this.addPendingMark(a[l]);n();for(let l=0;l<a.length;l++)this.removePendingMark(a[l],s);for(let l=0;l<o.length;l++)this.addPendingMark(o[l])}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&y5||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&v5)r.options&y5?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],a=t.previousSibling;(!i||a&&a.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),i;Qae.hasOwnProperty(r)&&this.parser.normalizeLists&&Yqe(t);let a=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(a?a.ignore:Kqe.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(t=a.skip);let o,s=this.top,l=this.needsBlock;if(Jae.hasOwnProperty(r))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),o=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}a&&a.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),o&&this.sync(s),this.needsBlock=l}else this.withStyleRules(t,()=>{this.addElementByRule(t,a,a.consuming===!1?i:void 0)})}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=pr.none,r=pr.none;for(let i=0;i<t.length;i+=2)for(let a=void 0;;){let o=this.parser.matchStyle(t[i],t[i+1],this,a);if(!o)break;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(s=>{o.clearMark(s)&&(r=s.addToSet(r))}):n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)a=o;else break}return[n,r]}addElementByRule(t,n,r){let i,a,o;n.node?(a=this.parser.schema.nodes[n.node],a.isLeaf?this.insertNode(a.create(n.attrs))||this.leafFallback(t):i=this.enter(a,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let s=this.top;if(a&&a.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l)}i&&this.sync(s)&&this.open--,o&&this.removePendingMark(o,s)}addAll(t,n,r){let i=n||0;for(let a=n?t.childNodes[n]:t.firstChild,o=r==null?null:t.childNodes[r];a!=o;a=a.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(a);this.findAtPoint(t,i)}findPlace(t){let n,r;for(let i=this.open;i>=0;i--){let a=this.nodes[i],o=a.findWrapping(t);if(o&&(!n||n.length>o.length)&&(n=o,r=a,!o.length)||a.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let i=0;i<t.marks.length;i++)(!n.type||n.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i}enterInner(t,n=null,r=!1,i){this.closeExtra();let a=this.top;a.applyPending(t),a.match=a.match&&a.match.matchType(t);let o=lU(t,i,a.options);a.options&Wy&&a.content.length==0&&(o|=Wy),this.nodes.push(new $x(t,n,a.activeMarks,a.pendingMarks,r,null,o)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),a=-(r?r.depth+1:0)+(i?0:1),o=(s,l)=>{for(;s>=0;s--){let u=n[s];if(u==""){if(s==n.length-1||s==0)continue;for(;l>=a;l--)if(o(s-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=a?r.node(l-a).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=Zqe(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function Yqe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&Qae.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function Jqe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Qqe(e){let t=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=t.exec(e);)r.push(n[1],n[2].trim());return r}function cU(e){let t={};for(let n in e)t[n]=e[n];return t}function Xqe(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let a=[],o=s=>{a.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==t||a.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}function Zqe(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class zu{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=b6(n).createDocumentFragment());let i=r,a=[];return t.forEach(o=>{if(a.length||o.marks.length){let s=0,l=0;for(;s<a.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(a[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<a.length;)i=a.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],c=this.serializeMark(u,o.isInline,n);c&&(a.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=zu.renderSpec(b6(n),this.nodes[t.type.name](t));if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let a=this.serializeMark(t.marks[i],t.isInline,n);a&&((a.contentDOM||a.dom).appendChild(r),r=a.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&zu.renderSpec(b6(r),i(t,n))}static renderSpec(t,n,r=null){if(typeof n=="string")return{dom:t.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],a=i.indexOf(" ");a>0&&(r=i.slice(0,a),i=i.slice(a+1));let o,s=r?t.createElementNS(r,i):t.createElement(i),l=n[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let c in l)if(l[c]!=null){let d=c.indexOf(" ");d>0?s.setAttributeNS(c.slice(0,d),c.slice(d+1),l[c]):s.setAttribute(c,l[c])}}for(let c=u;c<n.length;c++){let d=n[c];if(d===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}else{let{dom:f,contentDOM:h}=zu.renderSpec(t,d,r);if(s.appendChild(f),h){if(o)throw new RangeError("Multiple content holes");o=h}}}return{dom:s,contentDOM:o}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new zu(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=dU(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return dU(t.marks)}}function dU(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function b6(e){return e.document||window.document}const Xae=65535,Zae=Math.pow(2,16);function eWe(e,t){return e+t*Zae}function fU(e){return e&Xae}function tWe(e){return(e-(e&Xae))/Zae}const eoe=1,toe=2,tS=4,noe=8;class AT{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&noe)>0}get deletedBefore(){return(this.delInfo&(eoe|tS))>0}get deletedAfter(){return(this.delInfo&(toe|tS))>0}get deletedAcross(){return(this.delInfo&tS)>0}}class gs{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&gs.empty)return gs.empty}recover(t){let n=0,r=fU(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+tWe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;let u=this.ranges[s+a],c=this.ranges[s+o],d=l+u;if(t<=d){let f=u?t==l?-1:t==d?1:n:n,h=l+i+(f<0?0:c);if(r)return h;let m=t==(n<0?l:d)?null:eWe(s/3,t-l),g=t==l?toe:t==d?eoe:tS;return(n<0?t!=l:t!=d)&&(g|=noe),new AT(h,g,m)}i+=c-u}return r?t+i:new AT(t+i,0,null)}touches(t,n){let r=0,i=fU(n),a=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>t)break;let u=this.ranges[s+a],c=l+u;if(t<=c&&s==i*3)return!0;r+=this.ranges[s+o]-u}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let o=this.ranges[i],s=o-(this.inverted?a:0),l=o+(this.inverted?0:a),u=this.ranges[i+n],c=this.ranges[i+r];t(s,s+u,l,l+c),a+=c-u}}invert(){return new gs(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?gs.empty:new gs(t<0?[0,-t,0]:[0,0,t])}}gs.empty=new gs([]);class v0{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new v0(this.maps,this.mirror,t,n)}copy(){return new v0(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new v0;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let a=this.from;a<this.to;a++){let o=this.maps[a],s=o.mapResult(t,n);if(s.recover!=null){let l=this.getMirror(a);if(l!=null&&l>a&&l<this.to){a=l,t=this.maps[l].recover(s.recover);continue}}i|=s.delInfo,t=s.pos}return r?t:new AT(t,i,null)}}const w6=Object.create(null);class eo{getMap(){return gs.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=w6[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in w6)throw new RangeError("Duplicate use of step JSON ID "+t);return w6[t]=n,n.prototype.jsonID=t,n}}class Oi{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Oi(t,null)}static fail(t){return new Oi(null,t)}static fromReplace(t,n,r,i){try{return Oi.ok(t.replace(n,r,i))}catch(a){if(a instanceof h5)return Oi.fail(a.message);throw a}}}function GR(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let a=e.child(i);a.content.size&&(a=a.copy(GR(a.content,t,a))),a.isInline&&(a=t(a,n,i)),r.push(a)}return rt.fromArray(r)}class vf extends eo{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),a=new yt(GR(n.content,(o,s)=>!o.isAtom||!s.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Oi.fromReplace(t,this.from,this.to,a)}invert(){return new $u(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new vf(n.pos,r.pos,this.mark)}merge(t){return t instanceof vf&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new vf(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new vf(n.from,n.to,t.markFromJSON(n.mark))}}eo.jsonID("addMark",vf);class $u extends eo{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new yt(GR(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return Oi.fromReplace(t,this.from,this.to,r)}invert(){return new vf(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new $u(n.pos,r.pos,this.mark)}merge(t){return t instanceof $u&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new $u(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new $u(n.from,n.to,t.markFromJSON(n.mark))}}eo.jsonID("removeMark",$u);class yf extends eo{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Oi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Oi.fromReplace(t,this.pos,this.pos+1,new yt(rt.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new yf(this.pos,n.marks[i]);return new yf(this.pos,this.mark)}}return new J0(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new yf(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new yf(n.pos,t.markFromJSON(n.mark))}}eo.jsonID("addNodeMark",yf);class J0 extends eo{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Oi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Oi.fromReplace(t,this.pos,this.pos+1,new yt(rt.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new yf(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new J0(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new J0(n.pos,t.markFromJSON(n.mark))}}eo.jsonID("removeNodeMark",J0);class ma extends eo{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&_T(t,this.from,this.to)?Oi.fail("Structure replace would overwrite content"):Oi.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new gs([this.from,this.to-this.from,this.slice.size])}invert(t){return new ma(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ma(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof ma)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?yt.empty:new yt(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new ma(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?yt.empty:new yt(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new ma(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ma(n.from,n.to,yt.fromJSON(t,n.slice),!!n.structure)}}eo.jsonID("replace",ma);class Xi extends eo{constructor(t,n,r,i,a,o,s=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=a,this.insert=o,this.structure=s}apply(t){if(this.structure&&(_T(t,this.from,this.gapFrom)||_T(t,this.gapTo,this.to)))return Oi.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Oi.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Oi.fromReplace(t,this.from,this.to,r):Oi.fail("Content does not fit in gap")}getMap(){return new gs([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Xi(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),a=t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||a>r.pos?null:new Xi(n.pos,r.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Xi(n.from,n.to,n.gapFrom,n.gapTo,yt.fromJSON(t,n.slice),n.insert,!!n.structure)}}eo.jsonID("replaceAround",Xi);function _T(e,t,n){let r=e.resolve(t),i=n-t,a=r.depth;for(;i>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,i--;if(i>0){let o=r.node(a).maybeChild(r.indexAfter(a));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function nWe(e,t,n,r){let i=[],a=[],o,s;e.doc.nodesBetween(t,n,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,t),h=Math.min(u+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(o&&o.to==f&&o.mark.eq(d[g])?o.to=h:i.push(o=new $u(f,h,d[g])));s&&s.to==f?s.to=h:a.push(s=new vf(f,h,r))}}),i.forEach(l=>e.step(l)),a.forEach(l=>e.step(l))}function rWe(e,t,n,r){let i=[],a=0;e.doc.nodesBetween(t,n,(o,s)=>{if(!o.isInline)return;a++;let l=null;if(r instanceof ME){let u=o.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let u=Math.min(s+o.nodeSize,n);for(let c=0;c<l.length;c++){let d=l[c],f;for(let h=0;h<i.length;h++){let m=i[h];m.step==a-1&&d.eq(i[h].style)&&(f=m)}f?(f.to=u,f.step=a):i.push({style:d,from:Math.max(s,t),to:u,step:a})}}}),i.forEach(o=>e.step(new $u(o.from,o.to,o.style)))}function iWe(e,t,n,r=n.contentMatch){let i=e.doc.nodeAt(t),a=[],o=t+1;for(let s=0;s<i.childCount;s++){let l=i.child(s),u=o+l.nodeSize,c=r.matchType(l.type);if(!c)a.push(new ma(o,u,yt.empty));else{r=c;for(let d=0;d<l.marks.length;d++)n.allowsMarkType(l.marks[d].type)||e.step(new $u(o,u,l.marks[d]));if(l.isText&&!n.spec.code){let d,f=/\r?\n|\r/g,h;for(;d=f.exec(l.text);)h||(h=new yt(rt.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),a.push(new ma(o+d.index,o+d.index+d[0].length,h))}}o=u}if(!r.validEnd){let s=r.fillBefore(rt.empty,!0);e.replace(o,o,new yt(s,0,0))}for(let s=a.length-1;s>=0;s--)e.step(a[s])}function aWe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function U1(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),a=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(a,o,n))return r;if(r==0||i.type.spec.isolating||!aWe(i,a,o))break}return null}function oWe(e,t,n){let{$from:r,$to:i,depth:a}=t,o=r.before(a+1),s=i.after(a+1),l=o,u=s,c=rt.empty,d=0;for(let m=a,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,c=rt.from(r.node(m).copy(c)),d++):l--;let f=rt.empty,h=0;for(let m=a,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,f=rt.from(i.node(m).copy(f)),h++):u++;e.step(new Xi(l,u,o,s,new yt(c.append(f),d,h),c.size-d,!0))}function KR(e,t,n=null,r=e){let i=sWe(e,t),a=i&&lWe(r,t);return a?i.map(hU).concat({type:t,attrs:n}).concat(a.map(hU)):null}function hU(e){return{type:e,attrs:null}}function sWe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,a=n.contentMatchAt(r).findWrapping(t);if(!a)return null;let o=a.length?a[0]:t;return n.canReplaceWith(r,i,o)?a:null}function lWe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,a=n.child(r),o=t.contentMatch.findWrapping(a.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:o}function uWe(e,t,n){let r=rt.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let s=n[o].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=rt.from(n[o].type.create(n[o].attrs,r))}let i=t.start,a=t.end;e.step(new Xi(i,a,i,a,new yt(r,0,0),n.length,!0))}function cWe(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=e.steps.length;e.doc.nodesBetween(t,n,(o,s)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&dWe(e.doc,e.mapping.slice(a).map(s),r)){e.clearIncompatible(e.mapping.slice(a).map(s,1),r);let l=e.mapping.slice(a),u=l.map(s,1),c=l.map(s+o.nodeSize,1);return e.step(new Xi(u,c,u+1,c-1,new yt(rt.from(r.create(i,null,o.marks)),0,0),1,!0)),!1}})}function dWe(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function fWe(e,t,n,r,i){let a=e.doc.nodeAt(t);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let o=n.create(r,null,i||a.marks);if(a.isLeaf)return e.replaceWith(t,t+a.nodeSize,o);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Xi(t,t+a.nodeSize,t+1,t+a.nodeSize-1,new yt(rt.from(o),0,0),1,!0))}function y0(e,t,n=1,r){let i=e.resolve(t),a=i.depth-n,o=r&&r[r.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>a;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),m=r&&r[c+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let s=i.indexAfter(a),l=r&&r[0];return i.node(a).canReplaceWith(s,s,l?l.type:i.node(a+1).type)}function hWe(e,t,n=1,r){let i=e.doc.resolve(t),a=rt.empty,o=rt.empty;for(let s=i.depth,l=i.depth-n,u=n-1;s>l;s--,u--){a=rt.from(i.node(s).copy(a));let c=r&&r[u];o=rt.from(c?c.type.create(c.attrs,o):i.node(s).copy(o))}e.step(new ma(t,t,new yt(a.append(o),n,n),!0))}function bh(e,t){let n=e.resolve(t),r=n.index();return roe(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function roe(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function TE(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let a,o,s=r.index(i);if(i==r.depth?(a=r.nodeBefore,o=r.nodeAfter):n>0?(a=r.node(i+1),s++,o=r.node(i).maybeChild(s)):(a=r.node(i).maybeChild(s-1),o=r.node(i+1)),a&&!a.isTextblock&&roe(a,o)&&r.node(i).canReplace(s,s+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function pWe(e,t,n){let r=new ma(t-n,t+n,yt.empty,!0);e.step(r)}function mWe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let a=r.index(i);if(r.node(i).canReplaceWith(a,a,n))return r.before(i+1);if(a>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let a=r.indexAfter(i);if(r.node(i).canReplaceWith(a,a,n))return r.after(i+1);if(a<r.node(i).childCount)return null}return null}function ioe(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let a=0;a<n.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let o=r.depth;o>=0;o--){let s=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(s>0?1:0),u=r.node(o),c=!1;if(a==1)c=u.canReplace(l,l,i);else{let d=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return s==0?r.pos:s<0?r.before(o+1):r.after(o+1)}return null}function YR(e,t,n=t,r=yt.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),a=e.resolve(n);return aoe(i,a,r)?new ma(t,n,r):new gWe(i,a,r).fit()}function aoe(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class gWe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=rt.empty;for(let i=0;i<=t.depth;i++){let a=t.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=rt.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let a=this.placed,o=r.depth,s=i.depth;for(;o&&s&&a.childCount==1;)a=a.firstChild.content,o--,s--;let l=new yt(a,o,s);return t>-1?new Xi(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ma(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let a=n.firstChild;if(n.childCount>1&&(i=0),a.type.spec.isolating&&i<=r){t=r;break}n=a.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,a=null;r?(a=x6(this.unplaced.content,r-1).firstChild,i=a.content):i=this.unplaced.content;let o=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:u}=this.frontier[s],c,d=null;if(n==1&&(o?u.matchType(o.type)||(d=u.fillBefore(rt.from(o),!1)):a&&l.compatibleContent(a.type)))return{sliceDepth:r,frontierDepth:s,parent:a,inject:d};if(n==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:s,parent:a,wrap:c};if(a&&u.matchType(a.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=x6(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new yt(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=x6(t,n);if(i.childCount<=1&&n>0){let a=t.size-n<=n+i.size;this.unplaced=new yt(vy(t,n-1,1),n-1,a?n-1:r)}else this.unplaced=new yt(vy(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let g=0;g<a.length;g++)this.openFrontierNode(a[g]);let o=this.unplaced,s=r?r.content:o.content,l=o.openStart-t,u=0,c=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)c.push(i.child(g));d=d.matchFragment(i)}let h=s.size+t-(o.content.size-o.openEnd);for(;u<s.childCount;){let g=s.child(u),S=d.matchType(g.type);if(!S)break;u++,(u>1||l==0||g.content.size)&&(d=S,c.push(ooe(g.mark(f.allowedMarks(g.marks)),u==1?l:0,u==s.childCount?h:-1)))}let m=u==s.childCount;m||(h=-1),this.placed=yy(this.placed,n,rt.from(c)),this.frontier[n].match=d,m&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,S=s;g<h;g++){let y=S.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),S=y.content}this.unplaced=m?t==0?yt.empty:new yt(vy(o.content,t-1,1),t-1,h<0?o.openEnd:t-1):new yt(vy(o.content,t,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!S6(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],a=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=S6(t,n,i,r,a);if(o){for(let s=n-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],c=S6(t,s,u,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:o,move:a?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=yy(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),a=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,a)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=yy(this.placed,this.depth,rt.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(rt.empty,!0);n.childCount&&(this.placed=yy(this.placed,this.frontier.length,n))}}function vy(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(vy(e.firstChild.content,t-1,n)))}function yy(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(yy(e.lastChild.content,t-1,n)))}function x6(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function ooe(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,ooe(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(rt.empty,!0)))),e.copy(r)}function S6(e,t,n,r,i){let a=e.node(t),o=i?e.indexAfter(t):e.index(t);if(o==a.childCount&&!n.compatibleContent(a.type))return null;let s=r.fillBefore(a.content,!0,o);return s&&!vWe(n,a.content,o)?s:null}function vWe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function yWe(e){return e.spec.defining||e.spec.definingForContent}function bWe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),a=e.doc.resolve(n);if(aoe(i,a,r))return e.step(new ma(t,n,r));let o=loe(i,e.doc.resolve(n));o[o.length-1]==0&&o.pop();let s=-(i.depth+1);o.unshift(s);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let m=i.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(f)>-1?s=f:i.before(f)==h&&o.splice(1,0,-f)}let l=o.indexOf(s),u=[],c=r.openStart;for(let f=r.content,h=0;;h++){let m=f.firstChild;if(u.push(m),h==r.openStart)break;f=m.content}for(let f=c-1;f>=0;f--){let h=u[f],m=yWe(h.type);if(m&&!h.sameMarkup(i.node(Math.abs(s)-1)))c=f;else if(m||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+c+1)%(r.openStart+1),m=u[h];if(m)for(let g=0;g<o.length;g++){let S=o[(g+l)%o.length],y=!0;S<0&&(y=!1,S=-S);let E=i.node(S-1),x=i.index(S-1);if(E.canReplaceWith(x,x,m.type,m.marks))return e.replace(i.before(S),y?a.after(S):n,new yt(soe(r.content,0,r.openStart,h),h,r.openEnd))}}let d=e.steps.length;for(let f=o.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let h=o[f];h<0||(t=i.before(h),n=a.after(h))}}function soe(e,t,n,r,i){if(t<n){let a=e.firstChild;e=e.replaceChild(0,a.copy(soe(a.content,t+1,n,r,a)))}if(t>r){let a=i.contentMatchAt(0),o=a.fillBefore(e).append(e);e=o.append(a.matchFragment(o).fillBefore(rt.empty,!0))}return e}function wWe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=mWe(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new yt(rt.from(r),0,0))}function xWe(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),a=loe(r,i);for(let o=0;o<a.length;o++){let s=a[o],l=o==a.length-1;if(l&&s==0||r.node(s).type.contentMatch.validEnd)return e.delete(r.start(s),i.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return e.delete(r.before(s),i.after(s))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return e.delete(r.before(o),n);e.delete(t,n)}function loe(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let a=e.start(i);if(a<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(a==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==a-1)&&n.push(i)}return n}class b0 extends eo{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Oi.fail("No node at attribute step's position");let r=Object.create(null);for(let a in n.attrs)r[a]=n.attrs[a];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Oi.fromReplace(t,this.pos,this.pos+1,new yt(rt.from(i),0,n.isLeaf?0:1))}getMap(){return gs.empty}invert(t){return new b0(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new b0(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new b0(n.pos,n.attr,n.value)}}eo.jsonID("attr",b0);class jb extends eo{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Oi.ok(r)}getMap(){return gs.empty}invert(t){return new jb(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new jb(n.attr,n.value)}}eo.jsonID("docAttr",jb);let Q0=class extends Error{};Q0=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Q0.prototype=Object.create(Error.prototype);Q0.prototype.constructor=Q0;Q0.prototype.name="TransformError";class uoe{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new v0}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Q0(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=yt.empty){let i=YR(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new yt(rt.from(r),0,0))}delete(t,n){return this.replace(t,n,yt.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return bWe(this,t,n,r),this}replaceRangeWith(t,n,r){return wWe(this,t,n,r),this}deleteRange(t,n){return xWe(this,t,n),this}lift(t,n){return oWe(this,t,n),this}join(t,n=1){return pWe(this,t,n),this}wrap(t,n){return uWe(this,t,n),this}setBlockType(t,n=t,r,i=null){return cWe(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return fWe(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new b0(t,n,r)),this}setDocAttribute(t,n){return this.step(new jb(t,n)),this}addNodeMark(t,n){return this.step(new yf(t,n)),this}removeNodeMark(t,n){if(!(n instanceof pr)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new J0(t,n)),this}split(t,n=1,r){return hWe(this,t,n,r),this}addMark(t,n,r){return nWe(this,t,n,r),this}removeMark(t,n,r){return rWe(this,t,n,r),this}clearIncompatible(t,n,r){return iWe(this,t,n,r),this}}const C6=Object.create(null);class xn{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new SWe(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=yt.empty){let r=n.content.lastChild,i=null;for(let s=0;s<n.openEnd;s++)i=r,r=r.lastChild;let a=t.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:l,$to:u}=o[s],c=t.mapping.slice(a);t.replaceRange(c.map(l.pos),c.map(u.pos),s?yt.empty:n),s==0&&gU(t,a,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:o,$to:s}=i[a],l=t.mapping.slice(r),u=l.map(o.pos),c=l.map(s.pos);a?t.deleteRange(u,c):(t.replaceRangeWith(u,c,n),gU(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new pn(t):_g(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let a=t.depth-1;a>=0;a--){let o=n<0?_g(t.node(0),t.node(a),t.before(a+1),t.index(a),n,r):_g(t.node(0),t.node(a),t.after(a+1),t.index(a)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new ru(t.node(0))}static atStart(t){return _g(t,t,0,0,1)||new ru(t)}static atEnd(t){return _g(t,t,t.content.size,t.childCount,-1)||new ru(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=C6[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in C6)throw new RangeError("Duplicate use of selection JSON ID "+t);return C6[t]=n,n.prototype.jsonID=t,n}getBookmark(){return pn.between(this.$anchor,this.$head).getBookmark()}}xn.prototype.visible=!0;class SWe{constructor(t,n){this.$from=t,this.$to=n}}let pU=!1;function mU(e){!pU&&!e.parent.inlineContent&&(pU=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class pn extends xn{constructor(t,n=t){mU(t),mU(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return xn.near(r);let i=t.resolve(n.map(this.anchor));return new pn(i.parent.inlineContent?i:r,r)}replace(t,n=yt.empty){if(super.replace(t,n),n==yt.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof pn&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new NE(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new pn(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let a=xn.findFrom(n,r,!0)||xn.findFrom(n,-r,!0);if(a)n=a.$head;else return xn.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(xn.findFrom(t,-r,!0)||xn.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new pn(t,n)}}xn.jsonID("text",pn);class NE{constructor(t,n){this.anchor=t,this.head=n}map(t){return new NE(t.map(this.anchor),t.map(this.head))}resolve(t){return pn.between(t.resolve(this.anchor),t.resolve(this.head))}}class Ht extends xn{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),a=t.resolve(i);return r?xn.near(a):new Ht(a)}content(){return new yt(rt.from(this.node),0,0)}eq(t){return t instanceof Ht&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new JR(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ht(t.resolve(n.anchor))}static create(t,n){return new Ht(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Ht.prototype.visible=!1;xn.jsonID("node",Ht);class JR{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new NE(r,r):new JR(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Ht.isSelectable(r)?new Ht(n):xn.near(n)}}class ru extends xn{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=yt.empty){if(n==yt.empty){t.delete(0,t.doc.content.size);let r=xn.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new ru(t)}map(t){return new ru(t)}eq(t){return t instanceof ru}getBookmark(){return CWe}}xn.jsonID("all",ru);const CWe={map(){return this},resolve(e){return new ru(e)}};function _g(e,t,n,r,i,a=!1){if(t.inlineContent)return pn.create(e,n);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let s=t.child(o);if(s.isAtom){if(!a&&Ht.isSelectable(s))return Ht.create(e,n-(i<0?s.nodeSize:0))}else{let l=_g(e,s,n+i,i<0?s.childCount:0,i,a);if(l)return l}n+=s.nodeSize*i}return null}function gU(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof ma||i instanceof Xi))return;let a=e.mapping.maps[r],o;a.forEach((s,l,u,c)=>{o==null&&(o=c)}),e.setSelection(xn.near(e.doc.resolve(o),n))}const vU=1,Ux=2,yU=4;class EWe extends uoe{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|vU)&~Ux,this.storedMarks=null,this}get selectionSet(){return(this.updated&vU)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Ux,this}ensureMarks(t){return pr.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ux)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~Ux,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||pr.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let a=this.storedMarks;if(!a){let o=this.doc.resolve(n);a=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,a)),this.selection.empty||this.setSelection(xn.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=yU,this}get scrolledIntoView(){return(this.updated&yU)>0}}function bU(e,t){return!t||!e?e:e.bind(t)}class by{constructor(t,n,r){this.name=t,this.init=bU(n.init,r),this.apply=bU(n.apply,r)}}const kWe=[new by("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new by("selection",{init(e,t){return e.selection||xn.atStart(t.doc)},apply(e){return e.selection}}),new by("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new by("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class E6{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=kWe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new by(r.key,r.spec.state,r))})}}class qg{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,c=l<n.length&&s.spec.appendTransaction.call(s,l?n.slice(l):n,u,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),a=!0}i&&(i[o]={state:r,n:n.length})}}if(!a)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new qg(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let a=r[i];n[a.name]=a.apply(t,this[a.name],this,n)}return n}get tr(){return new EWe(this)}static create(t){let n=new E6(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new qg(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new E6(this.schema,t.plugins),r=n.fields,i=new qg(n);for(let a=0;a<r.length;a++){let o=r[a].name;i[o]=this.hasOwnProperty(o)?this[o]:r[a].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],a=i.spec.state;a&&a.toJSON&&(n[r]=a.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new E6(t.schema,t.plugins),a=new qg(i);return i.fields.forEach(o=>{if(o.name=="doc")a.doc=jp.fromJSON(t.schema,n.doc);else if(o.name=="selection")a.selection=xn.fromJSON(a.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let s in r){let l=r[s],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,s)){a[o.name]=u.fromJSON.call(l,t,n[s],a);return}}a[o.name]=o.init(t,a)}}),a}}function coe(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=coe(i,t,{})),n[r]=i}return n}class to{constructor(t){this.spec=t,this.props={},t.props&&coe(t.props,this,this.props),this.key=t.key?t.key.key:doe("plugin")}getState(t){return t[this.key]}}const k6=Object.create(null);function doe(e){return e in k6?e+"$"+ ++k6[e]:(k6[e]=0,e+"$")}class Tl{constructor(t="key"){this.key=doe(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const mo=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Lb=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let wU=null;const Dc=function(e,t,n){let r=wU||(wU=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},nm=function(e,t,n,r){return n&&(xU(e,t,n,r,-1)||xU(e,t,n,r,1))},AWe=/^(img|br|input|textarea|hr)$/i;function xU(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Lu(e))){let a=e.parentNode;if(!a||a.nodeType!=1||QR(e)||AWe.test(e.nodeName)||e.contentEditable=="false")return!1;t=mo(e)+(i<0?0:1),e=a}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?Lu(e):0}else return!1}}function Lu(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function _We(e,t,n){for(let r=t==0,i=t==Lu(e);r||i;){if(e==n)return!0;let a=mo(e);if(e=e.parentNode,!e)return!1;r=r&&a==0,i=i&&a==Lu(e)}}function QR(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const DE=function(e){return e.focusNode&&nm(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function fp(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function MWe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function TWe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Ju=typeof navigator<"u"?navigator:null,SU=typeof document<"u"?document:null,wh=Ju&&Ju.userAgent||"",MT=/Edge\/(\d+)/.exec(wh),foe=/MSIE \d/.exec(wh),TT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(wh),Jo=!!(foe||TT||MT),Df=foe?document.documentMode:TT?+TT[1]:MT?+MT[1]:0,uu=!Jo&&/gecko\/(\d+)/i.test(wh);uu&&+(/Firefox\/(\d+)/.exec(wh)||[0,0])[1];const NT=!Jo&&/Chrome\/(\d+)/.exec(wh),$a=!!NT,NWe=NT?+NT[1]:0,Eo=!Jo&&!!Ju&&/Apple Computer/.test(Ju.vendor),X0=Eo&&(/Mobile\/\w+/.test(wh)||!!Ju&&Ju.maxTouchPoints>2),el=X0||(Ju?/Mac/.test(Ju.platform):!1),DWe=Ju?/Win/.test(Ju.platform):!1,Gl=/Android \d/.test(wh),K2=!!SU&&"webkitFontSmoothing"in SU.documentElement.style,RWe=K2?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function IWe(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Ec(e,t){return typeof e=="number"?e:e[t]}function OWe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function CU(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,a=e.dom.ownerDocument;for(let o=n||e.dom;o;o=Lb(o)){if(o.nodeType!=1)continue;let s=o,l=s==a.body,u=l?IWe(a):OWe(s),c=0,d=0;if(t.top<u.top+Ec(r,"top")?d=-(u.top-t.top+Ec(i,"top")):t.bottom>u.bottom-Ec(r,"bottom")&&(d=t.bottom-t.top>u.bottom-u.top?t.top+Ec(i,"top")-u.top:t.bottom-u.bottom+Ec(i,"bottom")),t.left<u.left+Ec(r,"left")?c=-(u.left-t.left+Ec(i,"left")):t.right>u.right-Ec(r,"right")&&(c=t.right-u.right+Ec(i,"right")),c||d)if(l)a.defaultView.scrollBy(c,d);else{let f=s.scrollLeft,h=s.scrollTop;d&&(s.scrollTop+=d),c&&(s.scrollLeft+=c);let m=s.scrollLeft-f,g=s.scrollTop-h;t={left:t.left-m,top:t.top-g,right:t.right-m,bottom:t.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function PWe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let a=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let s=e.root.elementFromPoint(a,o);if(!s||s==e.dom||!e.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=n-20){r=s,i=l.top;break}}return{refDOM:r,refTop:i,stack:hoe(e.dom)}}function hoe(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Lb(r));return t}function jWe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;poe(n,r==0?0:r-t)}function poe(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:a}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=a&&(r.scrollLeft=a)}}let fg=null;function LWe(e){if(e.setActive)return e.setActive();if(fg)return e.focus(fg);let t=hoe(e);e.focus(fg==null?{get preventScroll(){return fg={preventScroll:!0},!0}}:void 0),fg||(fg=!1,poe(t,0))}function moe(e,t){let n,r=2e8,i,a=0,o=t.top,s=t.top,l,u;for(let c=e.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Dc(c).getClientRects();else continue;for(let h=0;h<f.length;h++){let m=f[h];if(m.top<=o&&m.bottom>=s){o=Math.max(m.bottom,o),s=Math.min(m.top,s);let g=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(g<r){n=c,r=g,i=g&&n.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,c.nodeType==1&&g&&(a=d+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!l&&m.left<=t.left&&m.right>=t.left&&(l=c,u={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!n&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(a=d+1)}}return!n&&l&&(n=l,i=u,r=0),n&&n.nodeType==3?FWe(n,i):!n||r&&n.nodeType==1?{node:e,offset:a}:moe(n,i)}function FWe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let a=Wd(r,1);if(a.top!=a.bottom&&XR(t,a))return{node:e,offset:i+(t.left>=(a.left+a.right)/2?1:0)}}return{node:e,offset:0}}function XR(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function BWe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function zWe(e,t,n){let{node:r,offset:i}=moe(t,n),a=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();a=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,i,a)}function $We(e,t,n,r){let i=-1;for(let a=t,o=!1;a!=e.dom;){let s=e.docView.nearestDesc(a,!0);if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent&&!o||!s.contentDOM)){let l=s.dom.getBoundingClientRect();if(s.node.isBlock&&s.parent&&!o&&(o=!0,l.left>r.left||l.top>r.top?i=s.posBefore:(l.right<r.left||l.bottom<r.top)&&(i=s.posAfter)),!s.contentDOM&&i<0&&!s.node.isText)return(s.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?s.posBefore:s.posAfter}a=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function goe(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),a=i;;){let o=e.childNodes[a];if(o.nodeType==1){let s=o.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(XR(t,u))return goe(o,t,u)}}if((a=(a+1)%r)==i)break}return e}function UWe(e,t){let n=e.dom.ownerDocument,r,i=0,a=TWe(n,t.left,t.top);a&&({node:r,offset:i}=a);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),s;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=e.dom.getBoundingClientRect();if(!XR(t,u)||(o=goe(e.dom,t,u),!o))return null}if(Eo)for(let u=o;r&&u;u=Lb(u))u.draggable&&(r=void 0);if(o=BWe(o,t),r){if(uu&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let u;K2&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=$We(e,r,i,t))}s==null&&(s=zWe(e,o,t));let l=e.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function EU(e){return e.top<e.bottom||e.left<e.right}function Wd(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(EU(r))return r}return Array.prototype.find.call(n,EU)||e.getBoundingClientRect()}const VWe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function voe(e,t,n){let{node:r,offset:i,atom:a}=e.docView.domFromPos(t,n<0?-1:1),o=K2||uu;if(r.nodeType==3)if(o&&(VWe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Wd(Dc(r,i,i),n);if(uu&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Wd(Dc(r,i-1,i-1),-1);if(u.top==l.top){let c=Wd(Dc(r,i,i+1),-1);if(c.top!=l.top)return Zv(c,c.left<u.left)}}return l}else{let l=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(l--,c=1):n<0?l--:u++,Zv(Wd(Dc(r,l,u),c),c<0)}if(!e.state.doc.resolve(t-(a||0)).parent.inlineContent){if(a==null&&i&&(n<0||i==Lu(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return A6(l.getBoundingClientRect(),!1)}if(a==null&&i<Lu(r)){let l=r.childNodes[i];if(l.nodeType==1)return A6(l.getBoundingClientRect(),!0)}return A6(r.getBoundingClientRect(),n>=0)}if(a==null&&i&&(n<0||i==Lu(r))){let l=r.childNodes[i-1],u=l.nodeType==3?Dc(l,Lu(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Zv(Wd(u,1),!1)}if(a==null&&i<Lu(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Dc(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return Zv(Wd(u,-1),!0)}return Zv(Wd(r.nodeType==3?Dc(r):r,-n),n>=0)}function Zv(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function A6(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function yoe(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function HWe(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return yoe(e,t,()=>{let{node:a}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let s=e.docView.nearestDesc(a,!0);if(!s)break;if(s.node.isBlock){a=s.contentDOM||s.dom;break}a=s.dom.parentNode}let o=voe(e,i.pos,1);for(let s=a.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Dc(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(n=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const qWe=/[\u0590-\u08ac]/;function WWe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,a=!i,o=i==r.parent.content.size,s=e.domSelection();return!qWe.test(r.parent.textContent)||!s.modify?n=="left"||n=="backward"?a:o:yoe(e,t,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=e.domSelectionRange(),f=s.caretBidiLevel;s.modify("move",n,"character");let h=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:m,focusOffset:g}=e.domSelectionRange(),S=m&&!h.contains(m.nodeType==1?m:m.parentNode)||l==m&&u==g;try{s.collapse(c,d),l&&(l!=c||u!=d)&&s.extend&&s.extend(l,u)}catch{}return f!=null&&(s.caretBidiLevel=f),S})}let kU=null,AU=null,_U=!1;function GWe(e,t,n){return kU==t&&AU==n?_U:(kU=t,AU=n,_U=n=="up"||n=="down"?HWe(e,t,n):WWe(e,t,n))}const gl=0,MU=1,Cp=2,Qu=3;class Y2{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=gl,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let a,o;if(t==this.contentDOM)a=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{let a,o;if(t==this.contentDOM)a=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.nextSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(o):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>mo(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=t;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let a=t;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let a=this.getDesc(i),o;if(a&&(!n||a.node))if(r&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return a}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],a=r+i.size;if(r==t&&a!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<a)return i.descAt(t-r-i.border);r=a}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let a=0;r<this.children.length;r++){let o=this.children[r],s=a+o.size;if(s>t||o instanceof woe){i=t-a;break}a=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let a;r&&!(a=this.children[r-1]).size&&a instanceof boe&&a.side>=0;r--);if(n<=0){let a,o=!0;for(;a=r?this.children[r-1]:null,!(!a||a.dom.parentNode==this.contentDOM);r--,o=!1);return a&&n&&o&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?mo(a.dom)+1:0}}else{let a,o=!0;for(;a=r<this.children.length?this.children[r]:null,!(!a||a.dom.parentNode==this.contentDOM);r++,o=!1);return a&&o&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?mo(a.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let o=r,s=0;;s++){let l=this.children[s],u=o+l.size;if(i==-1&&t<=u){let c=o+l.border;if(t>=c&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,c);t=o;for(let d=s;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=mo(f.dom)+1;break}t-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||s==this.children.length-1)){n=u;for(let c=s+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){a=mo(d.dom);break}n+=d.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:a}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let a=Math.min(t,n),o=Math.max(t,n);for(let f=0,h=0;f<this.children.length;f++){let m=this.children[f],g=h+m.size;if(a>h&&o<g)return m.setSelection(t-h-m.border,n-h-m.border,r,i);h=g}let s=this.domFromPos(t,t?-1:1),l=n==t?s:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((uu||Eo)&&t==n){let{node:f,offset:h}=s;if(f.nodeType==3){if(c=!!(h&&f.nodeValue[h-1]==`
`),c&&h==f.nodeValue.length)for(let m=f,g;m;m=m.parentNode){if(g=m.nextSibling){g.nodeName=="BR"&&(s=l={node:g.parentNode,offset:mo(g)+1});break}let S=m.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let m=f.childNodes[h-1];c=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(uu&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||c&&Eo)&&nm(s.node,s.offset,u.anchorNode,u.anchorOffset)&&nm(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||t==n)&&!c){u.collapse(s.node,s.offset);try{t!=n&&u.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(t>n){let h=s;s=l,l=h}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let a=this.children[i],o=r+a.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let s=r+a.border,l=o-a.border;if(t>=s&&n<=l){this.dirty=t==r||n==o?Cp:MU,t==s&&n==l&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Qu:a.markDirty(t-s,n-s);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Cp:Qu}r=o}this.dirty=Cp}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Cp:MU;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class boe extends Y2{constructor(t,n,r,i){let a,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(o.nodeType!=1){let s=document.createElement("span");s.appendChild(o),o=s}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,a=this}matchesWidget(t){return this.dirty==gl&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class KWe extends Y2{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class rm extends Y2{constructor(t,n,r,i){super(t,[],r,i),this.mark=n}static create(t,n,r,i){let a=i.nodeViews[n.type.name],o=a&&a(n,i,r);return(!o||!o.dom)&&(o=zu.renderSpec(document,n.type.spec.toDOM(n,r))),new rm(t,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Qu||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Qu&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=gl){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=gl}}slice(t,n,r){let i=rm.create(this.parent,this.mark,!0,r),a=this.children,o=this.size;n<o&&(a=IT(a,n,o,r)),t>0&&(a=IT(a,0,t,r));for(let s=0;s<a.length;s++)a[s].parent=i;return i.children=a,i}}class Rf extends Y2{constructor(t,n,r,i,a,o,s,l,u){super(t,[],a,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=s}static create(t,n,r,i,a,o){let s=a.nodeViews[n.type.name],l,u=s&&s(n,a,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=zu.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=Coe(c,r,n),u?l=new YWe(t,n,r,i,c,d||null,f,u,a,o+1):n.isText?new RE(t,n,r,i,c,f,a):new Rf(t,n,r,i,c,d||null,f,a,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>rt.empty)}return t}matchesNode(t,n,r){return this.dirty==gl&&t.eq(this.node)&&RT(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,a=t.composing?this.localCompositionInfo(t,n):null,o=a&&a.pos>-1?a:null,s=a&&a.pos<0,l=new QWe(this,o&&o.node,t);eGe(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,t):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?pr.none:this.node.child(c).marks,r,t),l.placeWidget(u,t,i)},(u,c,d,f)=>{l.syncToMarks(u.marks,r,t);let h;l.findNodeMatch(u,c,d,f)||s&&t.state.selection.from>i&&t.state.selection.to<i+u.nodeSize&&(h=l.findIndexWithChild(a.node))>-1&&l.updateNodeAt(u,c,d,h,t)||l.updateNextNode(u,c,d,t,f,i)||l.addNode(u,c,d,t,i),i+=u.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Cp)&&(o&&this.protectLocalComposition(t,o),xoe(this.contentDOM,this.children,t),X0&&tGe(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof pn)||r<n||i>n+this.node.content.size)return null;let a=t.domSelectionRange(),o=nGe(a.focusNode,a.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,l=rGe(this.node.content,s,r-n,i-n);return l<0?null:{node:o,pos:l,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new KWe(this,a,n,i);t.input.compositionNodes.push(o),this.children=IT(this.children,r,r+i.length,t,o)}update(t,n,r,i){return this.dirty==Qu||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=gl}updateOuterDeco(t){if(RT(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Soe(this.dom,this.nodeDOM,DT(this.outerDeco,this.node,n),DT(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function TU(e,t,n,r,i){Coe(r,t,e);let a=new Rf(void 0,e,t,n,r,r,r,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class RE extends Rf{constructor(t,n,r,i,a,o,s){super(t,n,r,i,a,null,o,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Qu||this.dirty!=gl&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=gl||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=gl,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),a=document.createTextNode(i.text);return new RE(this.parent,i,this.outerDeco,this.innerDeco,a,a,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Qu)}get domAtom(){return!1}}class woe extends Y2{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==gl&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class YWe extends Rf{constructor(t,n,r,i,a,o,s,l,u,c){super(t,n,r,i,a,o,s,u,c),this.spec=l}update(t,n,r,i){if(this.dirty==Qu)return!1;if(this.spec.update){let a=this.spec.update(t,n,r);return a&&this.updateInner(t,n,r,i),a}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function xoe(e,t,n){let r=e.firstChild,i=!1;for(let a=0;a<t.length;a++){let o=t[a],s=o.dom;if(s.parentNode==e){for(;s!=r;)r=NU(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(s,r);if(o instanceof rm){let l=r?r.previousSibling:e.lastChild;xoe(o.contentDOM,o.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=NU(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Gy=function(e){e&&(this.nodeName=e)};Gy.prototype=Object.create(null);const Ep=[new Gy];function DT(e,t,n){if(e.length==0)return Ep;let r=n?Ep[0]:new Gy,i=[r];for(let a=0;a<e.length;a++){let o=e[a].type.attrs;if(o){o.nodeName&&i.push(r=new Gy(o.nodeName));for(let s in o){let l=o[s];l!=null&&(n&&i.length==1&&i.push(r=new Gy(t.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+l:s=="style"?r.style=(r.style?r.style+";":"")+l:s!="nodeName"&&(r[s]=l))}}}return i}function Soe(e,t,n,r){if(n==Ep&&r==Ep)return t;let i=t;for(let a=0;a<r.length;a++){let o=r[a],s=n[a];if(a){let l;s&&s.nodeName==o.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=Ep[0]),i=l}JWe(i,s||Ep[0],o)}return i}function JWe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<r.length;a++)i.indexOf(r[a])==-1&&e.classList.remove(r[a]);for(let a=0;a<i.length;a++)r.indexOf(i[a])==-1&&e.classList.add(i[a]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function Coe(e,t,n){return Soe(e,e,Ep,DT(t,n,e.nodeType!=1))}function RT(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function NU(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class QWe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=XWe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,a=this.stack.length>>1,o=Math.min(a,t.length);for(;i<o&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=gl,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<t.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(t[a])&&!this.isLocked(u.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=rm.create(this.top,t[a],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,a++}}findNodeMatch(t,n,r,i){let a=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))a=this.top.children.indexOf(o,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(t,n,r)&&!this.preMatch.matched.has(u)){a=s;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(t,n,r,i,a){let o=this.top.children[i];return o.dirty==Qu&&o.dom==o.contentDOM&&(o.dirty=Cp),o.update(t,n,r,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,a,o){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Rf){let u=this.preMatch.matched.get(l);if(u!=null&&u!=a)return!1;let c=l.dom,d,f=this.isLocked(c)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Qu&&RT(n,l.outerDeco));if(!f&&l.update(t,n,r,i))return this.destroyBetween(this.index,s),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,t,n,r,i,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Cp,d.updateChildren(i,o+1),d.dirty=gl),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,a,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let s=Rf.create(this.top,n,r,i,a,o);if(s.contentDOM){s.children=t.children,t.children=[];for(let l of s.children)l.parent=s}return t.destroy(),s}addNode(t,n,r,i,a){let o=Rf.create(this.top,t,n,r,i,a);o.contentDOM&&o.updateChildren(i,a+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new boe(this.top,t,n,r);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof rm;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof RE)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Eo||$a)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new woe(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function XWe(e,t){let n=t,r=n.children.length,i=e.childCount,a=new Map,o=[];e:for(;i>0;){let s;for(;;)if(r){let u=n.children[r-1];if(u instanceof rm)n=u,r=u.children.length;else{s=u,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(i-1))break;--i,a.set(s,i),o.push(s)}}return{index:i,matched:a,matches:o.reverse()}}function ZWe(e,t){return e.type.side-t.type.side}function eGe(e,t,n,r){let i=t.locals(e),a=0;if(i.length==0){for(let u=0;u<e.childCount;u++){let c=e.child(u);r(c,i,t.forChild(a,c),u),a+=c.nodeSize}return}let o=0,s=[],l=null;for(let u=0;;){let c,d;for(;o<i.length&&i[o].to==a;){let S=i[o++];S.widget&&(c?(d||(d=[c])).push(S):c=S)}if(c)if(d){d.sort(ZWe);for(let S=0;S<d.length;S++)n(d[S],u,!!l)}else n(c,u,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(u<e.childCount)h=u,f=e.child(u++);else break;for(let S=0;S<s.length;S++)s[S].to<=a&&s.splice(S--,1);for(;o<i.length&&i[o].from<=a&&i[o].to>a;)s.push(i[o++]);let m=a+f.nodeSize;if(f.isText){let S=m;o<i.length&&i[o].from<S&&(S=i[o].from);for(let y=0;y<s.length;y++)s[y].to<S&&(S=s[y].to);S<m&&(l=f.cut(S-a),f=f.cut(0,S-a),m=S,h=-1)}let g=f.isInline&&!f.isLeaf?s.filter(S=>!S.inline):s.slice();r(f,g,t.forChild(a,f),h),a=m}}function tGe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function nGe(e,t){for(;;){if(e.nodeType==3)return e;if(e.nodeType==1&&t>0){if(e.childNodes.length>t&&e.childNodes[t].nodeType==3)return e.childNodes[t];e=e.childNodes[t-1],t=Lu(e)}else if(e.nodeType==1&&t<e.childNodes.length)e=e.childNodes[t],t=0;else return null}}function rGe(e,t,n,r){for(let i=0,a=0;i<e.childCount&&a<=r;){let o=e.child(i++),s=a;if(a+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<e.childCount;){let u=e.child(i++);if(a+=u.nodeSize,!u.isText)break;l+=u.text}if(a>=n){if(a>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;let u=s<r?l.lastIndexOf(t,r-s-1):-1;if(u>=0&&u+t.length+s>=n)return s+u;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}function IT(e,t,n,r,i){let a=[];for(let o=0,s=0;o<e.length;o++){let l=e[o],u=s,c=s+=l.size;u>=n||c<=t?a.push(l):(u<t&&a.push(l.slice(0,t-u,r)),i&&(a.push(i),i=void 0),c>n&&a.push(l.slice(n-u,l.size,r)))}return a}function ZR(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),a=i&&i.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let s=r.resolve(o),l,u;if(DE(n)){for(l=s;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&Ht.isSelectable(c)&&i.parent&&!(c.isInline&&_We(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;u=new Ht(o==d?s:r.resolve(d))}}else{let c=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;l=r.resolve(c)}if(!u){let c=t=="pointer"||e.state.selection.head<s.pos&&!a?1:-1;u=eI(e,l,s,c)}return u}function Eoe(e){return e.editable?e.hasFocus():Aoe(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Hc(e,t=!1){let n=e.state.selection;if(koe(e,n),!!Eoe(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&$a){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&nm(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)aGe(e);else{let{anchor:r,head:i}=n,a,o;DU&&!(n instanceof pn)&&(n.$from.parent.inlineContent||(a=RU(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=RU(e,n.to))),e.docView.setSelection(r,i,e.root,t),DU&&(a&&IU(a),o&&IU(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&iGe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const DU=Eo||$a&&NWe<63;function RU(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,a=r?n.childNodes[r-1]:null;if(Eo&&i&&i.contentEditable=="false")return _6(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return _6(i);if(a)return _6(a)}}function _6(e){return e.contentEditable="true",Eo&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function IU(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function iGe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!Eoe(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function aGe(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,mo(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&Jo&&Df<=11&&(r.disabled=!0,r.disabled=!1)}function koe(e,t){if(t instanceof Ht){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(OU(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else OU(e)}function OU(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function eI(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||pn.between(t,n,r)}function PU(e){return e.editable&&!e.hasFocus()?!1:Aoe(e)}function Aoe(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function oGe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return nm(t.node,t.offset,n.anchorNode,n.anchorOffset)}function OT(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),a=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return a&&xn.findFrom(a,t)}function Zd(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function jU(e,t,n){let r=e.state.selection;if(r instanceof pn)if(n.indexOf("s")>-1){let{$head:i}=r,a=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let o=e.state.doc.resolve(i.pos+a.nodeSize*(t<0?-1:1));return Zd(e,new pn(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=OT(e.state,t);return i&&i instanceof Ht?Zd(e,i):!1}else if(!(el&&n.indexOf("m")>-1)){let i=r.$head,a=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,o;if(!a||a.isText)return!1;let s=t<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(o=e.docView.descAt(s))&&!o.contentDOM?Ht.isSelectable(a)?Zd(e,new Ht(t<0?e.state.doc.resolve(i.pos-a.nodeSize):i)):K2?Zd(e,new pn(e.state.doc.resolve(t<0?s:s+a.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ht&&r.node.isInline)return Zd(e,new pn(t>0?r.$to:r.$from));{let i=OT(e.state,t);return i?Zd(e,i):!1}}}function b5(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Ky(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function hg(e,t){return t<0?sGe(e):lGe(e)}function sGe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,a,o=!1;for(uu&&n.nodeType==1&&r<b5(n)&&Ky(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let s=n.childNodes[r-1];if(Ky(s,-1))i=n,a=--r;else if(s.nodeType==3)n=s,r=n.nodeValue.length;else break}}else{if(_oe(n))break;{let s=n.previousSibling;for(;s&&Ky(s,-1);)i=n.parentNode,a=mo(s),s=s.previousSibling;if(s)n=s,r=b5(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?PT(e,n,r):i&&PT(e,i,a)}function lGe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=b5(n),a,o;for(;;)if(r<i){if(n.nodeType!=1)break;let s=n.childNodes[r];if(Ky(s,1))a=n,o=++r;else break}else{if(_oe(n))break;{let s=n.nextSibling;for(;s&&Ky(s,1);)a=s.parentNode,o=mo(s)+1,s=s.nextSibling;if(s)n=s,r=0,i=b5(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}a&&PT(e,a,o)}function _oe(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function uGe(e,t){for(;e&&t==e.childNodes.length&&!QR(e);)t=mo(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function cGe(e,t){for(;e&&!t&&!QR(e);)t=mo(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function PT(e,t,n){if(t.nodeType!=3){let a,o;(o=uGe(t,n))?(t=o,n=0):(a=cGe(t,n))&&(t=a,n=a.nodeValue.length)}let r=e.domSelection();if(DE(r)){let a=document.createRange();a.setEnd(t,n),a.setStart(t,n),r.removeAllRanges(),r.addRange(a)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Hc(e)},50)}function LU(e,t){let n=e.state.doc.resolve(t);if(!($a||DWe)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let a=e.coordsAtPos(t-1),o=(a.top+a.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(t<n.end()){let a=e.coordsAtPos(t+1),o=(a.top+a.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function FU(e,t,n){let r=e.state.selection;if(r instanceof pn&&!r.empty||n.indexOf("s")>-1||el&&n.indexOf("m")>-1)return!1;let{$from:i,$to:a}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=OT(e.state,t);if(o&&o instanceof Ht)return Zd(e,o)}if(!i.parent.inlineContent){let o=t<0?i:a,s=r instanceof ru?xn.near(o,t):xn.findFrom(o,t);return s?Zd(e,s):!1}return!1}function BU(e,t){if(!(e.state.selection instanceof pn))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let a=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let o=e.state.tr;return t<0?o.delete(n.pos-a.nodeSize,n.pos):o.delete(n.pos,n.pos+a.nodeSize),e.dispatch(o),!0}return!1}function zU(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function dGe(e){if(!Eo||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;zU(e,r,"true"),setTimeout(()=>zU(e,r,"false"),20)}return!1}function fGe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function hGe(e,t){let n=t.keyCode,r=fGe(t);if(n==8||el&&n==72&&r=="c")return BU(e,-1)||hg(e,-1);if(n==46&&!t.shiftKey||el&&n==68&&r=="c")return BU(e,1)||hg(e,1);if(n==13||n==27)return!0;if(n==37||el&&n==66&&r=="c"){let i=n==37?LU(e,e.state.selection.from)=="ltr"?-1:1:-1;return jU(e,i,r)||hg(e,i)}else if(n==39||el&&n==70&&r=="c"){let i=n==39?LU(e,e.state.selection.from)=="ltr"?1:-1:1;return jU(e,i,r)||hg(e,i)}else{if(n==38||el&&n==80&&r=="c")return FU(e,-1,r)||hg(e,-1);if(n==40||el&&n==78&&r=="c")return dGe(e)||FU(e,1,r)||hg(e,1);if(r==(el?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Moe(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let n=[],{content:r,openStart:i,openEnd:a}=t;for(;i>1&&a>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,a--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=e.someProp("clipboardSerializer")||zu.fromSchema(e.state.schema),s=Ooe(),l=s.createElement("div");l.appendChild(o.serializeFragment(r,{document:s}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=Ioe[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let m=s.createElement(c[h]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${a}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f}}function Toe(e,t,n,r,i){let a=i.parent.type.spec.code,o,s;if(!n&&!t)return null;let l=t&&(r||a||!n);if(l){if(e.someProp("transformPastedText",f=>{t=f(t,a||r,e)}),a)return t?new yt(rt.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):yt.empty;let d=e.someProp("clipboardTextParser",f=>f(t,i,r,e));if(d)s=d;else{let f=i.marks(),{schema:h}=e.state,m=zu.fromSchema(h);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let S=o.appendChild(document.createElement("p"));g&&S.appendChild(m.serializeNode(h.text(g,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),o=gGe(n),K2&&vGe(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||Y0.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!pGe.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)s=yGe($U(s,+c[1],+c[2]),c[4]);else if(s=yt.maxOpen(mGe(s.content,i),!0),s.openStart||s.openEnd){let d=0,f=0;for(let h=s.content.firstChild;d<s.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=s.content.lastChild;f<s.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);s=$U(s,d,f)}return e.someProp("transformPasted",d=>{s=d(s,e)}),s}const pGe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function mGe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),a,o=[];if(e.forEach(s=>{if(!o)return;let l=i.findWrapping(s.type),u;if(!l)return o=null;if(u=o.length&&a.length&&Doe(l,a,s,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=Roe(o[o.length-1],a.length));let c=Noe(s,l);o.push(c),i=i.matchType(c.type),a=l}}),o)return rt.from(o)}return e}function Noe(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,rt.from(e));return e}function Doe(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let a=Doe(e,t,n,r.lastChild,i+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(rt.from(Noe(n,e,i+1))))}}function Roe(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,Roe(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(rt.empty,!0);return e.copy(n.append(r))}function jT(e,t,n,r,i,a){let o=t<0?e.firstChild:e.lastChild,s=o.content;return e.childCount>1&&(a=0),i<r-1&&(s=jT(s,t,n,r,i+1,a)),i>=n&&(s=t<0?o.contentMatchAt(0).fillBefore(s,a<=i).append(s):s.append(o.contentMatchAt(o.childCount).fillBefore(rt.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(s))}function $U(e,t,n){return t<e.openStart&&(e=new yt(jT(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new yt(jT(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Ioe={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let UU=null;function Ooe(){return UU||(UU=document.implementation.createHTMLDocument("title"))}function gGe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=Ooe().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&Ioe[r[1].toLowerCase()])&&(e=i.map(a=>"<"+a+">").join("")+e+i.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=e,i)for(let a=0;a<i.length;a++)n=n.querySelector(i[a])||n;return n}function vGe(e){let t=e.querySelectorAll($a?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function yGe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:a,openEnd:o}=e;for(let s=r.length-2;s>=0;s-=2){let l=n.nodes[r[s]];if(!l||l.hasRequiredAttrs())break;i=rt.from(l.create(r[s+1],i)),a++,o++}return new yt(i,a,o)}const ko={},Ao={},bGe={touchstart:!0,touchmove:!0};class wGe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function xGe(e){for(let t in ko){let n=ko[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{CGe(e,r)&&!tI(e,r)&&(e.editable||!(r.type in Ao))&&n(e,r)},bGe[t]?{passive:!0}:void 0)}Eo&&e.dom.addEventListener("input",()=>null),LT(e)}function bf(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function SGe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function LT(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>tI(e,r))})}function tI(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function CGe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function EGe(e,t){!tI(e,t)&&ko[t.type]&&(e.editable||!(t.type in Ao))&&ko[t.type](e,t)}Ao.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!joe(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Gl&&$a&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),X0&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,fp(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||hGe(e,n)?n.preventDefault():bf(e,"key")};Ao.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Ao.keypress=(e,t)=>{let n=t;if(joe(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||el&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof pn)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",a=>a(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function IE(e){return{left:e.clientX,top:e.clientY}}function kGe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function nI(e,t,n,r,i){if(r==-1)return!1;let a=e.state.doc.resolve(r);for(let o=a.depth+1;o>0;o--)if(e.someProp(t,s=>o>a.depth?s(e,n,a.nodeAfter,a.before(o),i,!0):s(e,n,a.node(o),a.before(o),i,!1)))return!0;return!1}function w0(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);n=="pointer"&&r.setMeta("pointer",!0),e.dispatch(r)}function AGe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Ht.isSelectable(r)?(w0(e,new Ht(n),"pointer"),!0):!1}function _Ge(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Ht&&(r=n.node);let a=e.state.doc.resolve(t);for(let o=a.depth+1;o>0;o--){let s=o>a.depth?a.nodeAfter:a.node(o);if(Ht.isSelectable(s)){r&&n.$from.depth>0&&o>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?i=a.before(n.$from.depth):i=a.before(o);break}}return i!=null?(w0(e,Ht.create(e.state.doc,i),"pointer"),!0):!1}function MGe(e,t,n,r,i){return nI(e,"handleClickOn",t,n,r)||e.someProp("handleClick",a=>a(e,t,r))||(i?_Ge(e,n):AGe(e,n))}function TGe(e,t,n,r){return nI(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function NGe(e,t,n,r){return nI(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||DGe(e,n,r)}function DGe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(w0(e,pn.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(t);for(let a=i.depth+1;a>0;a--){let o=a>i.depth?i.nodeAfter:i.node(a),s=i.before(a);if(o.inlineContent)w0(e,pn.create(r,s+1,s+1+o.content.size),"pointer");else if(Ht.isSelectable(o))w0(e,Ht.create(r,s),"pointer");else continue;return!0}}function rI(e){return w5(e)}const Poe=el?"metaKey":"ctrlKey";ko.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=rI(e),i=Date.now(),a="singleClick";i-e.input.lastClick.time<500&&kGe(n,e.input.lastClick)&&!n[Poe]&&(e.input.lastClick.type=="singleClick"?a="doubleClick":e.input.lastClick.type=="doubleClick"&&(a="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:a};let o=e.posAtCoords(IE(n));o&&(a=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new RGe(e,o,n,!!r)):(a=="doubleClick"?TGe:NGe)(e,o.pos,o.inside,n)?n.preventDefault():bf(e,"pointer"))};class RGe{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[Poe],this.allowDefault=r.shiftKey;let a,o;if(n.inside>-1)a=t.state.doc.nodeAt(n.inside),o=n.inside;else{let c=t.state.doc.resolve(n.pos);a=c.parent,o=c.depth?c.before():0}const s=i?null:r.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:u}=t.state;(r.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||u instanceof Ht&&u.from<=o&&u.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&uu&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),bf(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Hc(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(IE(t))),this.updateAllowDefault(t),this.allowDefault||!n?bf(this.view,"pointer"):MGe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Eo&&this.mightDrag&&!this.mightDrag.node.isAtom||$a&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(w0(this.view,xn.near(this.view.state.doc.resolve(n.pos)),"pointer"),t.preventDefault()):bf(this.view,"pointer")}move(t){this.updateAllowDefault(t),bf(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}ko.touchstart=e=>{e.input.lastTouch=Date.now(),rI(e),bf(e,"pointer")};ko.touchmove=e=>{e.input.lastTouch=Date.now(),bf(e,"pointer")};ko.contextmenu=e=>rI(e);function joe(e,t){return e.composing?!0:Eo&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const IGe=Gl?5e3:-1;Ao.compositionstart=Ao.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),w5(e,!0),e.markCursor=null;else if(w5(e),uu&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,a=r.focusOffset;i&&i.nodeType==1&&a!=0;){let o=a<0?i.lastChild:i.childNodes[a-1];if(!o)break;if(o.nodeType==3){e.domSelection().collapse(o,o.nodeValue.length);break}else i=o,a=-1}}e.input.composing=!0}Loe(e,IGe)};Ao.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,Loe(e,20))};function Loe(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>w5(e),t))}function Foe(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=OGe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function OGe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function w5(e,t=!1){if(!(Gl&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Foe(e),t||e.docView&&e.docView.dirty){let n=ZR(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function PGe(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Fb=Jo&&Df<15||X0&&RWe<604;ko.copy=Ao.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let a=Fb?null:n.clipboardData,o=r.content(),{dom:s,text:l}=Moe(e,o);a?(n.preventDefault(),a.clearData(),a.setData("text/html",s.innerHTML),a.setData("text/plain",l)):PGe(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function jGe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function LGe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Bb(e,r.value,null,i,t):Bb(e,r.textContent,r.innerHTML,i,t)},50)}function Bb(e,t,n,r,i){let a=Toe(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,a||yt.empty)))return!0;if(!a)return!1;let o=jGe(a),s=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(a);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Boe(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ao.paste=(e,t)=>{let n=t;if(e.composing&&!Gl)return;let r=Fb?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&Bb(e,Boe(r),r.getData("text/html"),i,n)?n.preventDefault():LGe(e,n)};class zoe{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const $oe=el?"altKey":"ctrlKey";ko.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,a=i.empty?null:e.posAtCoords(IE(n)),o;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof Ht?i.to-1:i.to))){if(r&&r.mightDrag)o=Ht.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let c=e.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=e.docView&&(o=Ht.create(e.state.doc,c.posBefore))}}let s=(o||e.state.selection).content(),{dom:l,text:u}=Moe(e,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Fb?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Fb||n.dataTransfer.setData("text/plain",u),e.dragging=new zoe(s,!n[$oe],o)};ko.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Ao.dragover=Ao.dragenter=(e,t)=>t.preventDefault();Ao.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(IE(n));if(!i)return;let a=e.state.doc.resolve(i.pos),o=r&&r.slice;o?e.someProp("transformPasted",m=>{o=m(o,e)}):o=Toe(e,Boe(n.dataTransfer),Fb?null:n.dataTransfer.getData("text/html"),!1,a);let s=!!(r&&!n[$oe]);if(e.someProp("handleDrop",m=>m(e,n,o||yt.empty,s))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?ioe(e.state.doc,a.pos,o):a.pos;l==null&&(l=a.pos);let u=e.state.tr;if(s){let{node:m}=r;m?m.replace(u):u.deleteSelection()}let c=u.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(f))return;let h=u.doc.resolve(c);if(d&&Ht.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new Ht(h));else{let m=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((g,S,y,E)=>m=E),u.setSelection(eI(e,h,u.doc.resolve(m)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))};ko.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Hc(e)},20))};ko.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};ko.beforeinput=(e,t)=>{if($a&&Gl&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",a=>a(e,fp(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in Ao)ko[e]=Ao[e];function zb(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class x5{constructor(t,n){this.toDOM=t,this.spec=n||Lp,this.side=this.spec.side||0}map(t,n,r,i){let{pos:a,deleted:o}=t.mapResult(n.from+i,this.side<0?-1:1);return o?null:new ys(a-r,a-r,this)}valid(){return!0}eq(t){return this==t||t instanceof x5&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&zb(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class If{constructor(t,n){this.attrs=t,this.spec=n||Lp}map(t,n,r,i){let a=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return a>=o?null:new ys(a,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof If&&zb(this.attrs,t.attrs)&&zb(this.spec,t.spec)}static is(t){return t.type instanceof If}destroy(){}}class iI{constructor(t,n){this.attrs=t,this.spec=n||Lp}map(t,n,r,i){let a=t.mapResult(n.from+i,1);if(a.deleted)return null;let o=t.mapResult(n.to+i,-1);return o.deleted||o.pos<=a.pos?null:new ys(a.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),a;return i==n.from&&!(a=t.child(r)).isText&&i+a.nodeSize==n.to}eq(t){return this==t||t instanceof iI&&zb(this.attrs,t.attrs)&&zb(this.spec,t.spec)}destroy(){}}class ys{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new ys(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new ys(t,t,new x5(n,r))}static inline(t,n,r,i){return new ys(t,n,new If(r,i))}static node(t,n,r,i){return new ys(t,n,new iI(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof If}get widget(){return this.type instanceof x5}}const Mg=[],Lp={};class Ri{constructor(t,n){this.local=t.length?t:Mg,this.children=n.length?n:Mg}static create(t,n){return n.length?S5(n,t,0,Lp):Pa}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,a){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=n&&s.to>=t&&(!a||a(s.spec))&&r.push(s.copy(s.from+i,s.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let s=this.children[o]+1;this.children[o+2].findInner(t-s,n-s,r,i+s,a)}}map(t,n,r){return this==Pa||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Lp)}mapInner(t,n,r,i,a){let o;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):a.onRemove&&a.onRemove(this.local[s].spec)}return this.children.length?FGe(this.children,o||[],t,n,r,i,a):o?new Ri(o.sort(Fp),Mg):Pa}add(t,n){return n.length?this==Pa?Ri.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,a=0;t.forEach((s,l)=>{let u=l+r,c;if(c=Voe(n,s,u)){for(i||(i=this.children.slice());a<i.length&&i[a]<l;)a+=3;i[a]==l?i[a+2]=i[a+2].addInner(s,c,u+1):i.splice(a,0,l,l+s.nodeSize,S5(c,s,u+1,Lp)),a+=3}});let o=Uoe(a?Hoe(n):n,-r);for(let s=0;s<o.length;s++)o[s].type.valid(t,o[s])||o.splice(s--,1);return new Ri(o.length?this.local.concat(o).sort(Fp):this.local,i||this.children)}remove(t){return t.length==0||this==Pa?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let a=0;a<r.length;a+=3){let o,s=r[a]+n,l=r[a+1]+n;for(let c=0,d;c<t.length;c++)(d=t[c])&&d.from>s&&d.to<l&&(t[c]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[a+2].removeInner(o,s+1);u!=Pa?r[a+2]=u:(r.splice(a,3),a-=3)}if(i.length){for(let a=0,o;a<t.length;a++)if(o=t[a])for(let s=0;s<i.length;s++)i[s].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Ri(i,r):Pa}forChild(t,n){if(this==Pa)return this;if(n.isLeaf)return Ri.empty;let r,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(r=this.children[s+2]);break}let a=t+1,o=a+n.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<o&&l.to>a&&l.type instanceof If){let u=Math.max(a,l.from)-a,c=Math.min(o,l.to)-a;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let s=new Ri(i.sort(Fp),Mg);return r?new df([s,r]):s}return r||Pa}eq(t){if(this==t)return!0;if(!(t instanceof Ri)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return aI(this.localsInner(t))}localsInner(t){if(this==Pa)return Mg;if(t.inlineContent||!this.local.some(If.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof If||n.push(this.local[r]);return n}}Ri.empty=new Ri([],[]);Ri.removeOverlap=aI;const Pa=Ri.empty;class df{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Lp));return df.from(r)}forChild(t,n){if(n.isLeaf)return Ri.empty;let r=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(t,n);a!=Pa&&(a instanceof df?r=r.concat(a.members):r.push(a))}return df.from(r)}eq(t){if(!(t instanceof df)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(t);if(a.length)if(!n)n=a;else{r&&(n=n.slice(),r=!1);for(let o=0;o<a.length;o++)n.push(a[o])}}return n?aI(r?n:n.sort(Fp)):Mg}static from(t){switch(t.length){case 0:return Pa;case 1:return t[0];default:return new df(t.every(n=>n instanceof Ri)?t:t.reduce((n,r)=>n.concat(r instanceof Ri?r:r.members),[]))}}}function FGe(e,t,n,r,i,a,o){let s=e.slice();for(let u=0,c=a;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,h,m,g)=>{let S=g-m-(h-f);for(let y=0;y<s.length;y+=3){let E=s[y+1];if(E<0||f>E+c-d)continue;let x=s[y]+c-d;h>=x?s[y+1]=f<=x?-2:-1:m>=i&&S&&(s[y]+=S,s[y+1]+=S)}d+=S}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let c=n.map(e[u]+a),d=c-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(e[u+1]+a,-1),h=f-i,{index:m,offset:g}=r.content.findIndex(d),S=r.maybeChild(m);if(S&&g==d&&g+S.nodeSize==h){let y=s[u+2].mapInner(n,S,c+1,e[u]+a+1,o);y!=Pa?(s[u]=d,s[u+1]=h,s[u+2]=y):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=BGe(s,e,t,n,i,a,o),c=S5(u,r,0,o);t=c.local;for(let d=0;d<s.length;d+=3)s[d+1]<0&&(s.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let h=c.children[d];for(;f<s.length&&s[f]<h;)f+=3;s.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Ri(t.sort(Fp),s)}function Uoe(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new ys(i.from+t,i.to+t,i.type))}return n}function BGe(e,t,n,r,i,a,o){function s(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(r,i,u);d?n.push(d):o.onRemove&&o.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&s(e[l+2],t[l]+a+1);return n}function Voe(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let a=0,o;a<e.length;a++)(o=e[a])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),e[a]=null);return i}function Hoe(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function S5(e,t,n,r){let i=[],a=!1;t.forEach((s,l)=>{let u=Voe(e,s,l+n);if(u){a=!0;let c=S5(u,s,n+l+1,r);c!=Pa&&i.push(l,l+s.nodeSize,c)}});let o=Uoe(a?Hoe(e):e,-n).sort(Fp);for(let s=0;s<o.length;s++)o[s].type.valid(t,o[s])||(r.onRemove&&r.onRemove(o[s].spec),o.splice(s--,1));return o.length||i.length?new Ri(o,i):Pa}function Fp(e,t){return e.from-t.from||e.to-t.to}function aI(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let a=t[i];if(a.from==r.from){a.to!=r.to&&(t==e&&(t=e.slice()),t[i]=a.copy(a.from,r.to),VU(t,i+1,a.copy(r.to,a.to)));continue}else{a.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,a.from),VU(t,i,r.copy(a.from,r.to)));break}}}return t}function VU(e,t,n){for(;t<e.length&&Fp(n,e[t])>0;)t++;e.splice(t,0,n)}function M6(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Pa&&t.push(r)}),e.cursorWrapper&&t.push(Ri.create(e.state.doc,[e.cursorWrapper.deco])),df.from(t)}const zGe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},$Ge=Jo&&Df<=11;class UGe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class VGe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new UGe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Jo&&Df<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),$Ge&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,zGe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(PU(this.view)){if(this.suppressingSelectionUpdates)return Hc(this.view);if(Jo&&Df<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&nm(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let a=t.focusNode;a;a=Lb(a))n.add(a);for(let a=t.anchorNode;a;a=Lb(a))if(n.has(a)){r=a;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&PU(t)&&!this.ignoreSelectionChange(r),a=-1,o=-1,s=!1,l=[];if(t.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],l);d&&(a=a<0?d.from:Math.min(d.from,a),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(s=!0))}if(uu&&l.length>1){let c=l.filter(d=>d.nodeName=="BR");if(c.length==2){let d=c[0],f=c[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}let u=null;a<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&DE(r)&&(u=ZR(t))&&u.eq(xn.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Hc(t),this.currentSelection.set(r),t.scrollToSelection()):(a>-1||i)&&(a>-1&&(t.docView.markDirty(a,o),HGe(t)),this.handleDOMChange(a,o,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Hc(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let c=0;c<t.addedNodes.length;c++)n.push(t.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,a=t.nextSibling;if(Jo&&Df<=11&&t.addedNodes.length)for(let c=0;c<t.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=t.addedNodes[c];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(a=f)}let o=i&&i.parentNode==t.target?mo(i)+1:0,s=r.localPosFromDOM(t.target,o,-1),l=a&&a.parentNode==t.target?mo(a):t.target.childNodes.length,u=r.localPosFromDOM(t.target,l,1);return{from:s,to:u}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let HU=new WeakMap,qU=!1;function HGe(e){if(!HU.has(e)&&(HU.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=uu,qU)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),qU=!0}}function qGe(e){let t;function n(l){l.preventDefault(),l.stopImmediatePropagation(),t=l.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);let r=t.startContainer,i=t.startOffset,a=t.endContainer,o=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return nm(s.node,s.offset,a,o)&&([r,i,a,o]=[a,o,r,i]),{anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:o}}function WGe(e,t,n){let{node:r,fromOffset:i,toOffset:a,from:o,to:s}=e.docView.parseRange(t,n),l=e.domSelectionRange(),u,c=l.anchorNode;if(c&&e.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],DE(l)||u.push({node:l.focusNode,offset:l.focusOffset})),$a&&e.input.lastKeyCode===8)for(let S=a;S>i;S--){let y=r.childNodes[S-1],E=y.pmViewDesc;if(y.nodeName=="BR"&&!E){a=S;break}if(!E||E.size)break}let d=e.state.doc,f=e.someProp("domParser")||Y0.fromSchema(e.state.schema),h=d.resolve(o),m=null,g=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:a,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:GGe,context:h});if(u&&u[0].pos!=null){let S=u[0].pos,y=u[1]&&u[1].pos;y==null&&(y=S),m={anchor:S+o,head:y+o}}return{doc:g,sel:m,from:o,to:s}}function GGe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Eo&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Eo&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const KGe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function YGe(e,t,n,r,i){let a=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let T=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,M=ZR(e,T);if(M&&!e.state.selection.eq(M)){if($a&&Gl&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",I=>I(e,fp(13,"Enter"))))return;let N=e.state.tr.setSelection(M);T=="pointer"?N.setMeta("pointer",!0):T=="key"&&N.scrollIntoView(),a&&N.setMeta("composition",a),e.dispatch(N)}return}let o=e.state.doc.resolve(t),s=o.sharedDepth(n);t=o.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l=e.state.selection,u=WGe(e,t,n),c=e.state.doc,d=c.slice(u.from,u.to),f,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let m=XGe(d.content,u.doc.content,u.from,f,h);if((X0&&e.input.lastIOSEnter>Date.now()-225||Gl)&&i.some(T=>T.nodeType==1&&!KGe.test(T.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",T=>T(e,fp(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof pn&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let T=WU(e,e.state.doc,u.sel);if(T&&!T.eq(e.state.selection)){let M=e.state.tr.setSelection(T);a&&M.setMeta("composition",a),e.dispatch(M)}}return}if($a&&e.cursorWrapper&&u.sel&&u.sel.anchor==e.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let T=m.endB-m.start;u.sel={anchor:u.sel.anchor+T,head:u.sel.anchor+T}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof pn&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),Jo&&Df<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let g=u.doc.resolveNoCache(m.start-u.from),S=u.doc.resolveNoCache(m.endB-u.from),y=c.resolve(m.start),E=g.sameParent(S)&&g.parent.inlineContent&&y.end()>=m.endA,x;if((X0&&e.input.lastIOSEnter>Date.now()-225&&(!E||i.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!E&&g.pos<u.doc.content.size&&!g.sameParent(S)&&(x=xn.findFrom(u.doc.resolve(g.pos+1),1,!0))&&x.head==S.pos)&&e.someProp("handleKeyDown",T=>T(e,fp(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&QGe(c,m.start,m.endA,g,S)&&e.someProp("handleKeyDown",T=>T(e,fp(8,"Backspace")))){Gl&&$a&&e.domObserver.suppressSelectionUpdates();return}$a&&Gl&&m.endB==m.start&&(e.input.lastAndroidDelete=Date.now()),Gl&&!E&&g.start()!=S.start()&&S.parentOffset==0&&g.depth==S.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,S=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(T){return T(e,fp(13,"Enter"))})},20));let v=m.start,C=m.endA,b,A,_;if(E){if(g.pos==S.pos)Jo&&Df<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Hc(e),20)),b=e.state.tr.delete(v,C),A=c.resolve(m.start).marksAcross(c.resolve(m.endA));else if(m.endA==m.endB&&(_=JGe(g.parent.content.cut(g.parentOffset,S.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start()))))b=e.state.tr,_.type=="add"?b.addMark(v,C,_.mark):b.removeMark(v,C,_.mark);else if(g.parent.child(g.index()).isText&&g.index()==S.index()-(S.textOffset?0:1)){let T=g.parent.textBetween(g.parentOffset,S.parentOffset);if(e.someProp("handleTextInput",M=>M(e,v,C,T)))return;b=e.state.tr.insertText(T,v,C)}}if(b||(b=e.state.tr.replace(v,C,u.doc.slice(m.start-u.from,m.endB-u.from))),u.sel){let T=WU(e,b.doc,u.sel);T&&!($a&&Gl&&e.composing&&T.empty&&(m.start!=m.endB||e.input.lastAndroidDelete<Date.now()-100)&&(T.head==v||T.head==b.mapping.map(C)-1)||Jo&&T.empty&&T.head==v)&&b.setSelection(T)}A&&b.ensureMarks(A),a&&b.setMeta("composition",a),e.dispatch(b.scrollIntoView())}function WU(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:eI(e,t.resolve(n.anchor),t.resolve(n.head))}function JGe(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,a=r,o,s,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)a=n[c].removeFromSet(a);if(i.length==1&&a.length==0)s=i[0],o="add",l=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&a.length==1)s=a[0],o="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<t.childCount;c++)u.push(l(t.child(c)));if(rt.from(u).eq(e))return{mark:s,type:o}}function QGe(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||T6(r,!0,!1)<i.pos)return!1;let a=e.resolve(t);if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let o=e.resolve(T6(a,!0,!0));return!o.parent.isTextblock||o.pos>n||T6(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function T6(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let a=e.node(r).maybeChild(e.indexAfter(r));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function XGe(e,t,n,r,i){let a=e.findDiffStart(t,n);if(a==null)return null;let{a:o,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,a-Math.min(o,s));r-=o+l-a}if(o<a&&e.size<t.size){let l=r<=a&&r>=o?a-r:0;a-=l,a&&a<t.size&&GU(t.textBetween(a-1,a+1))&&(a+=l?1:-1),s=a+(s-o),o=a}else if(s<a){let l=r<=a&&r>=s?a-r:0;a-=l,a&&a<e.size&&GU(e.textBetween(a-1,a+1))&&(a+=l?1:-1),o=a+(o-s),s=a}return{start:a,endA:o,endB:s}}function GU(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class ZGe{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new wGe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(XU),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=JU(this),YU(this),this.nodeViews=QU(this),this.docView=TU(this.state.doc,KU(this),M6(this),this.dom,this),this.domObserver=new VGe(this,(r,i,a,o)=>YGe(this,r,i,a,o)),this.domObserver.start(),xGe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&LT(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(XU),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,a=!1,o=!1;t.storedMarks&&this.composing&&(Foe(this),o=!0),this.state=t;let s=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=QU(this);tKe(h,this.nodeViews)&&(this.nodeViews=h,a=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&LT(this),this.editable=JU(this),YU(this);let l=M6(this),u=KU(this),c=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=a||!this.docView.matchesNode(t.doc,u,l);(d||!t.selection.eq(i.selection))&&(o=!0);let f=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&PWe(this);if(o){this.domObserver.stop();let h=d&&(Jo||$a)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&eKe(i.selection,t.selection);if(d){let m=$a?this.trackWrites=this.domSelectionRange().focusNode:null;(a||!this.docView.update(t.doc,u,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=TU(t.doc,u,l,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&oGe(this))?Hc(this,h):(koe(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&jWe(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ht){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&CU(this,n.getBoundingClientRect(),t)}else CU(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let a=r.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==r.node&&(i=a)}this.dragging=new zoe(t.slice,t.move,i<0?void 0:Ht.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let s=this.directPlugins[o].props[t];if(s!=null&&(i=n?n(s):s))return i}let a=this.state.plugins;if(a)for(let o=0;o<a.length;o++){let s=a[o].props[t];if(s!=null&&(i=n?n(s):s))return i}}hasFocus(){if(Jo){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&LWe(this.dom),Hc(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return UWe(this,t)}coordsAtPos(t,n=1){return voe(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return GWe(this,n||this.state,t)}pasteHTML(t,n){return Bb(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Bb(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(SGe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],M6(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(t){return EGe(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return Eo&&this.root.nodeType===11&&MWe(this.dom.ownerDocument)==this.dom?qGe(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function KU(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[ys.node(0,e.state.doc.content.size,t)]}function YU(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ys.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function JU(e){return!e.someProp("editable",t=>t(e.state)===!1)}function eKe(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function QU(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function tKe(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function XU(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Gf={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},C5={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nKe=typeof navigator<"u"&&/Mac/.test(navigator.platform),rKe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ga=0;ga<10;ga++)Gf[48+ga]=Gf[96+ga]=String(ga);for(var ga=1;ga<=24;ga++)Gf[ga+111]="F"+ga;for(var ga=65;ga<=90;ga++)Gf[ga]=String.fromCharCode(ga+32),C5[ga]=String.fromCharCode(ga);for(var N6 in Gf)C5.hasOwnProperty(N6)||(C5[N6]=Gf[N6]);function iKe(e){var t=nKe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||rKe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?C5:Gf)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const aKe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function oKe(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,a,o;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))aKe?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function sKe(e){let t=Object.create(null);for(let n in e)t[oKe(n)]=e[n];return t}function D6(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function lKe(e){return new to({props:{handleKeyDown:qoe(e)}})}function qoe(e){let t=sKe(e);return function(n,r){let i=iKe(r),a,o=t[D6(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let s=t[D6(i,r,!1)];if(s&&s(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(a=Gf[r.keyCode])&&a!=i){let s=t[D6(a,r)];if(s&&s(n.state,n.dispatch,n))return!0}}return!1}}const uKe=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function cKe(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const dKe=(e,t,n)=>{let r=cKe(e,n);if(!r)return!1;let i=Woe(r);if(!i){let o=r.blockRange(),s=o&&U1(o);return s==null?!1:(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)}let a=i.nodeBefore;if(!a.type.spec.isolating&&Yoe(e,i,t))return!0;if(r.parent.content.size==0&&(Z0(a,"end")||Ht.isSelectable(a))){let o=YR(e.doc,r.before(),r.after(),yt.empty);if(o&&o.slice.size<o.to-o.from){if(t){let s=e.tr.step(o);s.setSelection(Z0(a,"end")?xn.findFrom(s.doc.resolve(s.mapping.map(i.pos,-1)),-1):Ht.create(s.doc,i.pos-a.nodeSize)),t(s.scrollIntoView())}return!0}}return a.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1};function Z0(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const fKe=(e,t,n)=>{let{$head:r,empty:i}=e.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;a=Woe(r)}let o=a&&a.nodeBefore;return!o||!Ht.isSelectable(o)?!1:(t&&t(e.tr.setSelection(Ht.create(e.doc,a.pos-o.nodeSize)).scrollIntoView()),!0)};function Woe(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function hKe(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const pKe=(e,t,n)=>{let r=hKe(e,n);if(!r)return!1;let i=Goe(r);if(!i)return!1;let a=i.nodeAfter;if(Yoe(e,i,t))return!0;if(r.parent.content.size==0&&(Z0(a,"start")||Ht.isSelectable(a))){let o=YR(e.doc,r.before(),r.after(),yt.empty);if(o&&o.slice.size<o.to-o.from){if(t){let s=e.tr.step(o);s.setSelection(Z0(a,"start")?xn.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):Ht.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView())}return!0}}return a.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},mKe=(e,t,n)=>{let{$head:r,empty:i}=e.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;a=Goe(r)}let o=a&&a.nodeAfter;return!o||!Ht.isSelectable(o)?!1:(t&&t(e.tr.setSelection(Ht.create(e.doc,a.pos)).scrollIntoView()),!0)};function Goe(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const gKe=(e,t)=>{let n=e.selection,r=n instanceof Ht,i;if(r){if(n.node.isTextblock||!bh(e.doc,n.from))return!1;i=n.from}else if(i=TE(e.doc,n.from,-1),i==null)return!1;if(t){let a=e.tr.join(i);r&&a.setSelection(Ht.create(a.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(a.scrollIntoView())}return!0},vKe=(e,t)=>{let n=e.selection,r;if(n instanceof Ht){if(n.node.isTextblock||!bh(e.doc,n.to))return!1;r=n.to}else if(r=TE(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},yKe=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),a=i&&U1(i);return a==null?!1:(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)},bKe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function Koe(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const wKe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),a=n.indexAfter(-1),o=Koe(i.contentMatchAt(a));if(!o||!i.canReplaceWith(a,a,o))return!1;if(t){let s=n.after(),l=e.tr.replaceWith(s,s,o.createAndFill());l.setSelection(xn.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},xKe=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof ru||r.parent.inlineContent||i.parent.inlineContent)return!1;let a=Koe(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=e.tr.insert(o,a.createAndFill());s.setSelection(pn.create(s.doc,o+1)),t(s.scrollIntoView())}return!0},SKe=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(y0(e.doc,a))return t&&t(e.tr.split(a).scrollIntoView()),!0}let r=n.blockRange(),i=r&&U1(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)},CKe=(e,t)=>{let{$from:n,to:r}=e.selection,i,a=n.sharedDepth(r);return a==0?!1:(i=n.before(a),t&&t(e.tr.setSelection(Ht.create(e.doc,i))),!0)};function EKe(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,a=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(a,a+1)||!(i.isTextblock||bh(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function Yoe(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,a,o;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(EKe(e,t,n))return!0;let s=t.parent.canReplace(t.index(),t.index()+1);if(s&&(a=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(a[0]||i.type).validEnd){if(n){let d=t.pos+i.nodeSize,f=rt.empty;for(let g=a.length-1;g>=0;g--)f=rt.from(a[g].create(null,f));f=rt.from(r.copy(f));let h=e.tr.step(new Xi(t.pos-1,d,t.pos,d,new yt(f,1,0),a.length,!0)),m=d+2*a.length;bh(h.doc,m)&&h.join(m),n(h.scrollIntoView())}return!0}let l=xn.findFrom(t,1),u=l&&l.$from.blockRange(l.$to),c=u&&U1(u);if(c!=null&&c>=t.depth)return n&&n(e.tr.lift(u,c).scrollIntoView()),!0;if(s&&Z0(i,"start",!0)&&Z0(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=i,m=1;for(;!h.isTextblock;h=h.firstChild)m++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let g=rt.empty;for(let y=f.length-1;y>=0;y--)g=rt.from(f[y].copy(g));let S=e.tr.step(new Xi(t.pos-f.length,t.pos+i.nodeSize,t.pos+m,t.pos+i.nodeSize-m,new yt(g,f.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function Joe(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(n&&n(t.tr.setSelection(pn.create(t.doc,e<0?i.start(a):i.end(a)))),!0):!1}}const kKe=Joe(-1),AKe=Joe(1);function _Ke(e,t=null){return function(n,r){let{$from:i,$to:a}=n.selection,o=i.blockRange(a),s=o&&KR(o,e,t);return s?(r&&r(n.tr.wrap(o,s).scrollIntoView()),!0):!1}}function ZU(e,t=null){return function(n,r){let i=!1;for(let a=0;a<n.selection.ranges.length&&!i;a++){let{$from:{pos:o},$to:{pos:s}}=n.selection.ranges[a];n.doc.nodesBetween(o,s,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let a=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[o];a.setBlockType(s,l,e,t)}r(a.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function MKe(e,t=null){return function(n,r){let{$from:i,$to:a}=n.selection,o=i.blockRange(a),s=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(e)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let c=n.doc.resolve(o.start-2);l=new m5(c,c,o.depth),o.endIndex<o.parent.childCount&&(o=new m5(i,n.doc.resolve(a.end(o.depth)),o.depth)),s=!0}let u=KR(l,e,t,o);return u?(r&&r(TKe(n.tr,o,u,s,e).scrollIntoView()),!0):!1}}function TKe(e,t,n,r,i){let a=rt.empty;for(let c=n.length-1;c>=0;c--)a=rt.from(n[c].type.create(n[c].attrs,a));e.step(new Xi(t.start-(r?2:0),t.end,t.start,t.end,new yt(a,0,0),n.length,!0));let o=0;for(let c=0;c<n.length;c++)n[c].type==i&&(o=c+1);let s=n.length-o,l=t.start+n.length-(r?2:0),u=t.parent;for(let c=t.startIndex,d=t.endIndex,f=!0;c<d;c++,f=!1)!f&&y0(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=u.child(c).nodeSize;return e}function NKe(e){return function(t,n){let{$from:r,$to:i}=t.selection,a=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==e);return a?n?r.node(a.depth-1).type==e?DKe(t,n,e,a):RKe(t,n,a):!0:!1}}function DKe(e,t,n,r){let i=e.tr,a=r.end,o=r.$to.end(r.depth);a<o&&(i.step(new Xi(a-1,o,a,o,new yt(rt.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new m5(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const s=U1(r);if(s==null)return!1;i.lift(r,s);let l=i.mapping.map(a,-1)-1;return bh(i.doc,l)&&i.join(l),t(i.scrollIntoView()),!0}function RKe(e,t,n){let r=e.tr,i=n.parent;for(let h=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)h-=i.child(m).nodeSize,r.delete(h-1,h+1);let a=r.doc.resolve(n.start),o=a.nodeAfter;if(r.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let s=n.startIndex==0,l=n.endIndex==i.childCount,u=a.node(-1),c=a.index(-1);if(!u.canReplace(c+(s?0:1),c+1,o.content.append(l?rt.empty:rt.from(i))))return!1;let d=a.pos,f=d+o.nodeSize;return r.step(new Xi(d-(s?1:0),f+(l?1:0),d+1,f-1,new yt((s?rt.empty:rt.from(i.copy(rt.empty))).append(l?rt.empty:rt.from(i.copy(rt.empty))),s?0:1,l?0:1),s?0:1)),t(r.scrollIntoView()),!0}function IKe(e){return function(t,n){let{$from:r,$to:i}=t.selection,a=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==e);if(!a)return!1;let o=a.startIndex;if(o==0)return!1;let s=a.parent,l=s.child(o-1);if(l.type!=e)return!1;if(n){let u=l.lastChild&&l.lastChild.type==s.type,c=rt.from(u?e.create():null),d=new yt(rt.from(e.create(null,rt.from(s.type.create(null,c)))),u?3:1,0),f=a.start,h=a.end;n(t.tr.step(new Xi(f-(u?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function OE(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:a}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return a},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,a=n.storedMarks,n}}}class PE{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:i}=n,{tr:a}=r,o=this.buildProps(a);return Object.fromEntries(Object.entries(t).map(([s,l])=>[s,(...c)=>{const d=l(...c)(o);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(a),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:i,state:a}=this,{view:o}=i,s=[],l=!!t,u=t||a.tr,c=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),s.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...g)=>{const S=this.buildProps(u,n),y=h(...g)(S);return s.push(y),d}])),run:c};return d}createCan(t){const{rawCommands:n,state:r}=this,i=!1,a=t||r.tr,o=this.buildProps(a,i);return{...Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...c)=>u(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(a,i)}}buildProps(t,n=!0){const{rawCommands:r,editor:i,state:a}=this,{view:o}=i,s={tr:t,editor:i,view:o,state:OE({state:a,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)(s)]))}};return s}}class OKe{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function Mt(e,t,n){return e.config[t]===void 0&&e.parent?Mt(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Mt(e.parent,t,n):null}):e.config[t]}function jE(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function Qoe(e){const t=[],{nodeExtensions:n,markExtensions:r}=jE(e),i=[...n,...r],a={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(o=>{const s={name:o.name,options:o.options,storage:o.storage},l=Mt(o,"addGlobalAttributes",s);if(!l)return;l().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,h])=>{t.push({type:d,name:f,attribute:{...a,...h}})})})})}),i.forEach(o=>{const s={name:o.name,options:o.options,storage:o.storage},l=Mt(o,"addAttributes",s);if(!l)return;const u=l();Object.entries(u).forEach(([c,d])=>{const f={...a,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,t.push({type:o.name,name:c,attribute:f})})}),t}function na(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function zr(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,a])=>{if(!r[i]){r[i]=a;return}if(i==="class"){const s=a?a.split(" "):[],l=r[i]?r[i].split(" "):[],u=s.filter(c=>!l.includes(c));r[i]=[...l,...u].join(" ")}else i==="style"?r[i]=[r[i],a].join("; "):r[i]=a}),r},{})}function FT(e,t){return t.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>zr(n,r),{})}function Xoe(e){return typeof e=="function"}function bn(e,t=void 0,...n){return Xoe(e)?t?e.bind(t)(...n):e(...n):e}function PKe(e={}){return Object.keys(e).length===0&&e.constructor===Object}function jKe(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function eV(e,t){return e.style?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((a,o)=>{const s=o.attribute.parseHTML?o.attribute.parseHTML(n):jKe(n.getAttribute(o.name));return s==null?a:{...a,[o.name]:s}},{});return{...r,...i}}}}function tV(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&PKe(n)?!1:n!=null))}function LKe(e,t){var n;const r=Qoe(e),{nodeExtensions:i,markExtensions:a}=jE(e),o=(n=i.find(u=>Mt(u,"topNode")))===null||n===void 0?void 0:n.name,s=Object.fromEntries(i.map(u=>{const c=r.filter(y=>y.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:t},f=e.reduce((y,E)=>{const x=Mt(E,"extendNodeSchema",d);return{...y,...x?x(u):{}}},{}),h=tV({...f,content:bn(Mt(u,"content",d)),marks:bn(Mt(u,"marks",d)),group:bn(Mt(u,"group",d)),inline:bn(Mt(u,"inline",d)),atom:bn(Mt(u,"atom",d)),selectable:bn(Mt(u,"selectable",d)),draggable:bn(Mt(u,"draggable",d)),code:bn(Mt(u,"code",d)),defining:bn(Mt(u,"defining",d)),isolating:bn(Mt(u,"isolating",d)),attrs:Object.fromEntries(c.map(y=>{var E;return[y.name,{default:(E=y==null?void 0:y.attribute)===null||E===void 0?void 0:E.default}]}))}),m=bn(Mt(u,"parseHTML",d));m&&(h.parseDOM=m.map(y=>eV(y,c)));const g=Mt(u,"renderHTML",d);g&&(h.toDOM=y=>g({node:y,HTMLAttributes:FT(y,c)}));const S=Mt(u,"renderText",d);return S&&(h.toText=S),[u.name,h]})),l=Object.fromEntries(a.map(u=>{const c=r.filter(S=>S.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:t},f=e.reduce((S,y)=>{const E=Mt(y,"extendMarkSchema",d);return{...S,...E?E(u):{}}},{}),h=tV({...f,inclusive:bn(Mt(u,"inclusive",d)),excludes:bn(Mt(u,"excludes",d)),group:bn(Mt(u,"group",d)),spanning:bn(Mt(u,"spanning",d)),code:bn(Mt(u,"code",d)),attrs:Object.fromEntries(c.map(S=>{var y;return[S.name,{default:(y=S==null?void 0:S.attribute)===null||y===void 0?void 0:y.default}]}))}),m=bn(Mt(u,"parseHTML",d));m&&(h.parseDOM=m.map(S=>eV(S,c)));const g=Mt(u,"renderHTML",d);return g&&(h.toDOM=S=>g({mark:S,HTMLAttributes:FT(S,c)})),[u.name,h]}));return new Gqe({topNode:o,nodes:s,marks:l})}function R6(e,t){return t.nodes[e]||t.marks[e]||null}function nV(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}const FKe=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,a,o,s)=>{var l,u;const c=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:a,parent:o,index:s}))||i.textContent||"%leaf%";n+=c.slice(0,Math.max(0,r-a))}),n};function oI(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class LE{constructor(t){this.find=t.find,this.handler=t.handler}}const BKe=(e,t)=>{if(oI(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function I6(e){var t;const{editor:n,from:r,to:i,text:a,rules:o,plugin:s}=e,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((t=u.nodeBefore||u.nodeAfter)===null||t===void 0)&&t.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=FKe(u)+a;return o.forEach(f=>{if(c)return;const h=BKe(d,f.find);if(!h)return;const m=l.state.tr,g=OE({state:l.state,transaction:m}),S={from:r-(h[0].length-a.length),to:i},{commands:y,chain:E,can:x}=new PE({editor:n,state:g});f.handler({state:g,range:S,match:h,commands:y,chain:E,can:x})===null||!m.steps.length||(m.setMeta(s,{transform:m,from:r,to:i,text:a}),l.dispatch(m),c=!0)}),c}function zKe(e){const{editor:t,rules:n}=e,r=new to({state:{init(){return null},apply(i,a){const o=i.getMeta(r);return o||(i.selectionSet||i.docChanged?null:a)}},props:{handleTextInput(i,a,o,s){return I6({editor:t,from:a,to:o,text:s,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:a}=i.state.selection;a&&I6({editor:t,from:a.pos,to:a.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,a){if(a.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?I6({editor:t,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function $Ke(e){return typeof e=="number"}class UKe{constructor(t){this.find=t.find,this.handler=t.handler}}const VKe=(e,t)=>{if(oI(t))return[...e.matchAll(t)];const n=t(e);return n?n.map(r=>{const i=[r.text];return i.index=r.index,i.input=e,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function HKe(e){const{editor:t,state:n,from:r,to:i,rule:a,pasteEvent:o,dropEvent:s}=e,{commands:l,chain:u,can:c}=new PE({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,i,(h,m)=>{if(!h.isTextblock||h.type.spec.code)return;const g=Math.max(r,m),S=Math.min(i,m+h.content.size),y=h.textBetween(g-m,S-m,void 0,"￼");VKe(y,a.find).forEach(x=>{if(x.index===void 0)return;const v=g+x.index+1,C=v+x[0].length,b={from:n.tr.mapping.map(v),to:n.tr.mapping.map(C)},A=a.handler({state:n,range:b,match:x,commands:l,chain:u,can:c,pasteEvent:o,dropEvent:s});d.push(A)})}),d.every(h=>h!==null)}function qKe(e){const{editor:t,rules:n}=e;let r=null,i=!1,a=!1,o=new ClipboardEvent("paste"),s=new DragEvent("drop");return n.map(u=>new to({view(c){const d=f=>{var h;r=!((h=c.dom.parentElement)===null||h===void 0)&&h.contains(f.target)?c.dom.parentElement:null};return window.addEventListener("dragstart",d),{destroy(){window.removeEventListener("dragstart",d)}}},props:{handleDOMEvents:{drop:(c,d)=>(a=r===c.dom.parentElement,s=d,!1),paste:(c,d)=>{var f;const h=(f=d.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return o=d,i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(c,d,f)=>{const h=c[0],m=h.getMeta("uiEvent")==="paste"&&!i,g=h.getMeta("uiEvent")==="drop"&&!a;if(!m&&!g)return;const S=d.doc.content.findDiffStart(f.doc.content),y=d.doc.content.findDiffEnd(f.doc.content);if(!$Ke(S)||!y||S===y.b)return;const E=f.tr,x=OE({state:f,transaction:E});if(!(!HKe({editor:t,state:x,from:Math.max(S-1,0),to:y.b-1,rule:u,pasteEvent:o,dropEvent:s})||!E.steps.length))return s=new DragEvent("drop"),o=new ClipboardEvent("paste"),E}}))}function WKe(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return[...new Set(t)]}class Wg{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=Wg.resolve(t),this.schema=LKe(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const a={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:R6(r.name,this.schema)};r.type==="mark"&&(!((i=bn(Mt(r,"keepOnSplit",a)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const o=Mt(r,"onBeforeCreate",a);o&&this.editor.on("beforeCreate",o);const s=Mt(r,"onCreate",a);s&&this.editor.on("create",s);const l=Mt(r,"onUpdate",a);l&&this.editor.on("update",l);const u=Mt(r,"onSelectionUpdate",a);u&&this.editor.on("selectionUpdate",u);const c=Mt(r,"onTransaction",a);c&&this.editor.on("transaction",c);const d=Mt(r,"onFocus",a);d&&this.editor.on("focus",d);const f=Mt(r,"onBlur",a);f&&this.editor.on("blur",f);const h=Mt(r,"onDestroy",a);h&&this.editor.on("destroy",h)})}static resolve(t){const n=Wg.sort(Wg.flatten(t)),r=WKe(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=Mt(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(t){return t.sort((r,i)=>{const a=Mt(r,"priority")||100,o=Mt(i,"priority")||100;return a>o?-1:a<o?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:R6(n.name,this.schema)},i=Mt(n,"addCommands",r);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this,n=Wg.sort([...this.extensions].reverse()),r=[],i=[],a=n.map(o=>{const s={name:o.name,options:o.options,storage:o.storage,editor:t,type:R6(o.name,this.schema)},l=[],u=Mt(o,"addKeyboardShortcuts",s);let c={};if(o.type==="mark"&&o.config.exitable&&(c.ArrowRight=()=>Mo.handleExit({editor:t,mark:o})),u){const g=Object.fromEntries(Object.entries(u()).map(([S,y])=>[S,()=>y({editor:t})]));c={...c,...g}}const d=lKe(c);l.push(d);const f=Mt(o,"addInputRules",s);nV(o,t.options.enableInputRules)&&f&&r.push(...f());const h=Mt(o,"addPasteRules",s);nV(o,t.options.enablePasteRules)&&h&&i.push(...h());const m=Mt(o,"addProseMirrorPlugins",s);if(m){const g=m();l.push(...g)}return l}).flat();return[zKe({editor:t,rules:r}),...qKe({editor:t,rules:i}),...a]}get attributes(){return Qoe(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=jE(this.extensions);return Object.fromEntries(n.filter(r=>!!Mt(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),a={name:r.name,options:r.options,storage:r.storage,editor:t,type:na(r.name,this.schema)},o=Mt(r,"addNodeView",a);if(!o)return[];const s=(l,u,c,d)=>{const f=FT(l,i);return o()({editor:t,node:l,getPos:c,decorations:d,HTMLAttributes:f,extension:r})};return[r.name,s]}))}}function GKe(e){return Object.prototype.toString.call(e).slice(8,-1)}function O6(e){return GKe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function FE(e,t){const n={...e};return O6(e)&&O6(t)&&Object.keys(t).forEach(r=>{O6(t[r])?r in e?n[r]=FE(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}class _o{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=bn(Mt(this,"addOptions",{name:this.name}))),this.storage=bn(Mt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new _o(t)}configure(t={}){const n=this.extend();return n.options=FE(this.options,t),n.storage=bn(Mt(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new _o(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=bn(Mt(n,"addOptions",{name:n.name})),n.storage=bn(Mt(n,"addStorage",{name:n.name,options:n.options})),n}}function Zoe(e,t,n){const{from:r,to:i}=t,{blockSeparator:a=`

`,textSerializers:o={}}=n||{};let s="",l=!0;return e.nodesBetween(r,i,(u,c,d,f)=>{var h;const m=o==null?void 0:o[u.type.name];m?(u.isBlock&&!l&&(s+=a,l=!0),d&&(s+=m({node:u,pos:c,parent:d,index:f,range:t}))):u.isText?(s+=(h=u==null?void 0:u.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c),l=!1):u.isBlock&&!l&&(s+=a,l=!0)}),s}function ese(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const KKe=_o.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new to({key:new Tl("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:a}=i,o=Math.min(...a.map(c=>c.$from.pos)),s=Math.max(...a.map(c=>c.$to.pos)),l=ese(n);return Zoe(r,{from:o,to:s},{textSerializers:l})}}})]}}),YKe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),JKe=(e=!1)=>({commands:t})=>t.setContent("",e),QKe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:a,$to:o})=>{e.doc.nodesBetween(a.pos,o.pos,(s,l)=>{if(s.type.isText)return;const{doc:u,mapping:c}=t,d=u.resolve(c.map(l)),f=u.resolve(c.map(l+s.nodeSize)),h=d.blockRange(f);if(!h)return;const m=U1(h);if(s.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(h.start,g)}(m||m===0)&&t.lift(h,m)})}),!0},XKe=e=>t=>e(t),ZKe=()=>({state:e,dispatch:t})=>xKe(e,t),eYe=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,a=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const o=r.mapping.map(t);return r.insert(o,a.content),r.setSelection(new pn(r.doc.resolve(o-1))),!0},tYe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===r.type){if(t){const s=i.before(a),l=i.after(a);e.delete(s,l).scrollIntoView()}return!0}return!1},nYe=e=>({tr:t,state:n,dispatch:r})=>{const i=na(e,n.schema),a=t.selection.$anchor;for(let o=a.depth;o>0;o-=1)if(a.node(o).type===i){if(r){const l=a.before(o),u=a.after(o);t.delete(l,u).scrollIntoView()}return!0}return!1},rYe=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},iYe=()=>({state:e,dispatch:t})=>uKe(e,t),aYe=()=>({commands:e})=>e.keyboardShortcut("Enter"),oYe=()=>({state:e,dispatch:t})=>wKe(e,t);function E5(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:oI(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function BT(e,t,n={}){return e.find(r=>r.type===t&&E5(r.attrs,n))}function sYe(e,t,n={}){return!!BT(e,t,n)}function sI(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&r.offset!==0&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const i=BT([...r.node.marks],t,n);if(!i)return;let a=r.index,o=e.start()+r.offset,s=a+1,l=o+r.node.nodeSize;for(BT([...r.node.marks],t,n);a>0&&i.isInSet(e.parent.child(a-1).marks);)a-=1,o-=e.parent.child(a).nodeSize;for(;s<e.parent.childCount&&sYe([...e.parent.child(s).marks],t,n);)l+=e.parent.child(s).nodeSize,s+=1;return{from:o,to:l}}function xh(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const lYe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const a=xh(e,r.schema),{doc:o,selection:s}=n,{$from:l,from:u,to:c}=s;if(i){const d=sI(l,a,t);if(d&&d.from<=u&&d.to>=c){const f=pn.create(o,d.from,d.to);n.setSelection(f)}}return!0},uYe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function tse(e){return e instanceof pn}function kp(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function nse(e,t=null){if(!t)return null;const n=xn.atStart(e),r=xn.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,a=r.to;return t==="all"?pn.create(e,kp(0,i,a),kp(e.content.size,i,a)):pn.create(e,kp(t,i,a),kp(t,i,a))}function lI(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const cYe=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:a})=>{t={scrollIntoView:!0,...t};const o=()=>{lI()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(a&&e===null&&!tse(n.state.selection))return o(),!0;const s=nse(i.doc,e)||n.state.selection,l=n.state.selection.eq(s);return a&&(l||i.setSelection(s),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},dYe=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),fYe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t);function rV(e){const t=`<body>${e}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function k5(e,t,n){if(n={slice:!0,parseOptions:{},...n},typeof e=="object"&&e!==null)try{return Array.isArray(e)&&e.length>0?rt.fromArray(e.map(r=>t.nodeFromJSON(r))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),k5("",t,n)}if(typeof e=="string"){const r=Y0.fromSchema(t);return n.slice?r.parseSlice(rV(e),n.parseOptions).content:r.parse(rV(e),n.parseOptions)}return k5("",t,n)}function hYe(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof ma||i instanceof Xi))return;const a=e.mapping.maps[r];let o=0;a.forEach((s,l,u,c)=>{o===0&&(o=c)}),e.setSelection(xn.near(e.doc.resolve(o),n))}const pYe=e=>e.toString().startsWith("<"),mYe=(e,t,n)=>({tr:r,dispatch:i,editor:a})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const o=k5(t,a.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(o.toString()==="<>")return!0;let{from:s,to:l}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},u=!0,c=!0;if((pYe(o)?o:[o]).forEach(f=>{f.check(),u=u?f.isText&&f.marks.length===0:!1,c=c?f.isBlock:!1}),s===l&&c){const{parent:f}=r.doc.resolve(s);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(s-=1,l+=1)}u?Array.isArray(t)?r.insertText(t.map(f=>f.text||"").join(""),s,l):typeof t=="object"&&t&&t.text?r.insertText(t.text,s,l):r.insertText(t,s,l):r.replaceWith(s,l,o),n.updateSelection&&hYe(r,r.steps.length-1,-1)}return!0},gYe=()=>({state:e,dispatch:t})=>gKe(e,t),vYe=()=>({state:e,dispatch:t})=>vKe(e,t),yYe=()=>({state:e,dispatch:t})=>dKe(e,t),bYe=()=>({state:e,dispatch:t})=>pKe(e,t),wYe=()=>({tr:e,state:t,dispatch:n})=>{try{const r=TE(t.doc,t.selection.$from.pos,-1);return r==null?!1:(e.join(r,2),n&&n(e),!0)}catch{return!1}},xYe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=TE(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}};function uI(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function SYe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,a,o;for(let s=0;s<t.length-1;s+=1){const l=t[s];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))lI()||uI()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}const CYe=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const a=SYe(e).split(/-(?!$)/),o=a.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),s=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,s))});return l==null||l.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function $b(e,t,n={}){const{from:r,to:i,empty:a}=e.selection,o=t?na(t,e.schema):null,s=[];e.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),m=Math.min(i,f+d.nodeSize);s.push({node:d,from:h,to:m})});const l=i-r,u=s.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>E5(d.node.attrs,n,{strict:!1}));return a?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=l}const EYe=(e,t={})=>({state:n,dispatch:r})=>{const i=na(e,n.schema);return $b(n,i,t)?yKe(n,r):!1},kYe=()=>({state:e,dispatch:t})=>SKe(e,t),AYe=e=>({state:t,dispatch:n})=>{const r=na(e,t.schema);return NKe(r)(t,n)},_Ye=()=>({state:e,dispatch:t})=>bKe(e,t);function BE(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function iV(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}const MYe=(e,t)=>({tr:n,state:r,dispatch:i})=>{let a=null,o=null;const s=BE(typeof e=="string"?e:e.name,r.schema);return s?(s==="node"&&(a=na(e,r.schema)),s==="mark"&&(o=xh(e,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{a&&a===u.type&&n.setNodeMarkup(c,void 0,iV(u.attrs,t)),o&&u.marks.length&&u.marks.forEach(d=>{o===d.type&&n.addMark(c,c+u.nodeSize,o.create(iV(d.attrs,t)))})})}),!0):!1},TYe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),NYe=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),DYe=()=>({state:e,dispatch:t})=>fKe(e,t),RYe=()=>({state:e,dispatch:t})=>mKe(e,t),IYe=()=>({state:e,dispatch:t})=>CKe(e,t),OYe=()=>({state:e,dispatch:t})=>AKe(e,t),PYe=()=>({state:e,dispatch:t})=>kKe(e,t);function rse(e,t,n={}){return k5(e,t,{slice:!1,parseOptions:n})}const jYe=(e,t=!1,n={})=>({tr:r,editor:i,dispatch:a})=>{const{doc:o}=r,s=rse(e,i.schema,n);return a&&r.replaceWith(0,o.content.size,s).setMeta("preventUpdate",!t),!0};function zE(e,t){const n=xh(t,e.schema),{from:r,to:i,empty:a}=e.selection,o=[];a?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const s=o.find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function LYe(e,t){const n=new uoe(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function FYe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function BYe(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,a)=>{n(i)&&r.push({node:i,pos:a})}),r}function zYe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function cI(e){return t=>zYe(t.$from,e)}function $Ye(e,t){const n=zu.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function UYe(e,t){const n={from:0,to:e.content.size};return Zoe(e,n,t)}function VYe(e,t){const n=na(t,e.schema),{from:r,to:i}=e.selection,a=[];e.doc.nodesBetween(r,i,s=>{a.push(s)});const o=a.reverse().find(s=>s.type.name===n.name);return o?{...o.attrs}:{}}function ise(e,t){const n=BE(typeof t=="string"?t:t.name,e.schema);return n==="node"?VYe(e,t):n==="mark"?zE(e,t):{}}function HYe(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function qYe(e){const t=HYe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((a,o)=>o!==r).some(a=>n.oldRange.from>=a.oldRange.from&&n.oldRange.to<=a.oldRange.to&&n.newRange.from>=a.newRange.from&&n.newRange.to<=a.newRange.to))}function WYe(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,a)=>{const o=[];if(i.ranges.length)i.forEach((s,l)=>{o.push({from:s,to:l})});else{const{from:s,to:l}=n[a];if(s===void 0||l===void 0)return;o.push({from:s,to:l})}o.forEach(({from:s,to:l})=>{const u=t.slice(a).map(s,-1),c=t.slice(a).map(l),d=t.invert().map(u,-1),f=t.invert().map(c);r.push({oldRange:{from:d,to:f},newRange:{from:u,to:c}})})}),qYe(r)}function dI(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const a=n.resolve(e-1),o=sI(a,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(e,t,(i,a)=>{r.push(...i.marks.map(o=>({from:a,to:a+i.nodeSize,mark:o})))}),r}function nS(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(a=>a.type===t&&a.name===r);return i?i.attribute.keepOnSplit:!1}))}function zT(e,t,n={}){const{empty:r,ranges:i}=e.selection,a=t?xh(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>a?a.name===d.type.name:!0).find(d=>E5(d.attrs,n,{strict:!1}));let o=0;const s=[];if(i.forEach(({$from:d,$to:f})=>{const h=d.pos,m=f.pos;e.doc.nodesBetween(h,m,(g,S)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(h,S),E=Math.min(m,S+g.nodeSize),x=E-y;o+=x,s.push(...g.marks.map(v=>({mark:v,from:y,to:E})))})}),o===0)return!1;const l=s.filter(d=>a?a.name===d.mark.type.name:!0).filter(d=>E5(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=s.filter(d=>a?d.mark.type!==a&&d.mark.type.excludes(a):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+u:l)>=o}function GYe(e,t,n={}){if(!t)return $b(e,null,n)||zT(e,null,n);const r=BE(t,e.schema);return r==="node"?$b(e,t,n):r==="mark"?zT(e,t,n):!1}function aV(e,t){const{nodeExtensions:n}=jE(t),r=n.find(o=>o.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},a=bn(Mt(r,"group",i));return typeof a!="string"?!1:a.split(" ").includes("list")}function KYe(e){var t;const n=(t=e.type.createAndFill())===null||t===void 0?void 0:t.toJSON(),r=e.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function YYe(e,t,n){var r;const{selection:i}=t;let a=null;if(tse(i)&&(a=i.$cursor),a){const s=(r=e.storedMarks)!==null&&r!==void 0?r:a.marks();return!!n.isInSet(s)||!s.some(l=>l.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:s,$to:l})=>{let u=s.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(s.pos,l.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){const h=!f||f.type.allowsMarkType(n),m=!!n.isInSet(c.marks)||!c.marks.some(g=>g.type.excludes(n));u=h&&m}return!u}),u})}const JYe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:a}=n,{empty:o,ranges:s}=a,l=xh(e,r.schema);if(i)if(o){const u=zE(r,l);n.addStoredMark(l.create({...u,...t}))}else s.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,h)=>{const m=Math.max(h,c),g=Math.min(h+f.nodeSize,d);f.marks.find(y=>y.type===l)?f.marks.forEach(y=>{l===y.type&&n.addMark(m,g,l.create({...y.attrs,...t}))}):n.addMark(m,g,l.create(t))})});return YYe(r,n,l)},QYe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),XYe=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const a=na(e,n.schema);return a.isTextblock?i().command(({commands:o})=>ZU(a,t)(n)?!0:o.clearNodes()).command(({state:o})=>ZU(a,t)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ZYe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=kp(e,0,r.content.size),a=Ht.create(r,i);t.setSelection(a)}return!0},eJe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:a}=typeof e=="number"?{from:e,to:e}:e,o=pn.atStart(r).from,s=pn.atEnd(r).to,l=kp(i,o,s),u=kp(a,o,s),c=pn.create(r,l,u);t.setSelection(c)}return!0},tJe=e=>({state:t,dispatch:n})=>{const r=na(e,t.schema);return IKe(r)(t,n)};function oV(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}const nJe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:a,doc:o}=t,{$from:s,$to:l}=a,u=i.extensionManager.attributes,c=nS(u,s.node().type.name,s.node().attrs);if(a instanceof Ht&&a.node.isBlock)return!s.parentOffset||!y0(o,s.pos)?!1:(r&&(e&&oV(n,i.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;if(r){const d=l.parentOffset===l.parent.content.size;a instanceof pn&&t.deleteSelection();const f=s.depth===0?void 0:FYe(s.node(-1).contentMatchAt(s.indexAfter(-1)));let h=d&&f?[{type:f,attrs:c}]:void 0,m=y0(t.doc,t.mapping.map(s.pos),1,h);if(!h&&!m&&y0(t.doc,t.mapping.map(s.pos),1,f?[{type:f}]:void 0)&&(m=!0,h=f?[{type:f,attrs:c}]:void 0),m&&(t.split(t.mapping.map(s.pos),1,h),f&&!d&&!s.parentOffset&&s.parent.type!==f)){const g=t.mapping.map(s.before()),S=t.doc.resolve(g);s.node(-1).canReplaceWith(S.index(),S.index()+1,f)&&t.setNodeMarkup(t.mapping.map(s.before()),f)}e&&oV(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return!0},rJe=e=>({tr:t,state:n,dispatch:r,editor:i})=>{var a;const o=na(e,n.schema),{$from:s,$to:l}=n.selection,u=n.selection.node;if(u&&u.isBlock||s.depth<2||!s.sameParent(l))return!1;const c=s.node(-1);if(c.type!==o)return!1;const d=i.extensionManager.attributes;if(s.parent.content.size===0&&s.node(-1).childCount===s.indexAfter(-1)){if(s.depth===2||s.node(-3).type!==o||s.index(-2)!==s.node(-2).childCount-1)return!1;if(r){let S=rt.empty;const y=s.index(-1)?1:s.index(-2)?2:3;for(let A=s.depth-y;A>=s.depth-3;A-=1)S=rt.from(s.node(A).copy(S));const E=s.indexAfter(-1)<s.node(-2).childCount?1:s.indexAfter(-2)<s.node(-3).childCount?2:3,x=nS(d,s.node().type.name,s.node().attrs),v=((a=o.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(x))||void 0;S=S.append(rt.from(o.createAndFill(null,v)||void 0));const C=s.before(s.depth-(y-1));t.replace(C,s.after(-E),new yt(S,4-y,0));let b=-1;t.doc.nodesBetween(C,t.doc.content.size,(A,_)=>{if(b>-1)return!1;A.isTextblock&&A.content.size===0&&(b=_+1)}),b>-1&&t.setSelection(pn.near(t.doc.resolve(b))),t.scrollIntoView()}return!0}const f=l.pos===s.end()?c.contentMatchAt(0).defaultType:null,h=nS(d,c.type.name,c.attrs),m=nS(d,s.node().type.name,s.node().attrs);t.delete(s.pos,l.pos);const g=f?[{type:o,attrs:h},{type:f,attrs:m}]:[{type:o,attrs:h}];if(!y0(t.doc,s.pos,2))return!1;if(r){const{selection:S,storedMarks:y}=n,{splittableMarks:E}=i.extensionManager,x=y||S.$to.parentOffset&&S.$from.marks();if(t.split(s.pos,2,g).scrollIntoView(),!x||!r)return!0;const v=x.filter(C=>E.includes(C.type.name));t.ensureMarks(v)}return!0},P6=(e,t)=>{const n=cI(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&bh(e.doc,n.pos)&&e.join(n.pos),!0},j6=(e,t)=>{const n=cI(o=>o.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&bh(e.doc,r)&&e.join(r),!0},iJe=(e,t,n,r={})=>({editor:i,tr:a,state:o,dispatch:s,chain:l,commands:u,can:c})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,h=na(e,o.schema),m=na(t,o.schema),{selection:g,storedMarks:S}=o,{$from:y,$to:E}=g,x=y.blockRange(E),v=S||g.$to.parentOffset&&g.$from.marks();if(!x)return!1;const C=cI(b=>aV(b.type.name,d))(g);if(x.depth>=1&&C&&x.depth-C.depth<=1){if(C.node.type===h)return u.liftListItem(m);if(aV(C.node.type.name,d)&&h.validContent(C.node.content)&&s)return l().command(()=>(a.setNodeMarkup(C.pos,h),!0)).command(()=>P6(a,h)).command(()=>j6(a,h)).run()}return!n||!v||!s?l().command(()=>c().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>P6(a,h)).command(()=>j6(a,h)).run():l().command(()=>{const b=c().wrapInList(h,r),A=v.filter(_=>f.includes(_.type.name));return a.ensureMarks(A),b?!0:u.clearNodes()}).wrapInList(h,r).command(()=>P6(a,h)).command(()=>j6(a,h)).run()},aJe=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:a=!1}=n,o=xh(e,r.schema);return zT(r,o,t)?i.unsetMark(o,{extendEmptyMarkRange:a}):i.setMark(o,t)},oJe=(e,t,n={})=>({state:r,commands:i})=>{const a=na(e,r.schema),o=na(t,r.schema);return $b(r,a,n)?i.setNode(o):i.setNode(a,n)},sJe=(e,t={})=>({state:n,commands:r})=>{const i=na(e,n.schema);return $b(n,i,t)?r.lift(i):r.wrapIn(i,t)},lJe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let a;if(i.spec.isInputRules&&(a=i.getState(e))){if(t){const o=e.tr,s=a.transform;for(let l=s.steps.length-1;l>=0;l-=1)o.step(s.steps[l].invert(s.docs[l]));if(a.text){const l=o.doc.resolve(a.from).marks();o.replaceWith(a.from,a.to,e.schema.text(a.text,l))}else o.delete(a.from,a.to)}return!0}}return!1},uJe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(a=>{e.removeMark(a.$from.pos,a.$to.pos)}),!0},cJe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var a;const{extendEmptyMarkRange:o=!1}=t,{selection:s}=n,l=xh(e,r.schema),{$from:u,empty:c,ranges:d}=s;if(!i)return!0;if(c&&o){let{from:f,to:h}=s;const m=(a=u.marks().find(S=>S.type===l))===null||a===void 0?void 0:a.attrs,g=sI(u,l,m);g&&(f=g.from,h=g.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},dJe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let a=null,o=null;const s=BE(typeof e=="string"?e:e.name,r.schema);return s?(s==="node"&&(a=na(e,r.schema)),s==="mark"&&(o=xh(e,r.schema)),i&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;r.doc.nodesBetween(u,c,(d,f)=>{a&&a===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...t}),o&&d.marks.length&&d.marks.forEach(h=>{if(o===h.type){const m=Math.max(f,u),g=Math.min(f+d.nodeSize,c);n.addMark(m,g,o.create({...h.attrs,...t}))}})})}),!0):!1},fJe=(e,t={})=>({state:n,dispatch:r})=>{const i=na(e,n.schema);return _Ke(i,t)(n,r)},hJe=(e,t={})=>({state:n,dispatch:r})=>{const i=na(e,n.schema);return MKe(i,t)(n,r)};var pJe=Object.freeze({__proto__:null,blur:YKe,clearContent:JKe,clearNodes:QKe,command:XKe,createParagraphNear:ZKe,cut:eYe,deleteCurrentNode:tYe,deleteNode:nYe,deleteRange:rYe,deleteSelection:iYe,enter:aYe,exitCode:oYe,extendMarkRange:lYe,first:uYe,focus:cYe,forEach:dYe,insertContent:fYe,insertContentAt:mYe,joinUp:gYe,joinDown:vYe,joinBackward:yYe,joinForward:bYe,joinItemBackward:wYe,joinItemForward:xYe,keyboardShortcut:CYe,lift:EYe,liftEmptyBlock:kYe,liftListItem:AYe,newlineInCode:_Ye,resetAttributes:MYe,scrollIntoView:TYe,selectAll:NYe,selectNodeBackward:DYe,selectNodeForward:RYe,selectParentNode:IYe,selectTextblockEnd:OYe,selectTextblockStart:PYe,setContent:jYe,setMark:JYe,setMeta:QYe,setNode:XYe,setNodeSelection:ZYe,setTextSelection:eJe,sinkListItem:tJe,splitBlock:nJe,splitListItem:rJe,toggleList:iJe,toggleMark:aJe,toggleNode:oJe,toggleWrap:sJe,undoInputRule:lJe,unsetAllMarks:uJe,unsetMark:cJe,updateAttributes:dJe,wrapIn:fJe,wrapInList:hJe});const mJe=_o.create({name:"commands",addCommands(){return{...pJe}}}),gJe=_o.create({name:"editable",addProseMirrorPlugins(){return[new to({key:new Tl("editable"),props:{editable:()=>this.editor.options.editable}})]}}),vJe=_o.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new to({key:new Tl("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),yJe=_o.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:s})=>{const{selection:l,doc:u}=s,{empty:c,$anchor:d}=l,{pos:f,parent:h}=d,m=d.parent.isTextblock?s.doc.resolve(f-1):d,g=m.parent.type.spec.isolating,S=d.pos-d.parentOffset,y=g&&m.parent.childCount===1?S===d.pos:xn.atStart(u).from===f;return!c||!y||!h.type.isTextblock||h.textContent.length?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},a={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return lI()||uI()?a:i},addProseMirrorPlugins(){return[new to({key:new Tl("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some(m=>m.docChanged)&&!t.doc.eq(n.doc)))return;const{empty:i,from:a,to:o}=t.selection,s=xn.atStart(t.doc).from,l=xn.atEnd(t.doc).to;if(i||!(a===s&&o===l)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const d=n.tr,f=OE({state:n,transaction:d}),{commands:h}=new PE({editor:this.editor,state:f});if(h.clearNodes(),!!d.steps.length)return d}})]}}),bJe=_o.create({name:"tabindex",addProseMirrorPlugins(){return[new to({key:new Tl("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var wJe=Object.freeze({__proto__:null,ClipboardTextSerializer:KKe,Commands:mJe,Editable:gJe,FocusEvents:vJe,Keymap:yJe,Tabindex:bJe});const xJe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function SJe(e,t,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}let CJe=class extends OKe{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=SJe(xJe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const r=Xoe(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(t){if(this.isDestroyed)return;const n=typeof t=="string"?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(wJe):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Wg(n,this)}createCommandManager(){this.commandManager=new PE({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=rse(this.options.content,this.schema,this.options.parseOptions),n=nse(t,this.options.autofocus);this.view=new ZGe(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:qg.create({doc:t,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(o=>{var s;return(s=this.capturedTransaction)===null||s===void 0?void 0:s.step(o)});return}const n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=t.getMeta("focus"),a=t.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),a&&this.emit("blur",{editor:this,event:a.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return ise(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,i=typeof t=="string"?n:t;return GYe(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return $Ye(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return UYe(this.state.doc,{blockSeparator:n,textSerializers:{...ese(this.schema),...r}})}get isEmpty(){return KYe(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}};function im(e){return new LE({find:e.find,handler:({state:t,range:n,match:r})=>{const i=bn(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:a}=t,o=r[r.length-1],s=r[0];if(o){const l=s.search(/\S/),u=n.from+s.indexOf(o),c=u+o.length;if(dI(n.from,n.to,t.doc).filter(h=>h.mark.type.excluded.find(g=>g===e.type&&g!==h.mark.type)).filter(h=>h.to>u).length)return null;c<n.to&&a.delete(c,n.to),u>n.from&&a.delete(n.from+l,u);const f=n.from+l+o.length;a.addMark(n.from+l,f,e.type.create(i||{})),a.removeStoredMark(e.type)}}})}function EJe(e){return new LE({find:e.find,handler:({state:t,range:n,match:r})=>{const i=bn(e.getAttributes,void 0,r)||{},{tr:a}=t,o=n.from;let s=n.to;const l=e.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=o+u;c>s?c=s:s=c+r[1].length;const d=r[0][r[0].length-1];a.insertText(d,o+r[0].length-1),a.replaceWith(c,s,l)}else r[0]&&a.insert(o-1,e.type.create(i)).delete(a.mapping.map(o),a.mapping.map(s));a.scrollIntoView()}})}function $T(e){return new LE({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),a=bn(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,a)}})}function Ub(e){return new LE({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const a=bn(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),u=l&&KR(l,e.type,a);if(!u)return null;if(o.wrap(l,u),e.keepMarks&&e.editor){const{selection:d,storedMarks:f}=t,{splittableMarks:h}=e.editor.extensionManager,m=f||d.$to.parentOffset&&d.$from.marks();if(m){const g=m.filter(S=>h.includes(S.type.name));o.ensureMarks(g)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,a).run()}const c=o.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&bh(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,c))&&o.join(n.from-1)}})}class Mo{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=bn(Mt(this,"addOptions",{name:this.name}))),this.storage=bn(Mt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Mo(t)}configure(t={}){const n=this.extend();return n.options=FE(this.options,t),n.storage=bn(Mt(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new Mo(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=bn(Mt(n,"addOptions",{name:n.name})),n.storage=bn(Mt(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=o.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}}let ts=class UT{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=bn(Mt(this,"addOptions",{name:this.name}))),this.storage=bn(Mt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new UT(t)}configure(t={}){const n=this.extend();return n.options=FE(this.options,t),n.storage=bn(Mt(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new UT(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=bn(Mt(n,"addOptions",{name:n.name})),n.storage=bn(Mt(n,"addStorage",{name:n.name,options:n.options})),n}};function Kf(e){return new UKe({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const a=bn(e.getAttributes,void 0,r,i);if(a===!1||a===null)return null;const{tr:o}=t,s=r[r.length-1],l=r[0];let u=n.to;if(s){const c=l.search(/\S/),d=n.from+l.indexOf(s),f=d+s.length;if(dI(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(S=>S===e.type&&S!==m.mark.type)).filter(m=>m.to>d).length)return null;f<n.to&&o.delete(f,n.to),d>n.from&&o.delete(n.from+c,d),u=n.from+c+s.length,o.addMark(n.from+c,u,e.type.create(a||{})),o.removeStoredMark(e.type)}}})}const kJe="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",AJe="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",e1=(e,t)=>{for(const n in t)e[n]=t[n];return e},VT="numeric",HT="ascii",qT="alpha",rS="asciinumeric",Vx="alphanumeric",WT="domain",ase="emoji",_Je="scheme",MJe="slashscheme",sV="whitespace";function TJe(e,t){return e in t||(t[e]=[]),t[e]}function Ap(e,t,n){t[VT]&&(t[rS]=!0,t[Vx]=!0),t[HT]&&(t[rS]=!0,t[qT]=!0),t[rS]&&(t[Vx]=!0),t[qT]&&(t[Vx]=!0),t[Vx]&&(t[WT]=!0),t[ase]&&(t[WT]=!0);for(const r in t){const i=TJe(r,n);i.indexOf(e)<0&&i.push(e)}}function NJe(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Ho(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}Ho.groups={};Ho.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],a=t.jr[r][1];if(a&&i.test(e))return a}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||Ho.groups;let i;return t&&t.j?i=t:(i=new Ho(t),n&&r&&Ap(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const a=e.length;if(!a)return i;for(let o=0;o<a-1;o++)i=i.tt(e[o]);return i.tt(e[a-1],t,n,r)},tt(e,t,n,r){r=r||Ho.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const a=t;let o,s=i.go(e);if(s?(o=new Ho,e1(o.j,s.j),o.jr.push.apply(o.jr,s.jr),o.jd=s.jd,o.t=s.t):o=new Ho,a){if(r)if(o.t&&typeof o.t=="string"){const l=e1(NJe(o.t,r),n);Ap(a,l,r)}else n&&Ap(a,n,r);o.t=a}return i.j[e]=o,o}};const It=(e,t,n,r,i)=>e.ta(t,n,r,i),Ks=(e,t,n,r,i)=>e.tr(t,n,r,i),lV=(e,t,n,r,i)=>e.ts(t,n,r,i),dt=(e,t,n,r,i)=>e.tt(t,n,r,i),Tc="WORD",GT="UWORD",Vb="LOCALHOST",KT="TLD",YT="UTLD",iS="SCHEME",Tg="SLASH_SCHEME",fI="NUM",ose="WS",hI="NL",Gg="OPENBRACE",Yy="OPENBRACKET",Jy="OPENANGLEBRACKET",Qy="OPENPAREN",hp="CLOSEBRACE",Kg="CLOSEBRACKET",Yg="CLOSEANGLEBRACKET",pp="CLOSEPAREN",A5="AMPERSAND",_5="APOSTROPHE",M5="ASTERISK",ef="AT",T5="BACKSLASH",N5="BACKTICK",D5="CARET",ff="COLON",pI="COMMA",R5="DOLLAR",Nu="DOT",I5="EQUALS",mI="EXCLAMATION",Du="HYPHEN",O5="PERCENT",P5="PIPE",j5="PLUS",L5="POUND",F5="QUERY",gI="QUOTE",vI="SEMI",Ru="SLASH",Xy="TILDE",B5="UNDERSCORE",sse="EMOJI",z5="SYM";var lse=Object.freeze({__proto__:null,WORD:Tc,UWORD:GT,LOCALHOST:Vb,TLD:KT,UTLD:YT,SCHEME:iS,SLASH_SCHEME:Tg,NUM:fI,WS:ose,NL:hI,OPENBRACE:Gg,OPENBRACKET:Yy,OPENANGLEBRACKET:Jy,OPENPAREN:Qy,CLOSEBRACE:hp,CLOSEBRACKET:Kg,CLOSEANGLEBRACKET:Yg,CLOSEPAREN:pp,AMPERSAND:A5,APOSTROPHE:_5,ASTERISK:M5,AT:ef,BACKSLASH:T5,BACKTICK:N5,CARET:D5,COLON:ff,COMMA:pI,DOLLAR:R5,DOT:Nu,EQUALS:I5,EXCLAMATION:mI,HYPHEN:Du,PERCENT:O5,PIPE:P5,PLUS:j5,POUND:L5,QUERY:F5,QUOTE:gI,SEMI:vI,SLASH:Ru,TILDE:Xy,UNDERSCORE:B5,EMOJI:sse,SYM:z5});const pg=/[a-z]/,L6=/\p{L}/u,F6=/\p{Emoji}/u,B6=/\d/,uV=/\s/,cV=`
`,DJe="️",RJe="‍";let Hx=null,qx=null;function IJe(e){e===void 0&&(e=[]);const t={};Ho.groups=t;const n=new Ho;Hx==null&&(Hx=dV(kJe)),qx==null&&(qx=dV(AJe)),dt(n,"'",_5),dt(n,"{",Gg),dt(n,"[",Yy),dt(n,"<",Jy),dt(n,"(",Qy),dt(n,"}",hp),dt(n,"]",Kg),dt(n,">",Yg),dt(n,")",pp),dt(n,"&",A5),dt(n,"*",M5),dt(n,"@",ef),dt(n,"`",N5),dt(n,"^",D5),dt(n,":",ff),dt(n,",",pI),dt(n,"$",R5),dt(n,".",Nu),dt(n,"=",I5),dt(n,"!",mI),dt(n,"-",Du),dt(n,"%",O5),dt(n,"|",P5),dt(n,"+",j5),dt(n,"#",L5),dt(n,"?",F5),dt(n,'"',gI),dt(n,"/",Ru),dt(n,";",vI),dt(n,"~",Xy),dt(n,"_",B5),dt(n,"\\",T5);const r=Ks(n,B6,fI,{[VT]:!0});Ks(r,B6,r);const i=Ks(n,pg,Tc,{[HT]:!0});Ks(i,pg,i);const a=Ks(n,L6,GT,{[qT]:!0});Ks(a,pg),Ks(a,L6,a);const o=Ks(n,uV,ose,{[sV]:!0});dt(n,cV,hI,{[sV]:!0}),dt(o,cV),Ks(o,uV,o);const s=Ks(n,F6,sse,{[ase]:!0});Ks(s,F6,s),dt(s,DJe,s);const l=dt(s,RJe);Ks(l,F6,s);const u=[[pg,i]],c=[[pg,null],[L6,a]];for(let d=0;d<Hx.length;d++)Vd(n,Hx[d],KT,Tc,u);for(let d=0;d<qx.length;d++)Vd(n,qx[d],YT,GT,c);Ap(KT,{tld:!0,ascii:!0},t),Ap(YT,{utld:!0,alpha:!0},t),Vd(n,"file",iS,Tc,u),Vd(n,"mailto",iS,Tc,u),Vd(n,"http",Tg,Tc,u),Vd(n,"https",Tg,Tc,u),Vd(n,"ftp",Tg,Tc,u),Vd(n,"ftps",Tg,Tc,u),Ap(iS,{scheme:!0,ascii:!0},t),Ap(Tg,{slashscheme:!0,ascii:!0},t),e=e.sort((d,f)=>d[0]>f[0]?1:-1);for(let d=0;d<e.length;d++){const f=e[d][0],m=e[d][1]?{[_Je]:!0}:{[MJe]:!0};f.indexOf("-")>=0?m[WT]=!0:pg.test(f)?B6.test(f)?m[rS]=!0:m[HT]=!0:m[VT]=!0,lV(n,f,f,m)}return lV(n,"localhost",Vb,{ascii:!0}),n.jd=new Ho(z5),{start:n,tokens:e1({groups:t},lse)}}function OJe(e,t){const n=PJe(t.replace(/[A-Z]/g,s=>s.toLowerCase())),r=n.length,i=[];let a=0,o=0;for(;o<r;){let s=e,l=null,u=0,c=null,d=-1,f=-1;for(;o<r&&(l=s.go(n[o]));)s=l,s.accepts()?(d=0,f=0,c=s):d>=0&&(d+=n[o].length,f++),u+=n[o].length,a+=n[o].length,o++;a-=d,o-=f,u-=d,i.push({t:c.t,v:t.slice(a-u,a),s:a-u,e:a})}return i}function PJe(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),a,o=i<55296||i>56319||r+1===n||(a=e.charCodeAt(r+1))<56320||a>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function Vd(e,t,n,r,i){let a;const o=t.length;for(let s=0;s<o-1;s++){const l=t[s];e.j[l]?a=e.j[l]:(a=new Ho(r),a.jr=i.slice(),e.j[l]=a),e=a}return a=new Ho(n),a.jr=i.slice(),e.j[t[o-1]]=a,a}function dV(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let a=0;for(;i.indexOf(e[r+a])>=0;)a++;if(a>0){t.push(n.join(""));for(let o=parseInt(e.substring(r,r+a),10);o>0;o--)n.pop();r+=a}else n.push(e[r]),r++}return t}const Hb={defaultProtocol:"http",events:null,format:fV,formatHref:fV,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function yI(e,t){t===void 0&&(t=null);let n=e1({},Hb);e&&(n=e1(n,e instanceof yI?e.o:e));const r=n.ignoreTags,i=[];for(let a=0;a<r.length;a++)i.push(r[a].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}yI.prototype={o:Hb,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Hb[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function fV(e){return e}function use(e,t){this.t="token",this.v=e,this.tk=t}use.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=Hb.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),a=this.toFormattedString(e),o={},s=e.get("className",n,t),l=e.get("target",n,t),u=e.get("rel",n,t),c=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return o.href=r,s&&(o.class=s),l&&(o.target=l),u&&(o.rel=u),c&&e1(o,c),{tagName:i,attributes:o,content:a,eventListeners:d}}};function $E(e,t){class n extends use{constructor(i,a){super(i,a),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const hV=$E("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),pV=$E("text"),jJe=$E("nl"),Jh=$E("url",{isLink:!0,toHref(e){return e===void 0&&(e=Hb.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Vb&&e[1].t===ff}}),Gi=e=>new Ho(e);function LJe(e){let{groups:t}=e;const n=t.domain.concat([A5,M5,ef,T5,N5,D5,R5,I5,Du,fI,O5,P5,j5,L5,Ru,z5,Xy,B5]),r=[_5,Yg,hp,Kg,pp,ff,pI,Nu,mI,Jy,Gg,Yy,Qy,F5,gI,vI],i=[A5,_5,M5,T5,N5,D5,hp,R5,I5,Du,Gg,O5,P5,j5,L5,F5,Ru,z5,Xy,B5],a=Gi(),o=dt(a,Xy);It(o,i,o),It(o,t.domain,o);const s=Gi(),l=Gi(),u=Gi();It(a,t.domain,s),It(a,t.scheme,l),It(a,t.slashscheme,u),It(s,i,o),It(s,t.domain,s);const c=dt(s,ef);dt(o,ef,c),dt(l,ef,c),dt(u,ef,c);const d=dt(o,Nu);It(d,i,o),It(d,t.domain,o);const f=Gi();It(c,t.domain,f),It(f,t.domain,f);const h=dt(f,Nu);It(h,t.domain,f);const m=Gi(hV);It(h,t.tld,m),It(h,t.utld,m),dt(c,Vb,m);const g=dt(f,Du);It(g,t.domain,f),It(m,t.domain,f),dt(m,Nu,h),dt(m,Du,g);const S=dt(m,ff);It(S,t.numeric,hV);const y=dt(s,Du),E=dt(s,Nu);It(y,t.domain,s),It(E,i,o),It(E,t.domain,s);const x=Gi(Jh);It(E,t.tld,x),It(E,t.utld,x),It(x,t.domain,s),It(x,i,o),dt(x,Nu,E),dt(x,Du,y),dt(x,ef,c);const v=dt(x,ff),C=Gi(Jh);It(v,t.numeric,C);const b=Gi(Jh),A=Gi();It(b,n,b),It(b,r,A),It(A,n,b),It(A,r,A),dt(x,Ru,b),dt(C,Ru,b);const _=dt(l,ff),T=dt(u,ff),M=dt(T,Ru),N=dt(M,Ru);It(l,t.domain,s),dt(l,Nu,E),dt(l,Du,y),It(u,t.domain,s),dt(u,Nu,E),dt(u,Du,y),It(_,t.domain,b),dt(_,Ru,b),It(N,t.domain,b),It(N,n,b),dt(N,Ru,b);const I=dt(b,Gg),F=dt(b,Yy),$=dt(b,Jy),z=dt(b,Qy);dt(A,Gg,I),dt(A,Yy,F),dt(A,Jy,$),dt(A,Qy,z),dt(I,hp,b),dt(F,Kg,b),dt($,Yg,b),dt(z,pp,b),dt(I,hp,b);const D=Gi(Jh),P=Gi(Jh),V=Gi(Jh),B=Gi(Jh);It(I,n,D),It(F,n,P),It($,n,V),It(z,n,B);const H=Gi(),K=Gi(),W=Gi(),L=Gi();return It(I,r),It(F,r),It($,r),It(z,r),It(D,n,D),It(P,n,P),It(V,n,V),It(B,n,B),It(D,r,D),It(P,r,P),It(V,r,V),It(B,r,B),It(H,n,H),It(K,n,P),It(W,n,V),It(L,n,B),It(H,r,H),It(K,r,K),It(W,r,W),It(L,r,L),dt(P,Kg,b),dt(V,Yg,b),dt(B,pp,b),dt(D,hp,b),dt(K,Kg,b),dt(W,Yg,b),dt(L,pp,b),dt(H,pp,b),dt(a,Vb,x),dt(a,hI,jJe),{start:a,tokens:lse}}function FJe(e,t,n){let r=n.length,i=0,a=[],o=[];for(;i<r;){let s=e,l=null,u=null,c=0,d=null,f=-1;for(;i<r&&!(l=s.go(n[i].t));)o.push(n[i++]);for(;i<r&&(u=l||s.go(n[i].t));)l=null,s=u,s.accepts()?(f=0,d=s):f>=0&&f++,i++,c++;if(f<0)i-=c,i<r&&(o.push(n[i]),i++);else{o.length>0&&(a.push(z6(pV,t,o)),o=[]),i-=f,c-=f;const h=d.t,m=n.slice(i-c,i);a.push(z6(h,t,m))}}return o.length>0&&a.push(z6(pV,t,o)),a}function z6(e,t,n){const r=n[0].s,i=n[n.length-1].e,a=t.slice(r,i);return new e(a,n)}const BJe=typeof console<"u"&&console&&console.warn||(()=>{}),zJe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Qr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function $Je(){Ho.groups={},Qr.scanner=null,Qr.parser=null,Qr.tokenQueue=[],Qr.pluginQueue=[],Qr.customSchemes=[],Qr.initialized=!1}function mV(e,t){if(t===void 0&&(t=!1),Qr.initialized&&BJe(`linkifyjs: already initialized - will not register custom scheme "${e}" ${zJe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);Qr.customSchemes.push([e,t])}function UJe(){Qr.scanner=IJe(Qr.customSchemes);for(let e=0;e<Qr.tokenQueue.length;e++)Qr.tokenQueue[e][1]({scanner:Qr.scanner});Qr.parser=LJe(Qr.scanner.tokens);for(let e=0;e<Qr.pluginQueue.length;e++)Qr.pluginQueue[e][1]({scanner:Qr.scanner,parser:Qr.parser});Qr.initialized=!0}function VJe(e){return Qr.initialized||UJe(),FJe(Qr.parser.start,e,OJe(Qr.scanner.start,e))}function bI(e,t,n){if(t===void 0&&(t=null),n===void 0&&(n=null),t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new yI(n),i=VJe(e),a=[];for(let o=0;o<i.length;o++){const s=i[o];s.isLink&&(!t||s.t===t)&&a.push(s.toFormattedObject(r))}return a}const HJe=({renderers:e})=>O.createElement(O.Fragment,null,Object.entries(e).map(([t,n])=>Ug.createPortal(n.reactElement,n.element,t)));class qJe extends O.Component{constructor(t){super(t),this.editorContentRef=O.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:t}=this.props;if(t&&t.options.element){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.options.element.childNodes),t.setOptions({element:n}),t.contentComponent=this,t.createNodeViews(),this.initialized=!0}}maybeFlushSync(t){this.initialized?w1.flushSync(t):t()}setRenderer(t,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[t]:n}}))})}removeRenderer(t){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[t],{renderers:r}})})}componentWillUnmount(){const{editor:t}=this.props;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild))return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){const{editor:t,...n}=this.props;return O.createElement(O.Fragment,null,O.createElement("div",{ref:this.editorContentRef,...n}),O.createElement(HJe,{renderers:this.state.renderers}))}}const WJe=e=>{const t=O.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return O.createElement(qJe,{key:t,...e})},gV=O.memo(WJe);class GJe extends CJe{constructor(){super(...arguments),this.contentComponent=null}}function KJe(){const[,e]=j.useState(0);return()=>e(t=>t+1)}const YJe=(e={},t=[])=>{const[n,r]=j.useState(null),i=KJe(),{onBeforeCreate:a,onBlur:o,onCreate:s,onDestroy:l,onFocus:u,onSelectionUpdate:c,onTransaction:d,onUpdate:f}=e,h=j.useRef(a),m=j.useRef(o),g=j.useRef(s),S=j.useRef(l),y=j.useRef(u),E=j.useRef(c),x=j.useRef(d),v=j.useRef(f);return j.useEffect(()=>{n&&(a&&(n.off("beforeCreate",h.current),n.on("beforeCreate",a),h.current=a),o&&(n.off("blur",m.current),n.on("blur",o),m.current=o),s&&(n.off("create",g.current),n.on("create",s),g.current=s),l&&(n.off("destroy",S.current),n.on("destroy",l),S.current=l),u&&(n.off("focus",y.current),n.on("focus",u),y.current=u),c&&(n.off("selectionUpdate",E.current),n.on("selectionUpdate",c),E.current=c),d&&(n.off("transaction",x.current),n.on("transaction",d),x.current=d),f&&(n.off("update",v.current),n.on("update",f),v.current=f))},[a,o,s,l,u,c,d,f,n]),j.useEffect(()=>{let C=!0;const b=new GJe(e);return r(b),b.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{C&&i()})})}),()=>{C=!1}},t),j.useEffect(()=>()=>{n==null||n.destroy()},[n]),n},JJe=j.createContext({editor:null});JJe.Consumer;const QJe=j.createContext({onDragStart:void 0}),XJe=()=>j.useContext(QJe);O.forwardRef((e,t)=>{const{onDragStart:n}=XJe(),r=e.as||"div";return O.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});function wI(e){return{type:e.type,data:{id:e.id}}}function JT(){const e=localStorage.getItem("prev-drawer-metadata");return e?JSON.parse(e).openedDict:{}}function ZJe(e){return Mo.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){mV(t);return}mV(t.scheme,t.optionalSlashes)})},onDestroy(){$Je()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",zr(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:n})=>n().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:n})=>n().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Kf({find:t=>bI(t).filter(n=>this.options.validate?this.options.validate(n.value):!0).filter(n=>n.isLink).map(n=>({text:n.value,index:n.start,data:n})),type:this.type,getAttributes:(t,n)=>{var o,s;const r=(o=n==null?void 0:n.clipboardData)==null?void 0:o.getData("text/html"),i=/href="([^"]*)"/,a=r==null?void 0:r.match(i);return a?{href:a[1]}:{href:(s=t.data)==null?void 0:s.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(nQe({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(tQe({type:this.type},e)),this.options.linkOnPaste&&t.push(eQe({editor:this.editor,type:this.type})),t}})}function eQe(e){return new to({key:new Tl("handlePasteLink"),props:{handlePaste:(t,n,r)=>{var h;const{state:i}=t,{selection:a}=i,{empty:o}=a;if(o)return!1;let s="";r.content.forEach(m=>{s+=m.textContent});const l=bI(s).find(m=>m.isLink&&m.value===s);if(!s||!l)return!1;const u=(h=n.clipboardData)==null?void 0:h.getData("text/html"),c=/href="([^"]*)"/,d=u==null?void 0:u.match(c),f=d?d[1]:l.href;return e.editor.commands.setMark(e.type,{href:f}),!0}}})}function tQe(e,t){return new to({key:new Tl("handleClickLink"),props:{handleClick:(n,r,i)=>{if(i.button!==0||i.target.nodeName!=="A")return!1;const o=ise(n.state,e.type.name),s=i.target,l=(s==null?void 0:s.href)??o.href,u=(s==null?void 0:s.target)??o.target;if(s&&l){const c=qb(l);if(c){const[d,f]=t,{type:h,data:m}=wI(c);return f({type:h,data:m,extra:{addToHistory:!0}}),i.preventDefault(),!0}return n.editable&&window.open(l,u),!0}return!1}}})}function nQe(e){return new to({key:new Tl("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(u=>u.docChanged)&&!n.doc.eq(r.doc),a=t.some(u=>u.getMeta("preventAutolink"));if(!i||a)return;const{tr:o}=r,s=LYe(n.doc,[...t]);if(WYe(s).forEach(({newRange:u})=>{const c=BYe(r.doc,u,h=>h.isTextblock);let d,f;if(c.length>1?(d=c[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):c.length&&r.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(d=c[0],f=r.doc.textBetween(d.pos,u.to,void 0," ")),d&&f){const h=f.split(" ").filter(S=>S!=="");if(h.length<=0)return!1;const m=h[h.length-1],g=d.pos+f.lastIndexOf(m);if(!m)return!1;bI(m).filter(S=>S.isLink).map(S=>({...S,from:g+S.start+1,to:g+S.end+1})).filter(S=>r.schema.marks.code?!r.doc.rangeHasMark(S.from,S.to,r.schema.marks.code):!0).filter(S=>e.validate?e.validate(S.value):!0).forEach(S=>{dI(S.from,S.to,r.doc).some(y=>y.mark.type===e.type)||o.addMark(S.from,S.to,e.type.create({href:S.href}))})}}),!!o.steps.length)return o}})}function qb(e){const t=e.split("/"),n=t.length>0?t[t.length-1]:e;if(!n.startsWith("link_"))return null;const[r,i,a]=n.split("_");return{type:i,id:parseInt(a)}}function rQe(e,t){return`link_${e}_${t}`}function Xt(e){return p.jsx(pe,{...e,style:e.disabled?{}:{marginLeft:Nb,textIndent:-1*Nb},children:e.children})}function Ea(e){var a;const[t,n]=Ct(an),r=/<abbr[^>]*class="action-symbol"[^>]*>(\d+)<\/abbr>/gm,i=(a=e.children)==null?void 0:a.replace(r,"`action_symbol_$1`");return p.jsx(xVe,{children:i,remarkPlugins:[Rqe],components:{p(o){const{children:s,className:l}=o;return iQe(s)?p.jsx(Xt,{...e,className:l,children:s}):p.jsx(pe,{...e,className:l,children:s})},span(o){const{children:s,className:l}=o;return p.jsx(pe,{...e,className:l,span:!0,children:s})},ul(o){const{children:s,className:l}=o;return p.jsx(Lc,{className:l,children:s})},li(o){const{children:s,className:l}=o;return p.jsx(Lc.Item,{className:l,children:p.jsx(pe,{children:s})})},code(o){const{children:s,className:l}=o;if(s!=null&&s.toString().startsWith("action_symbol_")){const u=s.toString().replace("action_symbol_","");return p.jsx("abbr",{className:"action-symbol",children:u})}else return p.jsx(n7,{className:l,children:s})},a(o){const{children:s,className:l,href:u}=o,c=qb(u??""),d=c?wI(c):null;return p.jsx(Br,{onClick:f=>{d&&(n({type:d.type,data:d.data,extra:{addToHistory:!0}}),f.preventDefault())},href:d?void 0:u,target:"_blank",underline:"hover",className:l,children:s})},hr(o){const{className:s}=o;return p.jsx(Lt,{className:s})},blockquote(o){const{children:s,className:l}=o;return p.jsx(X9,{className:l,icon:p.jsx(bOe,{size:"1.3rem"}),iconSize:40,ml:5,my:10,children:s})}}})}function iQe(e){var r;const t=O.Children.toArray(e),n=t.length>0?t[0]:null;if(O.isValidElement(n)&&n.type==="strong"){const i=((r=n.props)==null?void 0:r.children)??"";return["Critical Success","Success","Failure","Critical Failure"].includes(i)}return!1}function t1(e){return e=Ze.isString(e)?parseInt(e):e,e<0?`${e}`:`+${e}`}function QT(e){return aQe(JSON.stringify(e))}const aQe=(e,t=0)=>{let n=3735928559^t,r=1103547991^t;for(let i=0,a;i<e.length;i++)a=e.charCodeAt(i),n=Math.imul(n^a,2654435761),r=Math.imul(r^a,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)},xI=new Map;function cse(e,t){return QT({type:e,data:t})}function oQe(e,t){return xI.get(cse(e,t))}function sQe(e,t,n){xI.set(cse(e,t),n)}let Wb=dse();function dse(){let e=new Map;return e.set("ancestry",new Map),e.set("background",new Map),e.set("class",new Map),e.set("ability-block",new Map),e.set("item",new Map),e.set("language",new Map),e.set("spell",new Map),e.set("trait",new Map),e.set("content-source",new Map),e}function lQe(e,t){var n;if(!t.id)return null;if(Array.isArray(t.id)){const r=t.id.map(i=>{var a;return(a=Wb.get(e))==null?void 0:a.get(parseInt(i))}).filter(i=>i);return r.length!==t.id.length?null:r}else{const r=parseInt(t.id);return(n=Wb.get(e))==null?void 0:n.get(r)}}function uQe(e,t,n){var r,i;if(!t.id)return!0;if(Array.isArray(t.id)){if(!Array.isArray(n))return"Value is not an array";for(const a of n){if(!a.id)return"Value is not an array of objects with ids";(r=Wb.get(e))==null||r.set(a.id,a)}}else{if(Array.isArray(n)||!n.id)return"Value is not an object with an id";(i=Wb.get(e))==null||i.set(n.id,n)}return!0}let fse;function hse(e){fse=e}async function Dn(e,t,n){return await V1(e,{id:t,content_sources:n})}async function ha(e,t){const n=await V1(e,{content_sources:t});return n||[]}async function V1(e,t,n){const r={"ability-block":"find-ability-block",ancestry:"find-ancestry",background:"find-background",class:"find-class","content-source":"find-content-source",creature:"find-creature",item:"find-item",language:"find-language",spell:"find-spell",trait:"find-trait"},i=lQe(e,t),a=oQe(e,t);if(a)return a;if(i)return i;{const o={...t};if(e!=="content-source"&&!o.content_sources){const l=await wm();o.content_sources=l.map(u=>u.id)}const s=await dr(r[e],o);if(s&&!n){sQe(e,t,s);const l=uQe(e,t,s);l!==!0&&console.error("Failed to add to id store",l,t,s)}return s}}function cQe(){xI.clear(),Wb=dse()}async function wm(e){const t=await V1("content-source",{group:e==null?void 0:e.group,homebrew:e==null?void 0:e.homebrew,published:e==null?void 0:e.published,id:(e==null?void 0:e.ids)==="all"?void 0:(e==null?void 0:e.ids)??fse});return t?t.sort((n,r)=>n.name.localeCompare(r.name)):[]}async function UE(e,t){const n=await Promise.all([ha("ancestry",e),ha("background",e),ha("class",e),ha("ability-block",e),ha("item",e),ha("language",e),ha("spell",e),ha("trait",e),ha("creature",e)]),r=t?await wm({ids:e}):null;return{ancestries:n[0]??[],backgrounds:n[1]??[],classes:n[2]??[],abilityBlocks:n[3]??[],items:n[4]??[],languages:n[5]??[],spells:n[6]??[],traits:n[7]??[],creatures:n[8]??[],sources:r??void 0}}async function dQe(e){return await V1("ability-block",{prerequisites:[e]})}async function n1(e,t,n){return await V1("trait",{id:n,name:e,content_sources:t})}async function SI(e){return!e||e.length===0?[]:await V1("trait",{id:e})??[]}function hi(e){const t=ht(),[n,r]=Ct(an),{data:i}=En({queryKey:[`find-traits-${e.traitIds.join("_")}`,{}],queryFn:async({queryKey:a})=>e.traitIds.length===0?[]:(await SI(e.traitIds)).sort((o,s)=>o.name.localeCompare(s.name))});return i?p.jsxs(Ae,{gap:3,justify:e.justify,children:[e.rarity&&p.jsx(fQe,{interactable:e.interactable,size:e.size,rarity:e.rarity}),e.skill&&p.jsx(hQe,{interactable:e.interactable,size:e.size,skill:e.skill}),i.map((a,o)=>{var s,l;return p.jsxs(at,{disabled:!e.interactable,width:265,shadow:"md",zIndex:2e3,openDelay:250,withinPortal:!0,withArrow:!0,children:[p.jsx(at.Target,{children:p.jsx(ft,{variant:"dot",size:e.size??"md",styles:{root:{"--badge-dot-size":(s=a.meta_data)!=null&&s.important?void 0:0,textTransform:"initial",color:t.colors.dark[1],cursor:e.interactable?"pointer":void 0}},onClick:()=>{e.interactable&&r({type:"trait",data:{id:a.id},extra:{addToHistory:!0}})},children:a.name})}),p.jsx(at.Dropdown,{children:p.jsx(pQe,{name:a.name,description:a.description,important:!!((l=a.meta_data)!=null&&l.important)})})]},o)})]}):p.jsx(ai,{color:t.primaryColor,size:e.size??"sm",type:"dots"})}function fQe(e){if(e.rarity==="COMMON")return null;let t="gray";return e.rarity==="UNCOMMON"&&(t="teal"),e.rarity==="RARE"&&(t="indigo"),e.rarity==="UNIQUE"&&(t="violet"),p.jsx(ft,{size:e.size??"md",color:t,styles:{root:{textTransform:"initial"}},children:Ze.startCase(e.rarity.toLowerCase())})}function hQe(e){const t=ht();return p.jsx(ft,{size:e.size??"md",variant:"dot",styles:{root:{"--badge-dot-size":0,textTransform:"initial",color:t.colors.dark[2]}},children:Ze.startCase(e.skill.toLowerCase())})}function pQe(e){const t=ht();return p.jsxs(it,{gap:5,children:[p.jsx(ft,{variant:"dot",size:"xl",styles:{root:{"--badge-dot-size":e.important?void 0:0,textTransform:"initial",color:t.colors.dark[0]}},children:e.name}),p.jsx(Ea,{ta:"justify",fz:"sm",children:e.description||"No description given."})]})}function pt(e,t,n){return e==="attr"?{name:t,type:e,value:{value:Jf(n)?n.value:0,partial:Jf(n)?n.partial:!1}}:e==="num"?{name:t,type:e,value:Cs.isNumber(n)?n:0}:e==="str"?{name:t,type:e,value:Cs.isString(n)?n:""}:e==="bool"?{name:t,type:e,value:Cs.isBoolean(n)?n:!1}:e==="prof"?{name:t,type:e,value:{value:am(n)?n.value:"U",attribute:am(n)?n.attribute:void 0}}:e==="list-str"?{name:t,type:e,value:gse(n)?n:[]}:($i(`Invalid variable type: ${e}`),{})}function Ts(e){return Yf(e.name)}function Yf(e){const t={"fort ":"Fortitude ","str ":"Strength ","dex ":"Dexterity ","con ":"Constitution ","int ":"Intelligence ","wis ":"Wisdom ","cha ":"Charisma "," dc":" DC"," hp":" HP","hp ":"HP ","Simple Weapons":"simple weapons","Martial Weapons":"martial weapons","Advanced Weapons":"advanced weapons","Unarmed Attacks":"unarmed attacks","Light Armor":"light armor","Medium Armor":"medium armor","Heavy Armor":"heavy armor","Unarmored Defense":"unarmored defense","Class DC":"class DC","Class Dc":"class DC"},n=["skill_","save_","attribute_","speed_"];let r=e.trim().toLowerCase();for(const[i,a]of Object.entries(t))r=` ${r} `.replace(i,a);for(const i of n)r=r.replace(i,"");r=r.replace(/_/g," "),r=Ze.startCase(r);for(const[i,a]of Object.entries(t))r=r.replace(i,a);return r.startsWith("Lore ")&&(r=r.replace("Lore ",""),r=`${r} Lore`),r.trim()}function Zy(e,t=!0){t&&(e=e.trim());let n=e.toUpperCase().replace(/[^a-zA-Z_\s]/g,"");return n=n.replace(/\s+/g,"_"),n}function XT(e){const t={Fortitude:"Fort",Strength:"Str",Dexterity:"Dex",Constitution:"Con",Intelligence:"Int",Wisdom:"Wis",Charisma:"Cha"};let n=e.trim();for(const[r,i]of Object.entries(t))n=n.replace(r,i);return n}function r1(e,t){const n=r=>r==="U"?0:r==="T"?1:r==="E"?2:r==="M"?3:r==="L"?4:($i(`Invalid proficiency type: ${r}`),0);return n(e)>n(t)?e:t}function ZT(e){return e==="U"?"T":e==="T"?"E":e==="E"?"M":e==="M"?"L":e==="L"?null:($i(`Invalid proficiency type: ${e}`),"U")}function eN(e){return e==="U"?null:e==="T"?"U":e==="E"?"T":e==="M"?"E":e==="L"?"M":($i(`Invalid proficiency type: ${e}`),"U")}function ll(e){return e==="U"?"Untrained":e==="T"?"Trained":e==="E"?"Expert":e==="M"?"Master":e==="L"?"Legendary":($i(`Invalid proficiency type: ${e}`),"")}function mQe(e){const t=e.trim().toUpperCase();return t==="UNTRAINED"?"U":t==="TRAINED"?"T":t==="EXPERT"?"E":t==="MASTER"?"M":t==="LEGENDARY"?"L":null}function gQe(e,t){const n=Zy(t);return Object.values(qc()).find(i=>i.type===e&&i.name.endsWith(`_${n}`))??null}function pse(e){return e==="U"?0:e==="T"?2:e==="E"?4:e==="M"?6:e==="L"?8:($i(`Invalid proficiency type: ${e}`),0)}function am(e){return VE(e==null?void 0:e.value)&&(Cs.isString(e==null?void 0:e.attribute)||(e==null?void 0:e.attribute)===void 0)}function vQe(e){return mse(e==null?void 0:e.value)&&(Cs.isString(e==null?void 0:e.attribute)||(e==null?void 0:e.attribute)===void 0)}function Jf(e){return Cs.isNumber(e==null?void 0:e.value)&&(Cs.isBoolean(e==null?void 0:e.partial)||(e==null?void 0:e.partial)===void 0)}function VE(e){return["U","T","E","M","L"].includes(e??"")}function mse(e){return["U","T","E","M","L","1","-1"].includes(e??"")}function gse(e){return Ze.isString(e)&&(e=JSON.parse(e)),Array.isArray(e)&&e.every(t=>Cs.isString(t))}function vse(e){return e.type==="num"}function yse(e){return e.type==="str"}function bse(e){return e.type==="bool"}function wse(e){return e.type==="prof"}function xse(e){return e.type==="attr"}function Sse(e){return e.type==="list-str"}const Cse={ATTRIBUTE_STR:pt("attr","ATTRIBUTE_STR"),ATTRIBUTE_DEX:pt("attr","ATTRIBUTE_DEX"),ATTRIBUTE_CON:pt("attr","ATTRIBUTE_CON"),ATTRIBUTE_INT:pt("attr","ATTRIBUTE_INT"),ATTRIBUTE_WIS:pt("attr","ATTRIBUTE_WIS"),ATTRIBUTE_CHA:pt("attr","ATTRIBUTE_CHA"),SAVE_FORT:pt("prof","SAVE_FORT",{value:"U",attribute:"ATTRIBUTE_CON"}),SAVE_REFLEX:pt("prof","SAVE_REFLEX",{value:"U",attribute:"ATTRIBUTE_DEX"}),SAVE_WILL:pt("prof","SAVE_WILL",{value:"U",attribute:"ATTRIBUTE_WIS"}),SKILL_ACROBATICS:pt("prof","SKILL_ACROBATICS",{value:"U",attribute:"ATTRIBUTE_DEX"}),SKILL_ARCANA:pt("prof","SKILL_ARCANA",{value:"U",attribute:"ATTRIBUTE_INT"}),SKILL_ATHLETICS:pt("prof","SKILL_ATHLETICS",{value:"U",attribute:"ATTRIBUTE_STR"}),SKILL_CRAFTING:pt("prof","SKILL_CRAFTING",{value:"U",attribute:"ATTRIBUTE_INT"}),SKILL_DECEPTION:pt("prof","SKILL_DECEPTION",{value:"U",attribute:"ATTRIBUTE_CHA"}),SKILL_DIPLOMACY:pt("prof","SKILL_DIPLOMACY",{value:"U",attribute:"ATTRIBUTE_CHA"}),SKILL_INTIMIDATION:pt("prof","SKILL_INTIMIDATION",{value:"U",attribute:"ATTRIBUTE_CHA"}),SKILL_MEDICINE:pt("prof","SKILL_MEDICINE",{value:"U",attribute:"ATTRIBUTE_WIS"}),SKILL_NATURE:pt("prof","SKILL_NATURE",{value:"U",attribute:"ATTRIBUTE_WIS"}),SKILL_OCCULTISM:pt("prof","SKILL_OCCULTISM",{value:"U",attribute:"ATTRIBUTE_INT"}),SKILL_PERFORMANCE:pt("prof","SKILL_PERFORMANCE",{value:"U",attribute:"ATTRIBUTE_CHA"}),SKILL_RELIGION:pt("prof","SKILL_RELIGION",{value:"U",attribute:"ATTRIBUTE_WIS"}),SKILL_SOCIETY:pt("prof","SKILL_SOCIETY",{value:"U",attribute:"ATTRIBUTE_INT"}),SKILL_STEALTH:pt("prof","SKILL_STEALTH",{value:"U",attribute:"ATTRIBUTE_DEX"}),SKILL_SURVIVAL:pt("prof","SKILL_SURVIVAL",{value:"U",attribute:"ATTRIBUTE_WIS"}),SKILL_THIEVERY:pt("prof","SKILL_THIEVERY",{value:"U",attribute:"ATTRIBUTE_DEX"}),SKILL_LORE____:pt("prof","SKILL_LORE____",{value:"U",attribute:"ATTRIBUTE_INT"}),SPELL_ATTACK:pt("prof","SPELL_ATTACK"),SPELL_DC:pt("prof","SPELL_DC"),LIGHT_ARMOR:pt("prof","LIGHT_ARMOR"),MEDIUM_ARMOR:pt("prof","MEDIUM_ARMOR"),HEAVY_ARMOR:pt("prof","HEAVY_ARMOR"),UNARMORED_DEFENSE:pt("prof","UNARMORED_DEFENSE"),SIMPLE_WEAPONS:pt("prof","SIMPLE_WEAPONS"),MARTIAL_WEAPONS:pt("prof","MARTIAL_WEAPONS"),ADVANCED_WEAPONS:pt("prof","ADVANCED_WEAPONS"),UNARMED_ATTACKS:pt("prof","UNARMED_ATTACKS"),PERCEPTION:pt("prof","PERCEPTION",{value:"U",attribute:"ATTRIBUTE_WIS"}),CLASS_DC:pt("prof","CLASS_DC"),LEVEL:pt("num","LEVEL"),SIZE:pt("str","SIZE"),CORE_LANGUAGE_NAMES:pt("list-str","CORE_LANGUAGE_NAMES"),MAX_HEALTH_ANCESTRY:pt("num","MAX_HEALTH_ANCESTRY"),MAX_HEALTH_CLASS_PER_LEVEL:pt("num","MAX_HEALTH_CLASS_PER_LEVEL"),MAX_HEALTH_BONUS:pt("num","MAX_HEALTH_BONUS"),HEALTH:pt("num","HEALTH"),TEMP_HEALTH:pt("num","TEMP_HEALTH"),AC:pt("num","AC"),ARMOR_CHECK_PENALTY:pt("num","ARMOR_CHECK_PENALTY"),ARMOR_SPEED_PENALTY:pt("num","ARMOR_SPEED_PENALTY"),DEX_CAP:pt("num","DEX_CAP"),UNARMORED:pt("bool","UNARMORED"),SPEED:pt("num","SPEED"),SPEED_FLY:pt("num","SPEED_FLY"),SPEED_CLIMB:pt("num","SPEED_CLIMB"),SPEED_BURROW:pt("num","SPEED_BURROW"),SPEED_SWIM:pt("num","SPEED_SWIM"),SENSE_NAMES:pt("list-str","SENSE_NAMES"),CLASS_NAMES:pt("list-str","CLASS_NAMES"),ANCESTRY_NAMES:pt("list-str","ANCESTRY_NAMES"),BACKGROUND_NAMES:pt("list-str","BACKGROUND_NAMES"),HERITAGE_NAMES:pt("list-str","HERITAGE_NAMES"),FEAT_NAMES:pt("list-str","FEAT_NAMES"),SPELL_NAMES:pt("list-str","SPELL_NAMES"),LANGUAGE_NAMES:pt("list-str","LANGUAGE_NAMES"),CLASS_FEATURE_NAMES:pt("list-str","CLASS_FEATURE_NAMES"),PHYSICAL_FEATURE_NAMES:pt("list-str","PHYSICAL_FEATURE_NAMES"),SENSE_IDS:pt("list-str","SENSE_IDS"),CLASS_IDS:pt("list-str","CLASS_IDS"),ANCESTRY_IDS:pt("list-str","ANCESTRY_IDS"),BACKGROUND_IDS:pt("list-str","BACKGROUND_IDS"),HERITAGE_IDS:pt("list-str","HERITAGE_IDS"),FEAT_IDS:pt("list-str","FEAT_IDS"),SPELL_IDS:pt("list-str","SPELL_IDS"),LANGUAGE_IDS:pt("list-str","LANGUAGE_IDS"),CLASS_FEATURE_IDS:pt("list-str","CLASS_FEATURE_IDS"),PHYSICAL_FEATURE_IDS:pt("list-str","PHYSICAL_FEATURE_IDS"),PAGE_CONTEXT:pt("str","PAGE_CONTEXT","OUTSIDE"),PRIMARY_BUILDER_TABS:pt("list-str","PRIMARY_BUILDER_TABS",["skills-actions","inventory","feats-features","details","notes"])};let H1=Ze.cloneDeep(Cse),eb={},tb={};function qc(){return Ze.cloneDeep(H1)}function Tt(e){return Ze.cloneDeep(H1[e])}function Ese(e){return Ze.cloneDeep(eb[e])??[]}function yQe(e,t,n,r,i){eb[e]||(eb[e]=[]),eb[e].push({value:t,type:n,text:r,source:i,timestamp:Date.now()})}function kse(e){return Ze.cloneDeep(tb[e])??[]}function Ase(e,t,n,r){n!==t&&(tb[e]||(tb[e]=[]),tb[e].push({to:Ze.cloneDeep(t),from:Ze.cloneDeep(n),source:r,timestamp:Date.now()}))}function $5(e,t,n,r){const i=pt(e,t,n);return H1[i.name]=i,Ze.cloneDeep(i)}function _se(){H1=Ze.cloneDeep(Cse),eb={},tb={}}function fa(e,t,n){let r=H1[e];r||$i(`Invalid variable name: ${e}`);const i=Ze.cloneDeep(r.value);r||$i(`Invalid variable name: ${e}`),vse(r)&&Ze.isNumber(+t)?r.value=parseInt(`${t}`):yse(r)&&Ze.isString(t)||bse(r)&&Ze.isBoolean(t)?r.value=t:Sse(r)&&gse(t)?(Ze.isString(t)&&(t=JSON.parse(t)),r.value=Ze.uniq(t)):xse(r)&&Jf(t)?(r.value.value=t.value,r.value.partial=t.partial):wse(r)&&am(t)?(VE(t.value)&&(r.value.value=t.value),t.attribute&&(r.value.attribute=t.attribute)):$i(`Invalid value for variable: ${e}, ${t}`),Ase(r.name,r.value,i,n??"Updated")}function tr(e,t,n){let r=H1[e];r||$i(`Invalid variable name: ${e}`);const i=Ze.cloneDeep(r.value);if(r||$i(`Invalid variable name: ${e}`),wse(r))if(am(t)||vQe(t)){const{value:a,attribute:o}=t;VE(a)?r.value.value=r1(r.value.value,a):mse(a)&&(a==="1"?r.value.value=ZT(r.value.value)??r.value.value:a==="-1"?r.value.value=eN(r.value.value)??r.value.value:$i(`Invalid adjust amount for extended prof: ${e}, ${JSON.stringify(t)}`)),o&&(r.value.attribute=o)}else $i(`Invalid adjust amount for prof: ${e}, ${JSON.stringify(t)}`);else if(xse(r)&&Jf(t)){if(Ze.isNumber(+t.value)){const a=parseInt(`${t.value}`);a!==0&&a!==1&&a!==-1&&$i(`Invalid variable adjustment amount for attribute: ${a} (must be 0, 1, or -1)`),r.value.value>=4&&a===1?r.value.partial?(r.value.value+=1,r.value.partial=!1):r.value.partial=!0:r.value.value+=a}t.partial&&(r.value.partial=t.partial)}else vse(r)&&Ze.isNumber(+t)?r.value+=parseInt(`${t}`):yse(r)&&Ze.isString(t)?r.value+=t:bse(r)&&Ze.isBoolean(t)?r.value=r.value&&t:Sse(r)&&Ze.isString(t)?r.value=Ze.uniq([...r.value,t]):$i(`Invalid adjust amount for variable: ${e}, ${JSON.stringify(t)}`);Ase(r.name,r.value,i,n??"Adjusted")}function Gb(){const e=[];for(const t of Object.values(qc()))t.name.startsWith("SKILL_")&&t.type==="prof"&&e.push(t);return e}function Mse(){const e=[];for(const t of Object.values(qc()))t.name.startsWith("SAVE_")&&t.type==="prof"&&e.push(t);return e}function cu(){const e=[];for(const t of Object.values(qc()))t.name.startsWith("ATTRIBUTE_")&&t.type==="attr"&&e.push(t);return e}function bQe(){const e=[];for(const t of Object.values(qc()))t.name.startsWith("WEAPON_")&&t.type==="prof"&&e.push(t);return e}function wQe(){const e=[];for(const t of Object.values(qc()))t.name.startsWith("ARMOR_")&&t.type==="prof"&&e.push(t);return e}function qu(e,t,n,r,i){let a=[];const o=new Set;for(const s of e){const{ui:l,operation:u,bestValue:c,variable:d,uuid:f}=da(s,t,n,r,i);let h=f??s;l&&!o.has(h)&&(a.push({ui:l,operation:u,bestValue:c,variable:d,uuid:f}),o.add(h))}return a}function da(e,t,n,r,i){var d,f;const a=Tt(e);if(!a)return{ui:null,operation:null};let o=null,s=null;const l=h=>{if(s===null)return s=h,!0;if(a.type==="num"){if(h>=s)return s=h,!0}else{if(a.type==="str")return s=h,!0;if(a.type==="bool"){if(h===!0)return s=h,!0}else if(a.type==="prof"){if(s={value:r1(s.value,h.value)},s===h)return!0}else if(a.type==="attr"){const m=s,g=h;if(g.value>=m.value)return s=h,!0;if(g.value===m.value&&g.partial)return s=h,!0}else if(a.type==="list-str")return s=h,!0}return!1};let u=e;for(const h of t)if(h.type==="adjValue"||h.type==="setValue")h.data.variable===e&&l(h.data.value);else if(h.type==="select"){if(h.data.optionType==="ADJ_VALUE"){((d=h.data.optionsFilters)==null?void 0:d.type)==="ADJ_VALUE"&&((f=h.data.optionsFilters)==null?void 0:f.group)==="ATTRIBUTE"&&a.type==="attr"&&(s||l(h.data.optionsFilters.value)&&(o=h,u="ATTRIBUTE-FREE"));for(const m of h.data.optionsPredefined??[])m.operation.data.variable===e&&l(m.operation.data.value)&&(o=h,u=(h.data.optionsPredefined??[]).map(y=>y.operation.data.variable).sort().join("_"))}else if(h.data.optionType==="CUSTOM"){let m=!1;for(const g of h.data.optionsPredefined??[])for(const S of g.operations??[])(S.type==="adjValue"||S.type==="setValue")&&S.data.variable===e&&(l(S.data.value)&&(o=h),m=!0);if(m){const g=[];for(const S of h.data.optionsPredefined??[])g.push(S.id);u=g.sort().join("_")}}}const c=Jf(s)?s.value:s;if(Ze.isNumber(c)){if(i!=null&&i.onlyNegatives){if(c>=0)return{ui:null,operation:null}}else if(c<0)return{ui:null,operation:null}}return{ui:CI(s,o,a,n,r,i),operation:o,variable:a,bestValue:s,uuid:u}}function CI(e,t,n,r,i,a){var s,l,u,c,d,f,h,m,g,S,y,E,x,v,C,b,A,_,T,M,N,I,F,$,z;if(e===null)return null;const o=t!=null&&t.id?i==null?void 0:i.operationResults.find(D=>{var P;return((P=D==null?void 0:D.selection)==null?void 0:P.id)===(t==null?void 0:t.id)}):null;if(console.log("result",o),Jf(e))if(t){if(r==="READ/WRITE")return p.jsx(Z,{py:0,children:p.jsx(Va,{type:"ability-block",onClick:D=>{Hd(i==null?void 0:i.characterState,`${i==null?void 0:i.primarySource}_${t.id}`,D._select_uuid)},onClear:()=>{Hd(i==null?void 0:i.characterState,`${i==null?void 0:i.primarySource}_${t.id}`,"")},selectedId:(l=(s=o==null?void 0:o.result)==null?void 0:s.source)==null?void 0:l.id,options:{overrideOptions:(u=o==null?void 0:o.selection)==null?void 0:u.options,overrideLabel:((c=o==null?void 0:o.selection)==null?void 0:c.title)||"Select an Option"}})});{const D=vV(t,"attr");return p.jsx(p.Fragment,{children:oT(D.map(P=>a!=null&&a.fullNames?P:XT(P)),"or")})}}else{const D=Yf((n==null?void 0:n.name)??"");return p.jsx(p.Fragment,{children:a!=null&&a.fullNames?D:XT(D)})}if(am(e))if(t){if(r==="READ/WRITE")return p.jsx(Z,{py:5,children:p.jsx(Va,{type:"ability-block",onClick:D=>{Hd(i==null?void 0:i.characterState,`${i==null?void 0:i.primarySource}_${t.id}`,D._select_uuid)},onClear:()=>{Hd(i==null?void 0:i.characterState,`${i==null?void 0:i.primarySource}_${t.id}`,"")},selectedId:(f=(d=o==null?void 0:o.result)==null?void 0:d.source)==null?void 0:f.id,options:{overrideOptions:(h=o==null?void 0:o.selection)==null?void 0:h.options,overrideLabel:((m=o==null?void 0:o.selection)==null?void 0:m.title)||"Select an Option",abilityBlockType:(((g=o==null?void 0:o.selection)==null?void 0:g.options)??[]).length>0?(S=o==null?void 0:o.selection)==null?void 0:S.options[0].type:void 0,skillAdjustment:(y=o==null?void 0:o.selection)==null?void 0:y.skillAdjustment}})});{const D=vV(t,"prof");return D.every(P=>P===D[0])?`${ll(e.value)} in ${D[0]}`:p.jsxs(p.Fragment,{children:[ll(e.value)," in your choice of"," ",oT(D,"or")]})}}else return`${ll(e.value)} in ${Yf((n==null?void 0:n.name)??"")}`;return(n==null?void 0:n.type)==="num"?t?p.jsx(Z,{py:5,children:p.jsx(Va,{type:"ability-block",onClick:D=>{Hd(i==null?void 0:i.characterState,`${i==null?void 0:i.primarySource}_${t.id}`,D._select_uuid)},onClear:()=>{Hd(i==null?void 0:i.characterState,`${i==null?void 0:i.primarySource}_${t.id}`,"")},selectedId:(x=(E=o==null?void 0:o.result)==null?void 0:E.source)==null?void 0:x.id,options:{overrideOptions:(v=o==null?void 0:o.selection)==null?void 0:v.options,overrideLabel:((C=o==null?void 0:o.selection)==null?void 0:C.title)||"Select an Option",abilityBlockType:(((b=o==null?void 0:o.selection)==null?void 0:b.options)??[]).length>0?(A=o==null?void 0:o.selection)==null?void 0:A.options[0].type:void 0,skillAdjustment:(_=o==null?void 0:o.selection)==null?void 0:_.skillAdjustment}})}):p.jsx(p.Fragment,{children:e}):(n==null?void 0:n.type)==="str"||(n==null?void 0:n.type)==="list-str"?t?p.jsx(Z,{py:5,children:p.jsx(Va,{type:"ability-block",onClick:D=>{Hd(i==null?void 0:i.characterState,`${i==null?void 0:i.primarySource}_${t.id}`,D._select_uuid)},onClear:()=>{Hd(i==null?void 0:i.characterState,`${i==null?void 0:i.primarySource}_${t.id}`,"")},selectedId:(M=(T=o==null?void 0:o.result)==null?void 0:T.source)==null?void 0:M.id,options:{overrideOptions:(N=o==null?void 0:o.selection)==null?void 0:N.options,overrideLabel:((I=o==null?void 0:o.selection)==null?void 0:I.title)||"Select an Option",abilityBlockType:(((F=o==null?void 0:o.selection)==null?void 0:F.options)??[]).length>0?($=o==null?void 0:o.selection)==null?void 0:$.options[0].type:void 0,skillAdjustment:(z=o==null?void 0:o.selection)==null?void 0:z.skillAdjustment}})}):p.jsx(p.Fragment,{children:hu(e)}):null}function vV(e,t){var r,i;const n=[];if(e.data.optionType==="ADJ_VALUE"){for(const a of e.data.optionsPredefined??[]){const o=Tt(a.operation.data.variable);o&&o.type===t&&n.push(Ts(o))}((r=e.data.optionsFilters)==null?void 0:r.type)==="ADJ_VALUE"&&((i=e.data.optionsFilters)==null?void 0:i.group)==="ATTRIBUTE"&&t==="attr"&&n.push("Free")}else if(e.data.optionType==="CUSTOM"){for(const a of e.data.optionsPredefined??[])for(const o of a.operations??[])if(o.type==="adjValue"||o.type==="setValue"){const s=Tt(o.data.variable);s&&s.type===t&&n.push(Ts(s))}}return n.sort()}function Hd(e,t,n){if(!e)return;const[r,i]=e;i(a=>{var s;if(!a)return a;const o={...(s=a.operation_data)==null?void 0:s.selections};return n?o[t]=`${n}`:delete o[t],{...a,operation_data:{...a.operation_data,selections:o}}})}function Tse(e){var n;const t=new Map;if(!e||e.length===0||((n=Tt("PAGE_CONTEXT"))==null?void 0:n.value)==="OUTSIDE")return{meetMap:t,result:null};for(const r of e){const i=SQe(r);i&&t.set(r,i)}return{meetMap:t,result:xQe(t)}}function xQe(e){let t="UNKNOWN";for(const n of e.values()){if(n==="NOT")return"NOT";n==="FULLY"?t==="UNKNOWN"&&(t="FULLY"):(n==="PARTIALLY"||n==="UNKNOWN"&&t==="FULLY")&&(t="PARTIALLY")}return t}function SQe(e){let t=null;return t=CQe(e),t||(t=EQe(e),t)?t:"UNKNOWN"}function CQe(e){const t=/^(untrained|trained|expert|master|legendary) in ([a-zA-Z]+)$/i,n=e.match(t);if(!n)return null;const[r,i,a]=n,o=mQe(i);if(!o)return"UNKNOWN";const s=gQe("prof",a);return s?r1(s.value.value,o)===s.value.value?"FULLY":"NOT":"UNKNOWN"}function EQe(e){return Ze.startCase(e.toLowerCase())!==e?null:Tt("FEAT_NAMES").value.includes(e)?"FULLY":"NOT"}function Va(e){var a,o;const[t,n]=j.useState();j.useEffect(()=>{(async()=>{var s;if(e.selectedId){if(Ze.isNumber(e.selectedId)){const l=await Dn(e.type,e.selectedId);if(l){n(l);return}}if((s=e.options)!=null&&s.overrideOptions){const l=e.options.overrideOptions.find(u=>u.id===e.selectedId);if(l){n(l);return}}}})()},[e.selectedId,e.type]);const r=hu(((a=e.options)==null?void 0:a.abilityBlockType)||e.type),i=t?t.name:((o=e.options)==null?void 0:o.overrideLabel)??`Select ${r}`;return p.jsxs(mt.Group,{className:"selection-choice-base",children:[p.jsx(mt,{className:t?"selection-choice-selected":"selection-choice-unselected",variant:t?"light":"filled",size:"compact-sm",radius:"xl",onClick:()=>{var s,l,u,c,d;Of(e.type,f=>{n(f),e.onClick(f)},{overrideOptions:(s=e.options)==null?void 0:s.overrideOptions,overrideLabel:(l=e.options)==null?void 0:l.overrideLabel,abilityBlockType:(u=e.options)==null?void 0:u.abilityBlockType,groupBySource:(c=e.options)==null?void 0:c.groupBySource,skillAdjustment:(d=e.options)==null?void 0:d.skillAdjustment,selectedId:t==null?void 0:t.id})},children:i}),t&&p.jsx(mt,{variant:"light",size:"compact-sm",radius:"xl",onClick:()=>{n(void 0),e.onClear&&e.onClear()},children:p.jsx(I1,{size:"1rem"})})]})}function Of(e,t,n){let r=`Select ${hu((n==null?void 0:n.abilityBlockType)||e)}`;n!=null&&n.overrideLabel&&(r=n.overrideLabel),Zp({modal:"selectContent",title:p.jsx(zt,{order:3,children:r}),innerProps:{type:e,onClick:i=>t(i),options:n}})}function kQe({context:e,id:t,innerProps:n}){var g,S,y,E,x,v,C,b,A;const[r,i]=j.useState(!1),a=ht(),[o,s]=YD("",200),[l,u]=j.useState("all"),c=hu(((g=n.options)==null?void 0:g.abilityBlockType)||n.type),{data:d,isFetching:f}=En({queryKey:["enabled-content-sources",{}],queryFn:async({queryKey:_})=>await wm(),enabled:!!((S=n.options)!=null&&S.groupBySource)&&!((y=n.options)!=null&&y.overrideOptions)}),h=d==null?void 0:d.find(_=>_.id===l),m=(d==null?void 0:d.reduce((_,T)=>{var M,N;return(((M=T.meta_data)!=null&&M.counts?T.meta_data.counts[((N=n.options)==null?void 0:N.abilityBlockType)??n.type]:void 0)??0)+_},0))??0;return p.jsxs(Z,{style:{position:"relative",height:455},children:[p.jsx(fh,{mounted:r,transition:"slide-right",children:_=>{var T;return p.jsx(Z,{style:{..._,position:"absolute",top:0,left:0,backgroundColor:a.colors.dark[7],width:"max(50%, 275px)",height:"100%",zIndex:100,borderRightWidth:2,borderRightStyle:"solid",borderRightColor:a.colors.dark[6]},children:p.jsxs(Z,{style:{position:"relative",height:"100%"},children:[f&&p.jsx(ai,{type:"bars",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}}),p.jsx(yV,{name:"All Books",description:`${m.toLocaleString()} ${Ip(((T=n.options)==null?void 0:T.abilityBlockType)??n.type)}`,onClick:()=>{u("all"),i(!1)},selected:l==="all"}),d==null?void 0:d.filter(M=>{var N,I;return((N=M.meta_data)==null?void 0:N.counts)&&M.meta_data.counts[((I=n.options)==null?void 0:I.abilityBlockType)??n.type]}).map((M,N)=>{var I,F;return p.jsx(yV,{name:M.name,description:`${M.meta_data.counts[((I=n.options)==null?void 0:I.abilityBlockType)??n.type].toLocaleString()} ${Ip(((F=n.options)==null?void 0:F.abilityBlockType)??n.type)}`,onClick:()=>{u(M.id),i(!1)},selected:M.id===l},N)})]})})}}),r&&p.jsx(P0,{color:a.colors.dark[7],backgroundOpacity:.35,blur:2,zIndex:99,onClick:()=>{i(!1)}}),p.jsxs(it,{gap:10,children:[p.jsxs(Ae,{wrap:"nowrap",children:[p.jsx(sn,{style:{flex:1},leftSection:p.jsx(W0,{size:"0.9rem"}),placeholder:`Search ${Ip(c.toLowerCase())}`,onChange:_=>s(_.target.value)}),((E=n.options)==null?void 0:E.groupBySource)&&p.jsx(mt,{size:"compact-lg",fz:"xs",variant:"light",onClick:()=>i(!0),rightSection:p.jsx(Are,{size:"1.1rem"}),styles:{section:{marginLeft:3}},children:Ze.truncate((h==null?void 0:h.name)??"All Books",{length:20})})]}),p.jsx(AQe,{type:n.type,abilityBlockType:(x=n.options)==null?void 0:x.abilityBlockType,skillAdjustment:(v=n.options)==null?void 0:v.skillAdjustment,sourceId:(C=n.options)!=null&&C.groupBySource?l:void 0,selectedId:(b=n.options)==null?void 0:b.selectedId,overrideOptions:(A=n.options)==null?void 0:A.overrideOptions,searchQuery:o,onClick:_=>{n.onClick(_),e.closeModal(t)}})]})]})}function yV(e){const t=ht(),{hovered:n,ref:r}=Wn();return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent"},onClick:e.onClick,justify:"space-between",align:"center",children:[p.jsx(Z,{children:p.jsx(pe,{children:e.name})}),p.jsx(ft,{variant:"dot",size:"xs",styles:{root:{"--badge-dot-size":0,textTransform:"initial",color:t.colors.dark[1]}},children:e.description})]})}function AQe(e){const{data:t,isFetching:n}=En({queryKey:[`select-content-options-${e.type}`,{sourceId:e.sourceId}],queryFn:async({queryKey:o})=>{const[s,{sourceId:l}]=o;return await ha(e.type,l==="all"||!l?void 0:[l])??null},refetchOnMount:!0});let r=t?[...t.values()].filter(o=>o):[];e.overrideOptions&&(r=e.overrideOptions),e.sourceId!==void 0&&e.sourceId!=="all"&&(r=r.filter(o=>o.content_source_id===e.sourceId)),e.abilityBlockType?r=r.filter(o=>o.type===e.abilityBlockType):e.type==="ability-block"&&(!e.overrideOptions||e.overrideOptions.length===0)&&(r=[]);const i=j.useRef(new fT("id"));j.useEffect(()=>{r&&(i.current.addIndex("name"),i.current.addIndex("description"),i.current.addDocuments(r))},[t]);let a=e.searchQuery?i.current.search(e.searchQuery):r;return a=a.sort((o,s)=>{if(o.level!==void 0&&s.level!==void 0){if(o.level!==s.level)return s.level-o.level}else if(o.rank!==void 0&&s.rank!==void 0&&o.rank!==s.rank)return s.rank-o.rank;return o.name.localeCompare(s.name)}),p.jsx(Nse,{options:a,type:e.type,skillAdjustment:e.skillAdjustment,abilityBlockType:e.abilityBlockType,isLoading:n||!r,onClick:e.onClick,selectedId:e.selectedId})}function Nse(e){const[n,r]=j.useState(1);j.useEffect(()=>{r(1),a()},[e.options.length]);const i=j.useRef(null),a=()=>{var s;return(s=i.current)==null?void 0:s.scrollTo({top:0})},o=hu(e.abilityBlockType||e.type);return!e.isLoading&&e.options.length===0?p.jsx(Z,{pt:"lg",children:p.jsxs(pe,{fz:"md",c:"dimmed",ta:"center",fs:"italic",children:["No ",Ip(o.toLowerCase())," found!"]})}):p.jsxs(p.Fragment,{children:[p.jsx(Jn,{viewportRef:i,h:e.h??372,style:{position:"relative"},children:e.isLoading?p.jsx(ai,{type:"bars",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}}):p.jsx(_Qe,{options:e.options.slice((n-1)*20,n*20),type:e.type,skillAdjustment:e.skillAdjustment,abilityBlockType:e.abilityBlockType,onClick:e.onClick,selectedId:e.selectedId,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy})}),p.jsx(ta,{children:p.jsx(fu,{size:"sm",total:Math.ceil(e.options.length/20),value:n,onChange:s=>{r(s),a()}})})]})}function _Qe(e){if(e.type==="ability-block"){if(e.abilityBlockType==="feat")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(EI,{feat:n,onClick:e.onClick,selected:e.selectedId===n.id,displayLevel:!0,includeDetails:!0,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"feat-"+r))});if(e.abilityBlockType==="action")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(MQe,{action:n,onClick:e.onClick,selected:e.selectedId===n.id,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"action-"+r))});if(e.abilityBlockType==="class-feature")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(TQe,{classFeature:n,onClick:e.onClick,selected:e.selectedId===n.id,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"class-feature-"+r))});if(e.abilityBlockType==="sense")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(DQe,{sense:n,onClick:e.onClick,selected:e.selectedId===n.id,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"sense-"+r))});if(e.abilityBlockType==="physical-feature")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(NQe,{physicalFeature:n,onClick:e.onClick,selected:e.selectedId===n.id,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"physical-feature-"+r))});if(e.abilityBlockType==="heritage")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(Dse,{heritage:n,onClick:e.onClick,selected:e.selectedId===n.id,includeDetails:!0,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"heritage-"+r))})}if(e.type==="class")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(RQe,{class_:n,onClick:e.onClick,selected:e.selectedId===n.id,hasSelected:e.selectedId!==void 0,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"class-"+r))});if(e.type==="background")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(OQe,{background:n,onClick:e.onClick,selected:e.selectedId===n.id,hasSelected:e.selectedId!==void 0,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"background-"+r))});if(e.type==="ancestry")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(IQe,{ancestry:n,onClick:e.onClick,selected:e.selectedId===n.id,hasSelected:e.selectedId!==void 0,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"ancestry-"+r))});if(e.type==="item")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(PQe,{item:n,onClick:e.onClick,selected:e.selectedId===n.id,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"item-"+r))});if(e.type==="spell")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(jQe,{spell:n,onClick:e.onClick,selected:e.selectedId===n.id,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"spell-"+r))});if(e.type==="trait")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(LQe,{trait:n,onClick:e.onClick,selected:e.selectedId===n.id,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"trait-"+r))});if(e.type==="language")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(FQe,{language:n,onClick:e.onClick,selected:e.selectedId===n.id,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"language-"+r))});if(e.type==="creature")return p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx(BQe,{creature:n,onClick:e.onClick,selected:e.selectedId===n.id,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"creature-"+r))});const t=e.skillAdjustment&&e.options.find(n=>n.variable==="SKILL_LORE____");if(t){const n=r=>{Zp({modal:"addNewLore",title:p.jsx(zt,{order:3,children:"Add New Lore"}),innerProps:{onConfirm:i=>{e.onClick({...r,_select_uuid:`SKILL_LORE_${i}`})}}})};return e.options.filter(r=>r.variable.startsWith("SKILL_LORE_")).length===e.options.length?(vh.closeAll(),n(t),null):p.jsxs(p.Fragment,{children:[e.options.filter(r=>r.variable!=="SKILL_LORE____").map((r,i)=>p.jsx($6,{option:r,onClick:e.onClick,selected:e.selectedId===r.id,skillAdjustment:e.skillAdjustment,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"generic-"+i)),p.jsx($6,{option:{...t,name:"Add New Lore"},onClick:r=>{n(r)},selected:!1,skillAdjustment:e.skillAdjustment,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy})]})}return console.log(e.options,`${e.type} (${e.abilityBlockType}) TODO`),p.jsx(p.Fragment,{children:e.options.map((n,r)=>p.jsx($6,{option:n,onClick:e.onClick,selected:e.selectedId===n.id,skillAdjustment:e.skillAdjustment,includeOptions:e.includeOptions,onDelete:e.onDelete,onCopy:e.onCopy},"generic-"+r))})}function $6(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an),o=Tt(e.option.variable);let s=o==null?void 0:o.value.value,l=e.skillAdjustment==="1"?ZT(s??"U"):e.skillAdjustment==="-1"?eN(s??"U"):e.skillAdjustment;e.selected&&s&&(l=s,s=e.skillAdjustment==="1"?eN(s):e.skillAdjustment==="-1"?ZT(s):e.skillAdjustment);let u=!1;e.skillAdjustment==="1"&&(l&&l==="M"&&(e.option._source_level??1)<7||l&&l==="L"&&(e.option._source_level??1)<15)&&(u=!0);const c=!e.selected&&s&&(s===e.skillAdjustment||VE(e.skillAdjustment)&&r1(s??"U",e.skillAdjustment)===s),d=c||u;return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:d?"not-allowed":"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:d?t.colors.dark[8]:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>{d||e.onClick(e.option)},justify:"space-between",children:[p.jsxs(Ae,{wrap:"nowrap",gap:5,children:[p.jsxs(Ae,{pl:8,wrap:"nowrap",gap:5,children:[p.jsx(pe,{fz:"sm",children:e.option.name})," "]}),e.option._is_core&&p.jsx(gf,{variant:"light",size:"xs",radius:"xl",children:p.jsx(XRe,{style:{width:"70%",height:"70%"}})})]}),p.jsxs(Ae,{wrap:"nowrap",gap:5,children:[e.skillAdjustment&&o&&p.jsx(ft,{variant:"dot",size:"xs",styles:{root:{"--badge-dot-size":0,textTransform:"initial"}},c:"gray.6",children:p.jsx(Ae,{gap:2,wrap:"nowrap",children:c?p.jsx(p.Fragment,{children:ll(s??"U")}):p.jsxs(p.Fragment,{children:[ll(s??"U"),p.jsx(pRe,{size:"0.8rem"}),ll(l??"U")]})})}),e.option._content_type==="language"&&p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:e.includeOptions?40:10},onClick:f=>{f.stopPropagation(),a({type:"language",data:{id:e.option.id}})},children:"Details"}),e.option._custom_select&&p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:e.includeOptions?40:10},onClick:f=>{f.stopPropagation(),a({type:"generic",data:e.option._custom_select})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:f=>{f.stopPropagation(),f.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)},onClick:f=>{var h;f.stopPropagation(),(h=e.onCopy)==null||h.call(e,e.option.id)}}),children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)},onClick:f=>{var h;f.stopPropagation(),(h=e.onDelete)==null||h.call(e,e.option.id)}}),children:"Delete"})]})]})]})]})}function EI(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an),o=Tse(e.feat.prerequisites);return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>e.onClick(e.feat),justify:"space-between",children:[e.displayLevel&&p.jsxs(pe,{fz:10,c:"dimmed",ta:"right",w:14,style:{position:"absolute",top:15,left:1},children:[e.feat.level,"."]}),p.jsxs(Ae,{wrap:"nowrap",gap:5,children:[p.jsx(Z,{pl:8,children:p.jsx(pe,{fz:"sm",children:e.feat.name})}),p.jsx(Z,{children:p.jsx(ei,{cost:e.feat.actions})}),o.result&&p.jsxs(p.Fragment,{children:[o.result==="FULLY"&&p.jsx(gf,{variant:"light",size:"xs",radius:"xl",children:p.jsx(kre,{style:{width:"70%",height:"70%"}})}),o.result==="PARTIALLY"&&p.jsx(gf,{variant:"light",size:"xs",radius:"xl",children:p.jsx(oPe,{style:{width:"70%",height:"70%"}})}),o.result==="UNKNOWN"&&p.jsx(gf,{variant:"light",size:"xs",radius:"xl",color:"yellow",children:p.jsx(yOe,{style:{width:"70%",height:"70%"}})}),o.result==="NOT"&&p.jsx(gf,{variant:"light",size:"xs",radius:"xl",color:"red",children:p.jsx(I1,{style:{width:"70%",height:"70%"}})})]})]}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:e.feat.traits??[],rarity:e.feat.rarity})}),(e.includeDetails||e.includeOptions)&&p.jsx(Z,{w:e.includeOptions?80:50})]}),e.includeDetails&&p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:e.includeOptions?40:10},onClick:s=>{s.stopPropagation(),a({type:"feat",data:{id:e.feat.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:s=>{s.stopPropagation(),s.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:s=>{var l;s.stopPropagation(),(l=e.onCopy)==null||l.call(e,e.feat.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:s=>{var l;s.stopPropagation(),(l=e.onDelete)==null||l.call(e,e.feat.id)},children:"Delete"})]})]})]})}function MQe(e){var o;const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an);return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>e.onClick(e.action),justify:"space-between",children:[p.jsxs(Ae,{wrap:"nowrap",gap:5,children:[p.jsx(Z,{pl:8,children:p.jsx(pe,{fz:"sm",children:e.action.name})}),p.jsx(Z,{children:p.jsx(ei,{cost:e.action.actions})})]}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:e.action.traits??[],rarity:e.action.rarity,skill:(o=e.action.meta_data)==null?void 0:o.skill})}),p.jsx(Z,{w:e.includeOptions?80:50})]}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:e.includeOptions?40:10},onClick:s=>{s.stopPropagation(),a({type:"action",data:{id:e.action.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:s=>{s.stopPropagation(),s.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:s=>{var l;s.stopPropagation(),(l=e.onCopy)==null||l.call(e,e.action.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:s=>{var l;s.stopPropagation(),(l=e.onDelete)==null||l.call(e,e.action.id)},children:"Delete"})]})]})]})}function TQe(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an);return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>e.onClick(e.classFeature),justify:"space-between",children:[p.jsxs(pe,{fz:10,c:"dimmed",ta:"right",w:14,style:{position:"absolute",top:15,left:1},children:[e.classFeature.level,"."]}),p.jsxs(Ae,{wrap:"nowrap",gap:5,children:[p.jsx(Z,{pl:8,children:p.jsx(pe,{fz:"sm",children:e.classFeature.name})}),p.jsx(Z,{children:p.jsx(ei,{cost:e.classFeature.actions})})]}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:e.classFeature.traits??[],rarity:e.classFeature.rarity})}),p.jsx(Z,{w:e.includeOptions?80:50})]}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:e.includeOptions?40:10},onClick:o=>{o.stopPropagation(),a({type:"class-feature",data:{id:e.classFeature.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:o=>{o.stopPropagation(),o.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onCopy)==null||s.call(e,e.classFeature.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onDelete)==null||s.call(e,e.classFeature.id)},children:"Delete"})]})]})]})}function Dse(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an);return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>e.onClick(e.heritage),justify:"space-between",children:[p.jsxs(Ae,{wrap:"nowrap",gap:5,children:[p.jsx(Z,{pl:8,children:p.jsx(pe,{fz:"sm",children:e.heritage.name})}),p.jsx(Z,{children:p.jsx(ei,{cost:e.heritage.actions})})]}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:e.heritage.traits??[],rarity:e.heritage.rarity})}),(e.includeDetails||e.includeOptions)&&p.jsx(Z,{w:e.includeOptions?80:50})]}),e.includeDetails&&p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:e.includeOptions?40:10},onClick:o=>{o.stopPropagation(),a({type:"heritage",data:{id:e.heritage.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:o=>{o.stopPropagation(),o.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onCopy)==null||s.call(e,e.heritage.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onDelete)==null||s.call(e,e.heritage.id)},children:"Delete"})]})]})]})}function NQe(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an);return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>e.onClick(e.physicalFeature),justify:"space-between",children:[p.jsxs(Ae,{wrap:"nowrap",gap:5,children:[p.jsx(Z,{pl:8,children:p.jsx(pe,{fz:"sm",children:e.physicalFeature.name})}),p.jsx(Z,{children:p.jsx(ei,{cost:e.physicalFeature.actions})})]}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:e.physicalFeature.traits??[],rarity:e.physicalFeature.rarity})}),p.jsx(Z,{w:e.includeOptions?80:50})]}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:e.includeOptions?40:10},onClick:o=>{o.stopPropagation(),a({type:"class-feature",data:{id:e.physicalFeature.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:o=>{o.stopPropagation(),o.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onCopy)==null||s.call(e,e.physicalFeature.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onDelete)==null||s.call(e,e.physicalFeature.id)},children:"Delete"})]})]})]})}function DQe(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an);return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>e.onClick(e.sense),justify:"space-between",children:[p.jsxs(Ae,{wrap:"nowrap",gap:5,children:[p.jsx(Z,{pl:8,children:p.jsx(pe,{fz:"sm",children:e.sense.name})}),p.jsx(Z,{children:p.jsx(ei,{cost:e.sense.actions})})]}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:e.sense.traits??[],rarity:e.sense.rarity})}),p.jsx(Z,{w:e.includeOptions?80:50})]}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:e.includeOptions?40:10},onClick:o=>{o.stopPropagation(),a({type:"class-feature",data:{id:e.sense.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:o=>{o.stopPropagation(),o.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onCopy)==null||s.call(e,e.sense.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onDelete)==null||s.call(e,e.sense.id)},children:"Delete"})]})]})]})}function RQe(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an),o=da("MAX_HEALTH_CLASS_PER_LEVEL",e.class_.operations??[],"READ"),s=qu(cu().map(c=>c.name),e.class_.operations??[],"READ"),l=s.length>0?s[0]:{ui:null,operation:null},u=()=>vh.openConfirmModal({id:"change-option",title:p.jsx(zt,{order:4,children:"Change Class"}),children:p.jsx(pe,{size:"sm",children:"Are you sure you want to change your class? Any previous class selections will be erased."}),labels:{confirm:"Confirm",cancel:"Cancel"},onCancel:()=>{},onConfirm:()=>e.onClick(e.class_)});return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>{e.hasSelected&&!e.selected?u():e.onClick(e.class_)},justify:"space-between",children:[p.jsxs(Ae,{wrap:"nowrap",children:[p.jsx(Cl,{src:e.class_.artwork_url,radius:"sm",styles:{image:{objectFit:"contain"}}}),p.jsxs("div",{style:{flex:1},children:[p.jsx(pe,{size:"sm",fw:500,children:e.class_.name}),p.jsxs(Ae,{gap:5,children:[p.jsxs(ft,{variant:"dot",size:"xs",styles:{root:{"--badge-dot-size":0}},c:"gray.6",children:[o.ui??"-"," HP"]}),p.jsx(ft,{variant:"dot",size:"xs",styles:{root:{"--badge-dot-size":0}},c:"gray.6",children:l.ui??"Varies"})]})]})]}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:[],rarity:e.class_.rarity})}),p.jsx(Z,{w:e.includeOptions?80:50})]}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:20,right:e.includeOptions?40:10},onClick:c=>{c.stopPropagation(),a({type:"class",data:{id:e.class_.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:c=>{c.stopPropagation(),c.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:c=>{var d;c.stopPropagation(),(d=e.onCopy)==null||d.call(e,e.class_.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:c=>{var d;c.stopPropagation(),(d=e.onDelete)==null||d.call(e,e.class_.id)},children:"Delete"})]})]})]})}function IQe(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an),o=da("MAX_HEALTH_ANCESTRY",e.ancestry.operations??[],"READ"),s=qu(cu().map(c=>c.name),e.ancestry.operations??[],"READ"),l=qu(cu().map(c=>c.name),e.ancestry.operations??[],"READ",void 0,{onlyNegatives:!0}),u=()=>vh.openConfirmModal({id:"change-option",title:p.jsx(zt,{order:4,children:"Change Ancestry"}),children:p.jsx(pe,{size:"sm",children:"Are you sure you want to change your ancestry? Any previous ancestry selections will be erased."}),labels:{confirm:"Confirm",cancel:"Cancel"},onCancel:()=>{},onConfirm:()=>e.onClick(e.ancestry)});return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>{e.hasSelected&&!e.selected?u():e.onClick(e.ancestry)},justify:"space-between",children:[p.jsxs(Ae,{wrap:"nowrap",children:[p.jsx(Cl,{src:e.ancestry.artwork_url,radius:"sm",styles:{image:{objectFit:"contain"}}}),p.jsxs("div",{style:{flex:1},children:[p.jsx(pe,{size:"sm",fw:500,children:e.ancestry.name}),p.jsxs(Ae,{gap:5,children:[p.jsxs(ft,{variant:"dot",size:"xs",styles:{root:{"--badge-dot-size":0}},c:"gray.6",children:[o.ui," HP"]}),p.jsxs(ft,{variant:"dot",size:"xs",styles:{root:{"--badge-dot-size":0}},c:"gray.6",children:["+",s.flatMap((c,d)=>d<s.length-1?[c.ui,", "]:[c.ui])]}),l.length>0&&p.jsxs(ft,{variant:"dot",size:"xs",styles:{root:{"--badge-dot-size":0}},c:"gray.6",children:["-",l.flatMap((c,d)=>d<l.length-1?[c.ui,", "]:[c.ui])]})]})]})]}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:[],rarity:e.ancestry.rarity})}),p.jsx(Z,{w:e.includeOptions?80:50})]}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:20,right:e.includeOptions?40:10},onClick:c=>{c.stopPropagation(),a({type:"ancestry",data:{id:e.ancestry.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:c=>{c.stopPropagation(),c.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:c=>{var d;c.stopPropagation(),(d=e.onCopy)==null||d.call(e,e.ancestry.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:c=>{var d;c.stopPropagation(),(d=e.onDelete)==null||d.call(e,e.ancestry.id)},children:"Delete"})]})]})]})}function OQe(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an),o=()=>vh.openConfirmModal({id:"change-option",title:p.jsx(zt,{order:4,children:"Change Background"}),children:p.jsx(pe,{size:"sm",children:"Are you sure you want to change your background? Any previous background selections will be erased."}),labels:{confirm:"Confirm",cancel:"Cancel"},onCancel:()=>{},onConfirm:()=>e.onClick(e.background)}),s=qu(cu().map(l=>l.name),e.background.operations??[],"READ");return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>{e.hasSelected&&!e.selected?o():e.onClick(e.background)},justify:"space-between",children:[p.jsx(Ae,{wrap:"nowrap",children:p.jsxs("div",{style:{flex:1},children:[p.jsx(pe,{size:"sm",fw:500,children:e.background.name}),p.jsx(Ae,{gap:5,children:s.map((l,u)=>p.jsx(ft,{variant:"dot",size:"xs",styles:{root:{"--badge-dot-size":0}},c:"gray.6",children:l.ui},u))})]})}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:[],rarity:e.background.rarity})}),p.jsx(Z,{w:e.includeOptions?80:50})]}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:20,right:e.includeOptions?40:10},onClick:l=>{l.stopPropagation(),a({type:"background",data:{id:e.background.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:l=>{l.stopPropagation(),l.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:l=>{var u;l.stopPropagation(),(u=e.onCopy)==null||u.call(e,e.background.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:l=>{var u;l.stopPropagation(),(u=e.onDelete)==null||u.call(e,e.background.id)},children:"Delete"})]})]})]})}function PQe(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an);return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>e.onClick(e.item),justify:"space-between",children:[p.jsxs(pe,{fz:10,c:"dimmed",ta:"right",w:14,style:{position:"absolute",top:15,left:1},children:[e.item.level,"."]}),p.jsx(Ae,{wrap:"nowrap",gap:5,children:p.jsx(Z,{pl:8,children:p.jsx(pe,{fz:"sm",children:e.item.name})})}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:e.item.traits??[],rarity:e.item.rarity})}),p.jsx(Z,{w:e.includeOptions?80:50})]}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:e.includeOptions?40:10},onClick:o=>{o.stopPropagation(),a({type:"item",data:{id:e.item.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:o=>{o.stopPropagation(),o.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onCopy)==null||s.call(e,e.item.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onDelete)==null||s.call(e,e.item.id)},children:"Delete"})]})]})]})}function jQe(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an);return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>e.onClick(e.spell),justify:"space-between",children:[p.jsxs(pe,{fz:10,c:"dimmed",ta:"right",w:14,style:{position:"absolute",top:15,left:1},children:[e.spell.rank,"."]}),p.jsxs(Ae,{wrap:"nowrap",gap:5,children:[p.jsx(Z,{pl:8,children:p.jsx(pe,{fz:"sm",children:e.spell.name})}),AR(e.spell.cast)&&p.jsx(Z,{children:p.jsx(ei,{cost:e.spell.cast})})]}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:e.spell.traits??[],rarity:e.spell.rarity})}),p.jsx(Z,{w:e.includeOptions?80:50})]}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:e.includeOptions?40:10},onClick:o=>{o.stopPropagation(),a({type:"spell",data:{id:e.spell.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:o=>{o.stopPropagation(),o.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onCopy)==null||s.call(e,e.spell.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onDelete)==null||s.call(e,e.spell.id)},children:"Delete"})]})]})]})}function LQe(e){var o;const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an);return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>e.onClick(e.trait),justify:"space-between",children:[p.jsx(Ae,{wrap:"nowrap",gap:5,children:p.jsx(u7,{disabled:!((o=e.trait.meta_data)!=null&&o.important),inline:!0,size:12,offset:-10,position:"middle-end",color:t.primaryColor,withBorder:!0,children:p.jsx(Z,{pl:8,children:p.jsx(pe,{fz:"sm",children:e.trait.name})})})}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:e.includeOptions?40:10},onClick:s=>{s.stopPropagation(),a({type:"trait",data:{id:e.trait.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:s=>{s.stopPropagation(),s.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:s=>{var l;s.stopPropagation(),(l=e.onCopy)==null||l.call(e,e.trait.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:s=>{var l;s.stopPropagation(),(l=e.onDelete)==null||l.call(e,e.trait.id)},children:"Delete"})]})]})]})}function FQe(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an);return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>e.onClick(e.language),justify:"space-between",children:[p.jsx(Ae,{wrap:"nowrap",gap:5,children:p.jsx(Z,{pl:8,children:p.jsx(pe,{fz:"sm",children:e.language.name})})}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:[],rarity:e.language.rarity})}),p.jsx(Z,{w:e.includeOptions?80:50})]}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:e.includeOptions?40:10},onClick:o=>{o.stopPropagation(),a({type:"language",data:{id:e.language.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:o=>{o.stopPropagation(),o.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onCopy)==null||s.call(e,e.language.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:o=>{var s;o.stopPropagation(),(s=e.onDelete)==null||s.call(e,e.language.id)},children:"Delete"})]})]})]})}function BQe(e){var o,s,l;const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an);return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n||e.selected?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>{e.onClick(e.creature)},justify:"space-between",children:[p.jsxs(pe,{fz:10,c:"dimmed",ta:"right",w:14,style:{position:"absolute",top:15,left:1},children:[e.creature.level,"."]}),p.jsxs(Ae,{ml:8,wrap:"nowrap",children:[p.jsx(Cl,{src:(o=e.creature.meta_data)==null?void 0:o.image_url,radius:"sm",styles:{image:{objectFit:"contain"}}}),p.jsxs("div",{style:{flex:1},children:[p.jsx(pe,{size:"sm",fw:500,children:e.creature.name}),p.jsxs(Ae,{gap:5,children:[e.creature.family_type&&p.jsx(ft,{variant:"dot",size:"xs",styles:{root:{"--badge-dot-size":0,textTransform:"initial"}},c:"gray.6",children:e.creature.family_type}),p.jsxs(ft,{variant:"dot",size:"xs",styles:{root:{"--badge-dot-size":0}},c:"gray.6",children:["AC ",(s=e.creature.stats)==null?void 0:s.ac]}),p.jsxs(ft,{variant:"dot",size:"xs",styles:{root:{"--badge-dot-size":0}},c:"gray.6",children:[(l=e.creature.stats)==null?void 0:l.hp.max," HP"]})]})]})]}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:e.creature.traits??[],rarity:e.creature.rarity})}),p.jsx(Z,{w:e.includeOptions?80:50})]}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:20,right:e.includeOptions?40:10},onClick:u=>{u.stopPropagation(),a({type:"creature",data:{id:e.creature.id}})},children:"Details"}),e.includeOptions&&p.jsxs(je,{shadow:"md",width:200,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"sm",variant:"subtle",radius:"xl",style:{position:"absolute",top:13,right:15},"aria-label":"Options",onClick:u=>{u.stopPropagation(),u.preventDefault()},children:p.jsx(ia,{size:"1rem"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Options"}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:u=>{var c;u.stopPropagation(),(c=e.onCopy)==null||c.call(e,e.creature.id)},children:"Duplicate"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:u=>{var c;u.stopPropagation(),(c=e.onDelete)==null||c.call(e,e.creature.id)},children:"Delete"})]})]})]})}function zQe({context:e,id:t,innerProps:n}){var s,l;const[r,i]=j.useState(!0),[a,o]=j.useState((l=(s=n.character)==null?void 0:s.details)==null?void 0:l.image_url);return p.jsxs(it,{style:{position:"relative"},children:[p.jsx(pe,{children:"Paste in a URL for the character's portrait artwork."}),p.jsx(sn,{defaultValue:a,placeholder:"Portrait Image URL",onChange:async u=>{var c,d;i((c=u.target)!=null&&c.value?await O1((d=u.target)==null?void 0:d.value):!0),o(u.target.value)},error:r?!1:"Invalid URL"}),p.jsxs(Ae,{justify:"flex-end",children:[p.jsx(mt,{variant:"default",onClick:()=>e.closeModal(t),children:"Cancel"}),p.jsx(mt,{disabled:!r,onClick:()=>{n.updatePortrait(a??""),e.closeModal(t)},children:"Update"})]})]})}const U5={ai_generated:[{name:"Coastal Port",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/backgrounds/default/1.png"},{name:"Village Road",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/backgrounds/default/2.png"},{name:"Path to the Chapel",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/backgrounds/default/3.png"}],oliver_ryan:[{name:"Forest Shrine",url:"https://i.imgur.com/XunQq5e.png",source:"Oliver Ryan",source_url:"https://www.artstation.com/oliverryan"},{name:"Forest Shrine II",url:"https://i.imgur.com/ApNTXu8.jpg",source:"Oliver Ryan",source_url:"https://www.artstation.com/oliverryan"},{name:"Cabin",url:"https://i.imgur.com/PsGa4xa.jpg",source:"Oliver Ryan",source_url:"https://www.artstation.com/oliverryan"},{name:"Some Huts",url:"https://i.imgur.com/g3gMyAT.png",source:"Oliver Ryan",source_url:"https://www.artstation.com/oliverryan"},{name:"Old Kings",url:"https://cdnb.artstation.com/p/assets/images/images/013/520/067/large/oliver-ryan-oldkingsresized.jpg",source:"Oliver Ryan",source_url:"https://www.artstation.com/oliverryan"},{name:"Volcano",url:"https://cdna.artstation.com/p/assets/images/images/017/408/856/large/oliver-ryan-volcanofinalnocharsreszied.jpg",source:"Oliver Ryan",source_url:"https://www.artstation.com/oliverryan"},{name:"March of the Fools",url:"https://cdna.artstation.com/p/assets/images/images/017/351/220/large/oliver-ryan-marchofthefools-resized.jpg",source:"Oliver Ryan",source_url:"https://www.artstation.com/oliverryan"}],andreas_rocha:[{name:"Magic Kingdom",url:"https://cdna.artstation.com/p/assets/images/images/022/314/706/large/andreas-rocha-magickingdom01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Out of the Woods",url:"https://cdnb.artstation.com/p/assets/images/images/025/823/127/large/andreas-rocha-outofthewoods01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Hidden Waterfall",url:"https://cdna.artstation.com/p/assets/images/images/022/336/244/large/andreas-rocha-hiddenwatefall02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Abandoned",url:"https://cdna.artstation.com/p/assets/images/images/017/984/106/large/andreas-rocha-abandoned01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Wizard's Tower",url:"https://cdna.artstation.com/p/assets/images/images/023/453/030/large/andreas-rocha-wizardstower01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Wizard's Tower II",url:"https://cdna.artstation.com/p/assets/images/images/017/216/894/large/andreas-rocha-wizardstoweriii01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"At the Gate",url:"https://cdnb.artstation.com/p/assets/images/images/015/607/475/large/andreas-rocha-atthegate02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Towering Shadows",url:"https://cdnb.artstation.com/p/assets/images/images/016/145/351/large/andreas-rocha-toweringshadows01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Good Friends",url:"https://cdnb.artstation.com/p/assets/images/images/014/064/941/large/andreas-rocha-goodfriendsii02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Headquarters",url:"https://cdna.artstation.com/p/assets/images/images/055/288/896/large/andreas-rocha-headquarters01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Scholar's Hall",url:"https://cdnb.artstation.com/p/assets/images/images/040/968/155/large/andreas-rocha-scholarshall02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Reader's Hall",url:"https://cdna.artstation.com/p/assets/images/images/040/973/592/large/andreas-rocha-readershall01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Accountant's Hall",url:"https://cdnb.artstation.com/p/assets/images/images/040/981/379/large/andreas-rocha-accountantshall01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Dark Rituals",url:"https://cdna.artstation.com/p/assets/images/images/046/063/744/large/andreas-rocha-darkrituals02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Unexplored",url:"https://cdna.artstation.com/p/assets/images/images/055/361/724/large/andreas-rocha-unexplored02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Steel Mammoths",url:"https://cdna.artstation.com/p/assets/images/images/054/947/962/large/andreas-rocha-steelmammoths02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"The Clearing",url:"https://cdnb.artstation.com/p/assets/images/images/059/191/521/large/andreas-rocha-theclearing02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Pastel Twilight",url:"https://cdnb.artstation.com/p/assets/images/images/060/511/123/large/andreas-rocha-pasteltwilight-02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Alien Artifact",url:"https://cdnb.artstation.com/p/assets/images/images/034/382/643/large/andreas-rocha-alienartefact02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Coastal Settlement",url:"https://cdna.artstation.com/p/assets/images/images/037/311/762/large/andreas-rocha-coastalsettlement01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Grim Hollow",url:"https://cdnb.artstation.com/p/assets/images/images/019/809/689/large/andreas-rocha-grimhollow-artstation.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Egg Hunt",url:"https://cdna.artstation.com/p/assets/images/images/014/171/300/large/andreas-rocha-egghunt02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Back at the Office",url:"https://cdnb.artstation.com/p/assets/images/images/012/992/867/large/andreas-rocha-backattheoffice02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Deep Market",url:"https://cdnb.artstation.com/p/assets/images/images/014/640/217/large/andreas-rocha-deepmarket01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"The Tower",url:"https://cdnb.artstation.com/p/assets/images/images/010/064/003/large/andreas-rocha-tower01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Electric Hues",url:"https://cdna.artstation.com/p/assets/images/images/010/063/790/large/andreas-rocha-electrichues02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Light Forest",url:"https://cdnb.artstation.com/p/assets/images/images/007/134/335/large/andreas-rocha-lightforest02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Magic Hour",url:"https://cdnb.artstation.com/p/assets/images/images/004/997/079/large/andreas-rocha-magichour01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"The Hidden Village",url:"https://cdna.artstation.com/p/assets/images/images/002/400/452/large/andreas-rocha-hiddenvillage01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Fields of Gold",url:"https://cdnb.artstation.com/p/assets/images/images/002/368/361/large/andreas-rocha-fieldsofgold01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"The Gathering",url:"https://cdna.artstation.com/p/assets/images/images/002/912/664/large/andreas-rocha-thegathering.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Home Sweet Home",url:"https://cdna.artstation.com/p/assets/images/images/001/197/566/large/andreas-rocha-homesweethome03.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Path of Wisdom",url:"https://cdna.artstation.com/p/assets/images/images/000/226/358/large/andreas-rocha-thepathofwisdom2.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Endless Streets",url:"https://cdnb.artstation.com/p/assets/images/images/000/085/509/large/EndlessStreets.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Ar-Nat Village",url:"https://cdnb.artstation.com/p/assets/images/images/000/219/839/large/andreas-rocha-ar-nat-village-02.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Dangerous Roads",url:"https://cdnb.artstation.com/p/assets/images/images/000/320/963/large/andreas-rocha-dangerousroads.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Abandoned",url:"https://cdna.artstation.com/p/assets/images/images/003/934/626/large/andreas-rocha-abandoned01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Winter Travellers",url:"https://cdna.artstation.com/p/assets/images/images/007/182/124/large/andreas-rocha-wintertravellersii05.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Crimson Tribe",url:"https://cdna.artstation.com/p/assets/images/images/008/687/586/large/andreas-rocha-crimsontribe.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"Safe Haven",url:"https://cdnb.artstation.com/p/assets/images/images/009/071/789/large/andreas-rocha-safehaven03.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"First Rays",url:"https://cdnb.artstation.com/p/assets/images/images/009/164/717/large/andreas-rocha-firstrays03.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"},{name:"The Web Kingdom",url:"https://cdna.artstation.com/p/assets/images/images/039/941/532/large/andreas-rocha-webkingdom01.jpg",source:"Andreas Rocha",source_url:"https://www.artstation.com/andreasrocha"}],jorge_jacinto:[{name:"The Maze",url:"https://cdna.artstation.com/p/assets/images/images/031/699/448/large/jorge-jacinto-the-maze.jpg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"},{name:"The Ocean is on Fire",url:"https://cdna.artstation.com/p/assets/images/images/030/992/364/large/jorge-jacinto-the-ocean-is-on-fire-red.jpg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"},{name:"Synthwave Forest",url:"https://cdnb.artstation.com/p/assets/images/images/034/429/941/large/jorge-jacinto-synthwave-forest-1080.jpg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"},{name:"Wisp",url:"https://cdna.artstation.com/p/assets/images/images/025/102/490/large/jorge-jacinto-wisp-red.jpg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"},{name:"Dark Mist",url:"https://cdna.artstation.com/p/assets/images/images/000/122/570/large/jorge-jacinto-darkmist-jorgejacinto.jpg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"},{name:"Pyramids",url:"https://cdna.artstation.com/p/assets/images/images/000/122/572/large/jorge-jacinto-ice-pyramids-by-jorge-jacinto.jpg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"},{name:"Close Encounters",url:"https://cdna.artstation.com/p/assets/images/images/000/122/574/large/jorge-jacinto-medieval-aliens-by-jorgejacinto.jpg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"},{name:"Neo Hong Kong Street",url:"https://cdna.artstation.com/p/assets/images/images/000/322/360/large/jorge-jacinto-neohongkong-street.jpg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"},{name:"Neo Hong Kong View",url:"https://cdnb.artstation.com/p/assets/images/images/000/424/351/large/jorge-jacinto-neohongkong-sunset.jpg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"},{name:"Winter",url:"https://cdnb.artstation.com/p/assets/images/images/001/247/531/large/jorge-jacinto-winter-is-coming-remaster-byjorgejacinto.jpg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"},{name:"Stranger in a Strange Land",url:"https://cdnb.artstation.com/p/assets/images/images/002/354/437/large/jorge-jacinto-stranger-in-a-strange-land-revisited.jpg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"},{name:"Future Noir",url:"https://images.squarespace-cdn.com/content/v1/52c69a98e4b0fbf19ff9af07/1582822474792-TDNQ57D6N10U5Q4LQUDK/image-asset.jpeg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"},{name:"Hellkite Dragon",url:"https://cdna.artstation.com/p/assets/images/images/026/845/014/large/jorge-jacinto-hellfire-drake.jpg",source:"Jorge Jacinto",source_url:"https://www.jorgejacinto.com/"}],unknown:[{name:"Stand Off",url:"https://www.pixelstalk.net/wp-content/uploads/2016/11/Pictures-Fantasy-Art.png",source:"Unknown"},{name:"Brilliant Dragon",url:"https://www.pixelstalk.net/wp-content/uploads/2016/11/Fantasy-landscapes-art.jpg",source:"Unknown"}],animated_svgs:[{name:"Twilight",url:"/src/assets/images/backgrounds/svgs/twilight.svg"},{name:"Clouds",url:"/src/assets/images/backgrounds/svgs/clouds.svg"},{name:"Tide",url:"/src/assets/images/backgrounds/svgs/tide.svg"},{name:"Ocean",url:"/src/assets/images/backgrounds/svgs/ocean.svg"},{name:"Wave",url:"/src/assets/images/backgrounds/svgs/wave.svg"},{name:"Ripple",url:"/src/assets/images/backgrounds/svgs/ripple.svg"}],patterns:[{name:"Dark Fabric",url:"https://i.imgur.com/9RYFhrJ.png"}]};function Rse(){const e=[];for(const t of Object.keys(U5))e.push(...U5[t]);return e}async function bV(e){const t=Rse().find(n=>n.url===e)??{name:"Custom",url:e??""};return await $Qe(t)}async function $Qe(e){return!e||!e.url?VQe():await HQe(e.url)?Ze.cloneDeep(e):UQe()}function UQe(){return Ze.cloneDeep(U5.animated_svgs[0])}function VQe(){return Ze.cloneDeep(U5.ai_generated[0])}async function HQe(e){return new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e,setTimeout(()=>{n.src="",t(!1)},2500)})}const qQe="_card_1io5k_1",WQe="_title_1io5k_5",GQe="_item_1io5k_10",nb={card:qQe,title:WQe,item:GQe};async function KQe(e,t){const n=await dr("upload-public-file",{data:(await YQe(e)).split(";base64,")[1],category:t,type:e.type.split("/")[1]});return(n==null?void 0:n.url)??""}const YQe=e=>new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=n});function JQe({context:e,id:t,innerProps:n}){const[r,i]=j.useState(!1),a=n.options.map((o,s)=>{var l;return p.jsxs(at,{shadow:"md",openDelay:1e3,position:"bottom",disabled:!o.name,withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(Hn,{className:nb.item,onClick:()=>{n.onSelect(o),e.closeModal(t)},children:p.jsx(Cl,{src:o.url,size:115,radius:"md"})})}),p.jsxs(at.Dropdown,{py:5,px:10,children:[p.jsx(pe,{size:"sm",children:o.name}),((l=o.source)==null?void 0:l.trim())&&p.jsxs(pe,{size:"xs",c:"dimmed",children:[p.jsx(lR,{size:"0.5rem"})," ",o.source]})]})]},s)});return p.jsxs(w2,{withBorder:!0,radius:"md",className:nb.card,pl:15,py:15,pr:5,children:[p.jsx(El,{visible:r}),p.jsx(Jn,{h:315,children:p.jsxs(fm,{cols:3,pl:5,py:5,pr:15,children:[p.jsx(US,{onChange:async o=>{let s="";o&&(i(!0),s=await KQe(o,n.category));const l={name:"Uploaded Image",url:s,source:"upload"};n.onSelect(l),e.closeModal(t),i(!1)},accept:"image/png,image/jpeg,image/jpg,image/webp",children:o=>p.jsxs(at,{shadow:"md",openDelay:500,position:"bottom",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(Hn,{...o,className:nb.item,children:p.jsx(Cl,{size:50,radius:"xl",children:p.jsx(fR,{size:"1.5rem"})})})}),p.jsxs(at.Dropdown,{py:5,px:10,children:[p.jsx(pe,{size:"sm",children:"Upload Image"}),p.jsx(pe,{size:"xs",c:"dimmed",children:"Max file size: 1MB"})]})]})}),a]})})]})}function V5(e){"@babel/helpers - typeof";return V5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V5(e)}var QQe=/^\s+/,XQe=/\s+$/;function Ot(e,t){if(e=e||"",t=t||{},e instanceof Ot)return e;if(!(this instanceof Ot))return new Ot(e,t);var n=ZQe(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ot.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,a,o,s;return n=t.r/255,r=t.g/255,i=t.b/255,n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*o+.0722*s},setAlpha:function(t){return this._a=Ise(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=xV(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=xV(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=wV(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=wV(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return SV(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return rXe(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Hr(this._r,255)*100)+"%",g:Math.round(Hr(this._g,255)*100)+"%",b:Math.round(Hr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Hr(this._r,255)*100)+"%, "+Math.round(Hr(this._g,255)*100)+"%, "+Math.round(Hr(this._b,255)*100)+"%)":"rgba("+Math.round(Hr(this._r,255)*100)+"%, "+Math.round(Hr(this._g,255)*100)+"%, "+Math.round(Hr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:mXe[SV(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+CV(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(t){var a=Ot(t);r="#"+CV(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,a=!n&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return a?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ot(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(sXe,arguments)},brighten:function(){return this._applyModification(lXe,arguments)},darken:function(){return this._applyModification(uXe,arguments)},desaturate:function(){return this._applyModification(iXe,arguments)},saturate:function(){return this._applyModification(aXe,arguments)},greyscale:function(){return this._applyModification(oXe,arguments)},spin:function(){return this._applyModification(cXe,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(hXe,arguments)},complement:function(){return this._applyCombination(dXe,arguments)},monochromatic:function(){return this._applyCombination(pXe,arguments)},splitcomplement:function(){return this._applyCombination(fXe,arguments)},triad:function(){return this._applyCombination(EV,[3])},tetrad:function(){return this._applyCombination(EV,[4])}};Ot.fromRatio=function(e,t){if(V5(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=wy(e[r]));e=n}return Ot(e,t)};function ZQe(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return typeof e=="string"&&(e=bXe(e)),V5(e)=="object"&&(kc(e.r)&&kc(e.g)&&kc(e.b)?(t=eXe(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):kc(e.h)&&kc(e.s)&&kc(e.v)?(r=wy(e.s),i=wy(e.v),t=nXe(e.h,r,i),o=!0,s="hsv"):kc(e.h)&&kc(e.s)&&kc(e.l)&&(r=wy(e.s),a=wy(e.l),t=tXe(e.h,r,a),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Ise(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function eXe(e,t,n){return{r:Hr(e,255)*255,g:Hr(t,255)*255,b:Hr(n,255)*255}}function wV(e,t,n){e=Hr(e,255),t=Hr(t,255),n=Hr(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a,o,s=(r+i)/2;if(r==i)a=o=0;else{var l=r-i;switch(o=s>.5?l/(2-r-i):l/(r+i),r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4;break}a/=6}return{h:a,s:o,l:s}}function tXe(e,t,n){var r,i,a;e=Hr(e,360),t=Hr(t,100),n=Hr(n,100);function o(u,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(c-u)*6*d:d<1/2?c:d<2/3?u+(c-u)*(2/3-d)*6:u}if(t===0)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=o(l,s,e+1/3),i=o(l,s,e),a=o(l,s,e-1/3)}return{r:r*255,g:i*255,b:a*255}}function xV(e,t,n){e=Hr(e,255),t=Hr(t,255),n=Hr(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a,o,s=r,l=r-i;if(o=r===0?0:l/r,r==i)a=0;else{switch(r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4;break}a/=6}return{h:a,s:o,v:s}}function nXe(e,t,n){e=Hr(e,360)*6,t=Hr(t,100),n=Hr(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6,u=[n,o,a,a,s,n][l],c=[s,n,n,o,a,a][l],d=[a,a,s,n,n,o][l];return{r:u*255,g:c*255,b:d*255}}function SV(e,t,n,r){var i=[Ql(Math.round(e).toString(16)),Ql(Math.round(t).toString(16)),Ql(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function rXe(e,t,n,r,i){var a=[Ql(Math.round(e).toString(16)),Ql(Math.round(t).toString(16)),Ql(Math.round(n).toString(16)),Ql(Ose(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function CV(e,t,n,r){var i=[Ql(Ose(r)),Ql(Math.round(e).toString(16)),Ql(Math.round(t).toString(16)),Ql(Math.round(n).toString(16))];return i.join("")}Ot.equals=function(e,t){return!e||!t?!1:Ot(e).toRgbString()==Ot(t).toRgbString()};Ot.random=function(){return Ot.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function iXe(e,t){t=t===0?0:t||10;var n=Ot(e).toHsl();return n.s-=t/100,n.s=HE(n.s),Ot(n)}function aXe(e,t){t=t===0?0:t||10;var n=Ot(e).toHsl();return n.s+=t/100,n.s=HE(n.s),Ot(n)}function oXe(e){return Ot(e).desaturate(100)}function sXe(e,t){t=t===0?0:t||10;var n=Ot(e).toHsl();return n.l+=t/100,n.l=HE(n.l),Ot(n)}function lXe(e,t){t=t===0?0:t||10;var n=Ot(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),Ot(n)}function uXe(e,t){t=t===0?0:t||10;var n=Ot(e).toHsl();return n.l-=t/100,n.l=HE(n.l),Ot(n)}function cXe(e,t){var n=Ot(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,Ot(n)}function dXe(e){var t=Ot(e).toHsl();return t.h=(t.h+180)%360,Ot(t)}function EV(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ot(e).toHsl(),r=[Ot(e)],i=360/t,a=1;a<t;a++)r.push(Ot({h:(n.h+a*i)%360,s:n.s,l:n.l}));return r}function fXe(e){var t=Ot(e).toHsl(),n=t.h;return[Ot(e),Ot({h:(n+72)%360,s:t.s,l:t.l}),Ot({h:(n+216)%360,s:t.s,l:t.l})]}function hXe(e,t,n){t=t||6,n=n||30;var r=Ot(e).toHsl(),i=360/n,a=[Ot(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(Ot(r));return a}function pXe(e,t){t=t||6;for(var n=Ot(e).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(Ot({h:r,s:i,v:a})),a=(a+s)%1;return o}Ot.mix=function(e,t,n){n=n===0?0:n||50;var r=Ot(e).toRgb(),i=Ot(t).toRgb(),a=n/100,o={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return Ot(o)};Ot.readability=function(e,t){var n=Ot(e),r=Ot(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Ot.isReadable=function(e,t,n){var r=Ot.readability(e,t),i,a;switch(a=!1,i=wXe(n),i.level+i.size){case"AAsmall":case"AAAlarge":a=r>=4.5;break;case"AAlarge":a=r>=3;break;case"AAAsmall":a=r>=7;break}return a};Ot.mostReadable=function(e,t,n){var r=null,i=0,a,o,s,l;n=n||{},o=n.includeFallbackColors,s=n.level,l=n.size;for(var u=0;u<t.length;u++)a=Ot.readability(e,t[u]),a>i&&(i=a,r=Ot(t[u]));return Ot.isReadable(e,r,{level:s,size:l})||!o?r:(n.includeFallbackColors=!1,Ot.mostReadable(e,["#fff","#000"],n))};var tN=Ot.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},mXe=Ot.hexNames=gXe(tN);function gXe(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ise(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Hr(e,t){vXe(e)&&(e="100%");var n=yXe(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function HE(e){return Math.min(1,Math.max(0,e))}function hs(e){return parseInt(e,16)}function vXe(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function yXe(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ql(e){return e.length==1?"0"+e:""+e}function wy(e){return e<=1&&(e=e*100+"%"),e}function Ose(e){return Math.round(parseFloat(e)*255).toString(16)}function kV(e){return hs(e)/255}var Bl=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function kc(e){return!!Bl.CSS_UNIT.exec(e)}function bXe(e){e=e.replace(QQe,"").replace(XQe,"").toLowerCase();var t=!1;if(tN[e])e=tN[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Bl.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Bl.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Bl.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Bl.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Bl.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Bl.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Bl.hex8.exec(e))?{r:hs(n[1]),g:hs(n[2]),b:hs(n[3]),a:kV(n[4]),format:t?"name":"hex8"}:(n=Bl.hex6.exec(e))?{r:hs(n[1]),g:hs(n[2]),b:hs(n[3]),format:t?"name":"hex"}:(n=Bl.hex4.exec(e))?{r:hs(n[1]+""+n[1]),g:hs(n[2]+""+n[2]),b:hs(n[3]+""+n[3]),a:kV(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Bl.hex3.exec(e))?{r:hs(n[1]+""+n[1]),g:hs(n[2]+""+n[2]),b:hs(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function wXe(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}function xXe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-feat-${t}`,{id:t}],queryFn:async({queryKey:r})=>{const[i,{id:a}]=r;return await Dn("ability-block",a)}});return p.jsx(p.Fragment,{children:n&&p.jsxs(Ae,{justify:"space-between",wrap:"nowrap",children:[p.jsxs(Ae,{wrap:"nowrap",gap:10,children:[p.jsx(Z,{children:p.jsx(zt,{order:3,children:n.name})}),p.jsx(Z,{children:p.jsx(ei,{cost:n.actions,size:"2.1rem"})})]}),n.level&&p.jsxs(pe,{style:{textWrap:"nowrap"},children:["Feat ",n.level]})]})})}function SXe(e){var s,l;const t=e.data.id,n=ht(),{data:r}=En({queryKey:[`find-feat-${t}`,{id:t}],queryFn:async({queryKey:u})=>{const[c,{id:d}]=u;return await Dn("ability-block",d)}});if(!r)return p.jsx(ai,{type:"bars",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}});const i=Tse(r.prerequisites),a=[];if(i&&i.meetMap.size>0)for(const[u,c]of i.meetMap.entries())c?c==="FULLY"?a.push(p.jsx(p.Fragment,{children:p.jsx(pe,{style:{textDecoration:"underline",textDecorationColor:n.colors[n.primaryColor][4]},span:!0,children:u})})):c==="PARTIALLY"?a.push(p.jsx(p.Fragment,{children:p.jsx(pe,{style:{textDecoration:"underline",textDecorationColor:n.colors[n.primaryColor][2]},span:!0,children:u})})):c==="NOT"?a.push(p.jsx(p.Fragment,{children:p.jsx(pe,{style:{textDecoration:"underline",textDecorationColor:n.colors.red[4]},span:!0,children:u})})):c==="UNKNOWN"&&a.push(p.jsx(p.Fragment,{children:p.jsx(pe,{style:{textDecoration:"underline",textDecorationColor:n.colors.yellow[2]},span:!0,children:u})})):a.push(p.jsx(p.Fragment,{children:u}));else a.push(...(r.prerequisites??[]).map(u=>p.jsx(p.Fragment,{children:u})));const o=r.prerequisites&&r.prerequisites.length>0||r.frequency||r.trigger||r.cost||r.requirements||r.access;return p.jsxs(Z,{children:[((s=r.meta_data)==null?void 0:s.image_url)&&p.jsx(_s,{style:{float:"right",maxWidth:150,height:"auto"},ml:"sm",radius:"md",fit:"contain",src:(l=r.meta_data)==null?void 0:l.image_url}),p.jsxs(Z,{children:[p.jsx(Z,{pb:2,children:p.jsx(hi,{traitIds:r.traits??[],rarity:r.rarity,interactable:!0})}),a&&a.length>0&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Prerequisites"})," ",a.flatMap((u,c)=>c<a.length-1?[u,"; "]:[u])]}),r.frequency&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Frequency"})," ",r.frequency]}),r.trigger&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Trigger"})," ",r.trigger]}),r.cost&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Cost"})," ",r.cost]}),r.requirements&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Requirements"})," ",r.requirements]}),r.access&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Access"})," ",r.access]}),o&&p.jsx(Lt,{}),p.jsx(Ea,{ta:"justify",children:r.description}),r.special&&p.jsxs(pe,{ta:"justify",style:{textIndent:Nb},children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Special"})," ",p.jsx(Ea,{span:!0,children:r.special})]}),p.jsx(CXe,{name:r.name})]})]})}function CXe(e){const{data:t}=En({queryKey:[`find-prereqs-for-${e.name}`,{name:e.name}],queryFn:async({queryKey:a})=>{const[o,{name:s}]=a;return await dQe(s)}}),[n,r]=Ct(an);if(!t||t.length===0)return null;const i=t.sort((a,o)=>a.level===void 0||o.level===void 0?a.name.localeCompare(o.name):a.level-o.level);return p.jsxs(Z,{pt:"sm",children:[p.jsx(Lt,{}),p.jsxs(Xt,{children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Prerequisite for"})," ",oT(i.map((a,o)=>p.jsxs(pe,{span:!0,children:[p.jsx(Br,{onClick:()=>{r({type:"class-feature",data:{id:a.id},extra:{addToHistory:!0}})},children:a.name})," ","(",a.level,")"]},o)),"and")]})]})}function Wx(e){const t=e.data.id,{data:n}=En({queryKey:[`find-action-${t}`,{id:t}],queryFn:async({queryKey:r})=>{const[i,{id:a}]=r;return await Dn("ability-block",a)}});return p.jsx(p.Fragment,{children:n&&p.jsx(Ae,{justify:"space-between",wrap:"nowrap",children:p.jsxs(Ae,{wrap:"nowrap",gap:10,children:[p.jsx(Z,{children:p.jsx(zt,{order:3,children:n.name})}),p.jsx(Z,{children:p.jsx(ei,{cost:n.actions,size:"2.1rem"})})]})})})}function Gx(e){var i,a,o;const t=e.data.id,{data:n}=En({queryKey:[`find-action-${t}`,{id:t}],queryFn:async({queryKey:s})=>{const[l,{id:u}]=s;return await Dn("ability-block",u)}});if(!n)return p.jsx(ai,{type:"bars",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}});const r=n.prerequisites&&n.prerequisites.length>0||n.frequency||n.trigger||n.cost||n.requirements||n.access;return p.jsxs(Z,{children:[((i=n.meta_data)==null?void 0:i.image_url)&&p.jsx(_s,{style:{float:"right",maxWidth:150,height:"auto"},ml:"sm",radius:"md",fit:"contain",src:(a=n.meta_data)==null?void 0:a.image_url}),p.jsxs(Z,{children:[p.jsx(Z,{pb:2,children:p.jsx(hi,{traitIds:n.traits??[],rarity:n.rarity,skill:(o=n.meta_data)==null?void 0:o.skill,interactable:!0})}),n.prerequisites&&n.prerequisites.length>0&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Prerequisites"})," ",n.prerequisites.join(", ")]}),n.frequency&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Frequency"})," ",n.frequency]}),n.trigger&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Trigger"})," ",n.trigger]}),n.cost&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Cost"})," ",n.cost]}),n.requirements&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Requirements"})," ",n.requirements]}),n.access&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Access"})," ",n.access]}),r&&p.jsx(Lt,{}),p.jsx(Ea,{ta:"justify",children:n.description}),n.special&&p.jsxs(pe,{ta:"justify",style:{textIndent:Nb},children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Special"})," ",p.jsx(Ea,{span:!0,children:n.special})]})]})]})}function EXe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-spell-${t}`,{id:t}],queryFn:async({queryKey:i})=>{const[a,{id:o}]=i;return await Dn("spell",o)}}),r=(n==null?void 0:n.cast)??"";return p.jsx(p.Fragment,{children:n&&p.jsxs(Ae,{justify:"space-between",wrap:"nowrap",children:[p.jsxs(Ae,{wrap:"nowrap",gap:10,children:[p.jsx(Z,{children:p.jsx(zt,{order:3,children:n.name})}),AR(r)&&p.jsx(Z,{children:p.jsx(ei,{cost:r,size:"2.1rem"})})]}),p.jsxs(pe,{style:{textWrap:"nowrap"},children:["Spell ",n.rank]})]})})}function kXe(e){var l,u;const t=e.data.id,{data:n}=En({queryKey:[`find-spell-${t}`,{id:t}],queryFn:async({queryKey:c})=>{const[d,{id:f}]=c;return await Dn("spell",f)}});if(!n)return p.jsx(ai,{type:"bars",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}});const r=[],i=(n==null?void 0:n.cast)??"";i&&!AR(i)&&r.push(p.jsxs(p.Fragment,{children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Cast"},0)," ",i]})),n.requirements&&r.push(p.jsxs(p.Fragment,{children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Requirements"},1)," ",n.requirements]}));const a=[];n.cost&&a.push(p.jsxs(p.Fragment,{children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Cost"},0)," ",n.cost]})),n.trigger&&a.push(p.jsxs(p.Fragment,{children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Trigger"},1)," ",n.trigger]}));const o=[];n.range&&o.push(p.jsxs(p.Fragment,{children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Range"},0)," ",n.range]})),n.area&&o.push(p.jsxs(p.Fragment,{children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Area"},1)," ",n.area]})),n.targets&&o.push(p.jsxs(p.Fragment,{children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Targets"},2)," ",n.targets]}));const s=[];return n.defense&&s.push(p.jsxs(p.Fragment,{children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Defense"},0)," ",n.defense]})),n.duration&&s.push(p.jsxs(p.Fragment,{children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Duration"},1)," ",n.duration]})),n.heightened,p.jsxs(Z,{children:[((l=n.meta_data)==null?void 0:l.image_url)&&p.jsx(_s,{style:{float:"right",maxWidth:150,height:"auto"},ml:"sm",radius:"md",fit:"contain",src:(u=n.meta_data)==null?void 0:u.image_url}),p.jsxs(Z,{children:[p.jsx(Z,{pb:2,children:p.jsx(hi,{traitIds:n.traits??[],rarity:n.rarity,interactable:!0})}),n.traditions&&n.traditions.length>0&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Traditions"})," ",n.traditions.join(", ")]}),r.length>0&&p.jsx(Xt,{ta:"justify",children:r.flatMap((c,d)=>d<r.length-1?[c,"; "]:[c])}),a.length>0&&p.jsx(Xt,{ta:"justify",children:a.flatMap((c,d)=>d<a.length-1?[c,"; "]:[c])}),o.length>0&&p.jsx(Xt,{ta:"justify",children:o.flatMap((c,d)=>d<o.length-1?[c,"; "]:[c])}),s.length>0&&p.jsx(Xt,{ta:"justify",children:s.flatMap((c,d)=>d<s.length-1?[c,"; "]:[c])}),p.jsx(Lt,{}),p.jsx(Ea,{ta:"justify",py:5,children:n.description}),n.heightened&&n.heightened.text&&p.jsxs(Z,{children:[p.jsx(Lt,{}),n.heightened.text.map((c,d)=>p.jsxs(Xt,{ta:"justify",children:[p.jsxs(pe,{fw:600,c:"gray.5",span:!0,children:["Heightened ",c.amount]})," ",c.text]},d))]})]})]})}let nN={value:null,children:{}};function AXe(e){nN={value:null,children:{}};for(const t of e)_Xe(nN,t.key,t.value)}function _Xe(e,t,n){const r=t.split("_");let i=e;for(const a of r)i.children[a]||(i.children[a]={value:null,children:{}}),i=i.children[a];i.value=n}function MXe(){return Ze.cloneDeep(nN)}const ad=e=>{if(e==="giveAbilityBlock")return{id:crypto.randomUUID(),type:e,data:{type:"feat",abilityBlockId:-1}};if(e==="adjValue")return{id:crypto.randomUUID(),type:e,data:{variable:"",value:0}};if(e==="addBonusToValue")return{id:crypto.randomUUID(),type:e,data:{variable:"",value:void 0,type:void 0,text:""}};if(e==="setValue")return{id:crypto.randomUUID(),type:e,data:{variable:"",value:!1}};if(e==="createValue")return{id:crypto.randomUUID(),type:e,data:{variable:"",value:"",type:"str"}};if(e==="conditional")return{id:crypto.randomUUID(),type:e,data:{conditions:[],trueOperations:void 0,falseOperations:void 0}};if(e==="select")return{id:crypto.randomUUID(),type:e,data:{title:"",description:"",modeType:"PREDEFINED",optionType:"ABILITY_BLOCK",optionsPredefined:[],optionsFilters:void 0}};if(e==="giveSpell")return{id:crypto.randomUUID(),type:e,data:{spellId:-1}};if(e==="removeAbilityBlock")return{id:crypto.randomUUID(),type:e,data:{type:"feat",abilityBlockId:-1}};if(e==="removeSpell")return{id:crypto.randomUUID(),type:e,data:{spellId:-1}};if(e==="giveLanguage")return{id:crypto.randomUUID(),type:e,data:{languageId:-1}};if(e==="removeLanguage")return{id:crypto.randomUUID(),type:e,data:{languageId:-1}};throw new Error(`Unknown operation type: ${e}`)};async function TXe(e,t){return t.type==="ABILITY_BLOCK"?await NXe(e,t):t.type==="SPELL"?await DXe(e,t):t.type==="LANGUAGE"?await RXe(e,t):t.type==="ADJ_VALUE"?await IXe(e,t):[]}async function NXe(e,t){let n=await ha("ability-block");if(t.abilityBlockType!==void 0&&(n=n.filter(r=>r.type===t.abilityBlockType)),t.level.min!==void 0&&(n=n.filter(r=>r.level!==void 0&&r.level>=t.level.min)),t.level.max!==void 0&&(n=n.filter(r=>r.level!==void 0&&r.level<=t.level.max)),t.traits!==void 0){const i=(await Promise.all(t.traits.map(a=>Ze.isNumber(a)?n1(void 0,void 0,a):n1(a)))).filter(a=>a).map(a=>a.id);n=n.filter(a=>!a.traits&&i.length>0?!1:!a.traits&&i.length===0||a.traits&&a.traits.length===0&&i.length===0?!0:Ze.intersection(a.traits??[],i).length===i.length)}return n.map(r=>({...r,_select_uuid:`${r.id}`,_content_type:"ability-block"}))}async function DXe(e,t){let n=await ha("spell");if(t.level.min!==void 0&&(n=n.filter(r=>r.rank>=t.level.min)),t.level.max!==void 0&&(n=n.filter(r=>r.rank>=t.level.max)),t.traits!==void 0){const i=(await Promise.all(t.traits.map(a=>n1(a)))).filter(a=>a).map(a=>a.id);n=n.filter(a=>!a.traits&&i.length>0?!1:!a.traits&&i.length===0||a.traits&&a.traits.length===0&&i.length===0?!0:Ze.intersection(a.traits??[],i).length===i.length)}return t.traditions!==void 0&&(n=n.filter(r=>Ze.intersection(r.traditions,t.traditions??[]).length===t.traditions.length)),n.map(r=>({...r,_select_uuid:`${r.id}`,_content_type:"spell"}))}async function RXe(e,t){var r;let n=await ha("language");if(t.rarity&&(n=n.filter(i=>i.rarity===t.rarity)),t.core){const i=((r=Tt("CORE_LANGUAGE_NAMES"))==null?void 0:r.value)??[];n=n.map(a=>({...a,_is_core:i.includes(a.name)}))}return n.map(i=>({...i,_select_uuid:`${i.id}`,_content_type:"language"}))}async function IXe(e,t){let n=[];return t.group==="SKILL"&&(n=Gb()),t.group==="ADD-LORE"&&(n=Gb().filter(r=>r.name.startsWith("SKILL_LORE_"))),t.group==="ATTRIBUTE"&&(n=cu()),n.map(r=>({_select_uuid:`${r.name}`,_content_type:"ability-block",id:`${r.name}`,name:r?Ts(r):"Unknown Value",value:t.value,variable:r.name}))}async function OXe(e,t){return e==="ABILITY_BLOCK"?await PXe(t):e==="SPELL"?await jXe(t):e==="LANGUAGE"?await LXe(t):e==="ADJ_VALUE"?await FXe(t):e==="CUSTOM"?await BXe(t):[]}async function PXe(e){const t=await Promise.all(e.map(r=>Dn("ability-block",r.operation.data.abilityBlockId))),n=[];for(const r of t)if(r){const i=e.find(a=>a.operation.data.abilityBlockId===r.id);n.push({...r,_select_uuid:i.id,_content_type:"ability-block"})}return n}async function jXe(e){const t=await Promise.all(e.map(r=>Dn("spell",r.operation.data.spellId))),n=[];for(const r of t)if(r){const i=e.find(a=>a.operation.data.spellId===r.id);n.push({...r,_select_uuid:i.id,_content_type:"spell"})}return n}async function LXe(e){const t=await Promise.all(e.map(r=>Dn("language",r.operation.data.languageId))),n=[];for(const r of t)if(r){const i=e.find(a=>a.operation.data.languageId===r.id);n.push({...r,_select_uuid:i.id,_content_type:"language"})}return n}async function FXe(e){return e.map(t=>{const n=Tt(t.operation.data.variable);return{_select_uuid:t.operation.id,_content_type:"ability-block",id:t.operation.id,name:n?Ts(n):"Unknown Value",value:t.operation.data.value,variable:t.operation.data.variable}})}async function BXe(e){return e.map(t=>({_select_uuid:t.id,_content_type:"ability-block",_custom_select:{title:t.title,description:t.description,operations:t.operations},id:t.id,name:t.title,title:t.title,description:t.description,operations:t.operations}))}async function Kb(e,t,n,r){const i=async o=>{var s;if(n!=null&&n.doOnlyValueCreation)return o.type==="createValue"?await HXe(o):null;if(n!=null&&n.doOnlyConditionals){if(o.type==="conditional")return await AV(e,o,n,r);if(!((s=n.onlyConditionalsWhitelist)!=null&&s.includes(o.id)))return null}if(n!=null&&n.doConditionals&&o.type==="conditional")return await AV(e,o,n,r);if(o.type==="adjValue")return await UXe(o,r);if(o.type==="setValue")return await VXe(o,r);if(o.type==="addBonusToValue")return await qXe(o,r);if(o.type==="giveAbilityBlock")return await WXe(e,o,n,r);if(o.type==="giveLanguage")return await GXe(o,r);if(o.type==="giveSpell")return await KXe(o,r);if(o.type==="removeAbilityBlock")return await YXe(o,r);if(o.type==="removeLanguage")return await JXe(o,r);if(o.type==="removeSpell")return await QXe(o,r);if(o.type==="select"){const l=e==null?void 0:e.children[o.id];return await zXe(l,o,n,r)}return null},a=[];for(const o of t)a.push(await i(o));return a}async function zXe(e,t,n,r){var u,c;let i=[];t.data.modeType==="FILTERED"&&t.data.optionsFilters?i=await TXe(t.id,t.data.optionsFilters):t.data.modeType==="PREDEFINED"&&t.data.optionsPredefined&&(i=await OXe(t.data.optionType,t.data.optionsPredefined));let a,o=[];if(e&&e.value){const d=i.find(f=>f._select_uuid===e.value);if(d)$Xe(t,d,r);else return wd(`Selected option "${e.value}" not found`),null;a=d,d.operations&&(o=await Kb(e.children[d._select_uuid],d.operations,n,t.data.optionType==="CUSTOM"?r:d.name??"Unknown"))}let s=[];for(const d of i)if(d.variable){const f=Tt(d.variable);(f==null?void 0:f.type)==="prof"&&f.name.startsWith("SKILL_")&&s.push(f.name)}const l=i.length>0&&s.length===i.length?(c=(u=i[0])==null?void 0:u.value)==null?void 0:c.value:void 0;return{selection:{id:t.id,title:t.data.title,description:t.data.description,options:i,skillAdjustment:l},result:a?{source:a,results:o}:void 0}}async function $Xe(e,t,n){e.data.optionType==="ABILITY_BLOCK"?t.type==="feat"?(tr("FEAT_IDS",`${t.id}`,n),tr("FEAT_NAMES",t.name,n)):t.type==="class-feature"?(tr("CLASS_FEATURE_IDS",`${t.id}`,n),tr("CLASS_FEATURE_NAMES",t.name,n)):t.type==="sense"?(tr("SENSE_IDS",`${t.id}`,n),tr("SENSE_NAMES",t.name,n)):t.type==="heritage"?(tr("HERITAGE_IDS",`${t.id}`,n),tr("HERITAGE_NAMES",t.name,n)):t.type==="physical-feature"?(tr("PHYSICAL_FEATURE_IDS",`${t.id}`,n),tr("PHYSICAL_FEATURE_NAMES",t.name,n)):$i(`Invalid ability block type: ${t.type}`):e.data.optionType==="LANGUAGE"?(tr("LANGUAGE_IDS",`${t.id}`,n),tr("LANGUAGE_NAMES",t.name,n)):e.data.optionType==="SPELL"?(tr("SPELL_IDS",`${t.id}`,n),tr("SPELL_NAMES",t.name,n)):e.data.optionType==="ADJ_VALUE"?tr(t.variable,t.value,n):e.data.optionType}async function UXe(e,t){return tr(e.data.variable,e.data.value,t),null}async function VXe(e,t){return fa(e.data.variable,e.data.value,t),null}async function HXe(e,t){return $5(e.data.type,e.data.variable,e.data.value),null}async function qXe(e,t){return yQe(e.data.variable,e.data.value,e.data.type,e.data.text,t??"Unknown"),null}async function WXe(e,t,n,r){const i=await Dn("ability-block",t.data.abilityBlockId);if(!i)return wd(`Ability block not found, ${t.data.abilityBlockId}`),null;t.data.type==="feat"?(tr("FEAT_IDS",`${i.id}`,r),tr("FEAT_NAMES",i.name,r)):t.data.type==="class-feature"?(tr("CLASS_FEATURE_IDS",`${i.id}`,r),tr("CLASS_FEATURE_NAMES",i.name,r)):t.data.type==="sense"?(tr("SENSE_IDS",`${i.id}`,r),tr("SENSE_NAMES",i.name,r)):t.data.type==="heritage"?(tr("HERITAGE_IDS",`${i.id}`,r),tr("HERITAGE_NAMES",i.name,r)):t.data.type==="physical-feature"&&(tr("PHYSICAL_FEATURE_IDS",`${i.id}`,r),tr("PHYSICAL_FEATURE_NAMES",i.name,r));let a=[];return i.operations&&(a=await Kb(e==null?void 0:e.children[t.id],i.operations,n,i.type==="feat"||i.type==="class-feature"?`${i.name} (Lvl. ${i.level})`:i.name)),{result:{source:{...i,_select_uuid:t.id,_content_type:"ability-block"},results:a}}}async function GXe(e,t){const n=await Dn("language",e.data.languageId);return n?(tr("LANGUAGE_IDS",`${n.id}`,t),tr("LANGUAGE_NAMES",n.name,t),null):(wd("Language not found"),null)}async function KXe(e,t){const n=await Dn("spell",e.data.spellId);return n?(tr("SPELL_IDS",`${n.id}`,t),tr("SPELL_NAMES",n.name,t),null):(wd("Spell not found"),null)}async function YXe(e,t){const n=await Dn("ability-block",e.data.abilityBlockId);if(!n)return wd(`Ability block not found, ${e.data.abilityBlockId}`),null;const r=i=>{var a;return((a=Tt(i))==null?void 0:a.value)??[]};return e.data.type==="feat"?(fa("FEAT_IDS",r("FEAT_IDS").filter(i=>i!==`${n.id}`),t),fa("FEAT_NAMES",r("FEAT_NAMES").filter(i=>i!==n.name),t)):e.data.type==="class-feature"?(fa("CLASS_FEATURE_IDS",r("CLASS_FEATURE_IDS").filter(i=>i!==`${n.id}`),t),fa("CLASS_FEATURE_NAMES",r("CLASS_FEATURE_NAMES").filter(i=>i!==n.name),t)):e.data.type==="sense"?(fa("SENSE_IDS",r("SENSE_IDS").filter(i=>i!==`${n.id}`),t),fa("SENSE_NAMES",r("SENSE_NAMES").filter(i=>i!==n.name),t)):e.data.type==="heritage"?(fa("HERITAGE_IDS",r("HERITAGE_IDS").filter(i=>i!==`${n.id}`),t),fa("HERITAGE_NAMES",r("HERITAGE_NAMES").filter(i=>i!==n.name),t)):e.data.type==="physical-feature"&&(fa("PHYSICAL_FEATURE_IDS",r("PHYSICAL_FEATURE_IDS").filter(i=>i!==`${n.id}`),t),fa("PHYSICAL_FEATURE_NAMES",r("PHYSICAL_FEATURE_NAMES").filter(i=>i!==n.name),t)),null}async function JXe(e,t){const n=await Dn("language",e.data.languageId);if(!n)return wd("Language not found"),null;const r=i=>{var a;return((a=Tt(i))==null?void 0:a.value)??[]};return fa("LANGUAGE_IDS",r("LANGUAGE_IDS").filter(i=>i!==`${n.id}`),t),fa("LANGUAGE_NAMES",r("LANGUAGE_NAMES").filter(i=>i!==n.name),t),null}async function QXe(e,t){const n=await Dn("spell",e.data.spellId);if(!n)return wd("Spell not found"),null;const r=i=>{var a;return((a=Tt(i))==null?void 0:a.value)??[]};return fa("SPELL_IDS",r("SPELL_IDS").filter(i=>i!==`${n.id}`),t),fa("SPELL_NAMES",r("SPELL_NAMES").filter(i=>i!==n.name),t),null}async function AV(e,t,n,r){const i=s=>{const l=Tt(s.name);if(!l)return!1;if(l.type==="attr"){const u=parseInt(s.value);if(s.operator==="EQUALS")return l.value.value===u;if(s.operator==="GREATER_THAN")return l.value.value>u;if(s.operator==="LESS_THAN")return l.value.value<u;if(s.operator==="NOT_EQUALS")return l.value.value!==u}else if(l.type==="num"){const u=parseInt(s.value);if(s.operator==="EQUALS")return l.value===u;if(s.operator==="GREATER_THAN")return l.value>u;if(s.operator==="LESS_THAN")return l.value<u;if(s.operator==="NOT_EQUALS")return l.value!==u}else if(l.type==="str"){if(s.operator==="EQUALS")return l.value===s.value;if(s.operator==="NOT_EQUALS")return l.value!==s.value;if(s.operator==="INCLUDES")return l.value.includes(s.value)}else if(l.type==="bool"){if(s.operator==="EQUALS")return l.value===(s.value==="TRUE");if(s.operator==="NOT_EQUALS")return l.value!==(s.value==="TRUE")}else if(l.type==="list-str"){let u=[];try{u=JSON.parse(s.value)}catch{}if(s.operator==="EQUALS")return Ze.isEqual(l.value,u);if(s.operator==="NOT_EQUALS")return!Ze.isEqual(l.value,u);if(s.operator==="INCLUDES")return l.value.includes(s.value)}else if(l.type==="prof"){if(s.operator==="EQUALS")return l.value.value===s.value;if(s.operator==="GREATER_THAN")return r1(l.value.value,s.value)===l.value.value;if(s.operator==="LESS_THAN")return r1(l.value.value,s.value)===s.value;if(s.operator==="NOT_EQUALS")return l.value.value!==s.value}return!1};let a=!0;for(const s of t.data.conditions)i(s)||(a=!1);let o=[];return a?o=await Kb(e,t.data.trueOperations??[],{...n,doOnlyConditionals:!1,doConditionals:!0},r):o=await Kb(e,t.data.falseOperations??[],{...n,doOnlyConditionals:!1,doConditionals:!0},r),{result:{source:void 0,results:o}}}function XXe(e){var t;(t=e.operation_data)!=null&&t.selections&&AXe([...Object.entries(e.operation_data.selections)].map(([n,r])=>({key:n,value:r})))}async function Qh(e,t,n,r){const i=MXe().children[e];let a=await Kb(i,t,Ze.cloneDeep(n),r);return a=eZe(t,a),a}async function Pse(e,t,n){var c;_se(),XXe(e),fa("PAGE_CONTEXT",n),fa("LEVEL",e.level);const r=t.classes.find(d=>{var f,h;return d.id===((h=(f=e.details)==null?void 0:f.class)==null?void 0:h.id)}),i=t.backgrounds.find(d=>{var f,h;return d.id===((h=(f=e.details)==null?void 0:f.background)==null?void 0:h.id)}),a=t.ancestries.find(d=>{var f,h;return d.id===((h=(f=e.details)==null?void 0:f.ancestry)==null?void 0:h.id)}),o=t.abilityBlocks.filter(d=>{var f;return d.type==="class-feature"&&((f=d.traits)==null?void 0:f.includes((r==null?void 0:r.trait_id)??-1))}).sort((d,f)=>d.level!==void 0&&f.level!==void 0&&d.level!==f.level?d.level-f.level:d.name.localeCompare(f.name)),s=async d=>{let f=[];for(const v of t.sources??[]){const C=await Qh(`content-source-${v.id}`,v.operations??[],d,v.name);C.length>0&&f.push({baseSource:v,baseResults:C})}let h=await Qh("character",e.custom_operations??[],d,"Custom"),m=[];r&&(m=await Qh("class",tZe(r),d,r.name));let g=[];a&&(g=await Qh("ancestry",nZe(a),d,a.name));let S=[];i&&(S=await Qh("background",i.operations??[],d,i.name));let y=[];if(a){for(const v of rZe(a))if(v.level===void 0||v.level<=e.level){const C=await Qh(`ancestry-section-${v.id}`,v.operations??[],d,`${v.name} (Lvl. ${v.level})`);y.push({baseSource:v,baseResults:C})}}let E=[];for(const v of o)if(v.level===void 0||v.level<=e.level){const C=await Qh(`class-feature-${v.id}`,v.operations??[],d,`${v.name} (Lvl. ${v.level})`);E.push({baseSource:v,baseResults:C})}return{contentSourceResults:f,characterResults:h,classResults:m,classFeatureResults:E,ancestryResults:g,ancestrySectionResults:y,backgroundResults:S,itemResults:[]}};await s({doOnlyValueCreation:!0});for(const d of Object.values(((c=e==null?void 0:e.operation_data)==null?void 0:c.selections)??{}))d.startsWith("SKILL_LORE_")?$5("prof",d,{value:"U",attribute:"ATTRIBUTE_INT"}):(d.startsWith("WEAPON_")||d.startsWith("WEAPON_GROUP_"))&&$5("prof",d);const l=await s(),u=await s({doOnlyConditionals:!0,onlyConditionalsWhitelist:[...(r?kI(r):[]).map(d=>d.id),...(a?AI():[]).map(d=>d.id)]});return ZXe(l,u)}function ZXe(e,t){const n=Ze.cloneDeep(e);for(const[r,i]of Object.entries(t))n[r]?n[r].push(...i):n[r]=i,n[r]=n[r].filter(a=>a);for(const[r,i]of Object.entries(n)){const a=[];let o=!1;for(const s of i)if(s.baseSource&&Array.isArray(s.baseResults)){o=!0;const l=i.find(u=>{var c,d;return((c=u.baseSource)==null?void 0:c.id)===((d=s.baseSource)==null?void 0:d.id)});l&&(s.baseResults.push(...l.baseResults),s.baseResults=Ze.uniq(s.baseResults)),a.find(u=>{var c,d;return((c=u.baseSource)==null?void 0:c.id)===((d=s.baseSource)==null?void 0:d.id)})||a.push(s)}o&&(n[r]=a)}return n}function eZe(e,t){var r,i,a,o,s,l,u,c;t=Ze.cloneDeep(t);const n=[];for(const d of t){const f=(i=(r=d==null?void 0:d.result)==null?void 0:r.source)==null?void 0:i.variable,h=(s=(o=(a=d==null?void 0:d.result)==null?void 0:a.source)==null?void 0:o.value)==null?void 0:s.value;f&&+h==1&&f.startsWith("ATTRIBUTE_")&&n.push(f)}for(const d of e)d.type==="adjValue"&&+((u=(l=d.data)==null?void 0:l.value)==null?void 0:u.value)==1&&n.push(d.data.variable);for(const d of t)(c=d==null?void 0:d.selection)!=null&&c.options&&(d.selection.options=d.selection.options.filter(f=>{var h,m,g;return!(n.includes(f.variable)&&+((h=f.value)==null?void 0:h.value)==1&&((g=(m=d==null?void 0:d.result)==null?void 0:m.source)==null?void 0:g.variable)!==f.variable)}));return t}function tZe(e){let t=[...e.operations??[]];return t.push(...kI(e)),t}function kI(e){var a;let t=[];const n=e.skill_training_base,r=(a=Tt("ATTRIBUTE_INT"))==null?void 0:a.value,i=Jf(r)?r.value:0;for(let o=0;o<n+i;o++)t.push({id:`720d2fe6-f042-4353-8313-1293375b1301-${o}`,type:"select",data:{title:"Select a Skill to be Trained",modeType:"FILTERED",optionType:"ADJ_VALUE",optionsPredefined:[],optionsFilters:{id:`f8703468-ab35-4f84-8dc7-7c48556258e3-${o}`,type:"ADJ_VALUE",group:"SKILL",value:{value:"T"}}}});return t}function nZe(e){let t=[...e.operations??[]];return t.push(...AI()),t}function AI(e){var i;let t=[];const n=(i=Tt("ATTRIBUTE_INT"))==null?void 0:i.value,r=Jf(n)?n.value:0;if(r<=0)return t;for(let a=0;a<r;a++)t.push({id:`957ee14b-c6dc-44eb-881b-e99a1b4e5118-${a}`,type:"select",data:{title:"Select a Language",modeType:"FILTERED",optionType:"LANGUAGE",optionsPredefined:[],optionsFilters:{id:`688aa1e3-226d-424b-b762-2b3c2bec36c1-${a}`,type:"LANGUAGE",core:!0}}});return t}function rZe(e){const t={id:QT({name:"heritage"}),created_at:"",operations:[{id:"3fd6a268-771b-49fc-93ed-9b53695d1a29",type:"select",data:{title:"Select a Heritage",modeType:"FILTERED",optionType:"ABILITY_BLOCK",optionsPredefined:[],optionsFilters:{id:"c8dc1601-4c97-4838-9bd5-31d0e6b87286",type:"ABILITY_BLOCK",level:{},traits:[e.trait_id],abilityBlockType:"heritage"}}}],name:"Heritage",actions:null,level:1,rarity:"COMMON",description:`You select a heritage to reflect abilities passed down to you from your ancestors or
    common among those of your ancestry in the environment where you were raised.`,type:"heritage",content_source_id:-1},n=(a,o)=>({id:QT({name:`ancestry-feat-${a}`}),created_at:"",operations:[{id:`9f26290c-a2db-4c45-9b34-5053e60c106d-${a}`,type:"select",data:{title:"Select a Feat",modeType:"FILTERED",optionType:"ABILITY_BLOCK",optionsPredefined:[],optionsFilters:{id:`31634b70-4ea4-447f-9743-817509d601df-${a}`,type:"ABILITY_BLOCK",level:{max:o},traits:[e.trait_id],abilityBlockType:"feat"}}}],name:`${e.name} Feat`,actions:null,level:o,rarity:"COMMON",description:"You gain an ancestry feat.",type:"class-feature",content_source_id:-1}),r=[t],i=[1,5,9,13,17];for(let a=0;a<i.length;a++)r.push(n(a,i[a]));return r}function iZe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-class-${t}`,{id:t}],queryFn:async({queryKey:r})=>{const[i,{id:a}]=r;return await Dn("class",a)}});return p.jsx(p.Fragment,{children:n&&p.jsxs(Ae,{justify:"space-between",wrap:"nowrap",children:[p.jsx(Ae,{wrap:"nowrap",gap:10,children:p.jsx(Z,{children:p.jsx(zt,{order:3,children:n.name})})}),p.jsx(hi,{traitIds:[],rarity:n.rarity})]})})}function aZe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-class-details-${t}`,{id:t}],queryFn:async({queryKey:l})=>{const[u,{id:c}]=l,d=await Dn("class",c),f=await ha("ability-block");return{class_:d,abilityBlocks:f}}}),[r,i]=Ct(an),a=Ze.groupBy(((n==null?void 0:n.abilityBlocks)??[]).filter(l=>{var u,c;return l.type==="class-feature"&&((c=l.traits)==null?void 0:c.includes(((u=n==null?void 0:n.class_)==null?void 0:u.trait_id)??-1))}),"level"),o=Ze.groupBy(((n==null?void 0:n.abilityBlocks)??[]).filter(l=>{var u,c;return l.type==="feat"&&((c=l.traits)==null?void 0:c.includes(((u=n==null?void 0:n.class_)==null?void 0:u.trait_id)??-1))}),"level"),s=Object.keys(o).map(l=>p.jsxs(nt.Item,{value:l,children:[p.jsxs(nt.Control,{children:["Level ",l]}),p.jsx(nt.Panel,{styles:{content:{padding:0}},children:p.jsxs(it,{gap:0,children:[p.jsx(Lt,{color:"dark.6"}),o[l].map((u,c)=>p.jsx(EI,{feat:u,onClick:()=>{var d;(d=e.onMetadataChange)==null||d.call(e),i({type:"feat",data:{id:u.id},extra:{addToHistory:!0}})}},c))]})})]},l));return!n||!n.class_||!n.abilityBlocks?p.jsx(ai,{type:"bars",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}}):p.jsxs(it,{children:[p.jsx(jse,{class_:n.class_,mode:"READ"}),p.jsxs(Z,{children:[p.jsx(zt,{order:3,children:"Class Features"}),p.jsx(Lt,{}),p.jsxs(nr,{striped:!0,withColumnBorders:!0,withRowBorders:!1,children:[p.jsx(nr.Thead,{children:p.jsxs(nr.Tr,{children:[p.jsx(nr.Th,{ta:"center",children:"Level"}),p.jsx(nr.Th,{children:"Class Features"})]})}),p.jsx(nr.Tbody,{children:Array.from({length:20},(l,u)=>u+1).map((l,u)=>p.jsxs(nr.Tr,{children:[p.jsx(nr.Td,{ta:"center",children:l}),p.jsx(nr.Td,{children:a[`${l}`]&&a[`${l}`].length>0&&p.jsx(p.Fragment,{children:a[`${l}`].flatMap((c,d)=>d<a[`${l}`].length-1?[p.jsx(Br,{fz:"sm",onClick:()=>{var f;(f=e.onMetadataChange)==null||f.call(e),i({type:"class-feature",data:{id:c.id},extra:{addToHistory:!0}})},children:c.name}),", "]:[p.jsx(Br,{fz:"sm",onClick:()=>{var f;(f=e.onMetadataChange)==null||f.call(e),i({type:"class-feature",data:{id:c.id},extra:{addToHistory:!0}})},children:c.name})])})})]},u))})]})]}),p.jsxs(Z,{children:[p.jsx(zt,{order:3,children:"Feats"}),p.jsx(nt,{variant:"separated",defaultValue:JT().feat_section,onChange:l=>{var u;(u=e.onMetadataChange)==null||u.call(e,{feat_section:l??""})},children:s})]})]})}function jse(e){const t=ht(),[n,r]=j.useState(!0),i=Ct(Sr),a=e.mode,o=Lse(e.class_,e.mode,e.operationResults??[],i);return p.jsxs(p.Fragment,{children:[p.jsxs(Z,{style:{position:"relative"},children:[p.jsxs(Z,{mah:n?400:void 0,style:{WebkitMaskImage:n?"linear-gradient(to bottom, black 60%, transparent 100%)":void 0,maskImage:n?"linear-gradient(to bottom, black 60%, transparent 100%)":void 0,overflowY:n?"hidden":void 0},children:[e.class_.artwork_url&&p.jsx(_s,{style:{float:"right",maxWidth:150,height:"auto"},ml:"sm",radius:"md",fit:"contain",src:e.class_.artwork_url}),p.jsx(Ea,{ta:"justify",children:e.class_.description})]}),p.jsx(Br,{size:"sm",style:{position:"absolute",bottom:5,right:20},onClick:()=>r(!n),children:n?"Show more":"Show less"})]}),p.jsxs(Ae,{align:"flex-start",grow:!0,children:[p.jsxs(Ha,{shadow:"xs",p:"sm",radius:"md",style:{backgroundColor:t.colors.dark[8],position:"relative"},children:[p.jsxs(at,{shadow:"md",openDelay:250,width:200,zIndex:1e3,position:"top",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(bt,{variant:"subtle","aria-label":"Help",radius:"xl",size:"sm",style:{position:"absolute",top:5,right:5},children:p.jsx(By,{style:{width:"80%",height:"80%"},stroke:1.5})})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsx(pe,{fz:"xs",children:"At 1st level, your class gives you an attribute boost in the key attribute."})})]}),p.jsx(pe,{c:"gray.5",ta:"center",children:"Key Attribute"}),p.jsx(pe,{c:"gray.4",fw:700,ta:"center",style:{display:"flex",justifyContent:"center"},children:o.keyAttribute.ui??"Varies"})]}),p.jsxs(Ha,{shadow:"xs",p:"sm",radius:"md",style:{backgroundColor:t.colors.dark[8],position:"relative"},children:[p.jsxs(at,{shadow:"md",openDelay:250,width:200,zIndex:1e3,position:"top",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(bt,{variant:"subtle","aria-label":"Help",radius:"xl",size:"sm",style:{position:"absolute",top:5,right:5},children:p.jsx(By,{style:{width:"80%",height:"80%"},stroke:1.5})})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsx(pe,{fz:"xs",children:"You increase your maximum number of HP by this number at 1st level and every level thereafter."})})]}),p.jsx(pe,{c:"gray.5",ta:"center",children:"Hit Points"}),p.jsx(pe,{c:"gray.4",fw:700,ta:"center",children:o.classHp.ui??"Varies"})]})]}),p.jsxs(Z,{children:[p.jsx(Lt,{px:"xs",label:p.jsxs(Ae,{gap:5,children:[p.jsx(hIe,{size:"0.8rem"}),p.jsx(Z,{children:"Perception"})]}),labelPosition:"left"}),p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:o.perception.ui})]}),p.jsxs(Z,{children:[p.jsx(Lt,{px:"xs",label:p.jsxs(Ae,{gap:5,children:[p.jsx(sR,{size:"0.8rem"}),p.jsx(Z,{children:"Skills"})]}),labelPosition:"left"}),o.skills.map((s,l)=>p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:s.ui},l)),o.additionalSkillTrainings.map((s,l)=>p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:s.ui},l))]}),p.jsxs(Z,{children:[p.jsx(Lt,{px:"xs",label:p.jsxs(Ae,{gap:5,children:[p.jsx(Dre,{size:"0.8rem"}),p.jsx(Z,{children:"Saving Throws"})]}),labelPosition:"left"}),o.saves.map((s,l)=>p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:s.ui},l))]}),p.jsxs(Z,{children:[p.jsx(Lt,{px:"xs",label:p.jsxs(Ae,{gap:5,children:[p.jsx(zre,{size:"0.8rem"}),p.jsx(Z,{children:"Attacks"})]}),labelPosition:"left"}),p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:o.simpleWeapons.ui}),p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:o.martialWeapons.ui}),p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:o.advancedWeapons.ui}),p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:o.unarmedAttacks.ui})]}),p.jsxs(Z,{children:[p.jsx(Lt,{px:"xs",label:p.jsxs(Ae,{gap:5,children:[p.jsx(_Oe,{size:"0.8rem"}),p.jsx(Z,{children:"Defenses"})]}),labelPosition:"left"}),p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:o.lightArmor.ui}),p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:o.mediumArmor.ui}),p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:o.heavyArmor.ui}),p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:o.unarmoredDefense.ui})]}),p.jsxs(Z,{children:[p.jsx(Lt,{px:"xs",label:p.jsxs(Ae,{gap:5,children:[p.jsx(G0,{size:"0.8rem"}),p.jsx(Z,{children:"Class DC"})]}),labelPosition:"left"}),p.jsx(Xt,{disabled:a!=="READ",px:"xs",c:"gray.5",fz:"sm",children:o.classDC.ui})]})]})}function Lse(e,t,n,r){const i=e.operations??[],a=t,o=a==="READ/WRITE"?{operationResults:n,characterState:r,primarySource:"class"}:void 0,s=qu(cu().map(A=>A.name),i,a,o,{fullNames:!0}),l=s.length>0?s[0]:{ui:null,operation:null},u=da("MAX_HEALTH_CLASS_PER_LEVEL",i,a,o),c=da("PERCEPTION",i,a,o),d=qu(Gb().map(A=>A.name),i,a,o);let f=[];if(a==="READ")f=[{ui:p.jsxs(p.Fragment,{children:["Trained in a number of additional skills equal to ",e.skill_training_base," plus your Intelligence modifier"]}),operation:null}];else if(a==="READ/WRITE"){const A=kI(e);for(const _ of A){const T=CI({value:"T"},_,void 0,"READ/WRITE",o);f.push({ui:T,operation:_})}}const h=qu(Mse().map(A=>A.name),i,a,o),m=da("SIMPLE_WEAPONS",i,a,o),g=da("MARTIAL_WEAPONS",i,a,o),S=da("ADVANCED_WEAPONS",i,a,o),y=da("UNARMED_ATTACKS",i,a,o),E=da("LIGHT_ARMOR",i,a,o),x=da("MEDIUM_ARMOR",i,a,o),v=da("HEAVY_ARMOR",i,a,o),C=da("UNARMORED_DEFENSE",i,a,o),b=da("CLASS_DC",i,"READ",o);return{keyAttribute:l,classHp:u,perception:c,skills:d,additionalSkillTrainings:f,saves:h,simpleWeapons:m,martialWeapons:g,advancedWeapons:S,unarmedAttacks:y,lightArmor:E,mediumArmor:x,heavyArmor:v,unarmoredDefense:C,classDC:b}}function oZe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-class-feature-${t}`,{id:t}],queryFn:async({queryKey:r})=>{const[i,{id:a}]=r;return await Dn("ability-block",a)}});return p.jsx(p.Fragment,{children:n&&p.jsxs(Ae,{justify:"space-between",wrap:"nowrap",children:[p.jsxs(Ae,{wrap:"nowrap",gap:10,children:[p.jsx(Z,{children:p.jsx(zt,{order:3,children:n.name})}),p.jsx(Z,{children:p.jsx(ei,{cost:n.actions,size:"2.1rem"})})]}),n.level&&p.jsxs(pe,{style:{textWrap:"nowrap"},children:["Class Feature ",n.level]})]})})}function sZe(e){var i,a;const t=e.data.id,{data:n}=En({queryKey:[`find-class-feature-${t}`,{id:t}],queryFn:async({queryKey:o})=>{const[s,{id:l}]=o;return await Dn("ability-block",l)}});if(!n)return p.jsx(ai,{type:"bars",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}});const r=n.prerequisites&&n.prerequisites.length>0||n.frequency||n.trigger||n.cost||n.requirements||n.access;return p.jsxs(Z,{children:[((i=n.meta_data)==null?void 0:i.image_url)&&p.jsx(_s,{style:{float:"right",maxWidth:150,height:"auto"},ml:"sm",radius:"md",fit:"contain",src:(a=n.meta_data)==null?void 0:a.image_url}),p.jsxs(Z,{children:[p.jsx(Z,{pb:2,children:p.jsx(hi,{traitIds:n.traits??[],rarity:n.rarity,interactable:!0})}),n.prerequisites&&n.prerequisites.length>0&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Prerequisites"})," ",n.prerequisites.join(", ")]}),n.frequency&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Frequency"})," ",n.frequency]}),n.trigger&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Trigger"})," ",n.trigger]}),n.cost&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Cost"})," ",n.cost]}),n.requirements&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Requirements"})," ",n.requirements]}),n.access&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Access"})," ",n.access]}),r&&p.jsx(Lt,{}),p.jsx(Ea,{ta:"justify",children:n.description}),n.special&&p.jsxs(pe,{ta:"justify",style:{textIndent:Nb},children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Special"})," ",p.jsx(Ea,{span:!0,children:n.special})]})]})]})}function lZe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-ancestry-${t}`,{id:t}],queryFn:async({queryKey:r})=>{const[i,{id:a}]=r;return await Dn("ancestry",a)}});return p.jsx(p.Fragment,{children:n&&p.jsxs(Ae,{justify:"space-between",wrap:"nowrap",children:[p.jsx(Ae,{wrap:"nowrap",gap:10,children:p.jsx(Z,{children:p.jsx(zt,{order:3,children:n.name})})}),p.jsx(hi,{traitIds:[],rarity:n.rarity})]})})}function uZe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-ancestry-details-${t}`,{id:t}],queryFn:async({queryKey:d})=>{const[f,{id:h}]=d,m=await Dn("ancestry",h),g=await ha("ability-block"),S=await ha("language");return{ancestry:m,abilityBlocks:g,languages:S}}}),[r,i]=Ct(an),a=((n==null?void 0:n.abilityBlocks)??[]).filter(d=>{var f,h;return d.type==="heritage"&&((h=d.traits)==null?void 0:h.includes(((f=n==null?void 0:n.ancestry)==null?void 0:f.trait_id)??-1))}),o=Ze.groupBy(((n==null?void 0:n.abilityBlocks)??[]).filter(d=>{var f,h;return d.type==="feat"&&((h=d.traits)==null?void 0:h.includes(((f=n==null?void 0:n.ancestry)==null?void 0:f.trait_id)??-1))}),"level"),s=((n==null?void 0:n.abilityBlocks)??[]).filter(d=>d.type==="physical-feature"),l=((n==null?void 0:n.abilityBlocks)??[]).filter(d=>d.type==="sense"),u=((n==null?void 0:n.languages)??[]).sort((d,f)=>d.name.localeCompare(f.name)),c=Object.keys(o).map(d=>p.jsxs(nt.Item,{value:d,children:[p.jsxs(nt.Control,{children:["Level ",d]}),p.jsx(nt.Panel,{styles:{content:{padding:0}},children:p.jsxs(it,{gap:0,children:[p.jsx(Lt,{color:"dark.6"}),o[d].map((f,h)=>p.jsx(EI,{feat:f,onClick:()=>{var m;(m=e.onMetadataChange)==null||m.call(e),i({type:"feat",data:{id:f.id},extra:{addToHistory:!0}})}},h))]})})]},d));return!n||!n.ancestry||!n.abilityBlocks?p.jsx(ai,{type:"bars",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}}):p.jsxs(it,{children:[p.jsx(Fse,{ancestry:n.ancestry,mode:"READ",physicalFeatures:s,senses:l,heritages:a,languages:u}),p.jsxs(Z,{children:[p.jsx(zt,{order:3,children:"Heritages"}),p.jsx(nt,{variant:"separated",defaultValue:JT().heritages_opened,onChange:d=>{var f;(f=e.onMetadataChange)==null||f.call(e,{heritages_opened:d??""})},children:p.jsxs(nt.Item,{value:"heritages",children:[p.jsx(nt.Control,{children:"View Options"}),p.jsx(nt.Panel,{styles:{content:{padding:0}},children:p.jsxs(it,{gap:0,children:[p.jsx(Lt,{color:"dark.6"}),a.map((d,f)=>p.jsx(Dse,{heritage:d,onClick:()=>{var h;(h=e.onMetadataChange)==null||h.call(e),i({type:"heritage",data:{id:d.id},extra:{addToHistory:!0}})}},f))]})})]})})]}),p.jsxs(Z,{children:[p.jsx(zt,{order:3,children:"Feats"}),p.jsx(nt,{variant:"separated",defaultValue:JT().feat_section,onChange:d=>{var f;(f=e.onMetadataChange)==null||f.call(e,{feat_section:d??""})},children:c})]})]})}function Fse(e){const t=ht(),[n,r]=j.useState(!0),i=Ct(Sr),[a,o]=Ct(an),s=e.mode,l=Bse(e.ancestry,e.physicalFeatures,e.senses,e.languages,e.mode,e.operationResults??[],i,o);return p.jsxs(p.Fragment,{children:[p.jsxs(Z,{style:{position:"relative"},children:[p.jsxs(Z,{mah:n?400:void 0,style:{WebkitMaskImage:n?"linear-gradient(to bottom, black 60%, transparent 100%)":void 0,maskImage:n?"linear-gradient(to bottom, black 60%, transparent 100%)":void 0,overflowY:n?"hidden":void 0},children:[e.ancestry.artwork_url&&p.jsx(_s,{style:{float:"right",maxWidth:150,height:"auto"},ml:"sm",radius:"md",fit:"contain",src:e.ancestry.artwork_url}),p.jsx(Ea,{ta:"justify",children:e.ancestry.description})]}),p.jsx(Br,{size:"sm",style:{position:"absolute",bottom:5,right:20},onClick:()=>r(!n),children:n?"Show more":"Show less"})]}),p.jsxs(Ae,{align:"flex-start",grow:!0,children:[p.jsxs(Ha,{shadow:"xs",p:"sm",radius:"md",style:{backgroundColor:t.colors.dark[8],position:"relative"},children:[p.jsxs(at,{shadow:"md",openDelay:250,width:200,zIndex:1e3,position:"top",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(bt,{variant:"subtle","aria-label":"Help",radius:"xl",size:"sm",style:{position:"absolute",top:5,right:5},children:p.jsx(By,{style:{width:"80%",height:"80%"},stroke:1.5})})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsx(pe,{fz:"xs",children:"You increase your maximum number of HP by this number at 1st level."})})]}),p.jsx(pe,{c:"gray.5",ta:"center",children:"Hit Points"}),p.jsx(pe,{c:"gray.4",fw:700,ta:"center",children:l.ancestryHp.ui??"Varies"})]}),p.jsxs(Ha,{shadow:"xs",p:"sm",radius:"md",style:{backgroundColor:t.colors.dark[8],position:"relative"},children:[p.jsxs(at,{shadow:"md",openDelay:250,width:200,zIndex:1e3,position:"top",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(bt,{variant:"subtle","aria-label":"Help",radius:"xl",size:"sm",style:{position:"absolute",top:5,right:5},children:p.jsx(By,{style:{width:"80%",height:"80%"},stroke:1.5})})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsx(pe,{fz:"xs",children:"This tells you the physical size of members of your ancestry. Medium corresponds roughly to the height and weight of a human adult, and Small is roughly half that."})})]}),p.jsx(pe,{c:"gray.5",ta:"center",children:"Size"}),p.jsx(pe,{c:"gray.4",fw:700,ta:"center",style:{display:"flex",justifyContent:"center"},children:l.size.ui??"Varies"})]}),p.jsxs(Ha,{shadow:"xs",p:"sm",radius:"md",style:{backgroundColor:t.colors.dark[8],position:"relative"},children:[p.jsxs(at,{shadow:"md",openDelay:250,width:200,zIndex:1e3,position:"top",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(bt,{variant:"subtle","aria-label":"Help",radius:"xl",size:"sm",style:{position:"absolute",top:5,right:5},children:p.jsx(By,{style:{width:"80%",height:"80%"},stroke:1.5})})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsx(pe,{fz:"xs",children:"This is your base speed, it determines how far you can move each time you spend an action (such as Stride) to do so."})})]}),p.jsx(pe,{c:"gray.5",ta:"center",children:"Speed"}),p.jsx(pe,{c:"gray.4",fw:700,ta:"center",style:{display:"flex",justifyContent:"center"},children:l.speed.ui??"Varies"})]})]}),l.boostAttributes.length>0&&p.jsxs(Z,{children:[p.jsx(Lt,{px:"xs",label:p.jsxs(Ae,{gap:5,children:[p.jsx(QRe,{size:"0.8rem"}),p.jsx(Z,{children:"Attribute Boosts"})]}),labelPosition:"left"}),l.boostAttributes.map((u,c)=>p.jsx(Xt,{disabled:s!=="READ",px:"xs",c:"gray.5",fz:"sm",children:u.ui},c))]}),l.flawAttributes.length>0&&p.jsxs(Z,{children:[p.jsx(Lt,{px:"xs",label:p.jsxs(Ae,{gap:5,children:[p.jsx(JRe,{size:"0.8rem"}),p.jsx(Z,{children:"Attribute Flaws"})]}),labelPosition:"left"}),l.flawAttributes.map((u,c)=>p.jsx(Xt,{disabled:s!=="READ",px:"xs",c:"gray.5",fz:"sm",children:u.ui},c))]}),p.jsxs(Z,{children:[p.jsx(Lt,{px:"xs",label:p.jsxs(Ae,{gap:5,children:[Vr("language","0.8rem"),p.jsx(Z,{children:"Languages"})]}),labelPosition:"left"}),l.languages.map((u,c)=>p.jsx(Xt,{disabled:s!=="READ",px:"xs",c:"gray.5",fz:"sm",children:u.ui},c)),l.additionalLanguages.map((u,c)=>p.jsx(Xt,{disabled:s!=="READ",px:"xs",c:"gray.5",fz:"sm",children:u.ui},c))]}),(l.senses.length>0||l.physicalFeatures.length)&&p.jsxs(Z,{children:[p.jsx(Lt,{px:"xs",label:p.jsxs(Ae,{gap:5,children:[Vr("ability-block","0.8rem"),p.jsx(Z,{children:"Special Abilities"})]}),labelPosition:"left"}),l.senses.map((u,c)=>p.jsx(Xt,{disabled:s!=="READ",px:"xs",c:"gray.5",fz:"sm",children:u.ui},c)),l.physicalFeatures.map((u,c)=>p.jsx(Xt,{disabled:s!=="READ",px:"xs",c:"gray.5",fz:"sm",children:u.ui},c))]})]})}function Bse(e,t,n,r,i,a,o,s){const l=e.operations??[],u=i,c=u==="READ/WRITE"?{operationResults:a,characterState:o,primarySource:"ancestry"}:void 0,d=qu(cu().map(C=>C.name),l,u,c,{fullNames:!0}),f=qu(cu().map(C=>C.name),l,u,c,{onlyNegatives:!0,fullNames:!0}),h=da("MAX_HEALTH_ANCESTRY",l,u,c),m=da("SIZE",l,u,c),g=da("SPEED",l,u,c);let S=[];for(const C of l)if(C.type==="setValue")try{S=JSON.parse(C.data.value)}catch{}let y=[];if(u==="READ")y=[{ui:p.jsxs(p.Fragment,{children:["Additional languages equal to your Intelligence modifier (if it's positive). Choose from"," ",S.join(", "),", and any other languages to which you have access (such as the languages prevalent in your region)."]}),operation:null}];else if(u==="READ/WRITE"){const C=AI();for(const b of C){const A=CI({value:"T"},b,void 0,"READ/WRITE",c);y.push({ui:A,operation:b})}}const E=[];for(const C of l)if(C.type==="giveLanguage"){const b=r.find(A=>A.id===C.data.languageId);b&&E.push({ui:p.jsx(Br,{fz:"sm",onClick:()=>{s({type:"language",data:{id:b.id},extra:{addToHistory:!0}})},children:b.name}),operation:null})}const x=[];for(const C of l)if(C.type==="giveAbilityBlock"){const b=t.find(A=>A.id===C.data.abilityBlockId);b&&x.push({ui:p.jsx(Br,{fz:"sm",onClick:()=>{s({type:"physical-feature",data:{id:b.id},extra:{addToHistory:!0}})},children:b.name}),operation:null})}const v=[];for(const C of l)if(C.type==="giveAbilityBlock"){const b=n.find(A=>A.id===C.data.abilityBlockId);b&&v.push({ui:p.jsx(Br,{fz:"sm",onClick:()=>{s({type:"sense",data:{id:b.id},extra:{addToHistory:!0}})},children:b.name}),operation:null})}return{boostAttributes:d,flawAttributes:f,ancestryHp:h,size:m,speed:g,physicalFeatures:x,senses:v,languages:E,additionalLanguages:y}}function cZe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-language-${t}`,{id:t}],queryFn:async({queryKey:r})=>{const[i,{id:a}]=r;return await Dn("language",a)}});return p.jsx(p.Fragment,{children:n&&p.jsx(Ae,{justify:"space-between",wrap:"nowrap",children:p.jsxs(Ae,{wrap:"nowrap",gap:10,children:[p.jsx(Z,{children:p.jsx(zt,{order:3,children:n.name})}),p.jsx(Z,{children:p.jsx(hi,{traitIds:[],rarity:n.rarity})})]})})})}function dZe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-language-${t}`,{id:t}],queryFn:async({queryKey:r})=>{const[i,{id:a}]=r;return await Dn("language",a)}});return n?p.jsx(Z,{children:p.jsxs(Z,{children:[n.speakers&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Speakers"})," ",n.speakers]}),n.script&&p.jsxs(Xt,{ta:"justify",children:[p.jsx(pe,{fw:600,c:"gray.5",span:!0,children:"Script"})," ",n.script]}),(n.speakers||n.script)&&p.jsx(Lt,{}),p.jsx(Ea,{ta:"justify",children:n.description})]})}):p.jsx(ai,{type:"bars",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}})}function fZe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-background-${t}`,{id:t}],queryFn:async({queryKey:r})=>{const[i,{id:a}]=r;return await Dn("background",a)}});return p.jsx(p.Fragment,{children:n&&p.jsxs(Ae,{justify:"space-between",wrap:"nowrap",children:[p.jsx(Ae,{wrap:"nowrap",gap:10,children:p.jsx(Z,{children:p.jsx(zt,{order:3,children:n.name})})}),p.jsx(hi,{traitIds:[],rarity:n.rarity})]})})}function hZe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-background-details-${t}`,{id:t}],queryFn:async({queryKey:r})=>{const[i,{id:a}]=r;return{background:await Dn("background",a)}}});return Ct(an),!n||!n.background?p.jsx(ai,{type:"bars",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}}):p.jsx(it,{children:p.jsx(zse,{background:n.background,mode:"READ"})})}function zse(e){const t=ht(),[n,r]=j.useState(!0),i=Ct(Sr);Ct(an),e.mode;const a=$se(e.background,e.mode,e.operationResults??[],i);let o=e.background.description,s="";const l=/^\s*(\> _.+?_)/gm.exec(e.background.description);return l&&l.length>1&&(o=o.replace(l[0],"").trim(),s=l[1].trim()),p.jsxs(p.Fragment,{children:[p.jsxs(Z,{style:{position:"relative"},children:[p.jsxs(Z,{mah:n?400:void 0,style:{WebkitMaskImage:n?"linear-gradient(to bottom, black 60%, transparent 100%)":void 0,maskImage:n?"linear-gradient(to bottom, black 60%, transparent 100%)":void 0,overflowY:n?"hidden":void 0},children:[e.background.artwork_url&&p.jsx(_s,{style:{float:"right",maxWidth:150,height:"auto"},ml:"sm",radius:"md",fit:"contain",src:e.background.artwork_url}),p.jsx(Ea,{ta:"justify",children:s||o})]}),p.jsx(Br,{size:"sm",style:{position:"absolute",bottom:5,right:20},onClick:()=>r(!n),children:n?"Show more":"Show less"})]}),p.jsx(Z,{children:p.jsx(Ae,{align:"flex-start",grow:!0,children:a.attributes.sort((u,c)=>(u.uuid??"").localeCompare(c.uuid??"")).map((u,c)=>p.jsxs(Ha,{shadow:"xs",p:"sm",radius:"md",style:{backgroundColor:t.colors.dark[8],position:"relative"},children:[p.jsx(pe,{c:"gray.5",ta:"center",children:"Attribute Boost"}),p.jsx(pe,{c:"gray.4",fw:700,ta:"center",style:{display:"flex",justifyContent:"center"},children:u.ui})]},c))})}),s&&p.jsx(Ea,{ta:"justify",children:o})]})}function $se(e,t,n,r,i){const a=e.operations??[],o=t,s=o==="READ/WRITE"?{operationResults:n,characterState:r,primarySource:"background"}:void 0,l=qu(cu().map(u=>u.name),a,o,s);return console.log(l),{attributes:l}}function La(e,t=!1){if(!Tt(e))return null;const r=Use(e);return p.jsxs("span",{style:{position:"relative"},children:[t?p.jsx(p.Fragment,{children:10+r.profValue+(r.attributeMod??0)+r.level+r.totalBonusValue}):p.jsx(p.Fragment,{children:t1(r.profValue+(r.attributeMod??0)+r.level+r.totalBonusValue)}),r.hasConditionals?p.jsx(pe,{c:"guide.5",style:{position:"absolute",top:-6,right:-7},children:"*"}):null]})}function Use(e){var l,u;const t=Tt(e);if(!t)return null;const n=pZe(e),r=n.conditionals.length>0,i=t.value.value!=="U"?((l=Tt("LEVEL"))==null?void 0:l.value)??0:0,a=pse(t.value.value),o=((u=Tt(t.value.attribute??""))==null?void 0:u.value.value)??null,s=Array.from(n.bonuses.values()).reduce((c,d)=>c+d.value,0);return{level:i,profValue:a,attributeMod:o,totalBonusValue:s,hasConditionals:r,breakdown:n}}function pZe(e){const t=Ese(e),n=new Map,r=[];for(const i of t)if(i.text)r.push({text:i.text,source:i.source});else{const a=i.type?i.type.trim().toLowerCase():"untyped";if(n.has(a)){const o=n.get(a);n.set(a,{value:a==="untyped"?o.value+(i.value??0):Math.max(o.value,i.value??0),composition:[...o.composition,{amount:i.value??0,source:i.source}]})}else n.set(a,{value:i.value,composition:[{amount:i.value,source:i.source}]})}return{bonuses:n,conditionals:r}}function mZe(e){if(e.text)return e.text;if(e.value){const t=e.value>0?"bonus":"penalty";return e.type?`${t1(e.value)} ${e.type} ${t}`:`${t1(e.value)} ${t}`}return""}function Vse(){const e=Tt("MAX_HEALTH_ANCESTRY").value,t=Tt("MAX_HEALTH_CLASS_PER_LEVEL").value,n=Tt("MAX_HEALTH_BONUS").value,r=Tt("ATTRIBUTE_CON").value.value;return{level:Tt("LEVEL").value,ancestryHp:e,classHp:t,bonusHp:n,conMod:r}}function Hse(){const{level:e,ancestryHp:t,classHp:n,bonusHp:r,conMod:i}=Vse();return t+r+(n+i)*e}function qse(){return p.jsx("span",{children:Hse()})}function Wse(e,t){const n=Tt(e);return n?p.jsxs(pe,{...t,children:[p.jsx(pe,{...t,span:!0,children:n.value.value<0?"-":"+"}),p.jsx(pe,{...t,td:n.value.partial?"underline":void 0,span:!0,children:Math.abs(n.value.value)})]}):null}function gZe(e){const t=Tt(e.data.variableName);return p.jsx(p.Fragment,{children:t&&p.jsxs(Ae,{justify:"space-between",wrap:"nowrap",children:[p.jsx(Ae,{wrap:"nowrap",gap:10,children:p.jsx(Z,{children:p.jsx(zt,{order:3,children:Ze.startCase(Ts(t))})})}),p.jsx(Z,{children:p.jsx(ft,{children:ll(t.value.value)})})]})})}function vZe(e){const t=Tt(e.data.variableName);if(!t)return null;const n=Use(t.name),r=kse(t.name),i=Ese(t.name);let a=[];for(const o of r){const s=am(o.from)?ll(o.from.value):o.from,l=am(o.to)?ll(o.to.value):o.to;a.push({type:"ADJUSTMENT",title:`${s} → ${l}`,description:`From ${o.source}`,timestamp:o.timestamp})}for(const o of i)a.push({type:"BONUS",title:mZe(o),description:`From ${o.source}`,timestamp:o.timestamp});return a=a.sort((o,s)=>o.timestamp-s.timestamp),p.jsx(Z,{children:p.jsxs(nt,{variant:"separated",defaultValue:"",children:[t.value.attribute&&p.jsxs(nt.Item,{value:"breakdown",children:[p.jsx(nt.Control,{icon:p.jsx(Pre,{size:"1rem"}),children:"Breakdown"}),p.jsx(nt.Panel,{children:p.jsxs(Ae,{gap:8,wrap:"nowrap",align:"center",children:[La(t.name,e.data.isDC)," ="," ",e.data.isDC&&p.jsx(p.Fragment,{children:"10 + "}),p.jsxs(at,{shadow:"md",openDelay:250,width:230,position:"bottom",zIndex:1e4,withArrow:!0,children:[p.jsx(at.Target,{children:p.jsx(sl,{style:{cursor:"pointer"},children:n.profValue})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsxs(pe,{c:"gray.0",size:"xs",children:["You're ",ll(t.value.value).toLowerCase()," in this proficiency, resulting in a"," ",t1(pse(t.value.value))," bonus."]})})]}),"+",p.jsxs(at,{shadow:"md",openDelay:250,width:230,position:"bottom",zIndex:1e4,withArrow:!0,children:[p.jsx(at.Target,{children:p.jsx(sl,{style:{cursor:"pointer"},children:n.level})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsx(pe,{c:"gray.0",size:"xs",children:t.value.value==="U"?p.jsxs(p.Fragment,{children:["Because you're"," ",ll(t.value.value).toLowerCase()," in this proficiency, you don't add your level."]}):p.jsxs(p.Fragment,{children:["Because you're"," ",ll(t.value.value).toLowerCase()," in this proficiency, you add your level."]})})})]}),n.attributeMod&&p.jsxs(p.Fragment,{children:["+",p.jsxs(at,{shadow:"md",openDelay:250,width:230,position:"bottom",zIndex:1e4,withArrow:!0,children:[p.jsx(at.Target,{children:p.jsx(sl,{style:{cursor:"pointer"},children:n.attributeMod})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsxs(pe,{c:"gray.0",size:"xs",children:["This proficiency is associated with the"," ",Yf(t.value.attribute??"")," attribute, so you add your ",Yf(t.value.attribute??"")," modifier."]})})]})]}),[...n.breakdown.bonuses.entries()].map(([o,s],l)=>p.jsxs(p.Fragment,{children:["+",p.jsxs(at,{shadow:"md",openDelay:250,width:230,position:"bottom",zIndex:1e4,withArrow:!0,children:[p.jsx(at.Target,{children:p.jsx(sl,{style:{cursor:"pointer"},children:s.value})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsxs(pe,{c:"gray.0",size:"xs",children:["Your ",o," bonus. Use the highest from the following:",p.jsx(Lt,{pb:5}),p.jsx(Lc,{size:"xs",children:s.composition.map((u,c)=>p.jsxs(Lc.Item,{children:[t1(u.amount)," ",p.jsxs(pe,{c:"dimmed",span:!0,children:["[","from ",u.source,"]"]})]},c))})]})})]})]})),n.hasConditionals&&p.jsxs(p.Fragment,{children:["+",p.jsxs(at,{shadow:"md",openDelay:250,width:230,position:"bottom",zIndex:1e4,withArrow:!0,children:[p.jsx(at.Target,{children:p.jsx(sl,{style:{cursor:"pointer"},c:"guide.5",children:"*"})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsxs(pe,{c:"gray.0",size:"xs",children:["You have conditional bonuses! These will only apply situationally:",p.jsx(Lt,{pb:5}),p.jsx(Lc,{size:"xs",children:n.breakdown.conditionals.map((o,s)=>p.jsxs(Lc.Item,{children:[o.text," ",p.jsxs(pe,{c:"dimmed",span:!0,children:["[","from ",o.source,"]"]})]},s))})]})})]})]})]})})]}),p.jsxs(nt.Item,{value:"timeline",children:[p.jsx(nt.Control,{icon:p.jsx(Ure,{size:"1rem"}),children:"Timeline"}),p.jsx(nt.Panel,{children:p.jsx(Z,{children:p.jsxs(Mb,{active:a.length-1,bulletSize:24,lineWidth:2,children:[a.map((o,s)=>p.jsx(Mb.Item,{bullet:o.type==="ADJUSTMENT"?p.jsx(sR,{size:12}):p.jsx(xIe,{size:12}),title:o.title,children:p.jsx(pe,{size:"xs",fs:"italic",mt:4,children:o.description})},s)),a.length===0&&p.jsx(pe,{fz:"sm",fs:"italic",children:"No recorded history found for this proficiency."})]})})})]})]})})}function yZe(e){return p.jsx(p.Fragment,{children:p.jsxs(Ae,{justify:"space-between",wrap:"nowrap",children:[p.jsx(Ae,{wrap:"nowrap",gap:10,children:p.jsx(Z,{children:p.jsx(zt,{order:3,children:"Attributes"})})}),p.jsx(Z,{})]})})}function bZe(e){const t=cu(),n=ht(),r={};for(const s of t){const l=kse(s.name);for(const[u,c]of l.entries()){r[c.source]||(r[c.source]=Array(t.length).fill(null));const d=c.to,f=c.from,h=r[c.source][t.indexOf(s)]??0;r[c.source][t.indexOf(s)]=h+(d.value>((f==null?void 0:f.value)??0)?1:-1),!(f!=null&&f.partial)&&d.partial&&(r[c.source][t.indexOf(s)]=void 0)}}const i=Object.keys(r).sort().map((s,l)=>p.jsx(nr.Tr,{ta:"center",children:r[s].map((u,c)=>p.jsxs(at,{shadow:"md",openDelay:250,position:"bottom",zIndex:1e4,children:[p.jsx(at.Target,{children:p.jsx(nr.Td,{children:u!==null?u===void 0?p.jsx(p.Fragment,{children:"—"}):p.jsx(p.Fragment,{children:t1(u)}):p.jsx(p.Fragment,{})},c)}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsxs(pe,{c:"gray.0",size:"xs",children:["From ",s]})})]}))},l)),a=p.jsx(nr.Tr,{children:t.map((s,l)=>p.jsx(nr.Th,{ta:"center",children:XT(Ts(s))},l))}),o=p.jsx(nr.Tr,{children:t.map((s,l)=>p.jsxs(nr.Th,{ta:"center",children:[" ","="," ",p.jsx(pe,{c:"gray.0",span:!0,children:s.value.value<0?"-":"+"}),p.jsx(pe,{c:"gray.0",td:s.value.partial?"underline":void 0,span:!0,children:Math.abs(s.value.value)})]},l))});return p.jsx(Z,{children:p.jsxs(nr,{highlightOnHover:!0,withTableBorder:!0,withColumnBorders:!0,withRowBorders:!1,children:[p.jsx(nr.Thead,{style:{borderBottom:"1px solid "+n.colors.dark[6]},children:a}),p.jsx(nr.Tbody,{children:i}),p.jsx(nr.Tfoot,{style:{borderTop:"1px solid "+n.colors.dark[6]},children:o})]})})}function wZe(e){return p.jsx(p.Fragment,{children:p.jsxs(Ae,{justify:"space-between",wrap:"nowrap",children:[p.jsx(Ae,{wrap:"nowrap",gap:10,children:p.jsx(Z,{children:p.jsx(zt,{order:3,children:"Hit Points"})})}),p.jsx(Z,{})]})})}function xZe(e){const t=Vse();return p.jsx(Z,{children:p.jsx(nt,{variant:"separated",defaultValue:"breakdown",children:p.jsxs(nt.Item,{value:"breakdown",children:[p.jsx(nt.Control,{icon:p.jsx(Pre,{size:"1rem"}),children:"Breakdown"}),p.jsx(nt.Panel,{children:p.jsxs(Ae,{gap:8,wrap:"nowrap",align:"center",children:[qse()," ="," (",p.jsxs(at,{shadow:"md",openDelay:250,width:230,position:"bottom",zIndex:1e4,withArrow:!0,children:[p.jsx(at.Target,{children:p.jsx(sl,{style:{cursor:"pointer"},children:t.classHp})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsx(pe,{c:"gray.0",size:"xs",children:"This is the base hit points from your class. You gain this amount every level."})})]}),"+",p.jsxs(at,{shadow:"md",openDelay:250,width:230,position:"bottom",zIndex:1e4,withArrow:!0,children:[p.jsx(at.Target,{children:p.jsx(sl,{style:{cursor:"pointer"},children:t.conMod})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsx(pe,{c:"gray.0",size:"xs",children:"You add your Constitution modifier to the hit points you gain every level."})})]}),") × ",p.jsxs(at,{shadow:"md",openDelay:250,width:230,position:"bottom",zIndex:1e4,withArrow:!0,children:[p.jsx(at.Target,{children:p.jsx(sl,{style:{cursor:"pointer"},children:t.level})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsx(pe,{c:"gray.0",size:"xs",children:"This is your current level."})})]})," + ",p.jsxs(at,{shadow:"md",openDelay:250,width:230,position:"bottom",zIndex:1e4,withArrow:!0,children:[p.jsx(at.Target,{children:p.jsx(sl,{style:{cursor:"pointer"},children:t.ancestryHp})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsx(pe,{c:"gray.0",size:"xs",children:"This is the base hit points from your ancestry. You gain this amount once at level 1."})})]}),t.bonusHp>0&&p.jsxs(p.Fragment,{children:[" + ",p.jsxs(at,{shadow:"md",openDelay:250,width:230,position:"bottom",zIndex:1e4,withArrow:!0,children:[p.jsx(at.Target,{children:p.jsx(sl,{style:{cursor:"pointer"},children:t.bonusHp})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsx(pe,{c:"gray.0",size:"xs",children:"This is additional hit points you've gained from various sources."})})]})]})]})})]})})})}function SZe(e){return p.jsx(p.Fragment,{children:p.jsx(Ae,{justify:"space-between",wrap:"nowrap",children:p.jsxs(Ae,{wrap:"nowrap",gap:10,children:[p.jsx(Z,{children:p.jsx(zt,{order:3,children:e.data.title})}),p.jsx(Z,{})]})})})}function CZe(e){return p.jsx(Z,{children:p.jsx(Ea,{ta:"justify",children:e.data.description})})}function EZe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-trait-${t}`,{id:t}],queryFn:async({queryKey:r})=>{const[i,{id:a}]=r;return await Dn("trait",a)}});return p.jsx(p.Fragment,{children:n&&p.jsx(Ae,{justify:"space-between",wrap:"nowrap",children:p.jsxs(Ae,{wrap:"nowrap",gap:10,children:[p.jsx(Z,{children:p.jsx(zt,{order:3,children:n.name})}),p.jsx(Z,{})]})})})}function kZe(e){const t=e.data.id,{data:n}=En({queryKey:[`find-trait-${t}`,{id:t}],queryFn:async({queryKey:r})=>{const[i,{id:a}]=r;return await Dn("trait",a)}});return n?p.jsx(Z,{children:p.jsx(Z,{children:p.jsx(Ea,{ta:"justify",children:n.description||"No description given."})})}):p.jsx(ai,{type:"bars",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}})}function AZe(){var c,d;const[e,t]=Ct(an),{ref:n,height:r}=JD(),i=j.useRef(null),[a,o]=dxe({key:"prev-drawer-metadata",defaultValue:{scrollTop:0,openedDict:{}}}),s=f=>{const h={scrollTop:i.current.scrollTop??0,openedDict:f??a.openedDict};o(h)},l=()=>{t(null)},u=()=>{var m;let f=[...((m=e==null?void 0:e.extra)==null?void 0:m.history)??[]];const h=f.pop();if(!h)return l();t({type:h.type,data:h.data,extra:{history:f}}),setTimeout(()=>{i.current.scrollTo({top:a.scrollTop})},1)};return p.jsxs(du,{opened:!!e,onClose:l,title:p.jsx(Z,{ref:n,children:p.jsxs(Ae,{gap:12,justify:"space-between",children:[p.jsxs(Z,{style:{flex:1},children:[p.jsx(_Ze,{}),p.jsx(Lt,{})]}),(d=(c=e==null?void 0:e.extra)==null?void 0:c.history)!=null&&d.length?p.jsx(bt,{variant:"light",color:"gray.4",radius:"xl",size:"md",onClick:u,"aria-label":"Go back to previous drawer",children:p.jsx(wre,{size:"1.2rem",stroke:1.5})}):p.jsx(bt,{variant:"light",color:"gray.4",radius:"xl",size:"md",onClick:l,"aria-label":"Close drawer",children:p.jsx(I1,{size:"1.2rem",stroke:1.5})})]})}),withCloseButton:!1,position:"right",zIndex:1e3,styles:{title:{width:"100%"},header:{paddingBottom:0},body:{paddingRight:2}},children:[p.jsx(Jn,{viewportRef:i,h:`calc(100vh - (${r||30}px + 40px))`,pr:18,children:p.jsx(Z,{pt:8,style:{overflowX:"hidden"},children:p.jsx(MZe,{onMetadataChange:f=>{s(f)}})})}),e&&!["character","stat-prof","stat-attributes","stat-hp","stat-resist-weak"].includes(e.type)&&p.jsxs(at,{shadow:"md",openDelay:500,zIndex:1e3,withArrow:!0,withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(bt,{variant:"subtle","aria-label":"Help and Feedback",radius:"xl",color:"dark.3",style:{position:"absolute",bottom:5,right:5},onClick:()=>{l(),Zp({modal:"contentFeedback",title:p.jsx(zt,{order:3,children:"Content Details"}),innerProps:{type:kR(e.type),data:e.data}})},children:p.jsx(IIe,{style:{width:"70%",height:"70%"},stroke:1.5})})}),p.jsx(at.Dropdown,{py:0,px:10,children:p.jsx(pe,{size:"sm",children:"Something wrong?"})})]})]})}const _Ze=O.forwardRef((e,t)=>{const n=sc(an);return p.jsxs("div",{ref:t,children:[(n==null?void 0:n.type)==="generic"&&p.jsx(SZe,{data:n.data}),(n==null?void 0:n.type)==="feat"&&p.jsx(xXe,{data:n.data}),(n==null?void 0:n.type)==="action"&&p.jsx(Wx,{data:n.data}),(n==null?void 0:n.type)==="spell"&&p.jsx(EXe,{data:n.data}),(n==null?void 0:n.type)==="class"&&p.jsx(iZe,{data:n.data}),(n==null?void 0:n.type)==="class-feature"&&p.jsx(oZe,{data:n.data}),(n==null?void 0:n.type)==="ancestry"&&p.jsx(lZe,{data:n.data}),(n==null?void 0:n.type)==="background"&&p.jsx(fZe,{data:n.data}),(n==null?void 0:n.type)==="language"&&p.jsx(cZe,{data:n.data}),(n==null?void 0:n.type)==="heritage"&&p.jsx(Wx,{data:n.data})," ",(n==null?void 0:n.type)==="sense"&&p.jsx(Wx,{data:n.data})," ",(n==null?void 0:n.type)==="physical-feature"&&p.jsx(Wx,{data:n.data})," ",(n==null?void 0:n.type)==="stat-prof"&&p.jsx(gZe,{data:n.data}),(n==null?void 0:n.type)==="stat-attributes"&&p.jsx(yZe,{data:n.data}),(n==null?void 0:n.type)==="stat-hp"&&p.jsx(wZe,{data:n.data}),(n==null?void 0:n.type)==="trait"&&p.jsx(EZe,{data:n.data})]})});function MZe(e){const t=sc(an);return p.jsxs(p.Fragment,{children:[(t==null?void 0:t.type)==="generic"&&p.jsx(CZe,{data:t.data}),(t==null?void 0:t.type)==="feat"&&p.jsx(SXe,{data:t.data}),(t==null?void 0:t.type)==="action"&&p.jsx(Gx,{data:t.data}),(t==null?void 0:t.type)==="spell"&&p.jsx(kXe,{data:t.data}),(t==null?void 0:t.type)==="class"&&p.jsx(aZe,{data:t.data,onMetadataChange:e.onMetadataChange}),(t==null?void 0:t.type)==="class-feature"&&p.jsx(sZe,{data:t.data}),(t==null?void 0:t.type)==="ancestry"&&p.jsx(uZe,{data:t.data,onMetadataChange:e.onMetadataChange}),(t==null?void 0:t.type)==="background"&&p.jsx(hZe,{data:t.data,onMetadataChange:e.onMetadataChange}),(t==null?void 0:t.type)==="language"&&p.jsx(dZe,{data:t.data}),(t==null?void 0:t.type)==="heritage"&&p.jsx(Gx,{data:t.data})," ",(t==null?void 0:t.type)==="sense"&&p.jsx(Gx,{data:t.data})," ",(t==null?void 0:t.type)==="physical-feature"&&p.jsx(Gx,{data:t.data})," ",(t==null?void 0:t.type)==="stat-prof"&&p.jsx(vZe,{data:t.data}),(t==null?void 0:t.type)==="stat-attributes"&&p.jsx(bZe,{data:t.data}),(t==null?void 0:t.type)==="stat-hp"&&p.jsx(xZe,{data:t.data}),(t==null?void 0:t.type)==="trait"&&p.jsx(kZe,{data:t.data})]})}function Sd(e){if(!e){document.title=kz;return}const t=`${e} | ${kz}`;document.title!==t&&(document.title=t)}function TZe(e){const t=new URL(window.location.href);t.searchParams.delete(e),window.history.pushState({path:t.href},"",t.href)}function NZe({context:e,id:t,innerProps:n}){var o,s;const r=n.data.id,{data:i,isFetching:a}=En({queryKey:[`find-content-${n.type}-${r}`],queryFn:async()=>{const l=await Dn(n.type,r),u=l?await Dn("content-source",l.content_source_id):null;return{content:l,source:u}},enabled:!!r});return!i||a?p.jsx(ai,{type:"bars",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}}):!i.content||!i.source?p.jsx(pe,{children:"Content not found"}):p.jsxs(it,{style:{position:"relative"},children:[p.jsx("div",{children:p.jsxs(Ae,{wrap:"nowrap",children:[p.jsx(Cl,{size:94,radius:"md",src:(s=(o=i.content)==null?void 0:o.meta_data)==null?void 0:s.image_url,children:Vr(n.type,"4.5rem")}),p.jsxs("div",{children:[p.jsx(pe,{fz:"xs",tt:"uppercase",fw:700,c:"dimmed",children:i.content.type||n.type}),p.jsx(pe,{fz:"lg",fw:500,children:i.content.name}),p.jsxs(Ae,{wrap:"nowrap",gap:10,mt:3,children:[p.jsx(yE,{stroke:1.5,size:"1rem"}),p.jsx(pe,{fz:"xs",c:"dimmed",children:i.source.name})]}),p.jsxs(Ae,{wrap:"nowrap",gap:10,mt:5,children:[p.jsx(NIe,{stroke:1.5,size:"1rem"}),p.jsx(pe,{fz:"xs",c:"dimmed",children:i.content.id})]})]})]})}),p.jsx(Ae,{justify:"center",children:p.jsx(mt,{fullWidth:!0,variant:"light",onClick:()=>{},children:"Submit Content Update"})})]})}function DZe({context:e,id:t,innerProps:n}){const[r,i]=j.useState(""),a=()=>{n.onConfirm(Zy(r)),e.closeModal(t)};return p.jsxs(it,{style:{position:"relative"},children:[p.jsx(pe,{children:"You become trained in the following lore of your choice."}),p.jsx(sn,{placeholder:"Name of Lore",onChange:async o=>{i(o.target.value)},onKeyDown:XX([["mod+Enter",a],["Enter",a]])}),r&&Yf(Zy(r))!==r.trim()&&p.jsxs(pe,{children:["Resulting Name: ",Yf(Zy(r))]}),p.jsxs(Ae,{justify:"flex-end",children:[p.jsx(mt,{variant:"default",onClick:()=>e.closeModal(t),children:"Cancel"}),p.jsx(mt,{disabled:!r,onClick:a,children:"Train in Lore"})]})]})}const Gse={sphere:POe,three:PRe,safari:Cre,telegram:ORe,fire:jRe,affiliate:aRe,tree:XS,home:KM,heart:RIe,wand:iPe,magic:IOe,star:FOe,spade:ROe,palette:Fre,ghost:SIe,pumpkin:gOe,bookmarks:kRe,ear:fIe,box:_Re,brush:lR,moon:rOe,packages:oOe,shadow:AOe,shovel:TOe,badge:hRe,mushroom:iOe,webhook:aPe,discord:NRe,maximize:JIe,discount:sIe,wechat:LRe,music:aOe,combat:$re,sword:zre,storm:zOe,history:jIe,key:$Ie,bow:ARe,boat:EOe,robot:SOe,sandbox:TRe,clover:MRe,map:Ore,pin:YIe,castle:FRe,tower:KOe,building:$Re,lighthouse:zRe,fortress:BRe,hammer:GM,wall:rPe,hand:TIe,trek:YOe,water:dIe,confetti:tIe,haze:DIe,stars:BOe,pinterest:IRe,signature:NOe,dice:oIe,folder:wIe,notes:Lre,book:CRe,book_2:yE,bookmark:ERe,vocabulary:G0,notebook:jre,kitchen:GOe,devices:aIe,bong:SRe,soup:DOe,alien:lRe,ufo:JOe,hierarchy:OIe,alarm:oRe,cherry:KRe,square_root:LOe,report:xOe,album:sRe,pizza:fOe,microscope:QIe,cat:WRe,paw:lOe,dog:uIe,deer:iIe,bat:yRe,butterfly:URe,feather:gIe,fish:bIe,pig:dOe,spider:jOe,language:Rre,world:Vre,radioactive:wOe,planet:hOe,candle:qRe,campfire:HRe,virus:nPe,biohazard:bRe,dna:lIe,eyeglass:pIe,mask:mIe,crown:rIe,telescope:WOe,poo:mOe,drone:cIe,seeding:kOe,plant:pOe,leaf:VIe,route:COe,pentagram:uOe,mood_confuzed:XIe,mood_happy:ZIe,mood_smile:tOe,mood_sad:eOe,moon_2:nOe,cookie:nIe,books:Sre,password:sOe,shield:MOe,address_book:rRe,calendar:VRe,timeline:Ure,artboard:gRe,allies:Dre,treemap:GRe},_I=({name:e,...t})=>{const n=Gse[e]||null;return n?p.jsx(n,{...t}):(console.warn(`Icon "${e}" not found`),null)};function RZe({context:e,id:t,innerProps:n}){return p.jsx(Kse,{onSelect:n.onSelect,onClose:()=>e.closeModal(t)})}function Kse(e){const t=Object.keys(Gse).sort().map((n,r)=>p.jsx(Hn,{className:nb.item,onClick:()=>{e.onSelect(n),e.onClose()},children:p.jsx(bt,{variant:"transparent","aria-label":`${n} Icon`,children:p.jsx(_I,{name:n,style:{width:"70%",height:"70%"},stroke:1.5})})}));return p.jsx(w2,{withBorder:!0,radius:"md",className:nb.card,pl:15,py:15,pr:5,children:p.jsx(Jn,{h:315,children:p.jsx(fm,{cols:3,pl:5,py:5,pr:15,children:t})})})}function IZe({context:e,id:t,innerProps:n}){const[r,i]=j.useState(n.page.name),[a,o]=j.useState(n.page.icon),[s,l]=j.useState(n.page.color),[u,c]=j.useState(!1),d=()=>vh.openConfirmModal({title:p.jsx(zt,{order:4,children:"Delete Page"}),children:p.jsx(pe,{size:"sm",children:"Are you sure you want to delete this page?"}),labels:{confirm:"Confirm",cancel:"Cancel"},onCancel:()=>{},onConfirm:()=>{n.onDelete(),e.closeModal(t)}});return p.jsxs(it,{style:{position:"relative"},children:[p.jsx(ra,{opened:u,onClose:()=>c(!1),title:"Select Icon",zIndex:1e3,children:p.jsx(Kse,{onSelect:f=>{console.log(f),o(f)},onClose:()=>c(!1)})}),p.jsx(sn,{label:"Title",defaultValue:r,placeholder:"Title",onChange:async f=>{i(f.currentTarget.value)},w:150}),p.jsxs(Ae,{wrap:"nowrap",align:"flex-start",children:[p.jsxs(Z,{pt:2,children:[p.jsx(pe,{fz:"xs",c:"gray.4",children:"Icon"}),p.jsx(Hn,{w:"50%",onClick:()=>{c(!0)},children:p.jsx(bt,{variant:"light","aria-label":"Icon",size:"lg",radius:"xl",color:s,children:p.jsx(_I,{name:a,style:{width:"70%",height:"70%"},stroke:1.5})})})]}),p.jsx(m4,{radius:"xl",size:"xs",label:"Color",placeholder:"Color",defaultValue:s,swatches:["#25262b","#868e96","#fa5252","#e64980","#be4bdb","#8d69f5","#577deb",Xp,"#15aabf","#12b886"],onChange:f=>{l(f)}})]}),p.jsxs(Ae,{justify:"space-between",children:[p.jsx(mt,{variant:"outline",size:"compact-xs",color:"red",onClick:()=>d(),children:"Delete Page"}),p.jsxs(Ae,{justify:"flex-end",children:[p.jsx(mt,{variant:"default",onClick:()=>e.closeModal(t),children:"Cancel"}),p.jsx(mt,{disabled:!r.trim()||!a||!s,onClick:()=>{n.onUpdate(r,a,s),e.closeModal(t)},children:"Update"})]})]})]})}const OZe={selectContent:kQe,selectImage:JQe,selectIcon:RZe,updateCharacterPortrait:zQe,contentFeedback:NZe,addNewLore:DZe,updateNotePage:IZe};function _V(e){let t=[],n=[];for(let r=0;r<3;r++){let i=Ot(e).lighten(r*3).toString();t.push(i)}for(let r=0;r<7;r++){let i=Ot(e).darken(r*3).toString();n.push(i)}return[...t,e,...n]}function PZe(){var f;const[e,t]=Ct(an),[n,r]=Ct(bE);j.useEffect(()=>{o2.auth.getSession().then(({data:{session:m}})=>{r(m)});const{data:{subscription:h}}=o2.auth.onAuthStateChange((m,g)=>{r(g)});return()=>h.unsubscribe()},[]);const i=sc(Sr),a=Cxe(i),[o,s]=j.useState();j.useEffect(()=>{(async()=>{var h,m,g;if(((h=a==null?void 0:a.details)==null?void 0:h.background_image_url)===((m=i==null?void 0:i.details)==null?void 0:m.background_image_url)){o!=null&&o.url||s(await bV());return}console.log("Updating background image..."),s(await bV((g=i==null?void 0:i.details)==null?void 0:g.background_image_url))})()},[i]);const[l,u]=j.useState({colors:{guide:_V(Xp),dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"]},primaryColor:"guide",defaultRadius:"md",fontFamily:"Montserrat, sans-serif",fontFamilyMonospace:"Ubuntu Mono, monospace"});j.useEffect(()=>{var h,m,g,S;((h=a==null?void 0:a.details)==null?void 0:h.sheet_theme)!==((m=i==null?void 0:i.details)==null?void 0:m.sheet_theme)&&(console.log("Updating color theme..."),u({colors:{guide:_V(((S=(g=i==null?void 0:i.details)==null?void 0:g.sheet_theme)==null?void 0:S.color)||Xp),dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"]},primaryColor:"guide",defaultRadius:"md",fontFamily:"Montserrat, sans-serif",fontFamilyMonospace:"Ubuntu Mono, monospace"}))},[i]);const c=H4(),[d]=zte();return j.useEffect(()=>{(async()=>{const h=d.get("open");if(h){const m=qb(h),g=m?wI(m):null;g&&setTimeout(()=>{t(g)},500),TZe("open")}})()},[c]),p.jsx(iZ,{theme:l,defaultColorScheme:"dark",children:p.jsxs(fFe,{modals:OZe,children:[p.jsx(Q9,{src:(o==null?void 0:o.url)??"",radius:0,style:{position:"fixed",top:0,left:0,zIndex:-1e3},w:"100vw",h:"100vh"}),((f=o==null?void 0:o.source)==null?void 0:f.trim())&&p.jsx(Br,{href:o.source_url,target:"_blank",underline:"hover",children:p.jsxs(pe,{size:"xs",c:"dimmed",style:{position:"fixed",bottom:6,right:10},children:[p.jsx(lR,{size:"0.5rem"})," ",o.source]})}),p.jsx(XLe,{}),p.jsx(bd,{position:"top-right",zIndex:9400}),p.jsx(AZe,{}),p.jsx(cPe,{children:p.jsx(y6e,{})})]})})}const jZe="/assets/404-guy-2f4a1a8e.png";function LZe(){Sd("Error 404");const e=ht(),t=Ja();return p.jsxs(x2,{style:{paddingTop:me(80),paddingBottom:me(80)},children:[p.jsx("div",{style:{textAlign:"center",fontWeight:900,fontSize:me(300),lineHeight:1,color:e.colors.dark[4],marginBottom:-250},children:"404"}),p.jsx("div",{children:p.jsx(_s,{maw:240,mx:"auto",radius:"md",src:jZe,alt:"Random image"})}),p.jsx(zt,{style:{fontFamily:`Greycliff CF, ${e.fontFamily}`,textAlign:"center",fontWeight:900,fontSize:me(38),marginTop:-20},children:"You found a secret place."}),p.jsx(pe,{color:"dimmed",size:"lg",ta:"center",style:{maxWidth:me(500),margin:"auto",marginTop:e.spacing.xl,marginBottom:`calc(${e.spacing.xl} * 1.5)`},children:"Unfortunately, this is only a 404 page. You may have mistyped the address, or the page has been moved to another URL."}),p.jsx(Ae,{align:"center",children:p.jsx(mt,{variant:"subtle",size:"md",color:"green",onClick:()=>{t("/")},children:"Take me back to home page"})})]})}const FZe="_root_19znf_1",BZe="_label_19znf_7",zZe="_title_19znf_20",$Ze="_description_19znf_32",Kx={root:FZe,label:BZe,title:zZe,description:$Ze};function UZe(){return Sd("Error 500"),p.jsx("div",{className:Kx.root,children:p.jsxs(x2,{children:[p.jsx("div",{className:Kx.label,children:"500"}),p.jsx(zt,{className:Kx.title,children:"Something bad just happened..."}),p.jsx(pe,{size:"lg",ta:"center",className:Kx.description,children:"Our servers could not handle your request. Don't worry, our development team was already notified. Try refreshing the page."}),p.jsx(Ae,{justify:"center",children:p.jsx(mt,{variant:"white",size:"md",children:"Refresh the page"})})]})})}function VZe(){return Sd(),p.jsx("div",{children:p.jsx("h1",{children:"Home Page"})})}function Yx(e){const t=Ja(),n=sc(bE);return j.useEffect(()=>{const r=window.location.pathname.substring(1);setTimeout(()=>{n||t(`/login?redirect=${r}`)})},[n]),n?p.jsx(p.Fragment,{children:e.page}):p.jsx(p.Fragment,{})}function ns(e){const t=ht();return p.jsx(Z,{style:{border:"0px solid",borderRadius:t.radius.md,backdropFilter:`blur(${e.blur??8}px)`,backgroundColor:t.colors.dark[8]+"85"},...e,children:e.children})}var MV,hr="colors",co="sizes",Et="space",HZe={gap:Et,gridGap:Et,columnGap:Et,gridColumnGap:Et,rowGap:Et,gridRowGap:Et,inset:Et,insetBlock:Et,insetBlockEnd:Et,insetBlockStart:Et,insetInline:Et,insetInlineEnd:Et,insetInlineStart:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,marginBlock:Et,marginBlockEnd:Et,marginBlockStart:Et,marginInline:Et,marginInlineEnd:Et,marginInlineStart:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,paddingBlock:Et,paddingBlockEnd:Et,paddingBlockStart:Et,paddingInline:Et,paddingInlineEnd:Et,paddingInlineStart:Et,top:Et,right:Et,bottom:Et,left:Et,scrollMargin:Et,scrollMarginTop:Et,scrollMarginRight:Et,scrollMarginBottom:Et,scrollMarginLeft:Et,scrollMarginX:Et,scrollMarginY:Et,scrollMarginBlock:Et,scrollMarginBlockEnd:Et,scrollMarginBlockStart:Et,scrollMarginInline:Et,scrollMarginInlineEnd:Et,scrollMarginInlineStart:Et,scrollPadding:Et,scrollPaddingTop:Et,scrollPaddingRight:Et,scrollPaddingBottom:Et,scrollPaddingLeft:Et,scrollPaddingX:Et,scrollPaddingY:Et,scrollPaddingBlock:Et,scrollPaddingBlockEnd:Et,scrollPaddingBlockStart:Et,scrollPaddingInline:Et,scrollPaddingInlineEnd:Et,scrollPaddingInlineStart:Et,fontSize:"fontSizes",background:hr,backgroundColor:hr,backgroundImage:hr,borderImage:hr,border:hr,borderBlock:hr,borderBlockEnd:hr,borderBlockStart:hr,borderBottom:hr,borderBottomColor:hr,borderColor:hr,borderInline:hr,borderInlineEnd:hr,borderInlineStart:hr,borderLeft:hr,borderLeftColor:hr,borderRight:hr,borderRightColor:hr,borderTop:hr,borderTopColor:hr,caretColor:hr,color:hr,columnRuleColor:hr,fill:hr,outline:hr,outlineColor:hr,stroke:hr,textDecorationColor:hr,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:co,minBlockSize:co,maxBlockSize:co,inlineSize:co,minInlineSize:co,maxInlineSize:co,width:co,minWidth:co,maxWidth:co,height:co,minHeight:co,maxHeight:co,flexBasis:co,gridTemplateColumns:co,gridTemplateRows:co,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},qZe=(e,t)=>typeof t=="function"?{"()":Function.prototype.toString.call(t)}:t,J2=()=>{const e=Object.create(null);return(t,n,...r)=>{const i=(a=>JSON.stringify(a,qZe))(t);return i in e?e[i]:e[i]=n(t,...r)}},aS=Symbol.for("sxs.internal"),MI=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),TV=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:WZe}=Object.prototype,rN=e=>e.includes("-")?e:e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),GZe=/\s+(?![^()]*\))/,mg=e=>t=>e(...typeof t=="string"?String(t).split(GZe):[t]),NV={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:mg((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:mg((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:mg((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:mg((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:mg((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:mg((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},U6=/([\d.]+)([^]*)/,KZe=(e,t)=>e.length?e.reduce((n,r)=>(n.push(...t.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),n),[]):t,YZe=(e,t)=>e in JZe&&typeof t=="string"?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,i,a)=>r+(i==="stretch"?`-moz-available${a};${rN(e)}:${r}-webkit-fill-available`:`-moz-fit-content${a};${rN(e)}:${r}fit-content`)+a):String(t),JZe={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},od=e=>e?e+"-":"",Yse=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,a,o,s)=>o=="$"==!!a?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?od(t)+(s.includes("$")?"":od(n))+s.replace(/\$/g,"-"):s)+")"+(i||o=="--"?"*"+(i||"")+(a||"1")+")":"")),QZe=/\s*,\s*(?![^()]*\))/,XZe=Object.prototype.toString,Jg=(e,t,n,r,i)=>{let a,o,s;const l=(u,c,d)=>{let f,h;const m=g=>{for(f in g){const E=f.charCodeAt(0)===64,x=E&&Array.isArray(g[f])?g[f]:[g[f]];for(h of x){const v=/[A-Z]/.test(y=f)?y:y.replace(/-[^]/g,b=>b[1].toUpperCase()),C=typeof h=="object"&&h&&h.toString===XZe&&(!r.utils[v]||!c.length);if(v in r.utils&&!C){const b=r.utils[v];if(b!==o){o=b,m(b(h)),o=null;continue}}else if(v in NV){const b=NV[v];if(b!==s){s=b,m(b(h)),s=null;continue}}if(E&&(S=f.slice(1)in r.media?"@media "+r.media[f.slice(1)]:f,f=S.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(b,A,_,T,M,N)=>{const I=U6.test(A),F=.0625*(I?-1:1),[$,z]=I?[T,A]:[A,T];return"("+(_[0]==="="?"":_[0]===">"===I?"max-":"min-")+$+":"+(_[0]!=="="&&_.length===1?z.replace(U6,(D,P,V)=>Number(P)+F*(_===">"?1:-1)+V):z)+(M?") and ("+(M[0]===">"?"min-":"max-")+$+":"+(M.length===1?N.replace(U6,(D,P,V)=>Number(P)+F*(M===">"?-1:1)+V):N):"")+")"})),C){const b=E?d.concat(f):[...d],A=E?[...c]:KZe(c,f.split(QZe));a!==void 0&&i(DV(...a)),a=void 0,l(h,A,b)}else a===void 0&&(a=[[],c,d]),f=E||f.charCodeAt(0)!==36?f:`--${od(r.prefix)}${f.slice(1).replace(/\$/g,"-")}`,h=C?h:typeof h=="number"?h&&v in ZZe?String(h)+"px":String(h):Yse(YZe(v,h??""),r.prefix,r.themeMap[v]),a[0].push(`${E?`${f} `:`${rN(f)}:`}${h}`)}}var S,y};m(u),a!==void 0&&i(DV(...a)),a=void 0};l(e,t,n)},DV=(e,t,n)=>`${n.map(r=>`${r}{`).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,ZZe={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},RV=e=>String.fromCharCode(e+(e>25?39:97)),Bp=e=>(t=>{let n,r="";for(n=Math.abs(t);n>52;n=n/52|0)r=RV(n%52)+r;return RV(n%52)+r})(((t,n)=>{let r=n.length;for(;r;)t=33*t^n.charCodeAt(--r);return t})(5381,JSON.stringify(e))>>>0),xy=["themed","global","styled","onevar","resonevar","allvar","inline"],eet=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch{return!1}},tet=e=>{let t;const n=()=>{const{cssRules:i}=t.sheet;return[].map.call(i,(a,o)=>{const{cssText:s}=a;let l="";if(s.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!a.cssRules.length)return"";for(const u in t.rules)if(t.rules[u].group===a)return`--sxs{--sxs:${[...t.rules[u].cache].join(" ")}}${s}`;return a.cssRules.length?`${l}${s}`:""}return s}).join("")},r=()=>{if(t){const{rules:s,sheet:l}=t;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in s)delete s[u]}const i=Object(e).styleSheets||[];for(const s of i)if(eet(s)){for(let l=0,u=s.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const d=Object(u[l+1]);if(d.type!==4)continue;++l;const{cssText:f}=c;if(!f.startsWith("--sxs"))continue;const h=f.slice(14,-3).trim().split(/\s+/),m=xy[h[0]];m&&(t||(t={sheet:s,reset:r,rules:{},toString:n}),t.rules[m]={group:d,index:l,cache:new Set(h)})}if(t)break}if(!t){const s=(l,u)=>({type:u,cssRules:[],insertRule(c,d){this.cssRules.splice(d,0,s(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:s("","text/css"),rules:{},reset:r,toString:n}}const{sheet:a,rules:o}=t;for(let s=xy.length-1;s>=0;--s){const l=xy[s];if(!o[l]){const u=xy[s+1],c=o[u]?o[u].index:a.cssRules.length;a.insertRule("@media{}",c),a.insertRule(`--sxs{--sxs:${s}}`,c),o[l]={group:a.cssRules[c+1],index:c,cache:new Set([s])}}net(o[l])}};return r(),t},net=e=>{const t=e.group;let n=t.cssRules.length;e.apply=r=>{try{t.insertRule(r,n),++n}catch{}}},ey=Symbol(),ret=J2(),iet=(e,t)=>ret(e,()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[aS]){r.type==null&&(r.type=i[aS].type);for(const a of i[aS].composers)r.composers.add(a)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(aet(i,e));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),oet(e,r,t)}),aet=({variants:e,compoundVariants:t,defaultVariants:n,...r},i)=>{const a=`${od(i.prefix)}c-${Bp(r)}`,o=[],s=[],l=Object.create(null),u=[];for(const f in n)l[f]=String(n[f]);if(typeof e=="object"&&e)for(const f in e){c=l,d=f,WZe.call(c,d)||(l[f]="undefined");const h=e[f];for(const m in h){const g={[f]:String(m)};String(m)==="undefined"&&u.push(f);const S=h[m],y=[g,S,!TV(S)];o.push(y)}}var c,d;if(typeof t=="object"&&t)for(const f of t){let{css:h,...m}=f;h=typeof h=="object"&&h||{};for(const S in m)m[S]=String(m[S]);const g=[m,h,!TV(h)];s.push(g)}return[a,r,o,s,l,u]},oet=(e,t,n)=>{const[r,i,a,o]=set(t.composers),s=typeof t.type=="function"||t.type.$$typeof?(d=>{function f(){for(let h=0;h<f[ey].length;h++){const[m,g]=f[ey][h];d.rules[m].apply(g)}return f[ey]=[],null}return f[ey]=[],f.rules={},xy.forEach(h=>f.rules[h]={apply:m=>f[ey].push([h,m])}),f})(n):null,l=(s||n).rules,u=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=d=>{d=typeof d=="object"&&d||uet;const{css:f,...h}=d,m={};for(const y in a)if(delete h[y],y in d){let E=d[y];typeof E=="object"&&E?m[y]={"@initial":a[y],...E}:(E=String(E),m[y]=E!=="undefined"||o.has(y)?E:a[y])}else m[y]=a[y];const g=new Set([...i]);for(const[y,E,x,v]of t.composers){n.rules.styled.cache.has(y)||(n.rules.styled.cache.add(y),Jg(E,[`.${y}`],[],e,A=>{l.styled.apply(A)}));const C=IV(x,m,e.media),b=IV(v,m,e.media,!0);for(const A of C)if(A!==void 0)for(const[_,T,M]of A){const N=`${y}-${Bp(T)}-${_}`;g.add(N);const I=(M?n.rules.resonevar:n.rules.onevar).cache,F=M?l.resonevar:l.onevar;I.has(N)||(I.add(N),Jg(T,[`.${N}`],[],e,$=>{F.apply($)}))}for(const A of b)if(A!==void 0)for(const[_,T]of A){const M=`${y}-${Bp(T)}-${_}`;g.add(M),n.rules.allvar.cache.has(M)||(n.rules.allvar.cache.add(M),Jg(T,[`.${M}`],[],e,N=>{l.allvar.apply(N)}))}}if(typeof f=="object"&&f){const y=`${r}-i${Bp(f)}-css`;g.add(y),n.rules.inline.cache.has(y)||(n.rules.inline.cache.add(y),Jg(f,[`.${y}`],[],e,E=>{l.inline.apply(E)}))}for(const y of String(d.className||"").trim().split(/\s+/))y&&g.add(y);const S=h.className=[...g].join(" ");return{type:t.type,className:S,selector:u,props:h,toString:()=>S,deferredInjector:s}};return MI(c,{className:r,selector:u,[aS]:t,toString:()=>(n.rules.styled.cache.has(r)||c(),r)})},set=e=>{let t="";const n=[],r={},i=[];for(const[a,,,,o,s]of e){t===""&&(t=a),n.push(a),i.push(...s);for(const l in o){const u=o[l];(r[l]===void 0||u!=="undefined"||s.includes(u))&&(r[l]=u)}}return[t,n,r,new Set(i)]},IV=(e,t,n,r)=>{const i=[];e:for(let[a,o,s]of e){if(s)continue;let l,u=0,c=!1;for(l in a){const d=a[l];let f=t[l];if(f!==d){if(typeof f!="object"||!f)continue e;{let h,m,g=0;for(const S in f){if(d===String(f[S])){if(S!=="@initial"){const y=S.slice(1);(m=m||[]).push(y in n?n[y]:S.replace(/^@media ?/,"")),c=!0}u+=g,h=!0}++g}if(m&&m.length&&(o={["@media "+m.join(", ")]:o}),!h)continue e}}}(i[u]=i[u]||[]).push([r?"cv":`${l}-${a[l]}`,o,c])}return i},uet={},cet=J2(),det=(e,t)=>cet(e,()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let a=Bp(i);if(!t.rules.global.cache.has(a)){if(t.rules.global.cache.add(a),"@import"in i){let o=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let s of[].concat(i["@import"]))s=s.includes('"')||s.includes("'")?s:`"${s}"`,t.sheet.insertRule(`@import ${s};`,o++);delete i["@import"]}Jg(i,[],[],e,o=>{t.rules.global.apply(o)})}}return""};return MI(r,{toString:r})}),fet=J2(),het=(e,t)=>fet(e,()=>n=>{const r=`${od(e.prefix)}k-${Bp(n)}`,i=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);const a=[];Jg(n,[],[],e,s=>a.push(s));const o=`@keyframes ${r}{${a.join("")}}`;t.rules.global.apply(o)}return r};return MI(i,{get name(){return i()},toString:i})}),pet=class{constructor(t,n,r,i){this.token=t==null?"":String(t),this.value=n==null?"":String(n),this.scale=r==null?"":String(r),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+od(this.prefix)+od(this.scale)+this.token}toString(){return this.computedValue}},met=J2(),get=(e,t)=>met(e,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${od(e.prefix)}t-${Bp(r)}`}`,a={},o=[];for(const l in r){a[l]={};for(const u in r[l]){const c=`--${od(e.prefix)}${l}-${u}`,d=Yse(String(r[l][u]),e.prefix,l);a[l][u]=new pet(u,d,l,e.prefix),o.push(`${c}:${d}`)}}const s=()=>{if(o.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);const l=`${r===e.theme?":root,":""}.${n}{${o.join(";")}}`;t.rules.themed.apply(l)}return n};return{...a,get className(){return s()},selector:i,toString:s}}),vet=J2(),Jse=e=>{let t=!1;const n=vet(e,r=>{t=!0;const i="prefix"in(r=typeof r=="object"&&r||{})?String(r.prefix):"",a=typeof r.media=="object"&&r.media||{},o=typeof r.root=="object"?r.root||null:globalThis.document||null,s=typeof r.theme=="object"&&r.theme||{},l={prefix:i,media:a,theme:s,themeMap:typeof r.themeMap=="object"&&r.themeMap||{...HZe},utils:typeof r.utils=="object"&&r.utils||{}},u=tet(o),c={css:iet(l,u),globalCss:det(l,u),keyframes:het(l,u),createTheme:get(l,u),reset(){u.reset(),c.theme.toString()},theme:{},sheet:u,config:l,prefix:i,getCssText:u.toString,toString:u.toString};return String(c.theme=c.createTheme(s)),c});return t||n.reset(),n},Qse=()=>MV||(MV=Jse()),yet=(...e)=>Qse().createTheme(...e),Cd=(...e)=>Qse().css(...e),bet={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"gray",messageTextDanger:"red",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray"}}},bi={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},wet="supabase-auth-ui",xet={ROOT:"root",SIGN_IN:bi.SIGN_IN,SIGN_UP:bi.SIGN_UP,FORGOTTEN_PASSWORD:bi.FORGOTTEN_PASSWORD,MAGIC_LINK:bi.MAGIC_LINK,UPDATE_PASSWORD:bi.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function xm(e,t,n){var r,i;const a=[],o=xet[e];return a.push(n!=null&&n.prependedClassName?(n==null?void 0:n.prependedClassName)+"_"+o:wet+"_"+o),(r=n==null?void 0:n.className)!=null&&r[e]&&a.push((i=n==null?void 0:n.className)==null?void 0:i[e]),((n==null?void 0:n.extend)===void 0||(n==null?void 0:n.extend)===!0)&&a.push(t),a}function iN(e,t){let n;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(t))for(n=0;n<t.length;n++)e[n]=iN(e[n],t[n]);else for(n in t)e[n]=iN(e[n],t[n]);return e}return t}function V6(e,...t){let n=t.length;for(let r=0;r<n;r++)e=iN(e,t[r]);return e}function Cet(e,t){return e.replace(/{{(\w+)}}/g,(n,r)=>t.hasOwnProperty(r)?t[r]:n)}var Eet={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const ket=Cd({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),_p=({children:e,appearance:t,...n})=>{var r;const i=xm("anchor",ket(),t);return O.createElement("a",{...n,style:(r=t==null?void 0:t.style)==null?void 0:r.anchor,className:i.join(" ")},e)},Aet=Cd({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),q1=({children:e,color:t="default",appearance:n,icon:r,loading:i=!1,...a})=>{var o;const s=xm("button",Aet({color:t}),n);return O.createElement("button",{...a,style:(o=n==null?void 0:n.style)==null?void 0:o.button,className:s.join(" "),disabled:i},r,e)},_et=Cd({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),Wu=({children:e,appearance:t,...n})=>{var r;const i=xm("container",_et({direction:n.direction,gap:n.gap}),t);return O.createElement("div",{...n,style:(r=t==null?void 0:t.style)==null?void 0:r.container,className:i.join(" ")},e)},Met=Cd({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),Tet=({children:e,appearance:t,...n})=>{var r;const i=xm("divider",Met(),t);return O.createElement("div",{...n,style:(r=t==null?void 0:t.style)==null?void 0:r.divider,className:i.join(" ")})},Net=Cd({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),Pf=({children:e,appearance:t,...n})=>{var r;const i=xm("input",Net({type:n.type==="password"?"password":"default"}),t);return O.createElement("input",{...n,style:(r=t==null?void 0:t.style)==null?void 0:r.input,className:i.join(" ")},e)},Det=Cd({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),jf=({children:e,appearance:t,...n})=>{var r;const i=xm("label",Det(),t);return O.createElement("label",{...n,style:(r=t==null?void 0:t.style)==null?void 0:r.label,className:i.join(" ")},e)},Ret=Cd({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",variants:{color:{default:{color:"$messageText"},danger:{color:"$messageTextDanger"}}}}),Xu=({children:e,appearance:t,...n})=>{var r;const i=xm("message",Ret({color:n.color}),t);return O.createElement("span",{...n,style:(r=t==null?void 0:t.style)==null?void 0:r.message,className:i.join(" ")},e)};function Xse({setAuthView:e=()=>{},supabaseClient:t,redirectTo:n,i18n:r,appearance:i,showLinks:a=!1}){var o;const[s,l]=j.useState(""),[u,c]=j.useState(""),[d,f]=j.useState(""),[h,m]=j.useState(!1),g=async y=>{var E,x;if(y.preventDefault(),c(""),f(""),m(!0),s.length===0){c((E=r==null?void 0:r.magic_link)==null?void 0:E.empty_email_address),m(!1);return}const{error:v}=await t.auth.signInWithOtp({email:s,options:{emailRedirectTo:n}});v?c(v.message):f((x=r==null?void 0:r.magic_link)==null?void 0:x.confirmation_text),m(!1)},S=r==null?void 0:r.magic_link;return O.createElement("form",{id:"auth-magic-link",onSubmit:g},O.createElement(Wu,{gap:"large",direction:"vertical",appearance:i},O.createElement("div",null,O.createElement(jf,{htmlFor:"email",appearance:i},S==null?void 0:S.email_input_label),O.createElement(Pf,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:S==null?void 0:S.email_input_placeholder,onChange:y=>{c&&c(""),l(y.target.value)},appearance:i})),O.createElement(q1,{color:"primary",type:"submit",loading:h,appearance:i},h?S==null?void 0:S.loading_button_label:S==null?void 0:S.button_label),a&&O.createElement(_p,{href:"#auth-sign-in",onClick:y=>{y.preventDefault(),e(bi.SIGN_IN)},appearance:i},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),d&&O.createElement(Xu,{appearance:i},d),u&&O.createElement(Xu,{color:"danger",appearance:i},u)))}const Aa=Cd({width:"21px",height:"21px"}),Iet=({provider:e})=>e=="google"?Oet():e=="facebook"?Pet():e=="twitter"?jet():e=="apple"?Let():e=="github"?Fet():e=="gitlab"?Bet():e=="bitbucket"?zet():e=="discord"?$et():e=="azure"?Uet():e=="keycloak"?Vet():e=="linkedin"?Het():e=="notion"?qet():e=="slack"?Wet():e=="spotify"?Get():e=="twitch"?Ket():e=="workos"?Yet():e=="kakao"?Jet():null,Oet=()=>O.createElement("svg",{className:Aa(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),O.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),O.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),O.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),Pet=()=>O.createElement("svg",{className:Aa(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),O.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),jet=()=>O.createElement("svg",{className:Aa(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),Let=()=>O.createElement("svg",{className:Aa(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",O.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),Fet=()=>O.createElement("svg",{className:Aa(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",O.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),Bet=()=>O.createElement("svg",{className:Aa(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),O.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),O.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),O.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),O.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),O.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),O.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),zet=()=>O.createElement("svg",{className:Aa(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},O.createElement("defs",null,O.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},O.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),O.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),O.createElement("title",null,"Bitbucket-blue"),O.createElement("g",{id:"Layer_2","data-name":"Layer 2"},O.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},O.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),O.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),$et=()=>O.createElement("svg",{className:Aa(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),Uet=()=>O.createElement("svg",{className:Aa(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},O.createElement("stop",{offset:"0",stopColor:"#114a8b"}),O.createElement("stop",{offset:"1",stopColor:"#0669bc"})),O.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),O.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),O.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},O.createElement("stop",{offset:"0",stopOpacity:".3"}),O.createElement("stop",{offset:".071",stopOpacity:".2"}),O.createElement("stop",{offset:".321",stopOpacity:".1"}),O.createElement("stop",{offset:".623",stopOpacity:".05"}),O.createElement("stop",{offset:"1",stopOpacity:"0"})),O.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),O.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},O.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),O.createElement("stop",{offset:"1",stopColor:"#2892df"})),O.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),Vet=()=>O.createElement("svg",{className:Aa(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),Het=()=>O.createElement("svg",{className:Aa(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),O.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),qet=()=>O.createElement("svg",{className:Aa(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},O.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),O.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),O.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),Wet=()=>O.createElement("svg",{className:Aa(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},O.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),O.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),O.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),O.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),O.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),O.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),O.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),O.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),Get=()=>O.createElement("svg",{className:Aa(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),Ket=()=>O.createElement("svg",{className:Aa(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),O.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),O.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),O.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),Yet=()=>O.createElement("svg",{className:Aa(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),O.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),Jet=()=>O.createElement("svg",{className:Aa(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},O.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),O.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),O.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function Qet({supabaseClient:e,socialLayout:t="vertical",providers:n=["github","google","azure"],providerScopes:r,queryParams:i,redirectTo:a,onlyThirdPartyProviders:o=!0,view:s="sign_in",i18n:l,appearance:u}){const[c,d]=j.useState(!1),[f,h]=j.useState(""),m=t==="vertical",g=s==="magic_link"?"sign_in":s,S=async E=>{d(!0);const{error:x}=await e.auth.signInWithOAuth({provider:E,options:{redirectTo:a,scopes:r==null?void 0:r[E],queryParams:i}});x&&h(x.message),d(!1)};function y(E){const x=E.toLowerCase();return E.charAt(0).toUpperCase()+x.slice(1)}return O.createElement(O.Fragment,null,n&&n.length>0&&O.createElement(O.Fragment,null,O.createElement(Wu,{gap:"large",direction:"vertical",appearance:u},O.createElement(Wu,{direction:m?"vertical":"horizontal",gap:m?"small":"medium",appearance:u},n.map(E=>{var x;return O.createElement(q1,{key:E,color:"default",loading:c,onClick:()=>S(E),appearance:u},O.createElement(Iet,{provider:E}),m&&Cet((x=l==null?void 0:l[g])==null?void 0:x.social_provider_text,{provider:y(E)}))}))),!o&&O.createElement(Tet,{appearance:u})))}function OV({authView:e="sign_in",defaultEmail:t="",defaultPassword:n="",setAuthView:r=()=>{},setDefaultEmail:i=m=>{},setDefaultPassword:a=m=>{},supabaseClient:o,showLinks:s=!1,redirectTo:l,additionalData:u,magicLink:c,i18n:d,appearance:f,children:h}){var m,g,S,y;const E=j.useRef(!0),[x,v]=j.useState(t),[C,b]=j.useState(n),[A,_]=j.useState(""),[T,M]=j.useState(!1),[N,I]=j.useState("");j.useEffect(()=>(E.current=!0,v(t),b(n),()=>{E.current=!1}),[e]);const F=async D=>{var P;switch(D.preventDefault(),_(""),M(!0),e){case"sign_in":const{error:V}=await o.auth.signInWithPassword({email:x,password:C});V&&_(V.message);break;case"sign_up":let B={emailRedirectTo:l};u&&(B.data=u);const{data:{user:H,session:K},error:W}=await o.auth.signUp({email:x,password:C,options:B});W?_(W.message):H&&!K&&I((P=d==null?void 0:d.sign_up)==null?void 0:P.confirmation_text);break}E.current&&M(!1)},$=D=>{i(x),a(C),r(D)},z=d==null?void 0:d[e];return O.createElement("form",{id:e==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:F,autoComplete:"on",style:{width:"100%"}},O.createElement(Wu,{direction:"vertical",gap:"large",appearance:f},O.createElement(Wu,{direction:"vertical",gap:"large",appearance:f},O.createElement("div",null,O.createElement(jf,{htmlFor:"email",appearance:f},z==null?void 0:z.email_label),O.createElement(Pf,{id:"email",type:"email",name:"email",placeholder:z==null?void 0:z.email_input_placeholder,defaultValue:x,onChange:D=>v(D.target.value),autoComplete:"email",appearance:f})),O.createElement("div",null,O.createElement(jf,{htmlFor:"password",appearance:f},z==null?void 0:z.password_label),O.createElement(Pf,{id:"password",type:"password",name:"password",placeholder:z==null?void 0:z.password_input_placeholder,defaultValue:C,onChange:D=>b(D.target.value),autoComplete:e==="sign_in"?"current-password":"new-password",appearance:f})),h),O.createElement(q1,{type:"submit",color:"primary",loading:T,appearance:f},T?z==null?void 0:z.loading_button_label:z==null?void 0:z.button_label),s&&O.createElement(Wu,{direction:"vertical",gap:"small",appearance:f},e===bi.SIGN_IN&&c&&O.createElement(_p,{href:"#auth-magic-link",onClick:D=>{D.preventDefault(),r(bi.MAGIC_LINK)},appearance:f},(m=d==null?void 0:d.magic_link)==null?void 0:m.link_text),e===bi.SIGN_IN&&O.createElement(_p,{href:"#auth-forgot-password",onClick:D=>{D.preventDefault(),r(bi.FORGOTTEN_PASSWORD)},appearance:f},(g=d==null?void 0:d.forgotten_password)==null?void 0:g.link_text),e===bi.SIGN_IN?O.createElement(_p,{href:"#auth-sign-up",onClick:D=>{D.preventDefault(),$(bi.SIGN_UP)},appearance:f},(S=d==null?void 0:d.sign_up)==null?void 0:S.link_text):O.createElement(_p,{href:"#auth-sign-in",onClick:D=>{D.preventDefault(),$(bi.SIGN_IN)},appearance:f},(y=d==null?void 0:d.sign_in)==null?void 0:y.link_text))),N&&O.createElement(Xu,{appearance:f},N),A&&O.createElement(Xu,{color:"danger",appearance:f},A))}function Zse({setAuthView:e=()=>{},supabaseClient:t,redirectTo:n,i18n:r,appearance:i,showLinks:a=!1}){var o;const[s,l]=j.useState(""),[u,c]=j.useState(""),[d,f]=j.useState(""),[h,m]=j.useState(!1),g=async y=>{var E;y.preventDefault(),c(""),f(""),m(!0);const{error:x}=await t.auth.resetPasswordForEmail(s,{redirectTo:n});x?c(x.message):f((E=r==null?void 0:r.forgotten_password)==null?void 0:E.confirmation_text),m(!1)},S=r==null?void 0:r.forgotten_password;return O.createElement("form",{id:"auth-forgot-password",onSubmit:g},O.createElement(Wu,{direction:"vertical",gap:"large",appearance:i},O.createElement(Wu,{gap:"large",direction:"vertical",appearance:i},O.createElement("div",null,O.createElement(jf,{htmlFor:"email",appearance:i},S==null?void 0:S.email_label),O.createElement(Pf,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:S==null?void 0:S.email_input_placeholder,onChange:y=>l(y.target.value),appearance:i})),O.createElement(q1,{type:"submit",color:"primary",loading:h,appearance:i},h?S==null?void 0:S.loading_button_label:S==null?void 0:S.button_label),a&&O.createElement(_p,{href:"#auth-sign-in",onClick:y=>{y.preventDefault(),e(bi.SIGN_IN)},appearance:i},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),d&&O.createElement(Xu,{appearance:i},d),u&&O.createElement(Xu,{color:"danger",appearance:i},u))))}function ele({supabaseClient:e,i18n:t,appearance:n}){const[r,i]=j.useState(""),[a,o]=j.useState(""),[s,l]=j.useState(""),[u,c]=j.useState(!1),d=async h=>{var m;h.preventDefault(),o(""),l(""),c(!0);const{error:g}=await e.auth.updateUser({password:r});g?o(g.message):l((m=t==null?void 0:t.update_password)==null?void 0:m.confirmation_text),c(!1)},f=t==null?void 0:t.update_password;return O.createElement("form",{id:"auth-update-password",onSubmit:d},O.createElement(Wu,{gap:"large",direction:"vertical",appearance:n},O.createElement("div",null,O.createElement(jf,{htmlFor:"password",appearance:n},f==null?void 0:f.password_label),O.createElement(Pf,{id:"password",name:"password",placeholder:f==null?void 0:f.password_label,type:"password",autoFocus:!0,onChange:h=>i(h.target.value),appearance:n})),O.createElement(q1,{type:"submit",color:"primary",loading:u,appearance:n},u?f==null?void 0:f.loading_button_label:f==null?void 0:f.button_label),s&&O.createElement(Xu,{appearance:n},s),a&&O.createElement(Xu,{color:"danger",appearance:n},a)))}function Xet({setAuthView:e=()=>{},supabaseClient:t,otpType:n="email",i18n:r,appearance:i,showLinks:a=!1}){var o;const[s,l]=j.useState(""),[u,c]=j.useState(""),[d,f]=j.useState(""),[h,m]=j.useState(""),[g,S]=j.useState(""),[y,E]=j.useState(!1),x=async C=>{C.preventDefault(),m(""),S(""),E(!0);let b={email:s,token:d,type:n};["sms","phone_change"].includes(n)&&(b={phone:u,token:d,type:n});const{error:A}=await t.auth.verifyOtp(b);A&&m(A.message),E(!1)},v=r==null?void 0:r.verify_otp;return O.createElement("form",{id:"auth-magic-link",onSubmit:x},O.createElement(Wu,{gap:"large",direction:"vertical",appearance:i},["sms","phone_change"].includes(n)?O.createElement("div",null,O.createElement(jf,{htmlFor:"phone",appearance:i},v==null?void 0:v.phone_input_label),O.createElement(Pf,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:v==null?void 0:v.phone_input_placeholder,onChange:C=>c(C.target.value),appearance:i})):O.createElement("div",null,O.createElement(jf,{htmlFor:"email",appearance:i},v==null?void 0:v.email_input_label),O.createElement(Pf,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:v==null?void 0:v.email_input_placeholder,onChange:C=>l(C.target.value),appearance:i})),O.createElement("div",null,O.createElement(jf,{htmlFor:"token",appearance:i},v==null?void 0:v.token_input_label),O.createElement(Pf,{id:"token",name:"token",type:"text",placeholder:v==null?void 0:v.token_input_placeholder,onChange:C=>f(C.target.value),appearance:i})),O.createElement(q1,{color:"primary",type:"submit",loading:y,appearance:i},y?v==null?void 0:v.loading_button_label:v==null?void 0:v.button_label),a&&O.createElement(_p,{href:"#auth-sign-in",onClick:C=>{C.preventDefault(),e(bi.SIGN_IN)},appearance:i},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),g&&O.createElement(Xu,{appearance:i},g),h&&O.createElement(Xu,{color:"danger",appearance:i},h)))}const tle=j.createContext({user:null,session:null}),Zet=e=>{const{supabaseClient:t}=e,[n,r]=j.useState(null),[i,a]=j.useState((n==null?void 0:n.user)??null);j.useEffect(()=>{(async()=>{var l;const{data:u}=await t.auth.getSession();r(u.session),a(((l=u.session)==null?void 0:l.user)??null)})();const{data:s}=t.auth.onAuthStateChange(async(l,u)=>{r(u),a((u==null?void 0:u.user)??null)});return()=>{s==null||s.subscription.unsubscribe()}},[]);const o={session:n,user:i};return O.createElement(tle.Provider,{value:o,...e})},ett=()=>{const e=j.useContext(tle);if(e===void 0)throw new Error("useUser must be used within a UserContextProvider.");return e};function W1({supabaseClient:e,socialLayout:t="vertical",providers:n,providerScopes:r,queryParams:i,view:a="sign_in",redirectTo:o,onlyThirdPartyProviders:s=!1,magicLink:l=!1,showLinks:u=!0,appearance:c,theme:d="default",localization:f={variables:{}},otpType:h="email",additionalData:m,children:g}){const S=V6(Eet,f.variables??{}),[y,E]=j.useState(a),[x,v]=j.useState(""),[C,b]=j.useState(""),A=y==="sign_in"||y==="sign_up"||y==="magic_link";j.useEffect(()=>{var M,N;Jse({theme:V6(((M=c==null?void 0:c.theme)==null?void 0:M.default)??{},((N=c==null?void 0:c.variables)==null?void 0:N.default)??{})})},[c]);const _=({children:M})=>{var N;return O.createElement("div",{className:d!=="default"?yet(V6(c==null?void 0:c.theme[d],((N=c==null?void 0:c.variables)==null?void 0:N[d])??{})):""},A&&O.createElement(Qet,{appearance:c,supabaseClient:e,providers:n,providerScopes:r,queryParams:i,socialLayout:t,redirectTo:o,onlyThirdPartyProviders:s,i18n:S,view:y}),!s&&M)};j.useEffect(()=>{const{data:M}=e.auth.onAuthStateChange(N=>{N==="PASSWORD_RECOVERY"?E("update_password"):N==="USER_UPDATED"&&E("sign_in")});return E(a),()=>M.subscription.unsubscribe()},[a]);const T={supabaseClient:e,setAuthView:E,defaultEmail:x,defaultPassword:C,setDefaultEmail:v,setDefaultPassword:b,redirectTo:o,magicLink:l,showLinks:u,i18n:S,appearance:c};switch(y){case bi.SIGN_IN:return O.createElement(_,null,O.createElement(OV,{...T,authView:"sign_in"}));case bi.SIGN_UP:return O.createElement(_,null,O.createElement(OV,{appearance:c,supabaseClient:e,authView:"sign_up",setAuthView:E,defaultEmail:x,defaultPassword:C,setDefaultEmail:v,setDefaultPassword:b,redirectTo:o,magicLink:l,showLinks:u,i18n:S,additionalData:m,children:g}));case bi.FORGOTTEN_PASSWORD:return O.createElement(_,null,O.createElement(Zse,{appearance:c,supabaseClient:e,setAuthView:E,redirectTo:o,showLinks:u,i18n:S}));case bi.MAGIC_LINK:return O.createElement(_,null,O.createElement(Xse,{appearance:c,supabaseClient:e,setAuthView:E,redirectTo:o,showLinks:u,i18n:S}));case bi.UPDATE_PASSWORD:return O.createElement(ele,{appearance:c,supabaseClient:e,i18n:S});case bi.VERIFY_OTP:return O.createElement(Xet,{appearance:c,supabaseClient:e,otpType:h,i18n:S});default:return null}}W1.ForgottenPassword=Zse;W1.UpdatePassword=ele;W1.MagicLink=Xse;W1.UserContextProvider=Zet;W1.useUser=ett;Cd({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});function ttt(){Sd("Login");const e=ht(),t=Ja(),n=sc(bE),[r]=zte();return j.useEffect(()=>{if(!n)return;const i=r.get("redirect");t(i?`/${i}`:"/")},[n]),p.jsx(p.Fragment,{children:p.jsx(ta,{children:p.jsx(ns,{w:350,p:"lg",children:p.jsx(ta,{children:p.jsxs(Z,{w:250,children:[p.jsx(pe,{fz:"sm",pb:"md",ta:"center",children:"Sign in to continue"}),p.jsx(W1,{supabaseClient:o2,providers:["google","discord","github"],appearance:{theme:bet,variables:{default:{colors:{brand:e.colors[e.primaryColor][8],brandAccent:e.colors[e.primaryColor][9],messageTextDanger:e.colors.red[6]},radii:{borderRadiusButton:e.radius.md,buttonBorderRadius:e.radius.md,inputBorderRadius:e.radius.md},fonts:{bodyFontFamily:e.fontFamily,buttonFontFamily:e.fontFamily,inputFontFamily:e.fontFamily,labelFontFamily:e.fontFamily},fontSizes:{baseBodySize:e.fontSizes.sm,baseInputSize:e.fontSizes.sm,baseLabelSize:e.fontSizes.sm,baseButtonSize:e.fontSizes.sm}}}},theme:"dark",socialLayout:"horizontal"})]})})})})})}const ntt=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Q2(e,t){const n=rtt(e);if(typeof n.path!="string"){const{webkitRelativePath:r}=e;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function rtt(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=ntt.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var G1=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())});const itt=[".DS_Store","Thumbs.db"];function att(e){return G1(this,null,function*(){return H5(e)&&ott(e.dataTransfer)?ctt(e.dataTransfer,e.type):stt(e)?ltt(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?utt(e):[]})}function ott(e){return H5(e)}function stt(e){return H5(e)&&H5(e.target)}function H5(e){return typeof e=="object"&&e!==null}function ltt(e){return aN(e.target.files).map(t=>Q2(t))}function utt(e){return G1(this,null,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Q2(n))})}function ctt(e,t){return G1(this,null,function*(){if(e.items){const n=aN(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(dtt));return PV(nle(r))}return PV(aN(e.files).map(n=>Q2(n)))})}function PV(e){return e.filter(t=>itt.indexOf(t.name)===-1)}function aN(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function dtt(e){if(typeof e.webkitGetAsEntry!="function")return jV(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?rle(t):jV(e)}function nle(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?nle(n):[n]],[])}function jV(e){const t=e.getAsFile();if(!t)return Promise.reject(`${e} is not a File`);const n=Q2(t);return Promise.resolve(n)}function ftt(e){return G1(this,null,function*(){return e.isDirectory?rle(e):htt(e)})}function rle(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function a(){t.readEntries(o=>G1(this,null,function*(){if(o.length){const s=Promise.all(o.map(ftt));i.push(s),a()}else try{const s=yield Promise.all(i);n(s)}catch(s){r(s)}}),o=>{r(o)})}a()})}function htt(e){return G1(this,null,function*(){return new Promise((t,n)=>{e.file(r=>{const i=Q2(r,e.fullPath);t(i)},r=>{n(r)})})})}function ptt(e,t){if(e&&t){const n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(o=>{const s=o.trim().toLowerCase();return s.charAt(0)==="."?r.toLowerCase().endsWith(s):s.endsWith("/*")?a===s.replace(/\/.*$/,""):i===s})}return!0}var mtt=Object.defineProperty,gtt=Object.defineProperties,vtt=Object.getOwnPropertyDescriptors,LV=Object.getOwnPropertySymbols,ytt=Object.prototype.hasOwnProperty,btt=Object.prototype.propertyIsEnumerable,FV=(e,t,n)=>t in e?mtt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wtt=(e,t)=>{for(var n in t||(t={}))ytt.call(t,n)&&FV(e,n,t[n]);if(LV)for(var n of LV(t))btt.call(t,n)&&FV(e,n,t[n]);return e},xtt=(e,t)=>gtt(e,vtt(t));const Stt="file-invalid-type",Ctt="file-too-large",Ett="file-too-small",ktt="too-many-files",Att=e=>{e=Array.isArray(e)&&e.length===1?e[0]:e;const t=Array.isArray(e)?`one of ${e.join(", ")}`:e;return{code:Stt,message:`File type must be ${t}`}},BV=e=>({code:Ctt,message:`File is larger than ${e} ${e===1?"byte":"bytes"}`}),zV=e=>({code:Ett,message:`File is smaller than ${e} ${e===1?"byte":"bytes"}`}),_tt={code:ktt,message:"Too many files"};function ile(e,t){const n=e.type==="application/x-moz-file"||ptt(e,t);return[n,n?null:Att(t)]}function ale(e,t,n){if(mp(e.size))if(mp(t)&&mp(n)){if(e.size>n)return[!1,BV(n)];if(e.size<t)return[!1,zV(t)]}else{if(mp(t)&&e.size<t)return[!1,zV(t)];if(mp(n)&&e.size>n)return[!1,BV(n)]}return[!0,null]}function mp(e){return e!=null}function Mtt({files:e,accept:t,minSize:n,maxSize:r,multiple:i,maxFiles:a,validator:o}){return!i&&e.length>1||i&&a>=1&&e.length>a?!1:e.every(s=>{const[l]=ile(s,t),[u]=ale(s,n,r),c=o?o(s):null;return l&&u&&!c})}function q5(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Jx(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,t=>t==="Files"||t==="application/x-moz-file"):!!e.target&&!!e.target.files}function $V(e){e.preventDefault()}function Ttt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Ntt(e){return e.indexOf("Edge/")!==-1}function Dtt(e=window.navigator.userAgent){return Ttt(e)||Ntt(e)}function Au(...e){return(t,...n)=>e.some(r=>(!q5(t)&&r&&r(t,...n),q5(t)))}function Rtt(){return"showOpenFilePicker"in window}function Itt(e){return mp(e)?[{description:"Files",accept:Object.entries(e).filter(([n,r])=>{let i=!0;return ole(n)||(console.warn(`Skipped "${n}" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.`),i=!1),(!Array.isArray(r)||!r.every(sle))&&(console.warn(`Skipped "${n}" because an invalid file extension was provided.`),i=!1),i}).reduce((n,[r,i])=>xtt(wtt({},n),{[r]:i}),{})}]:e}function Ott(e){if(mp(e))return Object.entries(e).reduce((t,[n,r])=>[...t,n,...r],[]).filter(t=>ole(t)||sle(t)).join(",")}function Ptt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function jtt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ole(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function sle(e){return/^.*\.[\w]+$/.test(e)}var Ltt=Object.defineProperty,Ftt=Object.defineProperties,Btt=Object.getOwnPropertyDescriptors,W5=Object.getOwnPropertySymbols,lle=Object.prototype.hasOwnProperty,ule=Object.prototype.propertyIsEnumerable,UV=(e,t,n)=>t in e?Ltt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,po=(e,t)=>{for(var n in t||(t={}))lle.call(t,n)&&UV(e,n,t[n]);if(W5)for(var n of W5(t))ule.call(t,n)&&UV(e,n,t[n]);return e},tf=(e,t)=>Ftt(e,Btt(t)),G5=(e,t)=>{var n={};for(var r in e)lle.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&W5)for(var r of W5(e))t.indexOf(r)<0&&ule.call(e,r)&&(n[r]=e[r]);return n};const TI=j.forwardRef((e,t)=>{var n=e,{children:r}=n,i=G5(n,["children"]);const a=dle(i),{open:o}=a,s=G5(a,["open"]);return j.useImperativeHandle(t,()=>({open:o}),[o]),O.createElement(j.Fragment,null,r(tf(po({},s),{open:o})))});TI.displayName="Dropzone";const cle={disabled:!1,getFilesFromEvent:att,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};TI.defaultProps=cle;TI.propTypes={children:Fn.func,accept:Fn.objectOf(Fn.arrayOf(Fn.string)),multiple:Fn.bool,preventDropOnDocument:Fn.bool,noClick:Fn.bool,noKeyboard:Fn.bool,noDrag:Fn.bool,noDragEventsBubbling:Fn.bool,minSize:Fn.number,maxSize:Fn.number,maxFiles:Fn.number,disabled:Fn.bool,getFilesFromEvent:Fn.func,onFileDialogCancel:Fn.func,onFileDialogOpen:Fn.func,useFsAccessApi:Fn.bool,autoFocus:Fn.bool,onDragEnter:Fn.func,onDragLeave:Fn.func,onDragOver:Fn.func,onDrop:Fn.func,onDropAccepted:Fn.func,onDropRejected:Fn.func,onError:Fn.func,validator:Fn.func};const oN={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function dle(e={}){const{accept:t,disabled:n,getFilesFromEvent:r,maxSize:i,minSize:a,multiple:o,maxFiles:s,onDragEnter:l,onDragLeave:u,onDragOver:c,onDrop:d,onDropAccepted:f,onDropRejected:h,onFileDialogCancel:m,onFileDialogOpen:g,useFsAccessApi:S,autoFocus:y,preventDropOnDocument:E,noClick:x,noKeyboard:v,noDrag:C,noDragEventsBubbling:b,onError:A,validator:_}=po(po({},cle),e),T=j.useMemo(()=>Ott(t),[t]),M=j.useMemo(()=>Itt(t),[t]),N=j.useMemo(()=>typeof g=="function"?g:VV,[g]),I=j.useMemo(()=>typeof m=="function"?m:VV,[m]),F=j.useRef(null),$=j.useRef(null),[z,D]=j.useReducer(ztt,oN),{isFocused:P,isFileDialogActive:V}=z,B=j.useRef(typeof window<"u"&&window.isSecureContext&&S&&Rtt()),H=()=>{!B.current&&V&&setTimeout(()=>{if($.current){const{files:be}=$.current;be.length||(D({type:"closeDialog"}),I())}},300)};j.useEffect(()=>(window.addEventListener("focus",H,!1),()=>{window.removeEventListener("focus",H,!1)}),[$,V,I,B]);const K=j.useRef([]),W=be=>{F.current&&F.current.contains(be.target)||(be.preventDefault(),K.current=[])};j.useEffect(()=>(E&&(document.addEventListener("dragover",$V,!1),document.addEventListener("drop",W,!1)),()=>{E&&(document.removeEventListener("dragover",$V),document.removeEventListener("drop",W))}),[F,E]),j.useEffect(()=>(!n&&y&&F.current&&F.current.focus(),()=>{}),[F,y,n]);const L=j.useCallback(be=>{A?A(be):console.error(be)},[A]),G=j.useCallback(be=>{be.preventDefault(),be.persist(),Se(be),K.current=[...K.current,be.target],Jx(be)&&Promise.resolve(r(be)).then(Me=>{if(q5(be)&&!b)return;const X=Me.length,ce=X>0&&Mtt({files:Me,accept:T,minSize:a,maxSize:i,multiple:o,maxFiles:s,validator:_}),ae=X>0&&!ce;D({isDragAccept:ce,isDragReject:ae,isDragActive:!0,type:"setDraggedFiles"}),l&&l(be)}).catch(Me=>L(Me))},[r,l,L,b,T,a,i,o,s,_]),de=j.useCallback(be=>{be.preventDefault(),be.persist(),Se(be);const Me=Jx(be);if(Me&&be.dataTransfer)try{be.dataTransfer.dropEffect="copy"}catch{}return Me&&c&&c(be),!1},[c,b]),Q=j.useCallback(be=>{be.preventDefault(),be.persist(),Se(be);const Me=K.current.filter(ce=>F.current&&F.current.contains(ce)),X=Me.indexOf(be.target);X!==-1&&Me.splice(X,1),K.current=Me,!(Me.length>0)&&(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Jx(be)&&u&&u(be))},[F,u,b]),ee=j.useCallback((be,Me)=>{const X=[],ce=[];be.forEach(ae=>{const[Ce,Ie]=ile(ae,T),[Oe,Ve]=ale(ae,a,i),qe=_?_(ae):null;if(Ce&&Oe&&!qe)X.push(ae);else{let Je=[Ie,Ve];qe&&(Je=Je.concat(qe)),ce.push({file:ae,errors:Je.filter(We=>We)})}}),(!o&&X.length>1||o&&s>=1&&X.length>s)&&(X.forEach(ae=>{ce.push({file:ae,errors:[_tt]})}),X.splice(0)),D({acceptedFiles:X,fileRejections:ce,type:"setFiles"}),d&&d(X,ce,Me),ce.length>0&&h&&h(ce,Me),X.length>0&&f&&f(X,Me)},[D,o,T,a,i,s,d,f,h,_]),ne=j.useCallback(be=>{be.preventDefault(),be.persist(),Se(be),K.current=[],Jx(be)&&Promise.resolve(r(be)).then(Me=>{q5(be)&&!b||ee(Me,be)}).catch(Me=>L(Me)),D({type:"reset"})},[r,ee,L,b]),se=j.useCallback(()=>{if(B.current){D({type:"openDialog"}),N();const be={multiple:o,types:M};window.showOpenFilePicker(be).then(Me=>r(Me)).then(Me=>{ee(Me,null),D({type:"closeDialog"})}).catch(Me=>{Ptt(Me)?(I(Me),D({type:"closeDialog"})):jtt(Me)?(B.current=!1,$.current?($.current.value=null,$.current.click()):L(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):L(Me)});return}$.current&&(D({type:"openDialog"}),N(),$.current.value=null,$.current.click())},[D,N,I,S,ee,L,M,o]),ge=j.useCallback(be=>{!F.current||!F.current.isEqualNode(be.target)||(be.key===" "||be.key==="Enter"||be.keyCode===32||be.keyCode===13)&&(be.preventDefault(),se())},[F,se]),xe=j.useCallback(()=>{D({type:"focus"})},[]),we=j.useCallback(()=>{D({type:"blur"})},[]),_e=j.useCallback(()=>{x||(Dtt()?setTimeout(se,0):se())},[x,se]),ze=be=>n?null:be,Y=be=>v?null:ze(be),re=be=>C?null:ze(be),Se=be=>{b&&be.stopPropagation()},le=j.useMemo(()=>(be={})=>{var Me=be,{refKey:X="ref",role:ce,onKeyDown:ae,onFocus:Ce,onBlur:Ie,onClick:Oe,onDragEnter:Ve,onDragOver:qe,onDragLeave:Je,onDrop:We}=Me,Nt=G5(Me,["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return po(po({onKeyDown:Y(Au(ae,ge)),onFocus:Y(Au(Ce,xe)),onBlur:Y(Au(Ie,we)),onClick:ze(Au(Oe,_e)),onDragEnter:re(Au(Ve,G)),onDragOver:re(Au(qe,de)),onDragLeave:re(Au(Je,Q)),onDrop:re(Au(We,ne)),role:typeof ce=="string"&&ce!==""?ce:"presentation",[X]:F},!n&&!v?{tabIndex:0}:{}),Nt)},[F,ge,xe,we,_e,G,de,Q,ne,v,C,n]),ye=j.useCallback(be=>{be.stopPropagation()},[]),Ee=j.useMemo(()=>(be={})=>{var Me=be,{refKey:X="ref",onChange:ce,onClick:ae}=Me,Ce=G5(Me,["refKey","onChange","onClick"]);const Ie={accept:T,multiple:o,type:"file",style:{display:"none"},onChange:ze(Au(ce,ne)),onClick:ze(Au(ae,ye)),tabIndex:-1,[X]:$};return po(po({},Ie),Ce)},[$,t,o,ne,n]);return tf(po({},z),{isFocused:P&&!n,getRootProps:le,getInputProps:Ee,rootRef:F,inputRef:$,open:ze(se)})}function ztt(e,t){switch(t.type){case"focus":return tf(po({},e),{isFocused:!0});case"blur":return tf(po({},e),{isFocused:!1});case"openDialog":return tf(po({},oN),{isFileDialogActive:!0});case"closeDialog":return tf(po({},e),{isFileDialogActive:!1});case"setDraggedFiles":return tf(po({},e),{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return tf(po({},e),{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return po({},oN);default:return e}}function VV(){}const[$tt,Utt]=Kr("Dropzone component was not found in tree");function NI(e){const t=n=>{const{children:r,...i}=Fe(`Dropzone${FF(e)}`,{},n),a=Utt(),o=nc(r)?r:O.createElement("span",null,r);return a[e]?j.cloneElement(o,i):null};return t.displayName=`@mantine/dropzone/${FF(e)}`,t}const Vtt=NI("accept"),Htt=NI("reject"),qtt=NI("idle");var Yb={root:"m-d46a4834",inner:"m-b85f7144",fullScreen:"m-96f6e9ad",dropzone:"m-7946116d"};const Wtt={loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},Gtt=(e,{radius:t,variant:n,acceptColor:r,rejectColor:i})=>{const a=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:n}),o=e.variantColorResolver({color:i||"red",theme:e,variant:n});return{root:{"--dropzone-radius":ar(t),"--dropzone-accept-color":a.color,"--dropzone-accept-bg":a.background,"--dropzone-reject-color":o.color,"--dropzone-reject-bg":o.background}}},Sh=Ge((e,t)=>{const n=Fe("Dropzone",Wtt,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,radius:u,disabled:c,loading:d,multiple:f,maxSize:h,accept:m,children:g,onDropAny:S,onDrop:y,onReject:E,openRef:x,name:v,maxFiles:C,autoFocus:b,activateOnClick:A,activateOnDrag:_,dragEventsBubbling:T,activateOnKeyboard:M,onDragEnter:N,onDragLeave:I,onDragOver:F,onFileDialogCancel:$,onFileDialogOpen:z,preventDropOnDocument:D,useFsAccessApi:P,getFilesFromEvent:V,validator:B,rejectColor:H,acceptColor:K,enablePointerEvents:W,loaderProps:L,...G}=n,de=gt({name:"Dropzone",classes:Yb,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l,varsResolver:Gtt}),{getRootProps:Q,getInputProps:ee,isDragAccept:ne,isDragReject:se,open:ge}=dle({onDrop:S,onDropAccepted:y,onDropRejected:E,disabled:c||d,accept:Array.isArray(m)?m.reduce((we,_e)=>({...we,[_e]:[]}),{}):m,multiple:f,maxSize:h,maxFiles:C,autoFocus:b,noClick:!A,noDrag:!_,noDragEventsBubbling:!T,noKeyboard:!M,onDragEnter:N,onDragLeave:I,onDragOver:F,onFileDialogCancel:$,onFileDialogOpen:z,preventDropOnDocument:D,useFsAccessApi:P,validator:B,...V?{getFilesFromEvent:V}:null});h2(x,ge);const xe=!ne&&!se;return O.createElement($tt,{value:{accept:ne,reject:se,idle:xe}},O.createElement(Z,{...Q({ref:t}),...de("root",{focusable:!0}),...G,mod:{accept:ne,reject:se,idle:xe,loading:d,"activate-on-click":A}},O.createElement(El,{visible:d,overlayProps:{radius:u},unstyled:s,loaderProps:L}),O.createElement("input",{...ee(),name:v}),O.createElement("div",{...de("inner"),"data-enable-pointer-events":W||void 0},g)))});Sh.classes=Yb;Sh.displayName="@mantine/dropzone/Dropzone";Sh.Accept=Vtt;Sh.Idle=qtt;Sh.Reject=Htt;const Ktt={loading:!1,maxSize:1/0,activateOnClick:!1,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:Ya("max"),withinPortal:!0},DI=Ge((e,t)=>{const n=Fe("DropzoneFullScreen",Ktt,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,active:u,onDrop:c,onReject:d,zIndex:f,withinPortal:h,portalProps:m,...g}=n,S=gt({name:"DropzoneFullScreen",classes:Yb,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,rootSelector:"fullScreen"}),{resolvedClassNames:y,resolvedStyles:E}=rc({classNames:r,styles:o,props:n}),[x,v]=j.useState(0),[C,{open:b,close:A}]=Ga(!1),_=M=>{var N;(N=M.dataTransfer)!=null&&N.types.includes("Files")&&(v(I=>I+1),b())},T=()=>{v(M=>M-1)};return j.useEffect(()=>{x===0&&A()},[x]),j.useEffect(()=>{if(u)return document.addEventListener("dragenter",_,!1),document.addEventListener("dragleave",T,!1),()=>{document.removeEventListener("dragenter",_,!1),document.removeEventListener("dragleave",T,!1)}},[u]),O.createElement(dm,{...m,withinPortal:h},O.createElement(Z,{...S("fullScreen",{style:{opacity:C?1:0,pointerEvents:C?"all":"none",zIndex:f}}),ref:t},O.createElement(Sh,{...g,classNames:y,styles:E,unstyled:s,className:Yb.dropzone,onDrop:M=>{c==null||c(M),A(),v(0)},onReject:M=>{d==null||d(M),A(),v(0)}})))});DI.classes=Yb;DI.displayName="@mantine/dropzone/DropzoneFullScreen";Sh.FullScreen=DI;const Qx=Sh;var fle={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function fn(e){return typeof e=="number"}function Sn(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Wc(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function X2(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function ol(e){return e&&e.constructor.prototype.isUnit===!0||!1}function za(e){return typeof e=="string"}var Vn=Array.isArray;function Ft(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Qf(e){return Array.isArray(e)||Ft(e)}function K5(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Mp(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function RI(e){return e&&e.constructor.prototype.isRange===!0||!1}function qE(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Ytt(e){return typeof e=="boolean"}function Jtt(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function hle(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Qtt(e){return typeof e=="function"}function Xtt(e){return e instanceof Date}function Ztt(e){return e instanceof RegExp}function WE(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Wc(e)&&!X2(e))}function ent(e){return e===null}function tnt(e){return e===void 0}function om(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function tl(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function nnt(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function rnt(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function int(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Pn(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function sN(e){return Pn(e)||Di(e)&&e.args.length===1&&Pn(e.args[0])&&"-+~".includes(e.op)}function Z2(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xf(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function K1(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function rr(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function GE(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Di(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function sd(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function ant(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function ont(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ji(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function ple(e){return e&&e.constructor.prototype.isChain===!0||!1}function ur(e){var t=typeof e;return t==="object"?e===null?"null":Sn(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Zt(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return Zt(n)});if(e instanceof Date)return new Date(e.valueOf());if(Sn(e))return e;if(WE(e))return snt(e,Zt);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function snt(e,t){var n={};for(var r in e)xt(e,r)&&(n[r]=t(e[r]));return n}function mle(e,t){for(var n in t)xt(t,n)&&(e[n]=t[n]);return e}function sm(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!sm(e[r],t[r]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!sm(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}else return e===t}}function lnt(e,t,n){var r=!0,i;Object.defineProperty(e,t,{get:function(){return r&&(i=n(),r=!1),i},set:function(o){i=o,r=!1},configurable:!0,enumerable:!0})}function xt(e,t){return e&&Object.hasOwnProperty.call(e,t)}function unt(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],a=e[i];a!==void 0&&(n[i]=a)}return n}var cnt=["Matrix","Array"],dnt=["number","BigNumber","Fraction"],Ye=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(fle)};xi(Ye,fle,{MATRIX_OPTIONS:cnt,NUMBER_OPTIONS:dnt});function HV(){return!0}function Ys(){return!1}function gg(){}const qV="Argument is not a typed-function.";function gle(){function e(X){return typeof X=="object"&&X!==null&&X.constructor===Object}const t=[{name:"number",test:function(X){return typeof X=="number"}},{name:"string",test:function(X){return typeof X=="string"}},{name:"boolean",test:function(X){return typeof X=="boolean"}},{name:"Function",test:function(X){return typeof X=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(X){return X instanceof Date}},{name:"RegExp",test:function(X){return X instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(X){return X===null}},{name:"undefined",test:function(X){return X===void 0}}],n={name:"any",test:HV,isAny:!0};let r,i,a=0,o={createCount:0};function s(X){const ce=r.get(X);if(ce)return ce;let ae='Unknown type "'+X+'"';const Ce=X.toLowerCase();let Ie;for(Ie of i)if(Ie.toLowerCase()===Ce){ae+='. Did you mean "'+Ie+'" ?';break}throw new TypeError(ae)}function l(X){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const ae=ce?s(ce).index:i.length,Ce=[];for(let Oe=0;Oe<X.length;++Oe){if(!X[Oe]||typeof X[Oe].name!="string"||typeof X[Oe].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Ve=X[Oe].name;if(r.has(Ve))throw new TypeError('Duplicate type name "'+Ve+'"');Ce.push(Ve),r.set(Ve,{name:Ve,test:X[Oe].test,isAny:X[Oe].isAny,index:ae+Oe,conversionsTo:[]})}const Ie=i.slice(ae);i=i.slice(0,ae).concat(Ce).concat(Ie);for(let Oe=ae+Ce.length;Oe<i.length;++Oe)r.get(i[Oe]).index=Oe}function u(){r=new Map,i=[],a=0,l([n],!1)}u(),l(t);function c(){let X;for(X of i)r.get(X).conversionsTo=[];a=0}function d(X){const ce=i.filter(ae=>{const Ce=r.get(ae);return!Ce.isAny&&Ce.test(X)});return ce.length?ce:["any"]}function f(X){return X&&typeof X=="function"&&"_typedFunctionData"in X}function h(X,ce,ae){if(!f(X))throw new TypeError(qV);const Ce=ae&&ae.exact,Ie=Array.isArray(ce)?ce.join(","):ce,Oe=v(Ie),Ve=S(Oe);if(!Ce||Ve in X.signatures){const Nt=X._typedFunctionData.signatureMap.get(Ve);if(Nt)return Nt}const qe=Oe.length;let Je;if(Ce){Je=[];let Nt;for(Nt in X.signatures)Je.push(X._typedFunctionData.signatureMap.get(Nt))}else Je=X._typedFunctionData.signatures;for(let Nt=0;Nt<qe;++Nt){const Pe=Oe[Nt],te=[];let he;for(he of Je){const U=_(he.params,Nt);if(!(!U||Pe.restParam&&!U.restParam)){if(!U.hasAny){const ie=x(U);if(Pe.types.some(ve=>!ie.has(ve.name)))continue}te.push(he)}}if(Je=te,Je.length===0)break}let We;for(We of Je)if(We.params.length<=qe)return We;throw new TypeError("Signature not found (signature: "+(X.name||"unnamed")+"("+S(Oe,", ")+"))")}function m(X,ce,ae){return h(X,ce,ae).implementation}function g(X,ce){const ae=s(ce);if(ae.test(X))return X;const Ce=ae.conversionsTo;if(Ce.length===0)throw new Error("There are no conversions to "+ce+" defined.");for(let Ie=0;Ie<Ce.length;Ie++)if(s(Ce[Ie].from).test(X))return Ce[Ie].convert(X);throw new Error("Cannot convert "+X+" to "+ce)}function S(X){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return X.map(ae=>ae.name).join(ce)}function y(X){const ce=X.indexOf("...")===0,Ce=(ce?X.length>3?X.slice(3):"any":X).split("|").map(qe=>s(qe.trim()));let Ie=!1,Oe=ce?"...":"";return{types:Ce.map(function(qe){return Ie=qe.isAny||Ie,Oe+=qe.name+"|",{name:qe.name,typeIndex:qe.index,test:qe.test,isAny:qe.isAny,conversion:null,conversionIndex:-1}}),name:Oe.slice(0,-1),hasAny:Ie,hasConversion:!1,restParam:ce}}function E(X){const ce=X.types.map(Ve=>Ve.name),ae=P(ce);let Ce=X.hasAny,Ie=X.name;const Oe=ae.map(function(Ve){const qe=s(Ve.from);return Ce=qe.isAny||Ce,Ie+="|"+Ve.from,{name:Ve.from,typeIndex:qe.index,test:qe.test,isAny:qe.isAny,conversion:Ve,conversionIndex:Ve.index}});return{types:X.types.concat(Oe),name:Ie,hasAny:Ce,hasConversion:Oe.length>0,restParam:X.restParam}}function x(X){return X.typeSet||(X.typeSet=new Set,X.types.forEach(ce=>X.typeSet.add(ce.name))),X.typeSet}function v(X){const ce=[];if(typeof X!="string")throw new TypeError("Signatures must be strings");const ae=X.trim();if(ae==="")return ce;const Ce=ae.split(",");for(let Ie=0;Ie<Ce.length;++Ie){const Oe=y(Ce[Ie].trim());if(Oe.restParam&&Ie!==Ce.length-1)throw new SyntaxError('Unexpected rest parameter "'+Ce[Ie]+'": only allowed for the last parameter');if(Oe.types.length===0)return null;ce.push(Oe)}return ce}function C(X){const ce=se(X);return ce?ce.restParam:!1}function b(X){if(!X||X.types.length===0)return HV;if(X.types.length===1)return s(X.types[0].name).test;if(X.types.length===2){const ce=s(X.types[0].name).test,ae=s(X.types[1].name).test;return function(Ie){return ce(Ie)||ae(Ie)}}else{const ce=X.types.map(function(ae){return s(ae.name).test});return function(Ce){for(let Ie=0;Ie<ce.length;Ie++)if(ce[Ie](Ce))return!0;return!1}}}function A(X){let ce,ae,Ce;if(C(X)){ce=ne(X).map(b);const Ie=ce.length,Oe=b(se(X)),Ve=function(qe){for(let Je=Ie;Je<qe.length;Je++)if(!Oe(qe[Je]))return!1;return!0};return function(Je){for(let We=0;We<ce.length;We++)if(!ce[We](Je[We]))return!1;return Ve(Je)&&Je.length>=Ie+1}}else return X.length===0?function(Oe){return Oe.length===0}:X.length===1?(ae=b(X[0]),function(Oe){return ae(Oe[0])&&Oe.length===1}):X.length===2?(ae=b(X[0]),Ce=b(X[1]),function(Oe){return ae(Oe[0])&&Ce(Oe[1])&&Oe.length===2}):(ce=X.map(b),function(Oe){for(let Ve=0;Ve<ce.length;Ve++)if(!ce[Ve](Oe[Ve]))return!1;return Oe.length===ce.length})}function _(X,ce){return ce<X.length?X[ce]:C(X)?se(X):null}function T(X,ce){const ae=_(X,ce);return ae?x(ae):new Set}function M(X){return X.conversion===null||X.conversion===void 0}function N(X,ce){const ae=new Set;return X.forEach(Ce=>{const Ie=T(Ce.params,ce);let Oe;for(Oe of Ie)ae.add(Oe)}),ae.has("any")?["any"]:Array.from(ae)}function I(X,ce,ae){let Ce,Ie;const Oe=X||"unnamed";let Ve=ae,qe;for(qe=0;qe<ce.length;qe++){const Pe=[];if(Ve.forEach(te=>{const he=_(te.params,qe),U=b(he);(qe<te.params.length||C(te.params))&&U(ce[qe])&&Pe.push(te)}),Pe.length===0){if(Ie=N(Ve,qe),Ie.length>0){const te=d(ce[qe]);return Ce=new TypeError("Unexpected type of argument in function "+Oe+" (expected: "+Ie.join(" or ")+", actual: "+te.join(" | ")+", index: "+qe+")"),Ce.data={category:"wrongType",fn:Oe,index:qe,actual:te,expected:Ie},Ce}}else Ve=Pe}const Je=Ve.map(function(Pe){return C(Pe.params)?1/0:Pe.params.length});if(ce.length<Math.min.apply(null,Je))return Ie=N(Ve,qe),Ce=new TypeError("Too few arguments in function "+Oe+" (expected: "+Ie.join(" or ")+", index: "+ce.length+")"),Ce.data={category:"tooFewArgs",fn:Oe,index:ce.length,expected:Ie},Ce;const We=Math.max.apply(null,Je);if(ce.length>We)return Ce=new TypeError("Too many arguments in function "+Oe+" (expected: "+We+", actual: "+ce.length+")"),Ce.data={category:"tooManyArgs",fn:Oe,index:ce.length,expectedLength:We},Ce;const Nt=[];for(let Pe=0;Pe<ce.length;++Pe)Nt.push(d(ce[Pe]).join("|"));return Ce=new TypeError('Arguments of type "'+Nt.join(", ")+'" do not match any of the defined signatures of function '+Oe+"."),Ce.data={category:"mismatch",actual:Nt},Ce}function F(X){let ce=i.length+1;for(let ae=0;ae<X.types.length;ae++)M(X.types[ae])&&(ce=Math.min(ce,X.types[ae].typeIndex));return ce}function $(X){let ce=a+1;for(let ae=0;ae<X.types.length;ae++)M(X.types[ae])||(ce=Math.min(ce,X.types[ae].conversionIndex));return ce}function z(X,ce){if(X.hasAny){if(!ce.hasAny)return 1}else if(ce.hasAny)return-1;if(X.restParam){if(!ce.restParam)return 1}else if(ce.restParam)return-1;if(X.hasConversion){if(!ce.hasConversion)return 1}else if(ce.hasConversion)return-1;const ae=F(X)-F(ce);if(ae<0)return-1;if(ae>0)return 1;const Ce=$(X)-$(ce);return Ce<0?-1:Ce>0?1:0}function D(X,ce){const ae=X.params,Ce=ce.params,Ie=se(ae),Oe=se(Ce),Ve=C(ae),qe=C(Ce);if(Ve&&Ie.hasAny){if(!qe||!Oe.hasAny)return 1}else if(qe&&Oe.hasAny)return-1;let Je=0,We=0,Nt;for(Nt of ae)Nt.hasAny&&++Je,Nt.hasConversion&&++We;let Pe=0,te=0;for(Nt of Ce)Nt.hasAny&&++Pe,Nt.hasConversion&&++te;if(Je!==Pe)return Je-Pe;if(Ve&&Ie.hasConversion){if(!qe||!Oe.hasConversion)return 1}else if(qe&&Oe.hasConversion)return-1;if(We!==te)return We-te;if(Ve){if(!qe)return 1}else if(qe)return-1;const he=(ae.length-Ce.length)*(Ve?-1:1);if(he!==0)return he;const U=[];let ie=0;for(let Ne=0;Ne<ae.length;++Ne){const $e=z(ae[Ne],Ce[Ne]);U.push($e),ie+=$e}if(ie!==0)return ie;let ve;for(ve of U)if(ve!==0)return ve;return 0}function P(X){if(X.length===0)return[];const ce=X.map(s);X.length>1&&ce.sort((Ie,Oe)=>Ie.index-Oe.index);let ae=ce[0].conversionsTo;if(X.length===1)return ae;ae=ae.concat([]);const Ce=new Set(X);for(let Ie=1;Ie<ce.length;++Ie){let Oe;for(Oe of ce[Ie].conversionsTo)Ce.has(Oe.from)||(ae.push(Oe),Ce.add(Oe.from))}return ae}function V(X,ce){let ae=ce;if(X.some(Ie=>Ie.hasConversion)){const Ie=C(X),Oe=X.map(B);ae=function(){const qe=[],Je=Ie?arguments.length-1:arguments.length;for(let We=0;We<Je;We++)qe[We]=Oe[We](arguments[We]);return Ie&&(qe[Je]=arguments[Je].map(Oe[Je])),ce.apply(this,qe)}}let Ce=ae;if(C(X)){const Ie=X.length-1;Ce=function(){return ae.apply(this,ge(arguments,0,Ie).concat([ge(arguments,Ie)]))}}return Ce}function B(X){let ce,ae,Ce,Ie;const Oe=[],Ve=[];switch(X.types.forEach(function(qe){qe.conversion&&(Oe.push(s(qe.conversion.from).test),Ve.push(qe.conversion.convert))}),Ve.length){case 0:return function(Je){return Je};case 1:return ce=Oe[0],Ce=Ve[0],function(Je){return ce(Je)?Ce(Je):Je};case 2:return ce=Oe[0],ae=Oe[1],Ce=Ve[0],Ie=Ve[1],function(Je){return ce(Je)?Ce(Je):ae(Je)?Ie(Je):Je};default:return function(Je){for(let We=0;We<Ve.length;We++)if(Oe[We](Je))return Ve[We](Je);return Je}}}function H(X){function ce(ae,Ce,Ie){if(Ce<ae.length){const Oe=ae[Ce];let Ve=[];if(Oe.restParam){const qe=Oe.types.filter(M);qe.length<Oe.types.length&&Ve.push({types:qe,name:"..."+qe.map(Je=>Je.name).join("|"),hasAny:qe.some(Je=>Je.isAny),hasConversion:!1,restParam:!0}),Ve.push(Oe)}else Ve=Oe.types.map(function(qe){return{types:[qe],name:qe.name,hasAny:qe.isAny,hasConversion:qe.conversion,restParam:!1}});return we(Ve,function(qe){return ce(ae,Ce+1,Ie.concat([qe]))})}else return[Ie]}return ce(X,0,[])}function K(X,ce){const ae=Math.max(X.length,ce.length);for(let qe=0;qe<ae;qe++){const Je=T(X,qe),We=T(ce,qe);let Nt=!1,Pe;for(Pe of We)if(Je.has(Pe)){Nt=!0;break}if(!Nt)return!1}const Ce=X.length,Ie=ce.length,Oe=C(X),Ve=C(ce);return Oe?Ve?Ce===Ie:Ie>=Ce:Ve?Ce>=Ie:Ce===Ie}function W(X){return X.map(ce=>Se(ce)?Y(ce.referToSelf.callback):re(ce)?ze(ce.referTo.references,ce.referTo.callback):ce)}function L(X,ce,ae){const Ce=[];let Ie;for(Ie of X){let Oe=ae[Ie];if(typeof Oe!="number")throw new TypeError('No definition for referenced signature "'+Ie+'"');if(Oe=ce[Oe],typeof Oe!="function")return!1;Ce.push(Oe)}return Ce}function G(X,ce,ae){const Ce=W(X),Ie=new Array(Ce.length).fill(!1);let Oe=!0;for(;Oe;){Oe=!1;let Ve=!0;for(let qe=0;qe<Ce.length;++qe){if(Ie[qe])continue;const Je=Ce[qe];if(Se(Je))Ce[qe]=Je.referToSelf.callback(ae),Ce[qe].referToSelf=Je.referToSelf,Ie[qe]=!0,Ve=!1;else if(re(Je)){const We=L(Je.referTo.references,Ce,ce);We?(Ce[qe]=Je.referTo.callback.apply(this,We),Ce[qe].referTo=Je.referTo,Ie[qe]=!0,Ve=!1):Oe=!0}}if(Ve&&Oe)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Ce}function de(X){const ce=/\bthis(\(|\.signatures\b)/;Object.keys(X).forEach(ae=>{const Ce=X[ae];if(ce.test(Ce.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Q(X,ce){if(o.createCount++,Object.keys(ce).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&de(ce);const ae=[],Ce=[],Ie={},Oe=[];let Ve;for(Ve in ce){if(!Object.prototype.hasOwnProperty.call(ce,Ve))continue;const Ln=v(Ve);if(!Ln)continue;ae.forEach(function(Md){if(K(Md,Ln))throw new TypeError('Conflicting signatures "'+S(Md)+'" and "'+S(Ln)+'".')}),ae.push(Ln);const Ta=Ce.length;Ce.push(ce[Ve]);const Nk=Ln.map(E);let $m;for($m of H(Nk)){const Md=S($m);Oe.push({params:$m,name:Md,fn:Ta}),$m.every(mw=>!mw.hasConversion)&&(Ie[Md]=Ta)}}Oe.sort(D);const qe=G(Ce,Ie,Fh);let Je;for(Je in Ie)Object.prototype.hasOwnProperty.call(Ie,Je)&&(Ie[Je]=qe[Ie[Je]]);const We=[],Nt=new Map;for(Je of Oe)Nt.has(Je.name)||(Je.fn=qe[Je.fn],We.push(Je),Nt.set(Je.name,Je));const Pe=We[0]&&We[0].params.length<=2&&!C(We[0].params),te=We[1]&&We[1].params.length<=2&&!C(We[1].params),he=We[2]&&We[2].params.length<=2&&!C(We[2].params),U=We[3]&&We[3].params.length<=2&&!C(We[3].params),ie=We[4]&&We[4].params.length<=2&&!C(We[4].params),ve=We[5]&&We[5].params.length<=2&&!C(We[5].params),Ne=Pe&&te&&he&&U&&ie&&ve;for(let Ln=0;Ln<We.length;++Ln)We[Ln].test=A(We[Ln].params);const $e=Pe?b(We[0].params[0]):Ys,Ue=te?b(We[1].params[0]):Ys,ut=he?b(We[2].params[0]):Ys,At=U?b(We[3].params[0]):Ys,_t=ie?b(We[4].params[0]):Ys,Jt=ve?b(We[5].params[0]):Ys,Qt=Pe?b(We[0].params[1]):Ys,Cr=te?b(We[1].params[1]):Ys,Nr=he?b(We[2].params[1]):Ys,ln=U?b(We[3].params[1]):Ys,Dr=ie?b(We[4].params[1]):Ys,Rr=ve?b(We[5].params[1]):Ys;for(let Ln=0;Ln<We.length;++Ln)We[Ln].implementation=V(We[Ln].params,We[Ln].fn);const Ir=Pe?We[0].implementation:gg,xu=te?We[1].implementation:gg,Oh=he?We[2].implementation:gg,Ph=U?We[3].implementation:gg,jh=ie?We[4].implementation:gg,Gn=ve?We[5].implementation:gg,io=Pe?We[0].params.length:-1,Fs=te?We[1].params.length:-1,Lh=he?We[2].params.length:-1,$r=U?We[3].params.length:-1,pc=ie?We[4].params.length:-1,Bm=ve?We[5].params.length:-1,fv=Ne?6:0,_k=We.length,Mk=We.map(Ln=>Ln.test),Tk=We.map(Ln=>Ln.implementation),zm=function(){for(let Ta=fv;Ta<_k;Ta++)if(Mk[Ta](arguments))return Tk[Ta].apply(this,arguments);return o.onMismatch(X,arguments,We)};function Fh(Ln,Ta){return arguments.length===io&&$e(Ln)&&Qt(Ta)?Ir.apply(this,arguments):arguments.length===Fs&&Ue(Ln)&&Cr(Ta)?xu.apply(this,arguments):arguments.length===Lh&&ut(Ln)&&Nr(Ta)?Oh.apply(this,arguments):arguments.length===$r&&At(Ln)&&ln(Ta)?Ph.apply(this,arguments):arguments.length===pc&&_t(Ln)&&Dr(Ta)?jh.apply(this,arguments):arguments.length===Bm&&Jt(Ln)&&Rr(Ta)?Gn.apply(this,arguments):zm.apply(this,arguments)}try{Object.defineProperty(Fh,"name",{value:X})}catch{}return Fh.signatures=Ie,Fh._typedFunctionData={signatures:We,signatureMap:Nt},Fh}function ee(X,ce,ae){throw I(X,ce,ae)}function ne(X){return ge(X,0,X.length-1)}function se(X){return X[X.length-1]}function ge(X,ce,ae){return Array.prototype.slice.call(X,ce,ae)}function xe(X,ce){for(let ae=0;ae<X.length;ae++)if(ce(X[ae]))return X[ae]}function we(X,ce){return Array.prototype.concat.apply([],X.map(ce))}function _e(){const X=ne(arguments).map(ae=>S(v(ae))),ce=se(arguments);if(typeof ce!="function")throw new TypeError("Callback function expected as last argument");return ze(X,ce)}function ze(X,ce){return{referTo:{references:X,callback:ce}}}function Y(X){if(typeof X!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:X}}}function re(X){return X&&typeof X.referTo=="object"&&Array.isArray(X.referTo.references)&&typeof X.referTo.callback=="function"}function Se(X){return X&&typeof X.referToSelf=="object"&&typeof X.referToSelf.callback=="function"}function le(X,ce){if(!X)return ce;if(ce&&ce!==X){const ae=new Error("Function names do not match (expected: "+X+", actual: "+ce+")");throw ae.data={actual:ce,expected:X},ae}return X}function ye(X){let ce;for(const ae in X)Object.prototype.hasOwnProperty.call(X,ae)&&(f(X[ae])||typeof X[ae].signature=="string")&&(ce=le(ce,X[ae].name));return ce}function Ee(X,ce){let ae;for(ae in ce)if(Object.prototype.hasOwnProperty.call(ce,ae)){if(ae in X&&ce[ae]!==X[ae]){const Ce=new Error('Signature "'+ae+'" is defined twice');throw Ce.data={signature:ae,sourceFunction:ce[ae],destFunction:X[ae]},Ce}X[ae]=ce[ae]}}const be=o;o=function(X){const ce=typeof X=="string",ae=ce?1:0;let Ce=ce?X:"";const Ie={};for(let Oe=ae;Oe<arguments.length;++Oe){const Ve=arguments[Oe];let qe={},Je;if(typeof Ve=="function"?(Je=Ve.name,typeof Ve.signature=="string"?qe[Ve.signature]=Ve:f(Ve)&&(qe=Ve.signatures)):e(Ve)&&(qe=Ve,ce||(Je=ye(Ve))),Object.keys(qe).length===0){const We=new TypeError("Argument to 'typed' at index "+Oe+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw We.data={index:Oe,argument:Ve},We}ce||(Ce=le(Ce,Je)),Ee(Ie,qe)}return Q(Ce||"",Ie)},o.create=gle,o.createCount=be.createCount,o.onMismatch=ee,o.throwMismatchError=ee,o.createError=I,o.clear=u,o.clearConversions=c,o.addTypes=l,o._findType=s,o.referTo=_e,o.referToSelf=Y,o.convert=g,o.findSignature=h,o.find=m,o.isTypedFunction=f,o.warnAgainstDeprecatedThis=!0,o.addType=function(X,ce){let ae="any";ce!==!1&&r.has("Object")&&(ae="Object"),o.addTypes([X],ae)};function Me(X){if(!X||typeof X.from!="string"||typeof X.to!="string"||typeof X.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(X.to===X.from)throw new SyntaxError('Illegal to define conversion from "'+X.from+'" to itself.')}return o.addConversion=function(X){Me(X);const ce=s(X.to);if(ce.conversionsTo.every(function(ae){return ae.from!==X.from}))ce.conversionsTo.push({from:X.from,convert:X.convert,index:a++});else throw new Error('There is already a conversion from "'+X.from+'" to "'+ce.name+'"')},o.addConversions=function(X){X.forEach(o.addConversion)},o.removeConversion=function(X){Me(X);const ce=s(X.to),ae=xe(ce.conversionsTo,Ie=>Ie.from===X.from);if(!ae)throw new Error("Attempt to remove nonexistent conversion from "+X.from+" to "+X.to);if(ae.convert!==X.convert)throw new Error("Conversion to remove does not match existing conversion");const Ce=ce.conversionsTo.indexOf(ae);ce.conversionsTo.splice(Ce,1)},o.resolve=function(X,ce){if(!f(X))throw new TypeError(qV);const ae=X._typedFunctionData.signatures;for(let Ce=0;Ce<ae.length;++Ce)if(ae[Ce].test(ce))return ae[Ce];return null},o}const Qg=gle();function Dt(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}var wf=Math.sign||function(e){return e>0?1:e<0?-1:0},fnt=Math.log2||function(t){return Math.log(t)/Math.LN2},hnt=Math.log10||function(t){return Math.log(t)/Math.LN10},pnt=Math.log1p||function(e){return Math.log(e+1)},mnt=Math.cbrt||function(t){if(t===0)return t;var n=t<0,r;return n&&(t=-t),isFinite(t)?(r=Math.exp(Math.log(t)/3),r=(t/(r*r)+2*r)/3):r=t,n?-r:r},gnt=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function H6(e,t,n){var r={2:"0b",8:"0o",16:"0x"},i=r[t],a="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Dt(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Dt(e))throw new Error("Value must be an integer");e<0&&(e=e+2**n),a="i".concat(n)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(i).concat(e.toString(t)).concat(a)}function zp(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n="auto",r,i;if(t&&(t.notation&&(n=t.notation),fn(t)?r=t:fn(t.precision)&&(r=t.precision),t.wordSize&&(i=t.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return vle(e,r);case"exponential":return yle(e,r);case"engineering":return vnt(e,r);case"bin":return H6(e,2,i);case"oct":return H6(e,8,i);case"hex":return H6(e,16,i);case"auto":return ynt(e,r,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function KE(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),a=r.indexOf(".");i+=a!==-1?a-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),i++),{sign:n,coefficients:o,exponent:i}}function vnt(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=KE(e),r=YE(n,t),i=r.exponent,a=r.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(fn(t))for(;t>a.length||i-o+1>a.length;)a.push(0);else for(var s=Math.abs(i-o)-(a.length-1),l=0;l<s;l++)a.push(0);for(var u=Math.abs(i-o),c=1;u>0;)c++,u--;var d=a.slice(c).join(""),f=fn(t)&&d.length||d.match(/[1-9]/)?"."+d:"",h=a.slice(0,c).join("")+f+"e"+(i>=0?"+":"")+o.toString();return r.sign+h}function vle(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=KE(e),r=typeof t=="number"?YE(n,n.exponent+1+t):n,i=r.coefficients,a=r.exponent+1,o=a+(t||0);return i.length<o&&(i=i.concat(x0(o-i.length))),a<0&&(i=x0(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),r.sign+i.join("")}function yle(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=KE(e),r=t?YE(n,t):n,i=r.coefficients,a=r.exponent;i.length<t&&(i=i.concat(x0(t-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function ynt(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=n&&n.lowerExp!==void 0?n.lowerExp:-3,i=n&&n.upperExp!==void 0?n.upperExp:5,a=KE(e),o=t?YE(a,t):a;if(o.exponent<r||o.exponent>=i)return yle(e,t);var s=o.coefficients,l=o.exponent;s.length<t&&(s=s.concat(x0(t-s.length))),s=s.concat(x0(l-s.length+1+(s.length<t?t-s.length:0))),s=x0(-l).concat(s);var u=l>0?l:0;return u<s.length-1&&s.splice(u+1,0,"."),o.sign+s.join("")}function YE(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t){var i=r.splice(t,r.length-t);if(i[0]>=5){var a=t-1;for(r[a]++;r[a]===10;)r.pop(),a===0&&(r.unshift(0),n.exponent++,a++),a--,r[a]++}}return n}function x0(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function bnt(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var wnt=Number.EPSILON||2220446049250313e-31;function Ns(e,t,n){if(n==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<=wnt?!0:r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}var xnt=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},Snt=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},Cnt=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},Ent=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},knt=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},Ant=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function _nt(e,t){var n=e>0?!0:e<0?!1:1/e===1/0,r=t>0?!0:t<0?!1:1/t===1/0;return n^r?-e:e}function q6(e,t,n){var r=e.constructor,i=new r(2),a="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Dt(n))throw new Error("size must be an integer");if(e.greaterThan(i.pow(n-1).sub(1))||e.lessThan(i.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(n))),a="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function Mnt(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n="auto",r,i;if(t!==void 0&&(t.notation&&(n=t.notation),typeof t=="number"?r=t:t.precision!==void 0&&(r=t.precision),t.wordSize&&(i=t.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return Nnt(e,r);case"exponential":return WV(e,r);case"engineering":return Tnt(e,r);case"bin":return q6(e,2,i);case"oct":return q6(e,8,i);case"hex":return q6(e,16,i);case"auto":{var a=t&&t.lowerExp!==void 0?t.lowerExp:-3,o=t&&t.upperExp!==void 0?t.upperExp:5;if(e.isZero())return"0";var s,l=e.toSignificantDigits(r),u=l.e;return u>=a&&u<o?s=l.toFixed():s=WV(e,r),s.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],d=arguments[4];return c!=="."?c+d:d})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Tnt(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),a=i.toPrecision(t);if(a.indexOf("e")!==-1){var o=e.constructor;a=new o(a).toFixed()}return a+"e"+(n>=0?"+":"")+r.toString()}function WV(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function Nnt(e,t){return e.toFixed(t)}function Dnt(e,t){var n=e.length-t.length,r=e.length;return e.substring(n,r)===t}function cn(e,t){var n=Rnt(e,t);return t&&typeof t=="object"&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function Rnt(e,t){if(typeof e=="number")return zp(e,t);if(Sn(e))return Mnt(e,t);if(Int(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return ble(e,t);if(za(e))return Xg(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var n=Object.keys(e).map(r=>Xg(r)+": "+cn(e[r],t));return"{"+n.join(", ")+"}"}return String(e)}function Xg(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);n+=i in GV?GV[i]:i,r++}return'"'+n+'"'}var GV={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function ul(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t}function ble(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,i=0;i<r;i++)i!==0&&(n+=", "),n+=ble(e[i],t);return n+="]",n}else return cn(e,t)}function Int(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function lN(e,t){if(!za(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+ur(e)+", index: 0)");if(!za(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+ur(t)+", index: 1)");return e===t?0:e>t?1:-1}function hn(e,t,n){if(!(this instanceof hn))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}hn.prototype=new RangeError;hn.prototype.constructor=RangeError;hn.prototype.name="DimensionError";hn.prototype.isDimensionError=!0;function pu(e,t,n){if(!(this instanceof pu))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}pu.prototype=new RangeError;pu.prototype.constructor=RangeError;pu.prototype.name="IndexError";pu.prototype.isIndexError=!0;function nn(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function wle(e,t,n){var r,i=e.length;if(i!==t[n])throw new hn(i,t[n]);if(n<t.length-1){var a=n+1;for(r=0;r<i;r++){var o=e[r];if(!Array.isArray(o))throw new hn(t.length-1,t.length,"<");wle(e[r],t,a)}}else for(r=0;r<i;r++)if(Array.isArray(e[r]))throw new hn(t.length+1,t.length,">")}function KV(e,t){var n=t.length===0;if(n){if(Array.isArray(e))throw new hn(e.length,0)}else wle(e,t,0)}function Y5(e,t){var n=e.isMatrix?e._size:nn(e),r=t._sourceSize;r.forEach((i,a)=>{if(i!==null&&i!==n[a])throw new hn(i,n[a])})}function sr(e,t){if(e!==void 0){if(!fn(e)||!Dt(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new pu(e,t)}}function i1(e){for(var t=0;t<e._dimensions.length;++t){var n=e._dimensions[t];if(n._data&&Vn(n._data)){if(n._size[0]===0)return!0}else if(n.isRange){if(n.start===n.end)return!0}else if(za(n)&&n.length===0)return!0}return!1}function a1(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!fn(i)||!Dt(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+cn(t)+")")}),(fn(e)||Sn(e))&&(e=[e]);var r=n!==void 0?n:0;return uN(e,t,0,r),e}function uN(e,t,n,r){var i,a,o=e.length,s=t[n],l=Math.min(o,s);if(e.length=s,n<t.length-1){var u=n+1;for(i=0;i<l;i++)a=e[i],Array.isArray(a)||(a=[a],e[i]=a),uN(a,t,u,r);for(i=l;i<s;i++)a=[],e[i]=a,uN(a,t,u,r)}else{for(i=0;i<l;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=l;i<s;i++)e[i]=r}}function II(e,t){var n=jn(e),r=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new hn(0,r,"!=");t=OI(t,r);var i=xle(t);if(r!==i)throw new hn(i,r,"!=");try{return Ont(n,t)}catch(a){throw a instanceof hn?new hn(i,r,"!="):a}}function OI(e,t){var n=xle(e),r=e.slice(),i=-1,a=e.indexOf(i),o=e.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=a>=0,l=t%n===0;if(s)if(l)r[a]=-t/n;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);return r}function xle(e){return e.reduce((t,n)=>t*n,1)}function Ont(e,t){for(var n=e,r,i=t.length-1;i>0;i--){var a=t[i];r=[];for(var o=n.length/a,s=0;s<o;s++)r.push(n.slice(s*a,(s+1)*a));n=r}return n}function J5(e,t){for(var n=t||nn(e);Array.isArray(e)&&e.length===1;)e=e[0],n.shift();for(var r=n.length;n[r-1]===1;)r--;return r<n.length&&(e=Sle(e,r,0),n.length=r),e}function Sle(e,t,n){var r,i;if(n<t){var a=n+1;for(r=0,i=e.length;r<i;r++)e[r]=Sle(e[r],t,a)}else for(;Array.isArray(e);)e=e[0];return e}function Cle(e,t,n,r){var i=r||nn(e);if(n)for(var a=0;a<n;a++)e=[e],i.unshift(1);for(e=Ele(e,t,0);i.length<t;)i.push(1);return e}function Ele(e,t,n){var r,i;if(Array.isArray(e)){var a=n+1;for(r=0,i=e.length;r<i;r++)e[r]=Ele(e[r],t,a)}else for(var o=n;o<t;o++)e=[e];return e}function jn(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function n(r){Array.isArray(r)?r.forEach(n):t.push(r)}),t}function Gc(e,t){return Array.prototype.map.call(e,t)}function JE(e,t){Array.prototype.forEach.call(e,t)}function kle(e,t){if(nn(e).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function Q5(e,t){if(nn(e).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,n=>t.test(n))}function YV(e,t){return Array.prototype.join.call(e,t)}function o1(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(e.length===0)return e;var t=[],n=0;t[0]={value:e[0],identifier:0};for(var r=1;r<e.length;r++)e[r]===e[r-1]?n++:n=0,t.push({value:e[r],identifier:n});return t}function X5(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(e.length===0)return e;for(var t=[],n=0;n<e.length;n++)t.push(e[n].value);return t}function Jb(e,t){for(var n,r=0,i=0;i<e.length;i++){var a=e[i],o=Array.isArray(a);if(i===0&&o&&(r=a.length),o&&a.length!==r)return;var s=o?Jb(a,t):t(a);if(n===void 0)n=s;else if(n!==s)return"mixed"}return n}function Ale(e,t,n,r){if(r<n){if(e.length!==t.length)throw new hn(e.length,t.length);for(var i=[],a=0;a<e.length;a++)i[a]=Ale(e[a],t[a],n,r+1);return i}else return e.concat(t)}function _le(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(n,r){return Ale(n,r,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Pnt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.map(f=>f.length),i=Math.max(...r),a=new Array(i).fill(null),o=0;o<t.length;o++)for(var s=t[o],l=r[o],u=0;u<l;u++){var c=i-l+u;s[u]>a[c]&&(a[c]=s[u])}for(var d=0;d<t.length;d++)Z5(t[d],a);return a}function Z5(e,t){for(var n=t.length,r=e.length,i=0;i<r;i++){var a=n-r+i;if(e[i]<t[a]&&e[i]>1||e[i]>t[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(r," with size ").concat(e[i]," to size ").concat(t[a]))}}function JV(e,t){var n=nn(e);if(sm(n,t))return e;Z5(n,t);var r=Pnt(n,t),i=r.length,a=[...Array(i-n.length).fill(1),...n],o=Lnt(e);n.length<i&&(o=II(o,a),n=nn(o));for(var s=0;s<i;s++)n[s]<r[s]&&(o=jnt(o,r[s],s),n=nn(o));return o}function jnt(e,t,n){return _le(...Array(t).fill(e),n)}function Lnt(e){return xi([],e)}function ue(e,t,n,r){function i(a){var o=unt(a,t.map(znt));return Fnt(e,t,a),n(o)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function Fnt(e,t,n){var r=t.filter(a=>!Bnt(a)).every(a=>n[a]!==void 0);if(!r){var i=t.filter(a=>n[a]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Bnt(e){return e&&e[0]==="?"}function znt(e){return e&&e[0]==="?"?e.slice(1):e}function bo(e,t){if(Tle(e)&&Mle(e,t))return e[t];throw typeof e[t]=="function"&&PI(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function s1(e,t,n){if(Tle(e)&&Mle(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function $nt(e,t){return t in e}function Mle(e,t){return!e||typeof e!="object"?!1:xt(Vnt,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Unt(e,t){if(!PI(e,t))throw new Error('No access to method "'+t+'"');return e[t]}function PI(e,t){return e==null||typeof e[t]!="function"||xt(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:xt(Hnt,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Tle(e){return typeof e=="object"&&e&&e.constructor===Object}var Vnt={length:!0,name:!0},Hnt={toString:!0,valueOf:!0,toLocaleString:!0};class jI{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return bo(this.wrappedObject,t)}set(t,n){return s1(this.wrappedObject,t,n),this}has(t){return $nt(this.wrappedObject,t)}}function l1(){return new Map}function S0(e){if(!e)return l1();if(LI(e))return e;if(WE(e))return new jI(e);throw new Error("createMap can create maps from objects or Maps")}function qnt(e){if(e instanceof jI)return e.wrappedObject;var t={};for(var n of e.keys()){var r=e.get(n);s1(t,n,r)}return t}function LI(e){return e?e instanceof Map||e instanceof jI||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function QV(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i of n)if(i){if(LI(i))for(var a of i.keys())e.set(a,i.get(a));else if(WE(i))for(var o of Object.keys(i))e.set(o,i[o])}return e}var Nle=function(){return Nle=Qg.create,Qg},Wnt=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Gnt=ue("typed",Wnt,function(t){var{BigNumber:n,Complex:r,DenseMatrix:i,Fraction:a}=t,o=Nle();return o.clear(),o.addTypes([{name:"number",test:fn},{name:"Complex",test:Wc},{name:"BigNumber",test:Sn},{name:"Fraction",test:X2},{name:"Unit",test:ol},{name:"identifier",test:s=>za&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:za},{name:"Chain",test:ple},{name:"Array",test:Vn},{name:"Matrix",test:Ft},{name:"DenseMatrix",test:K5},{name:"SparseMatrix",test:Mp},{name:"Range",test:RI},{name:"Index",test:qE},{name:"boolean",test:Ytt},{name:"ResultSet",test:Jtt},{name:"Help",test:hle},{name:"function",test:Qtt},{name:"Date",test:Xtt},{name:"RegExp",test:Ztt},{name:"null",test:ent},{name:"undefined",test:tnt},{name:"AccessorNode",test:om},{name:"ArrayNode",test:tl},{name:"AssignmentNode",test:nnt},{name:"BlockNode",test:rnt},{name:"ConditionalNode",test:int},{name:"ConstantNode",test:Pn},{name:"FunctionNode",test:Xf},{name:"FunctionAssignmentNode",test:Z2},{name:"IndexNode",test:K1},{name:"Node",test:rr},{name:"ObjectNode",test:GE},{name:"OperatorNode",test:Di},{name:"ParenthesisNode",test:sd},{name:"RangeNode",test:ant},{name:"RelationalNode",test:ont},{name:"SymbolNode",test:Ji},{name:"Map",test:LI},{name:"Object",test:WE}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(n||W6(l),bnt(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new n(l)}},{from:"number",to:"Complex",convert:function(l){return r||Xx(l),new r(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return r||Xx(l),new r(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return r||Xx(l),new r(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||G6(l);var u=new a(l);if(u.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(l){var u=Number(l);if(isNaN(u))throw new Error('Cannot convert "'+l+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(l){n||W6(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){a||G6(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){r||Xx(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return n||W6(l),new n(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||G6(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||Knt(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(s,l,u)=>{var c=o.createError(s,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Qf(l[0])&&u.some(f=>!f.params.includes(","))){var d=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw d.data=c.data,d}throw c},o.onMismatch=(s,l,u)=>{var c=o.createError(s,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Qf(l[0])&&u.some(f=>!f.params.includes(","))){var d=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw d.data=c.data,d}throw c},o});function W6(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Xx(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Knt(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function G6(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var Ynt="ResultSet",Jnt=[],Qnt=ue(Ynt,Jnt,()=>{function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e},{isClass:!0});/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Zg=9e15,Ch=1e9,cN="0123456789abcdef",eC="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",tC="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",dN={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Zg,maxE:Zg,crypto:!1},Dle,Fc,en=!0,QE="[DecimalError] ",Zf=QE+"Invalid argument: ",Rle=QE+"Precision limit exceeded",Ile=QE+"crypto unavailable",Ole="[object Decimal]",Ka=Math.floor,zi=Math.pow,Xnt=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Znt=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ert=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Ple=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,iu=1e7,Ut=7,trt=9007199254740991,nrt=eC.length-1,fN=tC.length-1,et={toStringTag:Ole};et.absoluteValue=et.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),jt(e)};et.ceil=function(){return jt(new this.constructor(this),this.e+1,2)};et.clampedTo=et.clamp=function(e,t){var n,r=this,i=r.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(Zf+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new i(r)};et.comparedTo=et.cmp=function(e){var t,n,r,i,a=this,o=a.d,s=(e=new a.constructor(e)).d,l=a.s,u=e.s;if(!o||!s)return!l||!u?NaN:l!==u?l:o===s?0:!o^l<0?1:-1;if(!o[0]||!s[0])return o[0]?l:s[0]?-u:0;if(l!==u)return l;if(a.e!==e.e)return a.e>e.e^l<0?1:-1;for(r=o.length,i=s.length,t=0,n=r<i?r:i;t<n;++t)if(o[t]!==s[t])return o[t]>s[t]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1};et.cosine=et.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Ut,r.rounding=1,n=rrt(r,zle(r,n)),r.precision=e,r.rounding=t,jt(Fc==2||Fc==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};et.cubeRoot=et.cbrt=function(){var e,t,n,r,i,a,o,s,l,u,c=this,d=c.constructor;if(!c.isFinite()||c.isZero())return new d(c);for(en=!1,a=c.s*zi(c.s*c,1/3),!a||Math.abs(a)==1/0?(n=wa(c.d),e=c.e,(a=(e-n.length+1)%3)&&(n+=a==1||a==-2?"0":"00"),a=zi(n,1/3),e=Ka((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?n="5e"+e:(n=a.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new d(n),r.s=c.s):r=new d(a.toString()),o=(e=d.precision)+3;;)if(s=r,l=s.times(s).times(s),u=l.plus(c),r=wr(u.plus(c).times(s),u.plus(l),o+2,1),wa(s.d).slice(0,o)===(n=wa(r.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!i&&n=="4999"){if(!i&&(jt(s,e+1,0),s.times(s).times(s).eq(c))){r=s;break}o+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(jt(r,e+1,1),t=!r.times(r).times(r).eq(c));break}return en=!0,jt(r,e,d.rounding,t)};et.decimalPlaces=et.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-Ka(this.e/Ut))*Ut,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};et.dividedBy=et.div=function(e){return wr(this,new this.constructor(e))};et.dividedToIntegerBy=et.divToInt=function(e){var t=this,n=t.constructor;return jt(wr(t,new n(e),0,1,1),n.precision,n.rounding)};et.equals=et.eq=function(e){return this.cmp(e)===0};et.floor=function(){return jt(new this.constructor(this),this.e+1,3)};et.greaterThan=et.gt=function(e){return this.cmp(e)>0};et.greaterThanOrEqualTo=et.gte=function(e){var t=this.cmp(e);return t==1||t===0};et.hyperbolicCosine=et.cosh=function(){var e,t,n,r,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;n=o.precision,r=o.rounding,o.precision=n+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(e=Math.ceil(i/3),t=(1/ZE(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=u1(o,1,a.times(t),new o(1),!0);for(var l,u=e,c=new o(8);u--;)l=a.times(a),a=s.minus(l.times(c.minus(l.times(c))));return jt(a,o.precision=n,o.rounding=r,!0)};et.hyperbolicSine=et.sinh=function(){var e,t,n,r,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,n=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,r=i.d.length,r<3)i=u1(a,2,i,i,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,i=i.times(1/ZE(5,e)),i=u1(a,2,i,i,!0);for(var o,s=new a(5),l=new a(16),u=new a(20);e--;)o=i.times(i),i=i.times(s.plus(o.times(l.times(o).plus(u))))}return a.precision=t,a.rounding=n,jt(i,t,n,!0)};et.hyperbolicTangent=et.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,wr(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};et.inverseCosine=et.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,a=n.rounding;return r!==-1?r===0?t.isNeg()?Xl(n,i,a):new n(0):new n(NaN):t.isZero()?Xl(n,i+4,a).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=Xl(n,i+4,a).times(.5),n.precision=i,n.rounding=a,e.minus(t))};et.inverseHyperbolicCosine=et.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,en=!1,n=n.times(n).minus(1).sqrt().plus(n),en=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};et.inverseHyperbolicSine=et.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,en=!1,n=n.times(n).plus(1).sqrt().plus(n),en=!0,r.precision=e,r.rounding=t,n.ln())};et.inverseHyperbolicTangent=et.atanh=function(){var e,t,n,r,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?jt(new a(i),e,t,!0):(a.precision=n=r-i.e,i=wr(i.plus(1),new a(1).minus(i),n+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)};et.inverseSine=et.asin=function(){var e,t,n,r,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),n=a.precision,r=a.rounding,t!==-1?t===0?(e=Xl(a,n+4,r).times(.5),e.s=i.s,e):new a(NaN):(a.precision=n+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=r,i.times(2)))};et.inverseTangent=et.atan=function(){var e,t,n,r,i,a,o,s,l,u=this,c=u.constructor,d=c.precision,f=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&d+4<=fN)return o=Xl(c,d+4,f).times(.25),o.s=u.s,o}else{if(!u.s)return new c(NaN);if(d+4<=fN)return o=Xl(c,d+4,f).times(.5),o.s=u.s,o}for(c.precision=s=d+10,c.rounding=1,n=Math.min(28,s/Ut+2|0),e=n;e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(en=!1,t=Math.ceil(s/Ut),r=1,l=u.times(u),o=new c(u),i=u;e!==-1;)if(i=i.times(l),a=o.minus(i.div(r+=2)),i=i.times(l),o=a.plus(i.div(r+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===a.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),en=!0,jt(o,c.precision=d,c.rounding=f,!0)};et.isFinite=function(){return!!this.d};et.isInteger=et.isInt=function(){return!!this.d&&Ka(this.e/Ut)>this.d.length-2};et.isNaN=function(){return!this.s};et.isNegative=et.isNeg=function(){return this.s<0};et.isPositive=et.isPos=function(){return this.s>0};et.isZero=function(){return!!this.d&&this.d[0]===0};et.lessThan=et.lt=function(e){return this.cmp(e)<0};et.lessThanOrEqualTo=et.lte=function(e){return this.cmp(e)<1};et.logarithm=et.log=function(e){var t,n,r,i,a,o,s,l,u=this,c=u.constructor,d=c.precision,f=c.rounding,h=5;if(e==null)e=new c(10),t=!0;else{if(e=new c(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)a=!0;else{for(i=n[0];i%10===0;)i/=10;a=i!==1}if(en=!1,s=d+h,o=xf(u,s),r=t?nC(c,s+10):xf(e,s),l=wr(o,r,s,1),Qb(l.d,i=d,f))do if(s+=10,o=xf(u,s),r=t?nC(c,s+10):xf(e,s),l=wr(o,r,s,1),!a){+wa(l.d).slice(i+1,i+15)+1==1e14&&(l=jt(l,d+1,0));break}while(Qb(l.d,i+=10,f));return en=!0,jt(l,d,f)};et.minus=et.sub=function(e){var t,n,r,i,a,o,s,l,u,c,d,f,h=this,m=h.constructor;if(e=new m(e),!h.d||!e.d)return!h.s||!e.s?e=new m(NaN):h.d?e.s=-e.s:e=new m(e.d||h.s!==e.s?h:NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(u=h.d,f=e.d,s=m.precision,l=m.rounding,!u[0]||!f[0]){if(f[0])e.s=-e.s;else if(u[0])e=new m(h);else return new m(l===3?-0:0);return en?jt(e,s,l):e}if(n=Ka(e.e/Ut),c=Ka(h.e/Ut),u=u.slice(),a=c-n,a){for(d=a<0,d?(t=u,a=-a,o=f.length):(t=f,n=c,o=u.length),r=Math.max(Math.ceil(s/Ut),o)+2,a>r&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for(r=u.length,o=f.length,d=r<o,d&&(o=r),r=0;r<o;r++)if(u[r]!=f[r]){d=u[r]<f[r];break}a=0}for(d&&(t=u,u=f,f=t,e.s=-e.s),o=u.length,r=f.length-o;r>0;--r)u[o++]=0;for(r=f.length;r>a;){if(u[--r]<f[r]){for(i=r;i&&u[--i]===0;)u[i]=iu-1;--u[i],u[r]+=iu}u[r]-=f[r]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=XE(u,n),en?jt(e,s,l):e):new m(l===3?-0:0)};et.modulo=et.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?jt(new r(n),r.precision,r.rounding):(en=!1,r.modulo==9?(t=wr(n,e.abs(),0,3,1),t.s*=e.s):t=wr(n,e,0,r.modulo,1),t=t.times(e),en=!0,n.minus(t))};et.naturalExponential=et.exp=function(){return hN(this)};et.naturalLogarithm=et.ln=function(){return xf(this)};et.negated=et.neg=function(){var e=new this.constructor(this);return e.s=-e.s,jt(e)};et.plus=et.add=function(e){var t,n,r,i,a,o,s,l,u,c,d=this,f=d.constructor;if(e=new f(e),!d.d||!e.d)return!d.s||!e.s?e=new f(NaN):d.d||(e=new f(e.d||d.s===e.s?d:NaN)),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(u=d.d,c=e.d,s=f.precision,l=f.rounding,!u[0]||!c[0])return c[0]||(e=new f(d)),en?jt(e,s,l):e;if(a=Ka(d.e/Ut),r=Ka(e.e/Ut),u=u.slice(),i=a-r,i){for(i<0?(n=u,i=-i,o=c.length):(n=c,r=a,o=u.length),a=Math.ceil(s/Ut),o=a>o?a+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=u.length,i=c.length,o-i<0&&(i=o,n=c,c=u,u=n),t=0;i;)t=(u[--i]=u[i]+c[i]+t)/iu|0,u[i]%=iu;for(t&&(u.unshift(t),++r),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=XE(u,r),en?jt(e,s,l):e};et.precision=et.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zf+e);return n.d?(t=jle(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};et.round=function(){var e=this,t=e.constructor;return jt(new t(e),e.e+1,t.rounding)};et.sine=et.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Ut,r.rounding=1,n=art(r,zle(r,n)),r.precision=e,r.rounding=t,jt(Fc>2?n.neg():n,e,t,!0)):new r(NaN)};et.squareRoot=et.sqrt=function(){var e,t,n,r,i,a,o=this,s=o.d,l=o.e,u=o.s,c=o.constructor;if(u!==1||!s||!s[0])return new c(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);for(en=!1,u=Math.sqrt(+o),u==0||u==1/0?(t=wa(s),(t.length+l)%2==0&&(t+="0"),u=Math.sqrt(t),l=Ka((l+1)/2)-(l<0||l%2),u==1/0?t="5e"+l:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),r=new c(t)):r=new c(u.toString()),n=(l=c.precision)+3;;)if(a=r,r=a.plus(wr(o,a,n+2,1)).times(.5),wa(a.d).slice(0,n)===(t=wa(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!i&&t=="4999"){if(!i&&(jt(a,l+1,0),a.times(a).eq(o))){r=a;break}n+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(jt(r,l+1,1),e=!r.times(r).eq(o));break}return en=!0,jt(r,l,c.rounding,e)};et.tangent=et.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=wr(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,jt(Fc==2||Fc==4?n.neg():n,e,t,!0)):new r(NaN)};et.times=et.mul=function(e){var t,n,r,i,a,o,s,l,u,c=this,d=c.constructor,f=c.d,h=(e=new d(e)).d;if(e.s*=c.s,!f||!f[0]||!h||!h[0])return new d(!e.s||f&&!f[0]&&!h||h&&!h[0]&&!f?NaN:!f||!h?e.s/0:e.s*0);for(n=Ka(c.e/Ut)+Ka(e.e/Ut),l=f.length,u=h.length,l<u&&(a=f,f=h,h=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+h[r]*f[i-r-1]+t,a[i--]=s%iu|0,t=s/iu|0;a[i]=(a[i]+t)%iu|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=XE(a,n),en?jt(e,d.precision,d.rounding):e};et.toBinary=function(e,t){return FI(this,2,e,t)};et.toDecimalPlaces=et.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Xo(e,0,Ch),t===void 0?t=r.rounding:Xo(t,0,8),jt(n,e+n.e+1,t))};et.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Zu(r,!0):(Xo(e,0,Ch),t===void 0?t=i.rounding:Xo(t,0,8),r=jt(new i(r),e+1,t),n=Zu(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};et.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?n=Zu(i):(Xo(e,0,Ch),t===void 0?t=a.rounding:Xo(t,0,8),r=jt(new a(i),e+i.e+1,t),n=Zu(r,!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};et.toFraction=function(e){var t,n,r,i,a,o,s,l,u,c,d,f,h=this,m=h.d,g=h.constructor;if(!m)return new g(h);if(u=n=new g(1),r=l=new g(0),t=new g(r),a=t.e=jle(m)-h.e-1,o=a%Ut,t.d[0]=zi(10,o<0?Ut+o:o),e==null)e=a>0?t:u;else{if(s=new g(e),!s.isInt()||s.lt(u))throw Error(Zf+s);e=s.gt(t)?a>0?t:u:s}for(en=!1,s=new g(wa(m)),c=g.precision,g.precision=a=m.length*Ut*2;d=wr(s,t,0,1,1),i=n.plus(d.times(r)),i.cmp(e)!=1;)n=r,r=i,i=u,u=l.plus(d.times(i)),l=i,i=t,t=s.minus(d.times(i)),s=i;return i=wr(e.minus(n),r,0,1,1),l=l.plus(i.times(u)),n=n.plus(i.times(r)),l.s=u.s=h.s,f=wr(u,r,a,1).minus(h).abs().cmp(wr(l,n,a,1).minus(h).abs())<1?[u,r]:[l,n],g.precision=c,en=!0,f};et.toHexadecimal=et.toHex=function(e,t){return FI(this,16,e,t)};et.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:Xo(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(en=!1,n=wr(n,e,0,t,1).times(e),en=!0,jt(n)):(e.s=n.s,n=e),n};et.toNumber=function(){return+this};et.toOctal=function(e,t){return FI(this,8,e,t)};et.toPower=et.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,u=+(e=new l(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new l(zi(+s,u));if(s=new l(s),s.eq(1))return s;if(r=l.precision,a=l.rounding,e.eq(1))return jt(s,r,a);if(t=Ka(e.e/Ut),t>=e.d.length-1&&(n=u<0?-u:u)<=trt)return i=Lle(l,s,n,r),e.s<0?new l(1).div(i):jt(i,r,a);if(o=s.s,o<0){if(t<e.d.length-1)return new l(NaN);if(e.d[t]&1||(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return n=zi(+s,u),t=n==0||!isFinite(n)?Ka(u*(Math.log("0."+wa(s.d))/Math.LN10+s.e+1)):new l(n+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?o/0:0):(en=!1,l.rounding=s.s=1,n=Math.min(12,(t+"").length),i=hN(e.times(xf(s,r+n)),r),i.d&&(i=jt(i,r+5,1),Qb(i.d,r,a)&&(t=r+10,i=jt(hN(e.times(xf(s,t+n)),t),t+5,1),+wa(i.d).slice(r+1,r+15)+1==1e14&&(i=jt(i,r+1,0)))),i.s=o,en=!0,l.rounding=a,jt(i,r,a))};et.toPrecision=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Zu(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Xo(e,1,Ch),t===void 0?t=i.rounding:Xo(t,0,8),r=jt(new i(r),e,t),n=Zu(r,e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};et.toSignificantDigits=et.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Xo(e,1,Ch),t===void 0?t=r.rounding:Xo(t,0,8)),jt(new r(n),e,t)};et.toString=function(){var e=this,t=e.constructor,n=Zu(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};et.truncated=et.trunc=function(){return jt(new this.constructor(this),this.e+1,1)};et.valueOf=et.toJSON=function(){var e=this,t=e.constructor,n=Zu(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function wa(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Ut-r.length,n&&(a+=nf(n)),a+=r;o=e[t],r=o+"",n=Ut-r.length,n&&(a+=nf(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function Xo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Zf+e)}function Qb(e,t,n,r){var i,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=Ut,i=0):(i=Math.ceil((t+1)/Ut),t%=Ut),a=zi(10,Ut-t),s=e[i]%a|0,r==null?t<3?(t==0?s=s/100|0:t==1&&(s=s/10|0),o=n<4&&s==99999||n>3&&s==49999||s==5e4||s==0):o=(n<4&&s+1==a||n>3&&s+1==a/2)&&(e[i+1]/a/100|0)==zi(10,t-2)-1||(s==a/2||s==0)&&(e[i+1]/a/100|0)==0:t<4?(t==0?s=s/1e3|0:t==1?s=s/100|0:t==2&&(s=s/10|0),o=(r||n<4)&&s==9999||!r&&n>3&&s==4999):o=((r||n<4)&&s+1==a||!r&&n>3&&s+1==a/2)&&(e[i+1]/a/1e3|0)==zi(10,t-3)-1,o}function oS(e,t,n){for(var r,i=[0],a,o=0,s=e.length;o<s;){for(a=i.length;a--;)i[a]*=t;for(i[0]+=cN.indexOf(e.charAt(o++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function rrt(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),i=(1/ZE(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=u1(e,1,t.times(i),new e(1));for(var a=n;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}var wr=function(){function e(r,i,a){var o,s=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+s,r[l]=o%a|0,s=o/a|0;return s&&r.unshift(s),r}function t(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a,o){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*o+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o,s,l){var u,c,d,f,h,m,g,S,y,E,x,v,C,b,A,_,T,M,N,I,F=r.constructor,$=r.s==i.s?1:-1,z=r.d,D=i.d;if(!z||!z[0]||!D||!D[0])return new F(!r.s||!i.s||(z?D&&z[0]==D[0]:!D)?NaN:z&&z[0]==0||!D?$*0:$/0);for(l?(h=1,c=r.e-i.e):(l=iu,h=Ut,c=Ka(r.e/h)-Ka(i.e/h)),N=D.length,T=z.length,y=new F($),E=y.d=[],d=0;D[d]==(z[d]||0);d++);if(D[d]>(z[d]||0)&&c--,a==null?(b=a=F.precision,o=F.rounding):s?b=a+(r.e-i.e)+1:b=a,b<0)E.push(1),m=!0;else{if(b=b/h+2|0,d=0,N==1){for(f=0,D=D[0],b++;(d<T||f)&&b--;d++)A=f*l+(z[d]||0),E[d]=A/D|0,f=A%D|0;m=f||d<T}else{for(f=l/(D[0]+1)|0,f>1&&(D=e(D,f,l),z=e(z,f,l),N=D.length,T=z.length),_=N,x=z.slice(0,N),v=x.length;v<N;)x[v++]=0;I=D.slice(),I.unshift(0),M=D[0],D[1]>=l/2&&++M;do f=0,u=t(D,x,N,v),u<0?(C=x[0],N!=v&&(C=C*l+(x[1]||0)),f=C/M|0,f>1?(f>=l&&(f=l-1),g=e(D,f,l),S=g.length,v=x.length,u=t(g,x,S,v),u==1&&(f--,n(g,N<S?I:D,S,l))):(f==0&&(u=f=1),g=D.slice()),S=g.length,S<v&&g.unshift(0),n(x,g,v,l),u==-1&&(v=x.length,u=t(D,x,N,v),u<1&&(f++,n(x,N<v?I:D,v,l))),v=x.length):u===0&&(f++,x=[0]),E[d++]=f,u&&x[0]?x[v++]=z[_]||0:(x=[z[_]],v=1);while((_++<T||x[0]!==void 0)&&b--);m=x[0]!==void 0}E[0]||E.shift()}if(h==1)y.e=c,Dle=m;else{for(d=1,f=E[0];f>=10;f/=10)d++;y.e=d+c*h-1,jt(y,s?a+y.e+1:a,o,m)}return y}}();function jt(e,t,n,r){var i,a,o,s,l,u,c,d,f,h=e.constructor;e:if(t!=null){if(d=e.d,!d)return e;for(i=1,s=d[0];s>=10;s/=10)i++;if(a=t-i,a<0)a+=Ut,o=t,c=d[f=0],l=c/zi(10,i-o-1)%10|0;else if(f=Math.ceil((a+1)/Ut),s=d.length,f>=s)if(r){for(;s++<=f;)d.push(0);c=l=0,i=1,a%=Ut,o=a-Ut+1}else break e;else{for(c=s=d[f],i=1;s>=10;s/=10)i++;a%=Ut,o=a-Ut+i,l=o<0?0:c/zi(10,i-o-1)%10|0}if(r=r||t<0||d[f+1]!==void 0||(o<0?c:c%zi(10,i-o-1)),u=n<4?(l||r)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||r||n==6&&(a>0?o>0?c/zi(10,i-o):0:d[f-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=zi(10,(Ut-t%Ut)%Ut),e.e=-t||0):d[0]=e.e=0,e;if(a==0?(d.length=f,s=1,f--):(d.length=f+1,s=zi(10,Ut-a),d[f]=o>0?(c/zi(10,i-o)%zi(10,o)|0)*s:0),u)for(;;)if(f==0){for(a=1,o=d[0];o>=10;o/=10)a++;for(o=d[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,d[0]==iu&&(d[0]=1));break}else{if(d[f]+=s,d[f]!=iu)break;d[f--]=0,s=1}for(a=d.length;d[--a]===0;)d.pop()}return en&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function Zu(e,t,n){if(!e.isFinite())return Ble(e);var r,i=e.e,a=wa(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+nf(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+nf(-i-1)+a,n&&(r=n-o)>0&&(a+=nf(r))):i>=o?(a+=nf(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+nf(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=nf(r))),a}function XE(e,t){var n=e[0];for(t*=Ut;n>=10;n/=10)t++;return t}function nC(e,t,n){if(t>nrt)throw en=!0,n&&(e.precision=n),Error(Rle);return jt(new e(eC),t,1,!0)}function Xl(e,t,n){if(t>fN)throw Error(Rle);return jt(new e(tC),t,n,!0)}function jle(e){var t=e.length-1,n=t*Ut+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function nf(e){for(var t="";e--;)t+="0";return t}function Lle(e,t,n,r){var i,a=new e(1),o=Math.ceil(r/Ut+4);for(en=!1;;){if(n%2&&(a=a.times(t),ZV(a.d,o)&&(i=!0)),n=Ka(n/2),n===0){n=a.d.length-1,i&&a.d[n]===0&&++a.d[n];break}t=t.times(t),ZV(t.d,o)}return en=!0,a}function XV(e){return e.d[e.d.length-1]&1}function Fle(e,t,n){for(var r,i=new e(t[0]),a=0;++a<t.length;)if(r=new e(t[a]),r.s)i[n](r)&&(i=r);else{i=r;break}return i}function hN(e,t){var n,r,i,a,o,s,l,u=0,c=0,d=0,f=e.constructor,h=f.rounding,m=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(en=!1,l=m):l=t,s=new f(.03125);e.e>-2;)e=e.times(s),d+=5;for(r=Math.log(zi(2,d))/Math.LN10*2+5|0,l+=r,n=a=o=new f(1),f.precision=l;;){if(a=jt(a.times(e),l,1),n=n.times(++c),s=o.plus(wr(a,n,l,1)),wa(s.d).slice(0,l)===wa(o.d).slice(0,l)){for(i=d;i--;)o=jt(o.times(o),l,1);if(t==null)if(u<3&&Qb(o.d,l-r,h,u))f.precision=l+=10,n=a=s=new f(1),c=0,u++;else return jt(o,f.precision=m,h,en=!0);else return f.precision=m,o}o=s}}function xf(e,t){var n,r,i,a,o,s,l,u,c,d,f,h=1,m=10,g=e,S=g.d,y=g.constructor,E=y.rounding,x=y.precision;if(g.s<0||!S||!S[0]||!g.e&&S[0]==1&&S.length==1)return new y(S&&!S[0]?-1/0:g.s!=1?NaN:S?0:g);if(t==null?(en=!1,c=x):c=t,y.precision=c+=m,n=wa(S),r=n.charAt(0),Math.abs(a=g.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=wa(g.d),r=n.charAt(0),h++;a=g.e,r>1?(g=new y("0."+n),a++):g=new y(r+"."+n.slice(1))}else return u=nC(y,c+2,x).times(a+""),g=xf(new y(r+"."+n.slice(1)),c-m).plus(u),y.precision=x,t==null?jt(g,x,E,en=!0):g;for(d=g,l=o=g=wr(g.minus(1),g.plus(1),c,1),f=jt(g.times(g),c,1),i=3;;){if(o=jt(o.times(f),c,1),u=l.plus(wr(o,new y(i),c,1)),wa(u.d).slice(0,c)===wa(l.d).slice(0,c))if(l=l.times(2),a!==0&&(l=l.plus(nC(y,c+2,x).times(a+""))),l=wr(l,new y(h),c,1),t==null)if(Qb(l.d,c-m,E,s))y.precision=c+=m,u=o=g=wr(d.minus(1),d.plus(1),c,1),f=jt(g.times(g),c,1),i=s=1;else return jt(l,y.precision=x,E,en=!0);else return y.precision=x,l;l=u,i+=2}}function Ble(e){return String(e.s*e.s/0)}function pN(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i),t){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%Ut,n<0&&(r+=Ut),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ut;r<i;)e.d.push(+t.slice(r,r+=Ut));t=t.slice(r),r=Ut-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),en&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function irt(e,t){var n,r,i,a,o,s,l,u,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Ple.test(t))return pN(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Znt.test(t))n=16,t=t.toLowerCase();else if(Xnt.test(t))n=2;else if(ert.test(t))n=8;else throw Error(Zf+t);for(a=t.search(/p/i),a>0?(l=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),o=a>=0,r=e.constructor,o&&(t=t.replace(".",""),s=t.length,a=s-a,i=Lle(r,new r(n),a,a*2)),u=oS(t,n,iu),c=u.length-1,a=c;u[a]===0;--a)u.pop();return a<0?new r(e.s*0):(e.e=XE(u,c),e.d=u,en=!1,o&&(e=wr(e,i,s*4)),l&&(e=e.times(Math.abs(l)<54?zi(2,l):eh.pow(2,l))),en=!0,e)}function art(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:u1(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/ZE(5,n)),t=u1(e,2,t,t);for(var i,a=new e(5),o=new e(16),s=new e(20);n--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(s))));return t}function u1(e,t,n,r,i){var a,o,s,l,u=e.precision,c=Math.ceil(u/Ut);for(en=!1,l=n.times(n),s=new e(r);;){if(o=wr(s.times(l),new e(t++*t++),u,1),s=i?r.plus(o):r.minus(o),r=wr(o.times(l),new e(t++*t++),u,1),o=s.plus(r),o.d[c]!==void 0){for(a=c;o.d[a]===s.d[a]&&a--;);if(a==-1)break}a=s,s=r,r=o,o=a}return en=!0,o.d.length=c+1,o}function ZE(e,t){for(var n=e;--t;)n*=e;return n}function zle(e,t){var n,r=t.s<0,i=Xl(e,e.precision,1),a=i.times(.5);if(t=t.abs(),t.lte(a))return Fc=r?4:1,t;if(n=t.divToInt(i),n.isZero())Fc=r?3:2;else{if(t=t.minus(n.times(i)),t.lte(a))return Fc=XV(n)?r?2:3:r?4:1,t;Fc=XV(n)?r?1:4:r?3:2}return t.minus(i).abs()}function FI(e,t,n,r){var i,a,o,s,l,u,c,d,f,h=e.constructor,m=n!==void 0;if(m?(Xo(n,1,Ch),r===void 0?r=h.rounding:Xo(r,0,8)):(n=h.precision,r=h.rounding),!e.isFinite())c=Ble(e);else{for(c=Zu(e),o=c.indexOf("."),m?(i=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):i=t,o>=0&&(c=c.replace(".",""),f=new h(1),f.e=c.length-o,f.d=oS(Zu(f),10,i),f.e=f.d.length),d=oS(c,10,i),a=l=d.length;d[--l]==0;)d.pop();if(!d[0])c=m?"0p+0":"0";else{if(o<0?a--:(e=new h(e),e.d=d,e.e=a,e=wr(e,f,n,r,0,i),d=e.d,a=e.e,u=Dle),o=d[n],s=i/2,u=u||d[n+1]!==void 0,u=r<4?(o!==void 0||u)&&(r===0||r===(e.s<0?3:2)):o>s||o===s&&(r===4||u||r===6&&d[n-1]&1||r===(e.s<0?8:7)),d.length=n,u)for(;++d[--n]>i-1;)d[n]=0,n||(++a,d.unshift(1));for(l=d.length;!d[l-1];--l);for(o=0,c="";o<l;o++)c+=cN.charAt(d[o]);if(m){if(l>1)if(t==16||t==8){for(o=t==16?4:3,--l;l%o;l++)c+="0";for(d=oS(c,i,t),l=d.length;!d[l-1];--l);for(o=1,c="1.";o<l;o++)c+=cN.charAt(d[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>l)for(a-=l;a--;)c+="0";else a<l&&(c=c.slice(0,a)+"."+c.slice(a))}c=(t==16?"0x":t==2?"0b":t==8?"0o":"")+c}return e.s<0?"-"+c:c}function ZV(e,t){if(e.length>t)return e.length=t,!0}function ort(e){return new this(e).abs()}function srt(e){return new this(e).acos()}function lrt(e){return new this(e).acosh()}function urt(e,t){return new this(e).plus(t)}function crt(e){return new this(e).asin()}function drt(e){return new this(e).asinh()}function frt(e){return new this(e).atan()}function hrt(e){return new this(e).atanh()}function prt(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,a=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=Xl(this,a,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?Xl(this,r,i):new this(0),n.s=e.s):!e.d||t.isZero()?(n=Xl(this,a,1).times(.5),n.s=e.s):t.s<0?(this.precision=a,this.rounding=1,n=this.atan(wr(e,t,a,1)),t=Xl(this,a,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(wr(e,t,a,1)),n}function mrt(e){return new this(e).cbrt()}function grt(e){return jt(e=new this(e),e.e+1,2)}function vrt(e,t,n){return new this(e).clamp(t,n)}function yrt(e){if(!e||typeof e!="object")throw Error(QE+"Object expected");var t,n,r,i=e.defaults===!0,a=["precision",1,Ch,"rounding",0,8,"toExpNeg",-Zg,0,"toExpPos",0,Zg,"maxE",0,Zg,"minE",-Zg,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(n=a[t],i&&(this[n]=dN[n]),(r=e[n])!==void 0)if(Ka(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Zf+n+": "+r);if(n="crypto",i&&(this[n]=dN[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Ile);else this[n]=!1;else throw Error(Zf+n+": "+r);return this}function brt(e){return new this(e).cos()}function wrt(e){return new this(e).cosh()}function $le(e){var t,n,r;function i(a){var o,s,l,u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,eH(a)){u.s=a.s,en?!a.d||a.e>i.maxE?(u.e=NaN,u.d=null):a.e<i.minE?(u.e=0,u.d=[0]):(u.e=a.e,u.d=a.d.slice()):(u.e=a.e,u.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){u.s=1/a<0?-1:1,u.e=0,u.d=[0];return}if(a<0?(a=-a,u.s=-1):u.s=1,a===~~a&&a<1e7){for(o=0,s=a;s>=10;s/=10)o++;en?o>i.maxE?(u.e=NaN,u.d=null):o<i.minE?(u.e=0,u.d=[0]):(u.e=o,u.d=[a]):(u.e=o,u.d=[a]);return}else if(a*0!==0){a||(u.s=NaN),u.e=NaN,u.d=null;return}return pN(u,a.toString())}else if(l!=="string")throw Error(Zf+a);return(s=a.charCodeAt(0))===45?(a=a.slice(1),u.s=-1):(s===43&&(a=a.slice(1)),u.s=1),Ple.test(a)?pN(u,a):irt(u,a)}if(i.prototype=et,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=yrt,i.clone=$le,i.isDecimal=eH,i.abs=ort,i.acos=srt,i.acosh=lrt,i.add=urt,i.asin=crt,i.asinh=drt,i.atan=frt,i.atanh=hrt,i.atan2=prt,i.cbrt=mrt,i.ceil=grt,i.clamp=vrt,i.cos=brt,i.cosh=wrt,i.div=xrt,i.exp=Srt,i.floor=Crt,i.hypot=Ert,i.ln=krt,i.log=Art,i.log10=Mrt,i.log2=_rt,i.max=Trt,i.min=Nrt,i.mod=Drt,i.mul=Rrt,i.pow=Irt,i.random=Ort,i.round=Prt,i.sign=jrt,i.sin=Lrt,i.sinh=Frt,i.sqrt=Brt,i.sub=zrt,i.sum=$rt,i.tan=Urt,i.tanh=Vrt,i.trunc=Hrt,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function xrt(e,t){return new this(e).div(t)}function Srt(e){return new this(e).exp()}function Crt(e){return jt(e=new this(e),e.e+1,3)}function Ert(){var e,t,n=new this(0);for(en=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return en=!0,new this(1/0);n=t}return en=!0,n.sqrt()}function eH(e){return e instanceof eh||e&&e.toStringTag===Ole||!1}function krt(e){return new this(e).ln()}function Art(e,t){return new this(e).log(t)}function _rt(e){return new this(e).log(2)}function Mrt(e){return new this(e).log(10)}function Trt(){return Fle(this,arguments,"lt")}function Nrt(){return Fle(this,arguments,"gt")}function Drt(e,t){return new this(e).mod(t)}function Rrt(e,t){return new this(e).mul(t)}function Irt(e,t){return new this(e).pow(t)}function Ort(e){var t,n,r,i,a=0,o=new this(1),s=[];if(e===void 0?e=this.precision:Xo(e,1,Ch),r=Math.ceil(e/Ut),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));a<r;)i=t[a],i>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);a<r;)i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(i%1e7),a+=4);a=r/4}else throw Error(Ile);else for(;a<r;)s[a++]=Math.random()*1e7|0;for(r=s[--a],e%=Ut,r&&e&&(i=zi(10,Ut-e),s[a]=(r/i|0)*i);s[a]===0;a--)s.pop();if(a<0)n=0,s=[0];else{for(n=-1;s[0]===0;n-=Ut)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<Ut&&(n-=Ut-r)}return o.e=n,o.d=s,o}function Prt(e){return jt(e=new this(e),e.e+1,this.rounding)}function jrt(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Lrt(e){return new this(e).sin()}function Frt(e){return new this(e).sinh()}function Brt(e){return new this(e).sqrt()}function zrt(e,t){return new this(e).sub(t)}function $rt(){var e=0,t=arguments,n=new this(t[e]);for(en=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return en=!0,jt(n,this.precision,this.rounding)}function Urt(e){return new this(e).tan()}function Vrt(e){return new this(e).tanh()}function Hrt(e){return jt(e=new this(e),e.e+1,1)}et[Symbol.for("nodejs.util.inspect.custom")]=et.toString;et[Symbol.toStringTag]="Decimal";var eh=et.constructor=$le(dN);eC=new eh(eC);tC=new eh(tC);var qrt="BigNumber",Wrt=["?on","config"],Grt=ue(qrt,Wrt,e=>{var{on:t,config:n}=e,r=eh.clone({precision:n.precision,modulo:eh.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},t&&t("config",function(i,a){i.precision!==a.precision&&r.config({precision:i.precision})}),r},{isClass:!0}),Ule={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var r=Math.cosh||function(d){return Math.abs(d)<1e-9?1-d:(Math.exp(d)+Math.exp(-d))*.5},i=Math.sinh||function(d){return Math.abs(d)<1e-9?d:(Math.exp(d)-Math.exp(-d))*.5},a=function(d){var f=Math.PI/4;if(-f>d||d>f)return Math.cos(d)-1;var h=d*d;return h*(h*(h*(h*(h*(h*(h*(h/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},o=function(d,f){var h=Math.abs(d),m=Math.abs(f);return h<3e3&&m<3e3?Math.sqrt(h*h+m*m):(h<m?(h=m,m=d/f):m=f/d,h*Math.sqrt(1+m*m))},s=function(){throw SyntaxError("Invalid Param")};function l(d,f){var h=Math.abs(d),m=Math.abs(f);return d===0?Math.log(m):f===0?Math.log(h):h<3e3&&m<3e3?Math.log(d*d+f*f)*.5:(d=d/2,f=f/2,.5*Math.log(d*d+f*f)+Math.LN2)}var u=function(d,f){var h={re:0,im:0};if(d==null)h.re=h.im=0;else if(f!==void 0)h.re=d,h.im=f;else switch(typeof d){case"object":if("im"in d&&"re"in d)h.re=d.re,h.im=d.im;else if("abs"in d&&"arg"in d){if(!Number.isFinite(d.abs)&&Number.isFinite(d.arg))return c.INFINITY;h.re=d.abs*Math.cos(d.arg),h.im=d.abs*Math.sin(d.arg)}else if("r"in d&&"phi"in d){if(!Number.isFinite(d.r)&&Number.isFinite(d.phi))return c.INFINITY;h.re=d.r*Math.cos(d.phi),h.im=d.r*Math.sin(d.phi)}else d.length===2?(h.re=d[0],h.im=d[1]):s();break;case"string":h.im=h.re=0;var m=d.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),g=1,S=0;m===null&&s();for(var y=0;y<m.length;y++){var E=m[y];E===" "||E==="	"||E===`
`||(E==="+"?g++:E==="-"?S++:E==="i"||E==="I"?(g+S===0&&s(),m[y+1]!==" "&&!isNaN(m[y+1])?(h.im+=parseFloat((S%2?"-":"")+m[y+1]),y++):h.im+=parseFloat((S%2?"-":"")+"1"),g=S=0):((g+S===0||isNaN(E))&&s(),m[y+1]==="i"||m[y+1]==="I"?(h.im+=parseFloat((S%2?"-":"")+E),y++):h.re+=parseFloat((S%2?"-":"")+E),g=S=0))}g+S>0&&s();break;case"number":h.im=0,h.re=d;break;default:s()}return isNaN(h.re)||isNaN(h.im),h};function c(d,f){if(!(this instanceof c))return new c(d,f);var h=u(d,f);this.re=h.re,this.im=h.im}c.prototype={re:0,im:0,sign:function(){var d=this.abs();return new c(this.re/d,this.im/d)},add:function(d,f){var h=new c(d,f);return this.isInfinite()&&h.isInfinite()?c.NAN:this.isInfinite()||h.isInfinite()?c.INFINITY:new c(this.re+h.re,this.im+h.im)},sub:function(d,f){var h=new c(d,f);return this.isInfinite()&&h.isInfinite()?c.NAN:this.isInfinite()||h.isInfinite()?c.INFINITY:new c(this.re-h.re,this.im-h.im)},mul:function(d,f){var h=new c(d,f);return this.isInfinite()&&h.isZero()||this.isZero()&&h.isInfinite()?c.NAN:this.isInfinite()||h.isInfinite()?c.INFINITY:h.im===0&&this.im===0?new c(this.re*h.re,0):new c(this.re*h.re-this.im*h.im,this.re*h.im+this.im*h.re)},div:function(d,f){var h=new c(d,f);if(this.isZero()&&h.isZero()||this.isInfinite()&&h.isInfinite())return c.NAN;if(this.isInfinite()||h.isZero())return c.INFINITY;if(this.isZero()||h.isInfinite())return c.ZERO;d=this.re,f=this.im;var m=h.re,g=h.im,S,y;return g===0?new c(d/m,f/m):Math.abs(m)<Math.abs(g)?(y=m/g,S=m*y+g,new c((d*y+f)/S,(f*y-d)/S)):(y=g/m,S=g*y+m,new c((d+f*y)/S,(f-d*y)/S))},pow:function(d,f){var h=new c(d,f);if(d=this.re,f=this.im,h.isZero())return c.ONE;if(h.im===0){if(f===0&&d>0)return new c(Math.pow(d,h.re),0);if(d===0)switch((h.re%4+4)%4){case 0:return new c(Math.pow(f,h.re),0);case 1:return new c(0,Math.pow(f,h.re));case 2:return new c(-Math.pow(f,h.re),0);case 3:return new c(0,-Math.pow(f,h.re))}}if(d===0&&f===0&&h.re>0&&h.im>=0)return c.ZERO;var m=Math.atan2(f,d),g=l(d,f);return d=Math.exp(h.re*g-h.im*m),f=h.im*g+h.re*m,new c(d*Math.cos(f),d*Math.sin(f))},sqrt:function(){var d=this.re,f=this.im,h=this.abs(),m,g;if(d>=0){if(f===0)return new c(Math.sqrt(d),0);m=.5*Math.sqrt(2*(h+d))}else m=Math.abs(f)/Math.sqrt(2*(h-d));return d<=0?g=.5*Math.sqrt(2*(h-d)):g=Math.abs(f)/Math.sqrt(2*(h+d)),new c(m,f<0?-g:g)},exp:function(){var d=Math.exp(this.re);return this.im,new c(d*Math.cos(this.im),d*Math.sin(this.im))},expm1:function(){var d=this.re,f=this.im;return new c(Math.expm1(d)*Math.cos(f)+a(f),Math.exp(d)*Math.sin(f))},log:function(){var d=this.re,f=this.im;return new c(l(d,f),Math.atan2(f,d))},abs:function(){return o(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var d=this.re,f=this.im;return new c(Math.sin(d)*r(f),Math.cos(d)*i(f))},cos:function(){var d=this.re,f=this.im;return new c(Math.cos(d)*r(f),-Math.sin(d)*i(f))},tan:function(){var d=2*this.re,f=2*this.im,h=Math.cos(d)+r(f);return new c(Math.sin(d)/h,i(f)/h)},cot:function(){var d=2*this.re,f=2*this.im,h=Math.cos(d)-r(f);return new c(-Math.sin(d)/h,i(f)/h)},sec:function(){var d=this.re,f=this.im,h=.5*r(2*f)+.5*Math.cos(2*d);return new c(Math.cos(d)*r(f)/h,Math.sin(d)*i(f)/h)},csc:function(){var d=this.re,f=this.im,h=.5*r(2*f)-.5*Math.cos(2*d);return new c(Math.sin(d)*r(f)/h,-Math.cos(d)*i(f)/h)},asin:function(){var d=this.re,f=this.im,h=new c(f*f-d*d+1,-2*d*f).sqrt(),m=new c(h.re-f,h.im+d).log();return new c(m.im,-m.re)},acos:function(){var d=this.re,f=this.im,h=new c(f*f-d*d+1,-2*d*f).sqrt(),m=new c(h.re-f,h.im+d).log();return new c(Math.PI/2-m.im,m.re)},atan:function(){var d=this.re,f=this.im;if(d===0){if(f===1)return new c(0,1/0);if(f===-1)return new c(0,-1/0)}var h=d*d+(1-f)*(1-f),m=new c((1-f*f-d*d)/h,-2*d/h).log();return new c(-.5*m.im,.5*m.re)},acot:function(){var d=this.re,f=this.im;if(f===0)return new c(Math.atan2(1,d),0);var h=d*d+f*f;return h!==0?new c(d/h,-f/h).atan():new c(d!==0?d/0:0,f!==0?-f/0:0).atan()},asec:function(){var d=this.re,f=this.im;if(d===0&&f===0)return new c(0,1/0);var h=d*d+f*f;return h!==0?new c(d/h,-f/h).acos():new c(d!==0?d/0:0,f!==0?-f/0:0).acos()},acsc:function(){var d=this.re,f=this.im;if(d===0&&f===0)return new c(Math.PI/2,1/0);var h=d*d+f*f;return h!==0?new c(d/h,-f/h).asin():new c(d!==0?d/0:0,f!==0?-f/0:0).asin()},sinh:function(){var d=this.re,f=this.im;return new c(i(d)*Math.cos(f),r(d)*Math.sin(f))},cosh:function(){var d=this.re,f=this.im;return new c(r(d)*Math.cos(f),i(d)*Math.sin(f))},tanh:function(){var d=2*this.re,f=2*this.im,h=r(d)+Math.cos(f);return new c(i(d)/h,Math.sin(f)/h)},coth:function(){var d=2*this.re,f=2*this.im,h=r(d)-Math.cos(f);return new c(i(d)/h,-Math.sin(f)/h)},csch:function(){var d=this.re,f=this.im,h=Math.cos(2*f)-r(2*d);return new c(-2*i(d)*Math.cos(f)/h,2*r(d)*Math.sin(f)/h)},sech:function(){var d=this.re,f=this.im,h=Math.cos(2*f)+r(2*d);return new c(2*r(d)*Math.cos(f)/h,-2*i(d)*Math.sin(f)/h)},asinh:function(){var d=this.im;this.im=-this.re,this.re=d;var f=this.asin();return this.re=-this.im,this.im=d,d=f.re,f.re=-f.im,f.im=d,f},acosh:function(){var d=this.acos();if(d.im<=0){var f=d.re;d.re=-d.im,d.im=f}else{var f=d.im;d.im=-d.re,d.re=f}return d},atanh:function(){var d=this.re,f=this.im,h=d>1&&f===0,m=1-d,g=1+d,S=m*m+f*f,y=S!==0?new c((g*m-f*f)/S,(f*m+g*f)/S):new c(d!==-1?d/0:0,f!==0?f/0:0),E=y.re;return y.re=l(y.re,y.im)/2,y.im=Math.atan2(y.im,E)/2,h&&(y.im=-y.im),y},acoth:function(){var d=this.re,f=this.im;if(d===0&&f===0)return new c(0,Math.PI/2);var h=d*d+f*f;return h!==0?new c(d/h,-f/h).atanh():new c(d!==0?d/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var d=this.re,f=this.im;if(f===0)return new c(d!==0?Math.log(d+Math.sqrt(d*d+1)):1/0,0);var h=d*d+f*f;return h!==0?new c(d/h,-f/h).asinh():new c(d!==0?d/0:0,f!==0?-f/0:0).asinh()},asech:function(){var d=this.re,f=this.im;if(this.isZero())return c.INFINITY;var h=d*d+f*f;return h!==0?new c(d/h,-f/h).acosh():new c(d!==0?d/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return c.INFINITY;if(this.isInfinite())return c.ZERO;var d=this.re,f=this.im,h=d*d+f*f;return new c(d/h,-f/h)},conjugate:function(){return new c(this.re,-this.im)},neg:function(){return new c(-this.re,-this.im)},ceil:function(d){return d=Math.pow(10,d||0),new c(Math.ceil(this.re*d)/d,Math.ceil(this.im*d)/d)},floor:function(d){return d=Math.pow(10,d||0),new c(Math.floor(this.re*d)/d,Math.floor(this.im*d)/d)},round:function(d){return d=Math.pow(10,d||0),new c(Math.round(this.re*d)/d,Math.round(this.im*d)/d)},equals:function(d,f){var h=new c(d,f);return Math.abs(h.re-this.re)<=c.EPSILON&&Math.abs(h.im-this.im)<=c.EPSILON},clone:function(){return new c(this.re,this.im)},toString:function(){var d=this.re,f=this.im,h="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(d)<c.EPSILON&&(d=0),Math.abs(f)<c.EPSILON&&(f=0),f===0?h+d:(d!==0?(h+=d,h+=" ",f<0?(f=-f,h+="-"):h+="+",h+=" "):f<0&&(f=-f,h+="-"),f!==1&&(h+=f),h+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},c.ZERO=new c(0,0),c.ONE=new c(1,0),c.I=new c(0,1),c.PI=new c(Math.PI,0),c.E=new c(Math.E,0),c.INFINITY=new c(1/0,1/0),c.NAN=new c(NaN,NaN),c.EPSILON=1e-15,Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Complex=c,e.exports=c})()})(Ule);var Krt=Ule.exports;const sa=Rs(Krt);var Yrt="Complex",Jrt=[],Qrt=ue(Yrt,Jrt,()=>(Object.defineProperty(sa,"name",{value:"Complex"}),sa.prototype.constructor=sa,sa.prototype.type="Complex",sa.prototype.isComplex=!0,sa.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},sa.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},sa.prototype.format=function(e){var t="",n=this.im,r=this.re,i=zp(this.re,e),a=zp(this.im,e),o=fn(e)?e:e?e.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(r/n)<s&&(r=0),Math.abs(n/r)<s&&(n=0)}return n===0?t=i:r===0?n===1?t="i":n===-1?t="-i":t=a+"i":n<0?n===-1?t=i+" - i":t=i+" - "+a.substring(1)+"i":n===1?t=i+" + i":t=i+" + "+a+"i",t},sa.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return sa(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],r=arguments[1];if(fn(n)){if(ol(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),fn(r))return new sa({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},sa.prototype.valueOf=sa.prototype.toString,sa.fromJSON=function(e){return new sa(e)},sa.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},sa),{isClass:!0}),Vle={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var r=2e3,i={s:1,n:0,d:1};function a(y,E){if(isNaN(y=parseInt(y,10)))throw g();return y*E}function o(y,E){if(E===0)throw m();var x=Object.create(h.prototype);x.s=y<0?-1:1,y=y<0?-y:y;var v=f(y,E);return x.n=y/v,x.d=E/v,x}function s(y){for(var E={},x=y,v=2,C=4;C<=x;){for(;x%v===0;)x/=v,E[v]=(E[v]||0)+1;C+=1+2*v++}return x!==y?x>1&&(E[x]=(E[x]||0)+1):E[y]=(E[y]||0)+1,E}var l=function(y,E){var x=0,v=1,C=1,b=0,A=0,_=0,T=1,M=1,N=0,I=1,F=1,$=1,z=1e7,D;if(y!=null)if(E!==void 0){if(x=y,v=E,C=x*v,x%1!==0||v%1!==0)throw S()}else switch(typeof y){case"object":{if("d"in y&&"n"in y)x=y.n,v=y.d,"s"in y&&(x*=y.s);else if(0 in y)x=y[0],1 in y&&(v=y[1]);else throw g();C=x*v;break}case"number":{if(y<0&&(C=y,y=-y),y%1===0)x=y;else if(y>0){for(y>=1&&(M=Math.pow(10,Math.floor(1+Math.log(y)/Math.LN10)),y/=M);I<=z&&$<=z;)if(D=(N+F)/(I+$),y===D){I+$<=z?(x=N+F,v=I+$):$>I?(x=F,v=$):(x=N,v=I);break}else y>D?(N+=F,I+=$):(F+=N,$+=I),I>z?(x=F,v=$):(x=N,v=I);x*=M}else(isNaN(y)||isNaN(E))&&(v=x=NaN);break}case"string":{if(I=y.match(/\d+|./g),I===null)throw g();if(I[N]==="-"?(C=-1,N++):I[N]==="+"&&N++,I.length===N+1?A=a(I[N++],C):I[N+1]==="."||I[N]==="."?(I[N]!=="."&&(b=a(I[N++],C)),N++,(N+1===I.length||I[N+1]==="("&&I[N+3]===")"||I[N+1]==="'"&&I[N+3]==="'")&&(A=a(I[N],C),T=Math.pow(10,I[N].length),N++),(I[N]==="("&&I[N+2]===")"||I[N]==="'"&&I[N+2]==="'")&&(_=a(I[N+1],C),M=Math.pow(10,I[N+1].length)-1,N+=3)):I[N+1]==="/"||I[N+1]===":"?(A=a(I[N],C),T=a(I[N+2],1),N+=3):I[N+3]==="/"&&I[N+1]===" "&&(b=a(I[N],C),A=a(I[N+2],C),T=a(I[N+4],1),N+=5),I.length<=N){v=T*M,C=x=_+v*b+M*A;break}}default:throw g()}if(v===0)throw m();i.s=C<0?-1:1,i.n=Math.abs(x),i.d=Math.abs(v)};function u(y,E,x){for(var v=1;E>0;y=y*y%x,E>>=1)E&1&&(v=v*y%x);return v}function c(y,E){for(;E%2===0;E/=2);for(;E%5===0;E/=5);if(E===1)return 0;for(var x=10%E,v=1;x!==1;v++)if(x=x*10%E,v>r)return 0;return v}function d(y,E,x){for(var v=1,C=u(10,x,E),b=0;b<300;b++){if(v===C)return b;v=v*10%E,C=C*10%E}return 0}function f(y,E){if(!y)return E;if(!E)return y;for(;;){if(y%=E,!y)return E;if(E%=y,!E)return y}}function h(y,E){if(l(y,E),this instanceof h)y=f(i.d,i.n),this.s=i.s,this.n=i.n/y,this.d=i.d/y;else return o(i.s*i.n,i.d)}var m=function(){return new Error("Division by Zero")},g=function(){return new Error("Invalid argument")},S=function(){return new Error("Parameters must be integer")};h.prototype={s:1,n:0,d:1,abs:function(){return o(this.n,this.d)},neg:function(){return o(-this.s*this.n,this.d)},add:function(y,E){return l(y,E),o(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(y,E){return l(y,E),o(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(y,E){return l(y,E),o(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(y,E){return l(y,E),o(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return o(this.s*this.n,this.d)},mod:function(y,E){if(isNaN(this.n)||isNaN(this.d))return new h(NaN);if(y===void 0)return o(this.s*this.n%this.d,1);if(l(y,E),i.n===0&&this.d===0)throw m();return o(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(y,E){return l(y,E),o(f(i.n,this.n)*f(i.d,this.d),i.d*this.d)},lcm:function(y,E){return l(y,E),i.n===0&&this.n===0?o(0,1):o(i.n*this.n,f(i.n,this.n)*f(i.d,this.d))},ceil:function(y){return y=Math.pow(10,y||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):o(Math.ceil(y*this.s*this.n/this.d),y)},floor:function(y){return y=Math.pow(10,y||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):o(Math.floor(y*this.s*this.n/this.d),y)},round:function(y){return y=Math.pow(10,y||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):o(Math.round(y*this.s*this.n/this.d),y)},inverse:function(){return o(this.s*this.d,this.n)},pow:function(y,E){if(l(y,E),i.d===1)return i.s<0?o(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):o(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var x=s(this.n),v=s(this.d),C=1,b=1;for(var A in x)if(A!=="1"){if(A==="0"){C=0;break}if(x[A]*=i.n,x[A]%i.d===0)x[A]/=i.d;else return null;C*=Math.pow(A,x[A])}for(var A in v)if(A!=="1"){if(v[A]*=i.n,v[A]%i.d===0)v[A]/=i.d;else return null;b*=Math.pow(A,v[A])}return i.s<0?o(b,C):o(C,b)},equals:function(y,E){return l(y,E),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(y,E){l(y,E);var x=this.s*this.n*i.d-i.s*i.n*this.d;return(0<x)-(x<0)},simplify:function(y){if(isNaN(this.n)||isNaN(this.d))return this;y=y||.001;for(var E=this.abs(),x=E.toContinued(),v=1;v<x.length;v++){for(var C=o(x[v-1],1),b=v-2;b>=0;b--)C=C.inverse().add(x[b]);if(Math.abs(C.sub(E).valueOf())<y)return C.mul(this.s)}return this},divisible:function(y,E){return l(y,E),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(y){var E,x="",v=this.n,C=this.d;return this.s<0&&(x+="-"),C===1?x+=v:(y&&(E=Math.floor(v/C))>0&&(x+=E,x+=" ",v%=C),x+=v,x+="/",x+=C),x},toLatex:function(y){var E,x="",v=this.n,C=this.d;return this.s<0&&(x+="-"),C===1?x+=v:(y&&(E=Math.floor(v/C))>0&&(x+=E,v%=C),x+="\\frac{",x+=v,x+="}{",x+=C,x+="}"),x},toContinued:function(){var y,E=this.n,x=this.d,v=[];if(isNaN(E)||isNaN(x))return v;do v.push(Math.floor(E/x)),y=E%x,E=x,x=y;while(E!==1);return v},toString:function(y){var E=this.n,x=this.d;if(isNaN(E)||isNaN(x))return"NaN";y=y||15;var v=c(E,x),C=d(E,x,v),b=this.s<0?"-":"";if(b+=E/x|0,E%=x,E*=10,E&&(b+="."),v){for(var A=C;A--;)b+=E/x|0,E%=x,E*=10;b+="(";for(var A=v;A--;)b+=E/x|0,E%=x,E*=10;b+=")"}else for(var A=y;E&&A--;)b+=E/x|0,E%=x,E*=10;return b}},Object.defineProperty(h,"__esModule",{value:!0}),h.default=h,h.Fraction=h,e.exports=h})()})(Vle);var Xrt=Vle.exports;const Ac=Rs(Xrt);var Zrt="Fraction",eit=[],tit=ue(Zrt,eit,()=>(Object.defineProperty(Ac,"name",{value:"Fraction"}),Ac.prototype.constructor=Ac,Ac.prototype.type="Fraction",Ac.prototype.isFraction=!0,Ac.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Ac.fromJSON=function(e){return new Ac(e)},Ac),{isClass:!0}),nit="Range",rit=[],iit=ue(nit,rit,()=>{function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var i=t!=null,a=n!=null,o=r!=null;if(i){if(Sn(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter start must be a number")}if(a){if(Sn(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter end must be a number")}if(o){if(Sn(r))r=r.toNumber();else if(typeof r!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(t):0,this.end=a?parseFloat(n):0,this.step=o?parseFloat(r):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if(typeof t!="string")return null;var n=t.split(":"),r=n.map(function(a){return parseFloat(a)}),i=r.some(function(a){return isNaN(a)});if(i)return null;switch(r.length){case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[2],r[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var t=0,n=this.start,r=this.step,i=this.end,a=i-n;return wf(r)===wf(a)?t=Math.ceil(a/r):a===0&&(t=0),isNaN(t)&&(t=0),[t]},e.prototype.min=function(){var t=this.size()[0];if(t>0)return this.step>0?this.start:this.start+(t-1)*this.step},e.prototype.max=function(){var t=this.size()[0];if(t>0)return this.step>0?this.start+(t-1)*this.step:this.start},e.prototype.forEach=function(t){var n=this.start,r=this.step,i=this.end,a=0;if(r>0)for(;n<i;)t(n,[a],this),n+=r,a++;else if(r<0)for(;n>i;)t(n,[a],this),n+=r,a++},e.prototype.map=function(t){var n=[];return this.forEach(function(r,i,a){n[i[0]]=t(r,i,a)}),n},e.prototype.toArray=function(){var t=[];return this.forEach(function(n,r){t[r[0]]=n}),t},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(t){var n=zp(this.start,t);return this.step!==1&&(n+=":"+zp(this.step,t)),n+=":"+zp(this.end,t),n},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e},{isClass:!0}),ait="Matrix",oit=[],sit=ue(ait,oit,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,n,r){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,n,r){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function lit(e){var t=0,n=1,r=Object.create(null),i=Object.create(null),a=0,o=function(l){var u=i[l];if(u&&(delete r[u],delete i[l],--t,n===u)){if(!t){a=0,n=1;return}for(;!Object.prototype.hasOwnProperty.call(r,++n););}};return e=Math.abs(e),{hit:function(l){var u=i[l],c=++a;if(r[c]=l,i[l]=c,!u)return++t,t<=e?void 0:(l=r[n],o(l),l);if(delete r[u],n===u)for(;!Object.prototype.hasOwnProperty.call(r,++n););},delete:o,clear:function(){t=a=0,n=1,r=Object.create(null),i=Object.create(null)}}}function ew(e){var{hasher:t,limit:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=n??Number.POSITIVE_INFINITY,t=t??JSON.stringify,function r(){typeof r.cache!="object"&&(r.cache={values:new Map,lru:lit(n||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=t(i);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var s=e.apply(e,i);return r.cache.values.set(o,s),r.cache.values.delete(r.cache.lru.hit(o)),s}}function Hle(e){return Object.keys(e.signatures||{}).reduce(function(t,n){var r=(n.match(/,/g)||[]).length+1;return Math.max(t,r)},-1)}var uit="DenseMatrix",cit=["Matrix"],dit=ue(uit,cit,e=>{var{Matrix:t}=e;function n(c,d){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!za(d))throw new Error("Invalid datatype: "+d);if(Ft(c))c.type==="DenseMatrix"?(this._data=Zt(c._data),this._size=Zt(c._size),this._datatype=d||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=d||c._datatype);else if(c&&Vn(c.data)&&Vn(c.size))this._data=c.data,this._size=c.size,KV(this._data,this._size),this._datatype=d||c.datatype;else if(Vn(c))this._data=u(c),this._size=nn(this._data),KV(this._data,this._size),this._datatype=d;else{if(c)throw new TypeError("Unsupported type of data ("+ur(c)+")");this._data=[],this._size=[0],this._datatype=d}}n.prototype=new t,n.prototype.createDenseMatrix=function(c,d){return new n(c,d)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Jb(this._data,ur)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(c,d){return new n(c,d)},n.prototype.subset=function(c,d,f){switch(arguments.length){case 1:return r(this,c);case 2:case 3:return a(this,c,d,f);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(c){if(!Vn(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new hn(c.length,this._size.length);for(var d=0;d<c.length;d++)sr(c[d],this._size[d]);for(var f=this._data,h=0,m=c.length;h<m;h++){var g=c[h];sr(g,f.length),f=f[g]}return f},n.prototype.set=function(c,d,f){if(!Vn(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new hn(c.length,this._size.length,"<");var h,m,g,S=c.map(function(E){return E+1});l(this,S,f);var y=this._data;for(h=0,m=c.length-1;h<m;h++)g=c[h],sr(g,y.length),y=y[g];return g=c[c.length-1],sr(g,y.length),y[g]=d,this};function r(c,d){if(!qE(d))throw new TypeError("Invalid index");var f=d.isScalar();if(f)return c.get(d.min());var h=d.size();if(h.length!==c._size.length)throw new hn(h.length,c._size.length);for(var m=d.min(),g=d.max(),S=0,y=c._size.length;S<y;S++)sr(m[S],c._size[S]),sr(g[S],c._size[S]);return new n(i(c._data,d,h.length,0),c._datatype)}function i(c,d,f,h){var m=h===f-1,g=d.dimension(h);return m?g.map(function(S){return sr(S,c.length),c[S]}).valueOf():g.map(function(S){sr(S,c.length);var y=c[S];return i(y,d,f,h+1)}).valueOf()}function a(c,d,f,h){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var m=d.size(),g=d.isScalar(),S;if(Ft(f)?(S=f.size(),f=f.valueOf()):S=nn(f),g){if(S.length!==0)throw new TypeError("Scalar expected");c.set(d.min(),f,h)}else{if(!sm(S,m))try{S.length===0?f=JV([f],m):f=JV(f,m),S=nn(f)}catch{}if(m.length<c._size.length)throw new hn(m.length,c._size.length,"<");if(S.length<m.length){for(var y=0,E=0;m[y]===1&&S[y]===1;)y++;for(;m[y]===1;)E++,y++;f=Cle(f,m.length,E,S)}if(!sm(m,S))throw new hn(m,S,">");var x=d.max().map(function(b){return b+1});l(c,x,h);var v=m.length,C=0;o(c._data,d,f,v,C)}return c}function o(c,d,f,h,m){var g=m===h-1,S=d.dimension(m);g?S.forEach(function(y,E){sr(y),c[y]=f[E[0]]}):S.forEach(function(y,E){sr(y),o(c[y],d,f[E[0]],h,m+1)})}n.prototype.resize=function(c,d,f){if(!Qf(c))throw new TypeError("Array or Matrix expected");var h=c.valueOf().map(g=>Array.isArray(g)&&g.length===1?g[0]:g),m=f?this.clone():this;return s(m,h,d)};function s(c,d,f){if(d.length===0){for(var h=c._data;Vn(h);)h=h[0];return h}return c._size=d.slice(0),c._data=a1(c._data,c._size,f),c}n.prototype.reshape=function(c,d){var f=d?this.clone():this;f._data=II(f._data,c);var h=f._size.reduce((m,g)=>m*g);return f._size=OI(c,h),f};function l(c,d,f){for(var h=c._size.slice(0),m=!1;h.length<d.length;)h.push(0),m=!0;for(var g=0,S=d.length;g<S;g++)d[g]>h[g]&&(h[g]=d[g],m=!0);m&&s(c,h,f)}n.prototype.clone=function(){var c=new n({data:Zt(this._data),size:Zt(this._size),datatype:this._datatype});return c},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(c){var d=this,f=Hle(c),h=function S(y,E){return Vn(y)?y.map(function(x,v){return S(x,E.concat(v))}):f===1?c(y):f===2?c(y,E):c(y,E,d)},m=h(this._data,[]),g=this._datatype!==void 0?Jb(m,ur):void 0;return new n(m,g)},n.prototype.forEach=function(c){var d=this,f=function h(m,g){Vn(m)?m.forEach(function(S,y){h(S,g.concat(y))}):c(m,g,d)};f(this._data,[])},n.prototype[Symbol.iterator]=function*(){var c=function*d(f,h){if(Vn(f))for(var m=0;m<f.length;m++)yield*d(f[m],h.concat(m));else yield{value:f,index:h}};yield*c(this._data,[])},n.prototype.rows=function(){var c=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var h of f)c.push(new n([h],this._datatype));return c},n.prototype.columns=function(){var c=this,d=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,m=function(y){var E=h.map(x=>[x[y]]);d.push(new n(E,c._datatype))},g=0;g<f[1];g++)m(g);return d},n.prototype.toArray=function(){return Zt(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(c){return cn(this._data,c)},n.prototype.toString=function(){return cn(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(c){if(c){if(Sn(c)&&(c=c.toNumber()),!fn(c)||!Dt(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var d=c>0?c:0,f=c<0?-c:0,h=this._size[0],m=this._size[1],g=Math.min(h-f,m-d),S=[],y=0;y<g;y++)S[y]=this._data[y+f][y+d];return new n({data:S,size:[g],datatype:this._datatype})},n.diagonal=function(c,d,f,h){if(!Vn(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(A){if(Sn(A)&&(A=A.toNumber()),!fn(A)||!Dt(A)||A<1)throw new Error("Size values must be positive integers");return A}),f){if(Sn(f)&&(f=f.toNumber()),!fn(f)||!Dt(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var m=f>0?f:0,g=f<0?-f:0,S=c[0],y=c[1],E=Math.min(S-g,y-m),x;if(Vn(d)){if(d.length!==E)throw new Error("Invalid value array length");x=function(_){return d[_]}}else if(Ft(d)){var v=d.size();if(v.length!==1||v[0]!==E)throw new Error("Invalid matrix length");x=function(_){return d.get([_])}}else x=function(){return d};h||(h=Sn(x(0))?x(0).mul(0):0);var C=[];if(c.length>0){C=a1(C,c,h);for(var b=0;b<E;b++)C[b+g][b+m]=x(b)}return new n({data:C,size:[S,y]})},n.fromJSON=function(c){return new n(c)},n.prototype.swapRows=function(c,d){if(!fn(c)||!Dt(c)||!fn(d)||!Dt(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return sr(c,this._size[0]),sr(d,this._size[0]),n._swapRows(c,d,this._data),this},n._swapRows=function(c,d,f){var h=f[c];f[c]=f[d],f[d]=h};function u(c){return Ft(c)?u(c.valueOf()):Vn(c)?c.map(u):c}return n},{isClass:!0}),tH="clone",fit=["typed"],hit=ue(tH,fit,e=>{var{typed:t}=e;return t(tH,{any:Zt})});function qle(e){var t=e.length,n=e[0].length,r,i,a=[];for(i=0;i<n;i++){var o=[];for(r=0;r<t;r++)o.push(e[r][i]);a.push(o)}return a}function Y1(e){for(var t=0;t<e.length;t++)if(Qf(e[t]))return!0;return!1}function ld(e,t){Ft(e)&&(e=e.valueOf());for(var n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?ld(i,t):t(i)}}function vn(e,t,n){return e&&typeof e.map=="function"?e.map(function(r){return vn(r,t)}):t(e)}function ek(e,t,n){var r=Array.isArray(e)?nn(e):e.size();if(t<0||t>=r.length)throw new pu(t,r.length);return Ft(e)?e.create(rC(e.valueOf(),t,n)):rC(e,t,n)}function rC(e,t,n){var r,i,a,o;if(t<=0)if(Array.isArray(e[0])){for(o=qle(e),i=[],r=0;r<o.length;r++)i[r]=rC(o[r],t-1,n);return i}else{for(a=e[0],r=1;r<e.length;r++)a=n(a,e[r]);return a}else{for(i=[],r=0;r<e.length;r++)i[r]=rC(e[r],t-1,n);return i}}function nH(e,t,n,r,i,a,o,s,l,u,c){var d=e._values,f=e._index,h=e._ptr,m,g,S,y;if(r)for(g=h[t],S=h[t+1],m=g;m<S;m++)y=f[m],n[y]!==a?(n[y]=a,o.push(y),u?(r[y]=l?s(d[m],c):s(c,d[m]),i[y]=a):r[y]=d[m]):(r[y]=l?s(d[m],r[y]):s(r[y],d[m]),i[y]=a);else for(g=h[t],S=h[t+1],m=g;m<S;m++)y=f[m],n[y]!==a?(n[y]=a,o.push(y)):i[y]=a}var rH="isInteger",pit=["typed"],mit=ue(rH,pit,e=>{var{typed:t}=e;return t(rH,{number:Dt,BigNumber:function(r){return r.isInt()},Fraction:function(r){return r.d===1&&isFinite(r.n)},"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),mu="number",J1="number, number";function Wle(e){return Math.abs(e)}Wle.signature=mu;function Gle(e,t){return e+t}Gle.signature=J1;function Kle(e,t){return e-t}Kle.signature=J1;function Yle(e,t){return e*t}Yle.signature=J1;function Jle(e){return-e}Jle.signature=mu;function Qle(e){return e}Qle.signature=mu;function Sy(e){return mnt(e)}Sy.signature=mu;function Xle(e){return e*e*e}Xle.signature=mu;function Zle(e){return Math.exp(e)}Zle.signature=mu;function eue(e){return gnt(e)}eue.signature=mu;function tue(e,t){if(!Dt(e)||!Dt(t))throw new Error("Parameters in function lcm must be integer numbers");if(e===0||t===0)return 0;for(var n,r=e*t;t!==0;)n=t,t=e%n,e=n;return Math.abs(r/e)}tue.signature=J1;function git(e,t){return t?Math.log(e)/Math.log(t):Math.log(e)}function nue(e){return hnt(e)}nue.signature=mu;function rue(e){return fnt(e)}rue.signature=mu;function iH(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=t<0;if(n&&(t=-t),t===0)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!==1)throw new Error("Root must be odd when a is negative.");if(e===0)return n?1/0:0;if(!isFinite(e))return n?0:e;var r=Math.pow(Math.abs(e),1/t);return r=e<0?-r:r,n?1/r:r}function mN(e){return wf(e)}mN.signature=mu;function iue(e){return e*e}iue.signature=mu;function aue(e,t){var n,r,i,a=0,o=1,s=1,l=0;if(!Dt(e)||!Dt(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)r=Math.floor(e/t),i=e-r*t,n=a,a=o-r*a,o=n,n=s,s=l-r*s,l=n,e=t,t=i;var u;return e<0?u=[-e,-o,-l]:u=[e,e?o:0,l],u}aue.signature=J1;function oue(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}oue.signature=J1;function aH(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Dt(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(vle(e,t))}var vit="number",Q1="number, number";function sue(e,t){if(!Dt(e)||!Dt(t))throw new Error("Integers expected in function bitAnd");return e&t}sue.signature=Q1;function lue(e){if(!Dt(e))throw new Error("Integer expected in function bitNot");return~e}lue.signature=vit;function uue(e,t){if(!Dt(e)||!Dt(t))throw new Error("Integers expected in function bitOr");return e|t}uue.signature=Q1;function cue(e,t){if(!Dt(e)||!Dt(t))throw new Error("Integers expected in function bitXor");return e^t}cue.signature=Q1;function due(e,t){if(!Dt(e)||!Dt(t))throw new Error("Integers expected in function leftShift");return e<<t}due.signature=Q1;function fue(e,t){if(!Dt(e)||!Dt(t))throw new Error("Integers expected in function rightArithShift");return e>>t}fue.signature=Q1;function hue(e,t){if(!Dt(e)||!Dt(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}hue.signature=Q1;function Bc(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return Bc(e,n)*Bc(n+1,t)}function pue(e,t){if(!Dt(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!Dt(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(var n=e-t,r=1,i=t<n?n+1:t+1,a=2,o=t<n?t:n,s=i;s<=e;++s)for(r*=s;a<=o&&r%a===0;)r/=a,++a;return a<=o&&(r/=Bc(a,o)),r}pue.signature="number, number";var yit=Math.PI,bit=2*Math.PI,wit=Math.E,xit=1.618033988749895,Sit="number",BI="number, number";function mue(e){return!e}mue.signature=Sit;function gue(e,t){return!!(e||t)}gue.signature=BI;function vue(e,t){return!!e!=!!t}vue.signature=BI;function yue(e,t){return!!(e&&t)}yue.signature=BI;function iC(e){var t;if(Dt(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:Bc(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*iC(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,i=r*e,a=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*e))}--e,t=C0[0];for(var o=1;o<C0.length;++o)t+=C0[o]/(e+o);var s=e+bue+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t}iC.signature="number";var bue=4.7421875,C0=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],wue=.9189385332046728,Cit=5,Eit=7,oH=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function aC(e){if(e<0)return NaN;if(e===0)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-aC(1-e);e=e-1;for(var t=e+Cit+.5,n=oH[0],r=Eit-1;r>=1;r--)n+=oH[r]/(e+r);return wue+(e+.5)*Math.log(t)-t+Math.log(n)}aC.signature="number";var no="number";function xue(e){return xnt(e)}xue.signature=no;function Sue(e){return Math.atan(1/e)}Sue.signature=no;function Cue(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}Cue.signature=no;function Eue(e){return Math.asin(1/e)}Eue.signature=no;function kue(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}kue.signature=no;function Aue(e){return Math.acos(1/e)}Aue.signature=no;function _ue(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}_ue.signature=no;function Mue(e){return Snt(e)}Mue.signature=no;function Tue(e){return Cnt(e)}Tue.signature=no;function Nue(e){return 1/Math.tan(e)}Nue.signature=no;function Due(e){var t=Math.exp(2*e);return(t+1)/(t-1)}Due.signature=no;function Rue(e){return 1/Math.sin(e)}Rue.signature=no;function Iue(e){return e===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*wf(e)}Iue.signature=no;function Oue(e){return 1/Math.cos(e)}Oue.signature=no;function Pue(e){return 2/(Math.exp(e)+Math.exp(-e))}Pue.signature=no;function jue(e){return knt(e)}jue.signature=no;var tk="number";function Lue(e){return e<0}Lue.signature=tk;function Fue(e){return e>0}Fue.signature=tk;function Bue(e){return e===0}Bue.signature=tk;function zue(e){return Number.isNaN(e)}zue.signature=tk;var sH="isNegative",kit=["typed"],Ait=ue(sH,kit,e=>{var{typed:t}=e;return t(sH,{number:Lue,BigNumber:function(r){return r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s<0},Unit:t.referToSelf(n=>r=>t.find(n,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),lH="isNumeric",_it=["typed"],Mit=ue(lH,_it,e=>{var{typed:t}=e;return t(lH,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),uH="hasNumericValue",Tit=["typed","isNumeric"],Nit=ue(uH,Tit,e=>{var{typed:t,isNumeric:n}=e;return t(uH,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return n(i)}})}),cH="isPositive",Dit=["typed"],Rit=ue(cH,Dit,e=>{var{typed:t}=e;return t(cH,{number:Fue,BigNumber:function(r){return!r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s>0&&r.n>0},Unit:t.referToSelf(n=>r=>t.find(n,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),dH="isZero",Iit=["typed"],Oit=ue(dH,Iit,e=>{var{typed:t}=e;return t(dH,{number:Bue,BigNumber:function(r){return r.isZero()},Complex:function(r){return r.re===0&&r.im===0},Fraction:function(r){return r.d===1&&r.n===0},Unit:t.referToSelf(n=>r=>t.find(n,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),fH="isNaN",Pit=["typed"],jit=ue(fH,Pit,e=>{var{typed:t}=e;return t(fH,{number:zue,BigNumber:function(r){return r.isNaN()},Fraction:function(r){return!1},Complex:function(r){return r.isNaN()},Unit:function(r){return Number.isNaN(r.value)},"Array | Matrix":function(r){return vn(r,Number.isNaN)}})}),hH="typeOf",Lit=["typed"],Fit=ue(hH,Lit,e=>{var{typed:t}=e;return t(hH,{any:ur})});function ec(e,t,n){if(n==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}function Bit(e,t,n){return Ns(e.re,t.re,n)&&Ns(e.im,t.im,n)}var X1=ue("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(n,[r.valueType(),i.valueType()])(r.value,i.value)})}}),oC="equalScalar",zit=["typed","config"],$it=ue(oC,zit,e=>{var{typed:t,config:n}=e,r=X1({typed:t});return t(oC,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Ns(a,o,n.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||ec(a,o,n.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return Bit(a,o,n.epsilon)}},r)});ue(oC,["typed","config"],e=>{var{typed:t,config:n}=e;return t(oC,{"number, number":function(i,a){return Ns(i,a,n.epsilon)}})});var Uit="SparseMatrix",Vit=["typed","equalScalar","Matrix"],Hit=ue(Uit,Vit,e=>{var{typed:t,equalScalar:n,Matrix:r}=e;function i(g,S){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(S&&!za(S))throw new Error("Invalid datatype: "+S);if(Ft(g))a(this,g,S);else if(g&&Vn(g.index)&&Vn(g.ptr)&&Vn(g.size))this._values=g.values,this._index=g.index,this._ptr=g.ptr,this._size=g.size,this._datatype=S||g.datatype;else if(Vn(g))o(this,g,S);else{if(g)throw new TypeError("Unsupported type of data ("+ur(g)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=S}}function a(g,S,y){S.type==="SparseMatrix"?(g._values=S._values?Zt(S._values):void 0,g._index=Zt(S._index),g._ptr=Zt(S._ptr),g._size=Zt(S._size),g._datatype=y||S._datatype):o(g,S.valueOf(),y||S._datatype)}function o(g,S,y){g._values=[],g._index=[],g._ptr=[],g._datatype=y;var E=S.length,x=0,v=n,C=0;if(za(y)&&(v=t.find(n,[y,y])||n,C=t.convert(0,y)),E>0){var b=0;do{g._ptr.push(g._index.length);for(var A=0;A<E;A++){var _=S[A];if(Vn(_)){if(b===0&&x<_.length&&(x=_.length),b<_.length){var T=_[b];v(T,C)||(g._values.push(T),g._index.push(A))}}else b===0&&x<1&&(x=1),v(_,C)||(g._values.push(_),g._index.push(A))}b++}while(b<x)}g._ptr.push(g._index.length),g._size=[E,x]}i.prototype=new r,i.prototype.createSparseMatrix=function(g,S){return new i(g,S)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Jb(this._values,ur)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(g,S){return new i(g,S)},i.prototype.density=function(){var g=this._size[0],S=this._size[1];return g!==0&&S!==0?this._index.length/(g*S):0},i.prototype.subset=function(g,S,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,g);case 2:case 3:return l(this,g,S,y);default:throw new SyntaxError("Wrong number of arguments")}};function s(g,S){if(!qE(S))throw new TypeError("Invalid index");var y=S.isScalar();if(y)return g.get(S.min());var E=S.size();if(E.length!==g._size.length)throw new hn(E.length,g._size.length);var x,v,C,b,A=S.min(),_=S.max();for(x=0,v=g._size.length;x<v;x++)sr(A[x],g._size[x]),sr(_[x],g._size[x]);var T=g._values,M=g._index,N=g._ptr,I=S.dimension(0),F=S.dimension(1),$=[],z=[];I.forEach(function(B,H){z[B]=H[0],$[B]=!0});var D=T?[]:void 0,P=[],V=[];return F.forEach(function(B){for(V.push(P.length),C=N[B],b=N[B+1];C<b;C++)x=M[C],$[x]===!0&&(P.push(z[x]),D&&D.push(T[C]))}),V.push(P.length),new i({values:D,index:P,ptr:V,size:E,datatype:g._datatype})}function l(g,S,y,E){if(!S||S.isIndex!==!0)throw new TypeError("Invalid index");var x=S.size(),v=S.isScalar(),C;if(Ft(y)?(C=y.size(),y=y.toArray()):C=nn(y),v){if(C.length!==0)throw new TypeError("Scalar expected");g.set(S.min(),y,E)}else{if(x.length!==1&&x.length!==2)throw new hn(x.length,g._size.length,"<");if(C.length<x.length){for(var b=0,A=0;x[b]===1&&C[b]===1;)b++;for(;x[b]===1;)A++,b++;y=Cle(y,x.length,A,C)}if(!sm(x,C))throw new hn(x,C,">");if(x.length===1){var _=S.dimension(0);_.forEach(function(N,I){sr(N),g.set([N,0],y[I[0]],E)})}else{var T=S.dimension(0),M=S.dimension(1);T.forEach(function(N,I){sr(N),M.forEach(function(F,$){sr(F),g.set([N,F],y[I[0]][$[0]],E)})})}}return g}i.prototype.get=function(g){if(!Vn(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new hn(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var S=g[0],y=g[1];sr(S,this._size[0]),sr(y,this._size[1]);var E=u(S,this._ptr[y],this._ptr[y+1],this._index);return E<this._ptr[y+1]&&this._index[E]===S?this._values[E]:0},i.prototype.set=function(g,S,y){if(!Vn(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new hn(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var E=g[0],x=g[1],v=this._size[0],C=this._size[1],b=n,A=0;za(this._datatype)&&(b=t.find(n,[this._datatype,this._datatype])||n,A=t.convert(0,this._datatype)),(E>v-1||x>C-1)&&(f(this,Math.max(E+1,v),Math.max(x+1,C),y),v=this._size[0],C=this._size[1]),sr(E,v),sr(x,C);var _=u(E,this._ptr[x],this._ptr[x+1],this._index);return _<this._ptr[x+1]&&this._index[_]===E?b(S,A)?c(_,x,this._values,this._index,this._ptr):this._values[_]=S:b(S,A)||d(_,E,x,S,this._values,this._index,this._ptr),this};function u(g,S,y,E){if(y-S===0)return y;for(var x=S;x<y;x++)if(E[x]===g)return x;return S}function c(g,S,y,E,x){y.splice(g,1),E.splice(g,1);for(var v=S+1;v<x.length;v++)x[v]--}function d(g,S,y,E,x,v,C){x.splice(g,0,E),v.splice(g,0,S);for(var b=y+1;b<C.length;b++)C[b]++}i.prototype.resize=function(g,S,y){if(!Qf(g))throw new TypeError("Array or Matrix expected");var E=g.valueOf().map(v=>Array.isArray(v)&&v.length===1?v[0]:v);if(E.length!==2)throw new Error("Only two dimensions matrix are supported");E.forEach(function(v){if(!fn(v)||!Dt(v)||v<0)throw new TypeError("Invalid size, must contain positive integers (size: "+cn(E)+")")});var x=y?this.clone():this;return f(x,E[0],E[1],S)};function f(g,S,y,E){var x=E||0,v=n,C=0;za(g._datatype)&&(v=t.find(n,[g._datatype,g._datatype])||n,C=t.convert(0,g._datatype),x=t.convert(x,g._datatype));var b=!v(x,C),A=g._size[0],_=g._size[1],T,M,N;if(y>_){for(M=_;M<y;M++)if(g._ptr[M]=g._values.length,b)for(T=0;T<A;T++)g._values.push(x),g._index.push(T);g._ptr[y]=g._values.length}else y<_&&(g._ptr.splice(y+1,_-y),g._values.splice(g._ptr[y],g._values.length),g._index.splice(g._ptr[y],g._index.length));if(_=y,S>A){if(b){var I=0;for(M=0;M<_;M++){g._ptr[M]=g._ptr[M]+I,N=g._ptr[M+1]+I;var F=0;for(T=A;T<S;T++,F++)g._values.splice(N+F,0,x),g._index.splice(N+F,0,T),I++}g._ptr[_]=g._values.length}}else if(S<A){var $=0;for(M=0;M<_;M++){g._ptr[M]=g._ptr[M]-$;var z=g._ptr[M],D=g._ptr[M+1]-$;for(N=z;N<D;N++)T=g._index[N],T>S-1&&(g._values.splice(N,1),g._index.splice(N,1),$++)}g._ptr[M]=g._values.length}return g._size[0]=S,g._size[1]=y,g}i.prototype.reshape=function(g,S){if(!Vn(g))throw new TypeError("Array expected");if(g.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");g.forEach(function(B){if(!fn(B)||!Dt(B)||B<=-2||B===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+cn(g)+")")});var y=this._size[0]*this._size[1];g=OI(g,y);var E=g[0]*g[1];if(y!==E)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var x=S?this.clone():this;if(this._size[0]===g[0]&&this._size[1]===g[1])return x;for(var v=[],C=0;C<x._ptr.length;C++)for(var b=0;b<x._ptr[C+1]-x._ptr[C];b++)v.push(C);for(var A=x._values.slice(),_=x._index.slice(),T=0;T<x._index.length;T++){var M=_[T],N=v[T],I=M*x._size[1]+N;v[T]=I%g[1],_[T]=Math.floor(I/g[1])}x._values.length=0,x._index.length=0,x._ptr.length=g[1]+1,x._size=g.slice();for(var F=0;F<x._ptr.length;F++)x._ptr[F]=0;for(var $=0;$<A.length;$++){var z=_[$],D=v[$],P=A[$],V=u(z,x._ptr[D],x._ptr[D+1],x._index);d(V,z,D,P,x._values,x._index,x._ptr)}return x},i.prototype.clone=function(){var g=new i({values:this._values?Zt(this._values):void 0,index:Zt(this._index),ptr:Zt(this._ptr),size:Zt(this._size),datatype:this._datatype});return g},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(g,S){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,E=this._size[0],x=this._size[1],v=Hle(g),C=function(A,_,T){return v===1?g(A):v===2?g(A,[_,T]):g(A,[_,T],y)};return h(this,0,E-1,0,x-1,C,S)};function h(g,S,y,E,x,v,C){var b=[],A=[],_=[],T=n,M=0;za(g._datatype)&&(T=t.find(n,[g._datatype,g._datatype])||n,M=t.convert(0,g._datatype));for(var N=function(L,G,de){L=v(L,G,de),T(L,M)||(b.push(L),A.push(G))},I=E;I<=x;I++){_.push(b.length);var F=g._ptr[I],$=g._ptr[I+1];if(C)for(var z=F;z<$;z++){var D=g._index[z];D>=S&&D<=y&&N(g._values[z],D-S,I-E)}else{for(var P={},V=F;V<$;V++){var B=g._index[V];P[B]=g._values[V]}for(var H=S;H<=y;H++){var K=H in P?P[H]:0;N(K,H-S,I-E)}}}return _.push(b.length),new i({values:b,index:A,ptr:_,size:[y-S+1,x-E+1]})}i.prototype.forEach=function(g,S){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,E=this._size[0],x=this._size[1],v=0;v<x;v++){var C=this._ptr[v],b=this._ptr[v+1];if(S)for(var A=C;A<b;A++){var _=this._index[A];g(this._values[A],[_,v],y)}else{for(var T={},M=C;M<b;M++){var N=this._index[M];T[N]=this._values[M]}for(var I=0;I<E;I++){var F=I in T?T[I]:0;g(F,[I,v],y)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var g=this._size[1],S=0;S<g;S++)for(var y=this._ptr[S],E=this._ptr[S+1],x=y;x<E;x++){var v=this._index[x];yield{value:this._values[x],index:[v,S]}}},i.prototype.toArray=function(){return m(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return m(this._values,this._index,this._ptr,this._size,!1)};function m(g,S,y,E,x){var v=E[0],C=E[1],b=[],A,_;for(A=0;A<v;A++)for(b[A]=[],_=0;_<C;_++)b[A][_]=0;for(_=0;_<C;_++)for(var T=y[_],M=y[_+1],N=T;N<M;N++)A=S[N],b[A][_]=g?x?Zt(g[N]):g[N]:1;return b}return i.prototype.format=function(g){for(var S=this._size[0],y=this._size[1],E=this.density(),x="Sparse Matrix ["+cn(S,g)+" x "+cn(y,g)+"] density: "+cn(E,g)+`
`,v=0;v<y;v++)for(var C=this._ptr[v],b=this._ptr[v+1],A=C;A<b;A++){var _=this._index[A];x+=`
    (`+cn(_,g)+", "+cn(v,g)+") ==> "+(this._values?cn(this._values[A],g):"X")}return x},i.prototype.toString=function(){return cn(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(g){if(g){if(Sn(g)&&(g=g.toNumber()),!fn(g)||!Dt(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var S=g>0?g:0,y=g<0?-g:0,E=this._size[0],x=this._size[1],v=Math.min(E-y,x-S),C=[],b=[],A=[];A[0]=0;for(var _=S;_<x&&C.length<v;_++)for(var T=this._ptr[_],M=this._ptr[_+1],N=T;N<M;N++){var I=this._index[N];if(I===_-S+y){C.push(this._values[N]),b[C.length-1]=I-y;break}}return A.push(C.length),new i({values:C,index:b,ptr:A,size:[v,1]})},i.fromJSON=function(g){return new i(g)},i.diagonal=function(g,S,y,E,x){if(!Vn(g))throw new TypeError("Array expected, size parameter");if(g.length!==2)throw new Error("Only two dimensions matrix are supported");if(g=g.map(function(B){if(Sn(B)&&(B=B.toNumber()),!fn(B)||!Dt(B)||B<1)throw new Error("Size values must be positive integers");return B}),y){if(Sn(y)&&(y=y.toNumber()),!fn(y)||!Dt(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var v=n,C=0;za(x)&&(v=t.find(n,[x,x])||n,C=t.convert(0,x));var b=y>0?y:0,A=y<0?-y:0,_=g[0],T=g[1],M=Math.min(_-A,T-b),N;if(Vn(S)){if(S.length!==M)throw new Error("Invalid value array length");N=function(H){return S[H]}}else if(Ft(S)){var I=S.size();if(I.length!==1||I[0]!==M)throw new Error("Invalid matrix length");N=function(H){return S.get([H])}}else N=function(){return S};for(var F=[],$=[],z=[],D=0;D<T;D++){z.push(F.length);var P=D-b;if(P>=0&&P<M){var V=N(P);v(V,C)||($.push(P+A),F.push(V))}}return z.push(F.length),new i({values:F,index:$,ptr:z,size:[_,T]})},i.prototype.swapRows=function(g,S){if(!fn(g)||!Dt(g)||!fn(S)||!Dt(S))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return sr(g,this._size[0]),sr(S,this._size[0]),i._swapRows(g,S,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(g,S,y,E,x){for(var v=E[g],C=E[g+1],b=v;b<C;b++)x(y[b],S[b])},i._swapRows=function(g,S,y,E,x,v){for(var C=0;C<y;C++){var b=v[C],A=v[C+1],_=u(g,b,A,x),T=u(S,b,A,x);if(_<A&&T<A&&x[_]===g&&x[T]===S){if(E){var M=E[_];E[_]=E[T],E[T]=M}continue}if(_<A&&x[_]===g&&(T>=A||x[T]!==S)){var N=E?E[_]:void 0;x.splice(T,0,S),E&&E.splice(T,0,N),x.splice(T<=_?_+1:_,1),E&&E.splice(T<=_?_+1:_,1);continue}if(T<A&&x[T]===S&&(_>=A||x[_]!==g)){var I=E?E[T]:void 0;x.splice(_,0,g),E&&E.splice(_,0,I),x.splice(_<=T?T+1:T,1),E&&E.splice(_<=T?T+1:T,1)}}},i},{isClass:!0}),qit="number",Wit=["typed"];function Git(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var n={"0b":2,"0o":8,"0x":16}[t[1]],r=t[2],i=t[3];return{input:e,radix:n,integerPart:r,fractionalPart:i}}else return null}function Kit(e){for(var t=parseInt(e.integerPart,e.radix),n=0,r=0;r<e.fractionalPart.length;r++){var i=parseInt(e.fractionalPart[r],e.radix);n+=i/Math.pow(e.radix,r+1)}var a=t+n;if(isNaN(a))throw new SyntaxError('String "'+e.input+'" is no valid number');return a}var Yit=ue(qit,Wit,e=>{var{typed:t}=e,n=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=Git(i);if(a)return Kit(a);var o=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),i=s[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is no valid number');if(s){if(l>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(o-1)&&(l=l-2**o)}return l},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(r=>i=>{var a=i.clone();return a.value=r(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":t.referToSelf(r=>i=>vn(i,r))});return n.fromJSON=function(r){return parseFloat(r.value)},n}),pH="string",Jit=["typed"],Qit=ue(pH,Jit,e=>{var{typed:t}=e;return t(pH,{"":function(){return""},number:zp,null:function(r){return"null"},boolean:function(r){return r+""},string:function(r){return r},"Array | Matrix":t.referToSelf(n=>r=>vn(r,n)),any:function(r){return String(r)}})}),mH="boolean",Xit=["typed"],Zit=ue(mH,Xit,e=>{var{typed:t}=e;return t(mH,{"":function(){return!1},boolean:function(r){return r},number:function(r){return!!r},null:function(r){return!1},BigNumber:function(r){return!r.isZero()},string:function(r){var i=r.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(r);if(r!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+r+'" to a boolean')},"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),eat="bignumber",tat=["typed","BigNumber"],nat=ue(eat,tat,e=>{var{typed:t,BigNumber:n}=e;return t("bignumber",{"":function(){return new n(0)},number:function(i){return new n(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],s=n(a[1]),l=new n(2).pow(Number(o));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new n(2).pow(Number(o)-1);return s.gte(u)?s.sub(l):s}return new n(i)},BigNumber:function(i){return i},Unit:t.referToSelf(r=>i=>{var a=i.clone();return a.value=r(i.value),a}),Fraction:function(i){return new n(i.n).div(i.d).times(i.s)},null:function(i){return new n(0)},"Array | Matrix":t.referToSelf(r=>i=>vn(i,r))})}),rat="complex",iat=["typed","Complex"],aat=ue(rat,iat,e=>{var{typed:t,Complex:n}=e;return t("complex",{"":function(){return n.ZERO},number:function(i){return new n(i,0)},"number, number":function(i,a){return new n(i,a)},"BigNumber, BigNumber":function(i,a){return new n(i.toNumber(),a.toNumber())},Fraction:function(i){return new n(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return n(i)},null:function(i){return n(0)},Object:function(i){if("re"in i&&"im"in i)return new n(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new n(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":t.referToSelf(r=>i=>vn(i,r))})}),oat="fraction",sat=["typed","Fraction"],lat=ue(oat,sat,e=>{var{typed:t,Fraction:n}=e;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new n(i)},string:function(i){return new n(i)},"number, number":function(i,a){return new n(i,a)},null:function(i){return new n(0)},BigNumber:function(i){return new n(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(r=>i=>{var a=i.clone();return a.value=r(i.value),a}),Object:function(i){return new n(i)},"Array | Matrix":t.referToSelf(r=>i=>vn(i,r))})}),gH="matrix",uat=["typed","Matrix","DenseMatrix","SparseMatrix"],cat=ue(gH,uat,e=>{var{typed:t,Matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(gH,{"":function(){return a([])},string:function(s){return a([],s)},"string, string":function(s,l){return a([],s,l)},Array:function(s){return a(s)},Matrix:function(s){return a(s,s.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,s,l){if(s==="dense"||s==="default"||s===void 0)return new r(o,l);if(s==="sparse")return new i(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),vH="matrixFromFunction",dat=["typed","matrix","isZero"],fat=ue(vH,dat,e=>{var{typed:t,matrix:n,isZero:r}=e;return t(vH,{"Array | Matrix, function, string, string":function(o,s,l,u){return i(o,s,l,u)},"Array | Matrix, function, string":function(o,s,l){return i(o,s,l)},"Matrix, function":function(o,s){return i(o,s,"dense")},"Array, function":function(o,s){return i(o,s,"dense").toArray()},"Array | Matrix, string, function":function(o,s,l){return i(o,l,s)},"Array | Matrix, string, string, function":function(o,s,l,u){return i(o,u,s,l)}});function i(a,o,s,l){var u;return l!==void 0?u=n(s,l):u=n(s),u.resize(a),u.forEach(function(c,d){var f=o(d);r(f)||u.set(d,f)}),u}}),yH="matrixFromRows",hat=["typed","matrix","flatten","size"],pat=ue(yH,hat,e=>{var{typed:t,matrix:n,flatten:r,size:i}=e;return t(yH,{"...Array":function(l){return a(l)},"...Matrix":function(l){return n(a(l.map(u=>u.toArray())))}});function a(s){if(s.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(s[0]),u=[];for(var c of s){var d=o(c);if(d!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(d|0));u.push(r(c))}return u}function o(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),bH="matrixFromColumns",mat=["typed","matrix","flatten","size"],gat=ue(bH,mat,e=>{var{typed:t,matrix:n,flatten:r,size:i}=e;return t(bH,{"...Array":function(l){return a(l)},"...Matrix":function(l){return n(a(l.map(u=>u.toArray())))}});function a(s){if(s.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(s[0]),u=[],c=0;c<l;c++)u[c]=[];for(var d of s){var f=o(d);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(f|0));for(var h=r(d),m=0;m<l;m++)u[m].push(h[m])}return u}function o(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),wH="splitUnit",vat=["typed"],yat=ue(wH,vat,e=>{var{typed:t}=e;return t(wH,{"Unit, Array":function(r,i){return r.splitUnit(i)}})}),xH="unaryMinus",bat=["typed"],wat=ue(xH,bat,e=>{var{typed:t}=e;return t(xH,{number:Jle,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:t.referToSelf(n=>r=>{var i=r.clone();return i.value=t.find(n,i.valueType())(r.value),i}),"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),SH="unaryPlus",xat=["typed","config","BigNumber"],Sat=ue(SH,xat,e=>{var{typed:t,config:n,BigNumber:r}=e;return t(SH,{number:Qle,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":t.referToSelf(i=>a=>vn(a,i)),"boolean | string":function(a){return n.number==="BigNumber"?new r(+a):+a}})}),CH="abs",Cat=["typed"],Eat=ue(CH,Cat,e=>{var{typed:t}=e;return t(CH,{number:Wle,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),EH="apply",kat=["typed","isInteger"],zI=ue(EH,kat,e=>{var{typed:t,isInteger:n}=e;return t(EH,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!n(a))throw new TypeError("Integer number expected for dimension");var s=Array.isArray(i)?nn(i):i.size();if(a<0||a>=s.length)throw new pu(a,s.length);return Ft(i)?i.create(sC(i.valueOf(),a,o)):sC(i,a,o)}})});function sC(e,t,n){var r,i,a;if(t<=0)if(Array.isArray(e[0])){for(a=Aat(e),i=[],r=0;r<a.length;r++)i[r]=sC(a[r],t-1,n);return i}else return n(e);else{for(i=[],r=0;r<e.length;r++)i[r]=sC(e[r],t-1,n);return i}}function Aat(e){var t=e.length,n=e[0].length,r,i,a=[];for(i=0;i<n;i++){var o=[];for(r=0;r<t;r++)o.push(e[r][i]);a.push(o)}return a}var kH="addScalar",_at=["typed"],Mat=ue(kH,_at,e=>{var{typed:t}=e;return t(kH,{"number, number":Gle,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=t.find(n,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),AH="subtractScalar",Tat=["typed"],Nat=ue(AH,Tat,e=>{var{typed:t}=e;return t(AH,{"number, number":Kle,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=t.find(n,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),_H="cbrt",Dat=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],Rat=ue(_H,Dat,e=>{var{config:t,typed:n,isNegative:r,unaryMinus:i,matrix:a,Complex:o,BigNumber:s,Fraction:l}=e;return n(_H,{number:Sy,Complex:u,"Complex, boolean":u,BigNumber:function(f){return f.cbrt()},Unit:c});function u(d,f){var h=d.arg()/3,m=d.abs(),g=new o(Sy(m),0).mul(new o(0,h).exp());if(f){var S=[g,new o(Sy(m),0).mul(new o(0,h+Math.PI*2/3).exp()),new o(Sy(m),0).mul(new o(0,h-Math.PI*2/3).exp())];return t.matrix==="Array"?S:a(S)}else return g}function c(d){if(d.value&&Wc(d.value)){var f=d.clone();return f.value=1,f=f.pow(1/3),f.value=u(d.value),f}else{var h=r(d.value);h&&(d.value=i(d.value));var m;Sn(d.value)?m=new s(1).div(3):X2(d.value)?m=new l(1,3):m=1/3;var g=d.pow(m);return h&&(g.value=i(g.value)),g}}}),Iat="matAlgo11xS0s",Oat=["typed","equalScalar"],_a=ue(Iat,Oat,e=>{var{typed:t,equalScalar:n}=e;return function(i,a,o,s){var l=i._values,u=i._index,c=i._ptr,d=i._size,f=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=d[0],m=d[1],g,S=n,y=0,E=o;typeof f=="string"&&(g=f,S=t.find(n,[g,g]),y=t.convert(0,g),a=t.convert(a,g),E=t.find(o,[g,g]));for(var x=[],v=[],C=[],b=0;b<m;b++){C[b]=v.length;for(var A=c[b],_=c[b+1],T=A;T<_;T++){var M=u[T],N=s?E(a,l[T]):E(l[T],a);S(N,y)||(v.push(M),x.push(N))}}return C[m]=v.length,i.createSparseMatrix({values:x,index:v,ptr:C,size:[h,m],datatype:g})}}),Pat="matAlgo12xSfs",jat=["typed","DenseMatrix"],Hi=ue(Pat,jat,e=>{var{typed:t,DenseMatrix:n}=e;return function(i,a,o,s){var l=i._values,u=i._index,c=i._ptr,d=i._size,f=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=d[0],m=d[1],g,S=o;typeof f=="string"&&(g=f,a=t.convert(a,g),S=t.find(o,[g,g]));for(var y=[],E=[],x=[],v=0;v<m;v++){for(var C=v+1,b=c[v],A=c[v+1],_=b;_<A;_++){var T=u[_];E[T]=l[_],x[T]=C}for(var M=0;M<h;M++)v===0&&(y[M]=[]),x[M]===C?y[M][v]=s?S(a,E[M]):S(E[M],a):y[M][v]=s?S(a,0):S(0,a)}return new n({data:y,size:[h,m],datatype:g})}}),Lat="matAlgo14xDs",Fat=["typed"],gu=ue(Lat,Fat,e=>{var{typed:t}=e;return function(i,a,o,s){var l=i._data,u=i._size,c=i._datatype,d,f=o;typeof c=="string"&&(d=c,a=t.convert(a,d),f=t.find(o,[d,d]));var h=u.length>0?n(f,0,u,u[0],l,a,s):[];return i.createDenseMatrix({data:h,size:Zt(u),datatype:d})};function n(r,i,a,o,s,l,u){var c=[];if(i===a.length-1)for(var d=0;d<o;d++)c[d]=u?r(l,s[d]):r(s[d],l);else for(var f=0;f<o;f++)c[f]=n(r,i+1,a,a[i+1],s[f],l,u);return c}}),gN="ceil",Bat=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],zat=ue(gN,["typed","config","round"],e=>{var{typed:t,config:n,round:r}=e;return t(gN,{number:function(a){return Ns(a,r(a),n.epsilon)?r(a):Math.ceil(a)},"number, number":function(a,o){if(Ns(a,r(a,o),n.epsilon))return r(a,o);var[s,l]="".concat(a,"e").split("e"),u=Math.ceil(Number("".concat(s,"e").concat(Number(l)+o)));return[s,l]="".concat(u,"e").split("e"),Number("".concat(s,"e").concat(Number(l)-o))}})}),$at=ue(gN,Bat,e=>{var{typed:t,config:n,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=e,l=_a({typed:t,equalScalar:a}),u=Hi({typed:t,DenseMatrix:s}),c=gu({typed:t}),d=zat({typed:t,config:n,round:r});return t("ceil",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(h){return h.ceil()},"Complex, number":function(h,m){return h.ceil(m)},"Complex, BigNumber":function(h,m){return h.ceil(m.toNumber())},BigNumber:function(h){return ec(h,r(h),n.epsilon)?r(h):h.ceil()},"BigNumber, BigNumber":function(h,m){return ec(h,r(h,m),n.epsilon)?r(h,m):h.toDecimalPlaces(m.toNumber(),eh.ROUND_CEIL)},Fraction:function(h){return h.ceil()},"Fraction, number":function(h,m){return h.ceil(m)},"Fraction, BigNumber":function(h,m){return h.ceil(m.toNumber())},"Array | Matrix":t.referToSelf(f=>h=>vn(h,f)),"Array, number | BigNumber":t.referToSelf(f=>(h,m)=>vn(h,g=>f(g,m))),"SparseMatrix, number | BigNumber":t.referToSelf(f=>(h,m)=>l(h,m,f,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(f=>(h,m)=>c(h,m,f,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(f=>(h,m)=>c(i(m),h,f,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(f=>(h,m)=>a(h,0)?o(m.size(),m.storage()):m.storage()==="dense"?c(m,h,f,!0):u(m,h,f,!0))})}),MH="cube",Uat=["typed"],Vat=ue(MH,Uat,e=>{var{typed:t}=e;return t(MH,{number:Xle,Complex:function(r){return r.mul(r).mul(r)},BigNumber:function(r){return r.times(r).times(r)},Fraction:function(r){return r.pow(3)},Unit:function(r){return r.pow(3)}})}),TH="exp",Hat=["typed"],qat=ue(TH,Hat,e=>{var{typed:t}=e;return t(TH,{number:Zle,Complex:function(r){return r.exp()},BigNumber:function(r){return r.exp()}})}),NH="expm1",Wat=["typed","Complex"],Gat=ue(NH,Wat,e=>{var{typed:t,Complex:n}=e;return t(NH,{number:eue,Complex:function(i){var a=Math.exp(i.re);return new n(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),vN="fix",Kat=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],Yat=ue(vN,["typed","ceil","floor"],e=>{var{typed:t,ceil:n,floor:r}=e;return t(vN,{number:function(a){return a>0?r(a):n(a)},"number, number":function(a,o){return a>0?r(a,o):n(a,o)}})}),Jat=ue(vN,Kat,e=>{var{typed:t,Complex:n,matrix:r,ceil:i,floor:a,equalScalar:o,zeros:s,DenseMatrix:l}=e,u=Hi({typed:t,DenseMatrix:l}),c=gu({typed:t}),d=Yat({typed:t,ceil:i,floor:a});return t("fix",{number:d.signatures.number,"number, number | BigNumber":d.signatures["number,number"],Complex:function(h){return new n(h.re>0?Math.floor(h.re):Math.ceil(h.re),h.im>0?Math.floor(h.im):Math.ceil(h.im))},"Complex, number":function(h,m){return new n(h.re>0?a(h.re,m):i(h.re,m),h.im>0?a(h.im,m):i(h.im,m))},"Complex, BigNumber":function(h,m){var g=m.toNumber();return new n(h.re>0?a(h.re,g):i(h.re,g),h.im>0?a(h.im,g):i(h.im,g))},BigNumber:function(h){return h.isNegative()?i(h):a(h)},"BigNumber, number | BigNumber":function(h,m){return h.isNegative()?i(h,m):a(h,m)},Fraction:function(h){return h.s<0?h.ceil():h.floor()},"Fraction, number | BigNumber":function(h,m){return h.s<0?i(h,m):a(h,m)},"Array | Matrix":t.referToSelf(f=>h=>vn(h,f)),"Array | Matrix, number | BigNumber":t.referToSelf(f=>(h,m)=>vn(h,g=>f(g,m))),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(f=>(h,m)=>c(r(m),h,f,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(f=>(h,m)=>o(h,0)?s(m.size(),m.storage()):m.storage()==="dense"?c(m,h,f,!0):u(m,h,f,!0))})}),yN="floor",Qat=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Xat=ue(yN,["typed","config","round"],e=>{var{typed:t,config:n,round:r}=e;return t(yN,{number:function(a){return Ns(a,r(a),n.epsilon)?r(a):Math.floor(a)},"number, number":function(a,o){if(Ns(a,r(a,o),n.epsilon))return r(a,o);var[s,l]="".concat(a,"e").split("e"),u=Math.floor(Number("".concat(s,"e").concat(Number(l)+o)));return[s,l]="".concat(u,"e").split("e"),Number("".concat(s,"e").concat(Number(l)-o))}})}),$ue=ue(yN,Qat,e=>{var{typed:t,config:n,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=e,l=_a({typed:t,equalScalar:a}),u=Hi({typed:t,DenseMatrix:s}),c=gu({typed:t}),d=Xat({typed:t,config:n,round:r});return t("floor",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(h){return h.floor()},"Complex, number":function(h,m){return h.floor(m)},"Complex, BigNumber":function(h,m){return h.floor(m.toNumber())},BigNumber:function(h){return ec(h,r(h),n.epsilon)?r(h):h.floor()},"BigNumber, BigNumber":function(h,m){return ec(h,r(h,m),n.epsilon)?r(h,m):h.toDecimalPlaces(m.toNumber(),eh.ROUND_FLOOR)},Fraction:function(h){return h.floor()},"Fraction, number":function(h,m){return h.floor(m)},"Fraction, BigNumber":function(h,m){return h.floor(m.toNumber())},"Array | Matrix":t.referToSelf(f=>h=>vn(h,f)),"Array, number | BigNumber":t.referToSelf(f=>(h,m)=>vn(h,g=>f(g,m))),"SparseMatrix, number | BigNumber":t.referToSelf(f=>(h,m)=>l(h,m,f,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(f=>(h,m)=>c(h,m,f,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(f=>(h,m)=>c(i(m),h,f,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(f=>(h,m)=>a(h,0)?o(m.size(),m.storage()):m.storage()==="dense"?c(m,h,f,!0):u(m,h,f,!0))})}),Zat="matAlgo02xDS0",eot=["typed","equalScalar"],vu=ue(Zat,eot,e=>{var{typed:t,equalScalar:n}=e;return function(i,a,o,s){var l=i._data,u=i._size,c=i._datatype,d=a._values,f=a._index,h=a._ptr,m=a._size,g=a._datatype;if(u.length!==m.length)throw new hn(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var S=u[0],y=u[1],E,x=n,v=0,C=o;typeof c=="string"&&c===g&&(E=c,x=t.find(n,[E,E]),v=t.convert(0,E),C=t.find(o,[E,E]));for(var b=[],A=[],_=[],T=0;T<y;T++){_[T]=A.length;for(var M=h[T],N=h[T+1],I=M;I<N;I++){var F=f[I],$=s?C(d[I],l[F][T]):C(l[F][T],d[I]);x($,v)||(A.push(F),b.push($))}}return _[y]=A.length,a.createSparseMatrix({values:b,index:A,ptr:_,size:[S,y],datatype:E})}}),tot="matAlgo03xDSf",not=["typed"],Oo=ue(tot,not,e=>{var{typed:t}=e;return function(r,i,a,o){var s=r._data,l=r._size,u=r._datatype,c=i._values,d=i._index,f=i._ptr,h=i._size,m=i._datatype;if(l.length!==h.length)throw new hn(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=l[0],S=l[1],y,E=0,x=a;typeof u=="string"&&u===m&&(y=u,E=t.convert(0,y),x=t.find(a,[y,y]));for(var v=[],C=0;C<g;C++)v[C]=[];for(var b=[],A=[],_=0;_<S;_++){for(var T=_+1,M=f[_],N=f[_+1],I=M;I<N;I++){var F=d[I];b[F]=o?x(c[I],s[F][_]):x(s[F][_],c[I]),A[F]=T}for(var $=0;$<g;$++)A[$]===T?v[$][_]=b[$]:v[$][_]=o?x(E,s[$][_]):x(s[$][_],E)}return r.createDenseMatrix({data:v,size:[g,S],datatype:y})}}),rot="matAlgo05xSfSf",iot=["typed","equalScalar"],nk=ue(rot,iot,e=>{var{typed:t,equalScalar:n}=e;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,c=i._size,d=i._datatype,f=a._values,h=a._index,m=a._ptr,g=a._size,S=a._datatype;if(c.length!==g.length)throw new hn(c.length,g.length);if(c[0]!==g[0]||c[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+g+")");var y=c[0],E=c[1],x,v=n,C=0,b=o;typeof d=="string"&&d===S&&(x=d,v=t.find(n,[x,x]),C=t.convert(0,x),b=t.find(o,[x,x]));var A=s&&f?[]:void 0,_=[],T=[],M=A?[]:void 0,N=A?[]:void 0,I=[],F=[],$,z,D,P;for(z=0;z<E;z++){T[z]=_.length;var V=z+1;for(D=u[z],P=u[z+1];D<P;D++)$=l[D],_.push($),I[$]=V,M&&(M[$]=s[D]);for(D=m[z],P=m[z+1];D<P;D++)$=h[D],I[$]!==V&&_.push($),F[$]=V,N&&(N[$]=f[D]);if(A)for(D=T[z];D<_.length;){$=_[D];var B=I[$],H=F[$];if(B===V||H===V){var K=B===V?M[$]:C,W=H===V?N[$]:C,L=b(K,W);v(L,C)?_.splice(D,1):(A.push(L),D++)}}}return T[E]=_.length,i.createSparseMatrix({values:A,index:_,ptr:T,size:[y,E],datatype:x})}}),aot="matAlgo13xDD",oot=["typed"],sot=ue(aot,oot,e=>{var{typed:t}=e;return function(i,a,o){var s=i._data,l=i._size,u=i._datatype,c=a._data,d=a._size,f=a._datatype,h=[];if(l.length!==d.length)throw new hn(l.length,d.length);for(var m=0;m<l.length;m++){if(l[m]!==d[m])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");h[m]=l[m]}var g,S=o;typeof u=="string"&&u===f&&(g=u,S=t.find(o,[g,g]));var y=h.length>0?n(S,0,h,h[0],s,c):[];return i.createDenseMatrix({data:y,size:h,datatype:g})};function n(r,i,a,o,s,l){var u=[];if(i===a.length-1)for(var c=0;c<o;c++)u[c]=r(s[c],l[c]);else for(var d=0;d<o;d++)u[d]=n(r,i+1,a,a[i+1],s[d],l[d]);return u}}),lot="broadcast",uot=["concat"],cot=ue(lot,uot,e=>{var{concat:t}=e;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((m,g)=>m===a._size[g]))return[i,a];for(var s=n(i._size,o,0),l=n(a._size,o,0),u=[],c=0;c<o;c++)u[c]=Math.max(s[c],l[c]);Z5(s,u),Z5(l,u);var d=i.clone(),f=a.clone();d._size.length<o?d.reshape(n(d._size,o,1)):f._size.length<o&&f.reshape(n(f._size,o,1));for(var h=0;h<o;h++)d._size[h]<u[h]&&(d=r(d,u[h],h)),f._size[h]<u[h]&&(f=r(f,u[h],h));return[d,f]};function n(i,a,o){return[...Array(a-i.length).fill(o),...i]}function r(i,a,o){return t(...Array(a).fill(i),o)}}),dot="matrixAlgorithmSuite",fot=["typed","matrix","concat"],gr=ue(dot,fot,e=>{var{typed:t,matrix:n,concat:r}=e,i=sot({typed:t}),a=gu({typed:t}),o=cot({concat:r});return function(l){var u=l.elop,c=l.SD||l.DS,d;u?(d={"DenseMatrix, DenseMatrix":(g,S)=>i(...o(g,S),u),"Array, Array":(g,S)=>i(...o(n(g),n(S)),u).valueOf(),"Array, DenseMatrix":(g,S)=>i(...o(n(g),S),u),"DenseMatrix, Array":(g,S)=>i(...o(g,n(S)),u)},l.SS&&(d["SparseMatrix, SparseMatrix"]=(g,S)=>l.SS(...o(g,S),u,!1)),l.DS&&(d["DenseMatrix, SparseMatrix"]=(g,S)=>l.DS(...o(g,S),u,!1),d["Array, SparseMatrix"]=(g,S)=>l.DS(...o(n(g),S),u,!1)),c&&(d["SparseMatrix, DenseMatrix"]=(g,S)=>c(...o(S,g),u,!0),d["SparseMatrix, Array"]=(g,S)=>c(...o(n(S),g),u,!0))):(d={"DenseMatrix, DenseMatrix":t.referToSelf(g=>(S,y)=>i(...o(S,y),g)),"Array, Array":t.referToSelf(g=>(S,y)=>i(...o(n(S),n(y)),g).valueOf()),"Array, DenseMatrix":t.referToSelf(g=>(S,y)=>i(...o(n(S),y),g)),"DenseMatrix, Array":t.referToSelf(g=>(S,y)=>i(...o(S,n(y)),g))},l.SS&&(d["SparseMatrix, SparseMatrix"]=t.referToSelf(g=>(S,y)=>l.SS(...o(S,y),g,!1))),l.DS&&(d["DenseMatrix, SparseMatrix"]=t.referToSelf(g=>(S,y)=>l.DS(...o(S,y),g,!1)),d["Array, SparseMatrix"]=t.referToSelf(g=>(S,y)=>l.DS(...o(n(S),y),g,!1))),c&&(d["SparseMatrix, DenseMatrix"]=t.referToSelf(g=>(S,y)=>c(...o(y,S),g,!0)),d["SparseMatrix, Array"]=t.referToSelf(g=>(S,y)=>c(...o(n(y),S),g,!0))));var f=l.scalar||"any",h=l.Ds||l.Ss;h&&(u?(d["DenseMatrix,"+f]=(g,S)=>a(g,S,u,!1),d[f+", DenseMatrix"]=(g,S)=>a(S,g,u,!0),d["Array,"+f]=(g,S)=>a(n(g),S,u,!1).valueOf(),d[f+", Array"]=(g,S)=>a(n(S),g,u,!0).valueOf()):(d["DenseMatrix,"+f]=t.referToSelf(g=>(S,y)=>a(S,y,g,!1)),d[f+", DenseMatrix"]=t.referToSelf(g=>(S,y)=>a(y,S,g,!0)),d["Array,"+f]=t.referToSelf(g=>(S,y)=>a(n(S),y,g,!1).valueOf()),d[f+", Array"]=t.referToSelf(g=>(S,y)=>a(n(y),S,g,!0).valueOf())));var m=l.sS!==void 0?l.sS:l.Ss;return u?(l.Ss&&(d["SparseMatrix,"+f]=(g,S)=>l.Ss(g,S,u,!1)),m&&(d[f+", SparseMatrix"]=(g,S)=>m(S,g,u,!0))):(l.Ss&&(d["SparseMatrix,"+f]=t.referToSelf(g=>(S,y)=>l.Ss(S,y,g,!1))),m&&(d[f+", SparseMatrix"]=t.referToSelf(g=>(S,y)=>m(y,S,g,!0)))),u&&u.signatures&&mle(d,u.signatures),d}}),DH="mod",hot=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],Uue=ue(DH,hot,e=>{var{typed:t,config:n,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s,concat:l}=e,u=$ue({typed:t,config:n,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}),c=vu({typed:t,equalScalar:a}),d=Oo({typed:t}),f=nk({typed:t,equalScalar:a}),h=_a({typed:t,equalScalar:a}),m=Hi({typed:t,DenseMatrix:s}),g=gr({typed:t,matrix:i,concat:l});return t(DH,{"number, number":S,"BigNumber, BigNumber":function(E,x){if(x.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return x.isZero()?E:E.mod(x)},"Fraction, Fraction":function(E,x){if(x.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return E.compare(0)>=0?E.mod(x):E.mod(x).add(x).mod(x)}},g({SS:f,DS:d,SD:c,Ss:h,sS:m}));function S(y,E){return E===0?y:y-E*u(y/E)}}),pot="matAlgo01xDSid",mot=["typed"],Eh=ue(pot,mot,e=>{var{typed:t}=e;return function(r,i,a,o){var s=r._data,l=r._size,u=r._datatype,c=i._values,d=i._index,f=i._ptr,h=i._size,m=i._datatype;if(l.length!==h.length)throw new hn(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=l[0],S=l[1],y=typeof u=="string"&&u===m?u:void 0,E=y?t.find(a,[y,y]):a,x,v,C=[];for(x=0;x<g;x++)C[x]=[];var b=[],A=[];for(v=0;v<S;v++){for(var _=v+1,T=f[v],M=f[v+1],N=T;N<M;N++)x=d[N],b[x]=o?E(c[N],s[x][v]):E(s[x][v],c[N]),A[x]=_;for(x=0;x<g;x++)A[x]===_?C[x][v]=b[x]:C[x][v]=s[x][v]}return r.createDenseMatrix({data:C,size:[g,S],datatype:y})}}),got="matAlgo04xSidSid",vot=["typed","equalScalar"],$I=ue(got,vot,e=>{var{typed:t,equalScalar:n}=e;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,c=i._size,d=i._datatype,f=a._values,h=a._index,m=a._ptr,g=a._size,S=a._datatype;if(c.length!==g.length)throw new hn(c.length,g.length);if(c[0]!==g[0]||c[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+g+")");var y=c[0],E=c[1],x,v=n,C=0,b=o;typeof d=="string"&&d===S&&(x=d,v=t.find(n,[x,x]),C=t.convert(0,x),b=t.find(o,[x,x]));var A=s&&f?[]:void 0,_=[],T=[],M=s&&f?[]:void 0,N=s&&f?[]:void 0,I=[],F=[],$,z,D,P,V;for(z=0;z<E;z++){T[z]=_.length;var B=z+1;for(P=u[z],V=u[z+1],D=P;D<V;D++)$=l[D],_.push($),I[$]=B,M&&(M[$]=s[D]);for(P=m[z],V=m[z+1],D=P;D<V;D++)if($=h[D],I[$]===B){if(M){var H=b(M[$],f[D]);v(H,C)?I[$]=null:M[$]=H}}else _.push($),F[$]=B,N&&(N[$]=f[D]);if(M&&N)for(D=T[z];D<_.length;)$=_[D],I[$]===B?(A[D]=M[$],D++):F[$]===B?(A[D]=N[$],D++):_.splice(D,1)}return T[E]=_.length,i.createSparseMatrix({values:A,index:_,ptr:T,size:[y,E],datatype:x})}}),yot="matAlgo10xSids",bot=["typed","DenseMatrix"],Sm=ue(yot,bot,e=>{var{typed:t,DenseMatrix:n}=e;return function(i,a,o,s){var l=i._values,u=i._index,c=i._ptr,d=i._size,f=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=d[0],m=d[1],g,S=o;typeof f=="string"&&(g=f,a=t.convert(a,g),S=t.find(o,[g,g]));for(var y=[],E=[],x=[],v=0;v<m;v++){for(var C=v+1,b=c[v],A=c[v+1],_=b;_<A;_++){var T=u[_];E[T]=l[_],x[T]=C}for(var M=0;M<h;M++)v===0&&(y[M]=[]),x[M]===C?y[M][v]=s?S(a,E[M]):S(E[M],a):y[M][v]=a}return new n({data:y,size:[h,m],datatype:g})}});function Cm(e,t,n,r){if(!(this instanceof Cm))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(r!=null?"-"+r:"")+" expected)",this.stack=new Error().stack}Cm.prototype=new Error;Cm.prototype.constructor=Error;Cm.prototype.name="ArgumentsError";Cm.prototype.isArgumentsError=!0;var RH="gcd",wot=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],K6="number | BigNumber | Fraction | Matrix | Array",xot="".concat(K6,", ").concat(K6,", ...").concat(K6);function IH(e){return!e.some(t=>Array.isArray(t))}var Sot=ue(RH,wot,e=>{var{typed:t,matrix:n,config:r,round:i,equalScalar:a,zeros:o,BigNumber:s,DenseMatrix:l,concat:u}=e,c=Uue({typed:t,config:r,round:i,matrix:n,equalScalar:a,zeros:o,DenseMatrix:l,concat:u}),d=Eh({typed:t}),f=$I({typed:t,equalScalar:a}),h=Sm({typed:t,DenseMatrix:l}),m=gr({typed:t,matrix:n,concat:u});return t(RH,{"number, number":g,"BigNumber, BigNumber":S,"Fraction, Fraction":(y,E)=>y.gcd(E)},m({SS:f,DS:d,Ss:h}),{[xot]:t.referToSelf(y=>(E,x,v)=>{for(var C=y(E,x),b=0;b<v.length;b++)C=y(C,v[b]);return C}),Array:t.referToSelf(y=>E=>{if(E.length===1&&Array.isArray(E[0])&&IH(E[0]))return y(...E[0]);if(IH(E))return y(...E);throw new Cm("gcd() supports only 1d matrices!")}),Matrix:t.referToSelf(y=>E=>y(E.toArray()))});function g(y,E){if(!Dt(y)||!Dt(E))throw new Error("Parameters in function gcd must be integer numbers");for(var x;E!==0;)x=c(y,E),y=E,E=x;return y<0?-y:y}function S(y,E){if(!y.isInt()||!E.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var x=new s(0);!E.isZero();){var v=c(y,E);y=E,E=v}return y.lt(x)?y.neg():y}}),Cot="matAlgo06xS0S0",Eot=["typed","equalScalar"],rk=ue(Cot,Eot,e=>{var{typed:t,equalScalar:n}=e;return function(i,a,o){var s=i._values,l=i._size,u=i._datatype,c=a._values,d=a._size,f=a._datatype;if(l.length!==d.length)throw new hn(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var h=l[0],m=l[1],g,S=n,y=0,E=o;typeof u=="string"&&u===f&&(g=u,S=t.find(n,[g,g]),y=t.convert(0,g),E=t.find(o,[g,g]));for(var x=s&&c?[]:void 0,v=[],C=[],b=x?[]:void 0,A=[],_=[],T=0;T<m;T++){C[T]=v.length;var M=T+1;if(nH(i,T,A,b,_,M,v,E),nH(a,T,A,b,_,M,v,E),b)for(var N=C[T];N<v.length;){var I=v[N];if(_[I]===M){var F=b[I];S(F,y)?v.splice(N,1):(x.push(F),N++)}else v.splice(N,1)}else for(var $=C[T];$<v.length;){var z=v[$];_[z]!==M?v.splice($,1):$++}}return C[m]=v.length,i.createSparseMatrix({values:x,index:v,ptr:C,size:[h,m],datatype:g})}}),OH="lcm",kot=["typed","matrix","equalScalar","concat"],Aot=ue(OH,kot,e=>{var{typed:t,matrix:n,equalScalar:r,concat:i}=e,a=vu({typed:t,equalScalar:r}),o=rk({typed:t,equalScalar:r}),s=_a({typed:t,equalScalar:r}),l=gr({typed:t,matrix:n,concat:i}),u="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(u,", ").concat(u,", ...").concat(u)]=t.referToSelf(f=>(h,m,g)=>{for(var S=f(h,m),y=0;y<g.length;y++)S=f(S,g[y]);return S}),t(OH,{"number, number":tue,"BigNumber, BigNumber":d,"Fraction, Fraction":(f,h)=>f.lcm(h)},l({SS:o,DS:a,Ss:s}),c);function d(f,h){if(!f.isInt()||!h.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(f.isZero())return f;if(h.isZero())return h;for(var m=f.times(h);!h.isZero();){var g=h;h=f.mod(g),f=g}return m.div(f).abs()}}),PH="log10",_ot=["typed","config","Complex"],Mot=ue(PH,_ot,e=>{var{typed:t,config:n,Complex:r}=e;return t(PH,{number:function(a){return a>=0||n.predictable?nue(a):new r(a,0).log().div(Math.LN10)},Complex:function(a){return new r(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||n.predictable?a.log():new r(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":t.referToSelf(i=>a=>vn(a,i))})}),jH="log2",Tot=["typed","config","Complex"],Not=ue(jH,Tot,e=>{var{typed:t,config:n,Complex:r}=e;return t(jH,{number:function(o){return o>=0||n.predictable?rue(o):i(new r(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||n.predictable?o.log(2):i(new r(o.toNumber(),0))},"Array | Matrix":t.referToSelf(a=>o=>vn(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new r(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}}),Dot="multiplyScalar",Rot=["typed"],Iot=ue(Dot,Rot,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Yle,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(n,r)=>r.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,r)=>n.multiply(r)})}),LH="multiply",Oot=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Pot=ue(LH,Oot,e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:a,dot:o}=e,s=_a({typed:t,equalScalar:a}),l=gu({typed:t});function u(C,b){switch(C.length){case 1:switch(b.length){case 1:if(C[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(C[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+C[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(C[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+C[1]+") must match Vector length ("+b[0]+")");break;case 2:if(C[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+C[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+C.length+" dimensions)")}}function c(C,b,A){if(A===0)throw new Error("Cannot multiply two empty vectors");return o(C,b)}function d(C,b){if(b.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return f(C,b)}function f(C,b){var A=C._data,_=C._size,T=C._datatype,M=b._data,N=b._size,I=b._datatype,F=_[0],$=N[1],z,D=r,P=i;T&&I&&T===I&&typeof T=="string"&&(z=T,D=t.find(r,[z,z]),P=t.find(i,[z,z]));for(var V=[],B=0;B<$;B++){for(var H=P(A[0],M[0][B]),K=1;K<F;K++)H=D(H,P(A[K],M[K][B]));V[B]=H}return C.createDenseMatrix({data:V,size:[$],datatype:z})}var h=t("_multiplyMatrixVector",{"DenseMatrix, any":g,"SparseMatrix, any":E}),m=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":S,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":x,"SparseMatrix, SparseMatrix":v});function g(C,b){var A=C._data,_=C._size,T=C._datatype,M=b._data,N=b._datatype,I=_[0],F=_[1],$,z=r,D=i;T&&N&&T===N&&typeof T=="string"&&($=T,z=t.find(r,[$,$]),D=t.find(i,[$,$]));for(var P=[],V=0;V<I;V++){for(var B=A[V],H=D(B[0],M[0]),K=1;K<F;K++)H=z(H,D(B[K],M[K]));P[V]=H}return C.createDenseMatrix({data:P,size:[I],datatype:$})}function S(C,b){var A=C._data,_=C._size,T=C._datatype,M=b._data,N=b._size,I=b._datatype,F=_[0],$=_[1],z=N[1],D,P=r,V=i;T&&I&&T===I&&typeof T=="string"&&(D=T,P=t.find(r,[D,D]),V=t.find(i,[D,D]));for(var B=[],H=0;H<F;H++){var K=A[H];B[H]=[];for(var W=0;W<z;W++){for(var L=V(K[0],M[0][W]),G=1;G<$;G++)L=P(L,V(K[G],M[G][W]));B[H][W]=L}}return C.createDenseMatrix({data:B,size:[F,z],datatype:D})}function y(C,b){var A=C._data,_=C._size,T=C._datatype,M=b._values,N=b._index,I=b._ptr,F=b._size,$=b._datatype;if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var z=_[0],D=F[1],P,V=r,B=i,H=a,K=0;T&&$&&T===$&&typeof T=="string"&&(P=T,V=t.find(r,[P,P]),B=t.find(i,[P,P]),H=t.find(a,[P,P]),K=t.convert(0,P));for(var W=[],L=[],G=[],de=b.createSparseMatrix({values:W,index:L,ptr:G,size:[z,D],datatype:P}),Q=0;Q<D;Q++){G[Q]=L.length;var ee=I[Q],ne=I[Q+1];if(ne>ee)for(var se=0,ge=0;ge<z;ge++){for(var xe=ge+1,we=void 0,_e=ee;_e<ne;_e++){var ze=N[_e];se!==xe?(we=B(A[ge][ze],M[_e]),se=xe):we=V(we,B(A[ge][ze],M[_e]))}se===xe&&!H(we,K)&&(L.push(ge),W.push(we))}}return G[D]=L.length,de}function E(C,b){var A=C._values,_=C._index,T=C._ptr,M=C._datatype;if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=b._data,I=b._datatype,F=C._size[0],$=b._size[0],z=[],D=[],P=[],V,B=r,H=i,K=a,W=0;M&&I&&M===I&&typeof M=="string"&&(V=M,B=t.find(r,[V,V]),H=t.find(i,[V,V]),K=t.find(a,[V,V]),W=t.convert(0,V));var L=[],G=[];P[0]=0;for(var de=0;de<$;de++){var Q=N[de];if(!K(Q,W))for(var ee=T[de],ne=T[de+1],se=ee;se<ne;se++){var ge=_[se];G[ge]?L[ge]=B(L[ge],H(Q,A[se])):(G[ge]=!0,D.push(ge),L[ge]=H(Q,A[se]))}}for(var xe=D.length,we=0;we<xe;we++){var _e=D[we];z[we]=L[_e]}return P[1]=D.length,C.createSparseMatrix({values:z,index:D,ptr:P,size:[F,1],datatype:V})}function x(C,b){var A=C._values,_=C._index,T=C._ptr,M=C._datatype;if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=b._data,I=b._datatype,F=C._size[0],$=b._size[0],z=b._size[1],D,P=r,V=i,B=a,H=0;M&&I&&M===I&&typeof M=="string"&&(D=M,P=t.find(r,[D,D]),V=t.find(i,[D,D]),B=t.find(a,[D,D]),H=t.convert(0,D));for(var K=[],W=[],L=[],G=C.createSparseMatrix({values:K,index:W,ptr:L,size:[F,z],datatype:D}),de=[],Q=[],ee=0;ee<z;ee++){L[ee]=W.length;for(var ne=ee+1,se=0;se<$;se++){var ge=N[se][ee];if(!B(ge,H))for(var xe=T[se],we=T[se+1],_e=xe;_e<we;_e++){var ze=_[_e];Q[ze]!==ne?(Q[ze]=ne,W.push(ze),de[ze]=V(ge,A[_e])):de[ze]=P(de[ze],V(ge,A[_e]))}}for(var Y=L[ee],re=W.length,Se=Y;Se<re;Se++){var le=W[Se];K[Se]=de[le]}}return L[z]=W.length,G}function v(C,b){var A=C._values,_=C._index,T=C._ptr,M=C._datatype,N=b._values,I=b._index,F=b._ptr,$=b._datatype,z=C._size[0],D=b._size[1],P=A&&N,V,B=r,H=i;M&&$&&M===$&&typeof M=="string"&&(V=M,B=t.find(r,[V,V]),H=t.find(i,[V,V]));for(var K=P?[]:void 0,W=[],L=[],G=C.createSparseMatrix({values:K,index:W,ptr:L,size:[z,D],datatype:V}),de=P?[]:void 0,Q=[],ee,ne,se,ge,xe,we,_e,ze,Y=0;Y<D;Y++){L[Y]=W.length;var re=Y+1;for(xe=F[Y],we=F[Y+1],ge=xe;ge<we;ge++)if(ze=I[ge],P)for(ne=T[ze],se=T[ze+1],ee=ne;ee<se;ee++)_e=_[ee],Q[_e]!==re?(Q[_e]=re,W.push(_e),de[_e]=H(N[ge],A[ee])):de[_e]=B(de[_e],H(N[ge],A[ee]));else for(ne=T[ze],se=T[ze+1],ee=ne;ee<se;ee++)_e=_[ee],Q[_e]!==re&&(Q[_e]=re,W.push(_e));if(P)for(var Se=L[Y],le=W.length,ye=Se;ye<le;ye++){var Ee=W[ye];K[ye]=de[Ee]}}return L[D]=W.length,G}return t(LH,i,{"Array, Array":t.referTo("Matrix, Matrix",C=>(b,A)=>{u(nn(b),nn(A));var _=C(n(b),n(A));return Ft(_)?_.valueOf():_}),"Matrix, Matrix":function(b,A){var _=b.size(),T=A.size();return u(_,T),_.length===1?T.length===1?c(b,A,_[0]):d(b,A):T.length===1?h(b,A):m(b,A)},"Matrix, Array":t.referTo("Matrix,Matrix",C=>(b,A)=>C(b,n(A))),"Array, Matrix":t.referToSelf(C=>(b,A)=>C(n(b,A.storage()),A)),"SparseMatrix, any":function(b,A){return s(b,A,i,!1)},"DenseMatrix, any":function(b,A){return l(b,A,i,!1)},"any, SparseMatrix":function(b,A){return s(A,b,i,!0)},"any, DenseMatrix":function(b,A){return l(A,b,i,!0)},"Array, any":function(b,A){return l(n(b),A,i,!1).valueOf()},"any, Array":function(b,A){return l(n(A),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(C=>(b,A,_)=>{for(var T=C(b,A),M=0;M<_.length;M++)T=C(T,_[M]);return T})})}),FH="nthRoot",jot=["typed","matrix","equalScalar","BigNumber","concat"],Lot=ue(FH,jot,e=>{var{typed:t,matrix:n,equalScalar:r,BigNumber:i,concat:a}=e,o=Eh({typed:t}),s=vu({typed:t,equalScalar:r}),l=rk({typed:t,equalScalar:r}),u=_a({typed:t,equalScalar:r}),c=gr({typed:t,matrix:n,concat:a});function d(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return t(FH,{number:iH,"number, number":iH,BigNumber:h=>f(h,new i(2)),"BigNumber, BigNumber":f,Complex:d,"Complex, number":d,Array:t.referTo("DenseMatrix,number",h=>m=>h(n(m),2).valueOf()),DenseMatrix:t.referTo("DenseMatrix,number",h=>m=>h(m,2)),SparseMatrix:t.referTo("SparseMatrix,number",h=>m=>h(m,2)),"SparseMatrix, SparseMatrix":t.referToSelf(h=>(m,g)=>{if(g.density()===1)return l(m,g,h);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":t.referToSelf(h=>(m,g)=>{if(g.density()===1)return o(m,g,h,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":t.referTo("DenseMatrix,SparseMatrix",h=>(m,g)=>h(n(m),g)),"number | BigNumber, SparseMatrix":t.referToSelf(h=>(m,g)=>{if(g.density()===1)return u(g,m,h,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:s,Ss:u,sS:!1}));function f(h,m){var g=i.precision,S=i.clone({precision:g+2}),y=new i(0),E=new S(1),x=m.isNegative();if(x&&(m=m.neg()),m.isZero())throw new Error("Root must be non-zero");if(h.isNegative()&&!m.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(h.isZero())return x?new S(1/0):0;if(!h.isFinite())return x?y:h;var v=h.abs().pow(E.div(m));return v=h.isNeg()?v.neg():v,new i((x?E.div(v):v).toPrecision(g))}}),BH="sign",Fot=["typed","BigNumber","Fraction","complex"],Bot=ue(BH,Fot,e=>{var{typed:t,BigNumber:n,complex:r,Fraction:i}=e;return t(BH,{number:mN,Complex:function(o){return o.im===0?r(mN(o.re)):o.sign()},BigNumber:function(o){return new n(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":t.referToSelf(a=>o=>vn(o,a)),Unit:t.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return t.find(a,o.valueType())(o.value)})})}),zot="sqrt",$ot=["config","typed","Complex"],Uot=ue(zot,$ot,e=>{var{config:t,typed:n,Complex:r}=e;return n("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||t.predictable?Math.sqrt(a):new r(a,0).sqrt()}}),zH="square",Vot=["typed"],Hot=ue(zH,Vot,e=>{var{typed:t}=e;return t(zH,{number:iue,Complex:function(r){return r.mul(r)},BigNumber:function(r){return r.times(r)},Fraction:function(r){return r.mul(r)},Unit:function(r){return r.pow(2)}})}),$H="subtract",qot=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Wot=ue($H,qot,e=>{var{typed:t,matrix:n,equalScalar:r,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:s}=e,l=Eh({typed:t}),u=Oo({typed:t}),c=nk({typed:t,equalScalar:r}),d=Sm({typed:t,DenseMatrix:o}),f=Hi({typed:t,DenseMatrix:o}),h=gr({typed:t,matrix:n,concat:s});return t($H,{"any, any":i},h({elop:i,SS:c,DS:l,SD:u,Ss:f,sS:d}))}),UH="xgcd",Got=["typed","config","matrix","BigNumber"],Kot=ue(UH,Got,e=>{var{typed:t,config:n,matrix:r,BigNumber:i}=e;return t(UH,{"number, number":function(s,l){var u=aue(s,l);return n.matrix==="Array"?u:r(u)},"BigNumber, BigNumber":a});function a(o,s){var l,u,c,d=new i(0),f=new i(1),h=d,m=f,g=f,S=d;if(!o.isInt()||!s.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!s.isZero();)u=o.div(s).floor(),c=o.mod(s),l=h,h=m.minus(u.times(h)),m=l,l=g,g=S.minus(u.times(g)),S=l,o=s,s=c;var y;return o.lt(d)?y=[o.neg(),m.neg(),S.neg()]:y=[o,o.isZero()?0:m,S],n.matrix==="Array"?y:r(y)}}),VH="invmod",Yot=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],Jot=ue(VH,Yot,e=>{var{typed:t,config:n,BigNumber:r,xgcd:i,equal:a,smaller:o,mod:s,add:l,isInteger:u}=e;return t(VH,{"number, number":c,"BigNumber, BigNumber":c});function c(d,f){if(!u(d)||!u(f))throw new Error("Parameters in function invmod must be integer numbers");if(d=s(d,f),a(f,0))throw new Error("Divisor must be non zero");var h=i(d,f);h=h.valueOf();var[m,g]=h;return a(m,r(1))?(g=s(g,f),o(g,r(0))&&(g=l(g,f)),g):NaN}}),Qot="matAlgo09xS0Sf",Xot=["typed","equalScalar"],Vue=ue(Qot,Xot,e=>{var{typed:t,equalScalar:n}=e;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,c=i._size,d=i._datatype,f=a._values,h=a._index,m=a._ptr,g=a._size,S=a._datatype;if(c.length!==g.length)throw new hn(c.length,g.length);if(c[0]!==g[0]||c[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+g+")");var y=c[0],E=c[1],x,v=n,C=0,b=o;typeof d=="string"&&d===S&&(x=d,v=t.find(n,[x,x]),C=t.convert(0,x),b=t.find(o,[x,x]));var A=s&&f?[]:void 0,_=[],T=[],M=A?[]:void 0,N=[],I,F,$,z,D;for(F=0;F<E;F++){T[F]=_.length;var P=F+1;if(M)for(z=m[F],D=m[F+1],$=z;$<D;$++)I=h[$],N[I]=P,M[I]=f[$];for(z=u[F],D=u[F+1],$=z;$<D;$++)if(I=l[$],M){var V=N[I]===P?M[I]:C,B=b(s[$],V);v(B,C)||(_.push(I),A.push(B))}else _.push(I)}return T[E]=_.length,i.createSparseMatrix({values:A,index:_,ptr:T,size:[y,E],datatype:x})}}),HH="dotMultiply",Zot=["typed","matrix","equalScalar","multiplyScalar","concat"],est=ue(HH,Zot,e=>{var{typed:t,matrix:n,equalScalar:r,multiplyScalar:i,concat:a}=e,o=vu({typed:t,equalScalar:r}),s=Vue({typed:t,equalScalar:r}),l=_a({typed:t,equalScalar:r}),u=gr({typed:t,matrix:n,concat:a});return t(HH,u({elop:i,SS:s,DS:o,Ss:l}))});function tst(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new n(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e}return UI(e,t,function(r,i){return r&i})}function Xb(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,n=t.precision;t.config({precision:1e9});var r=e.plus(new t(1));return r.s=-r.s||null,t.config({precision:n}),r}function nst(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);var r=new n(-1);return e.isZero()||t.eq(r)||e.eq(t)?t:t.isZero()||e.eq(r)?e:!e.isFinite()||!t.isFinite()?!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?r:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e:UI(e,t,function(i,a){return i|a})}function UI(e,t,n){var r=e.constructor,i,a,o=+(e.s<0),s=+(t.s<0);if(o){i=Zx(Xb(e));for(var l=0;l<i.length;++l)i[l]^=1}else i=Zx(e);if(s){a=Zx(Xb(t));for(var u=0;u<a.length;++u)a[u]^=1}else a=Zx(t);var c,d,f;i.length<=a.length?(c=i,d=a,f=o):(c=a,d=i,f=s);var h=c.length,m=d.length,g=n(o,s)^1,S=new r(g^1),y=new r(1),E=new r(2),x=r.precision;for(r.config({precision:1e9});h>0;)n(c[--h],d[--m])===g&&(S=S.plus(y)),y=y.times(E);for(;m>0;)n(f,d[--m])===g&&(S=S.plus(y)),y=y.times(E);return r.config({precision:x}),g===0&&(S.s=-S.s),S}function Zx(e){for(var t=e.d,n=t[0]+"",r=1;r<t.length;++r){for(var i=t[r]+"",a=7-i.length;a--;)i="0"+i;n+=i}for(var o=n.length;n.charAt(o)==="0";)o--;var s=e.e,l=n.slice(0,o+1||1),u=l.length;if(s>0)if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s));for(var c=[0],d=0;d<l.length;){for(var f=c.length;f--;)c[f]*=10;c[0]+=parseInt(l.charAt(d++));for(var h=0;h<c.length;++h)c[h]>1&&((c[h+1]===null||c[h+1]===void 0)&&(c[h+1]=0),c[h+1]+=c[h]>>1,c[h]&=1)}return c.reverse()}function rst(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new n(0);var r=new n(-1);return e.eq(r)?Xb(t):t.eq(r)?Xb(e):!e.isFinite()||!t.isFinite()?!e.isFinite()&&!t.isFinite()?r:new n(e.isNegative()===t.isNegative()?1/0:-1/0):UI(e,t,function(i,a){return i^a})}function ist(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:!e.isFinite()&&!t.isFinite()?new n(NaN):t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new n(2).pow(t))}function ast(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new n(2).pow(t)).floor():e.isNegative()?new n(-1):e.isFinite()?new n(0):new n(NaN)}var qH="bitAnd",ost=["typed","matrix","equalScalar","concat"],sst=ue(qH,ost,e=>{var{typed:t,matrix:n,equalScalar:r,concat:i}=e,a=vu({typed:t,equalScalar:r}),o=rk({typed:t,equalScalar:r}),s=_a({typed:t,equalScalar:r}),l=gr({typed:t,matrix:n,concat:i});return t(qH,{"number, number":sue,"BigNumber, BigNumber":tst},l({SS:o,DS:a,Ss:s}))}),WH="bitNot",lst=["typed"],ust=ue(WH,lst,e=>{var{typed:t}=e;return t(WH,{number:lue,BigNumber:Xb,"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),GH="bitOr",cst=["typed","matrix","equalScalar","DenseMatrix","concat"],dst=ue(GH,cst,e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:i,concat:a}=e,o=Eh({typed:t}),s=$I({typed:t,equalScalar:r}),l=Sm({typed:t,DenseMatrix:i}),u=gr({typed:t,matrix:n,concat:a});return t(GH,{"number, number":uue,"BigNumber, BigNumber":nst},u({SS:s,DS:o,Ss:l}))}),fst="matAlgo07xSSf",hst=["typed","DenseMatrix"],uc=ue(fst,hst,e=>{var{typed:t,DenseMatrix:n}=e;return function(a,o,s){var l=a._size,u=a._datatype,c=o._size,d=o._datatype;if(l.length!==c.length)throw new hn(l.length,c.length);if(l[0]!==c[0]||l[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+c+")");var f=l[0],h=l[1],m,g=0,S=s;typeof u=="string"&&u===d&&(m=u,g=t.convert(0,m),S=t.find(s,[m,m]));var y,E,x=[];for(y=0;y<f;y++)x[y]=[];var v=[],C=[],b=[],A=[];for(E=0;E<h;E++){var _=E+1;for(r(a,E,b,v,_),r(o,E,A,C,_),y=0;y<f;y++){var T=b[y]===_?v[y]:g,M=A[y]===_?C[y]:g;x[y][E]=S(T,M)}}return new n({data:x,size:[f,h],datatype:m})};function r(i,a,o,s,l){for(var u=i._values,c=i._index,d=i._ptr,f=d[a],h=d[a+1];f<h;f++){var m=c[f];o[m]=l,s[m]=u[f]}}}),KH="bitXor",pst=["typed","matrix","DenseMatrix","concat"],mst=ue(KH,pst,e=>{var{typed:t,matrix:n,DenseMatrix:r,concat:i}=e,a=Oo({typed:t}),o=uc({typed:t,DenseMatrix:r}),s=Hi({typed:t,DenseMatrix:r}),l=gr({typed:t,matrix:n,concat:i});return t(KH,{"number, number":cue,"BigNumber, BigNumber":rst},l({SS:o,DS:a,Ss:s}))}),YH="arg",gst=["typed"],vst=ue(YH,gst,e=>{var{typed:t}=e;return t(YH,{number:function(r){return Math.atan2(0,r)},BigNumber:function(r){return r.constructor.atan2(0,r)},Complex:function(r){return r.arg()},"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),JH="conj",yst=["typed"],bst=ue(JH,yst,e=>{var{typed:t}=e;return t(JH,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),QH="im",wst=["typed"],xst=ue(QH,wst,e=>{var{typed:t}=e;return t(QH,{number:()=>0,"BigNumber | Fraction":n=>n.mul(0),Complex:n=>n.im,"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),XH="re",Sst=["typed"],Cst=ue(XH,Sst,e=>{var{typed:t}=e;return t(XH,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.re,"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),ZH="not",Est=["typed"],kst=ue(ZH,Est,e=>{var{typed:t}=e;return t(ZH,{"null | undefined":()=>!0,number:mue,Complex:function(r){return r.re===0&&r.im===0},BigNumber:function(r){return r.isZero()||r.isNaN()},Unit:t.referToSelf(n=>r=>t.find(n,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),eq="or",Ast=["typed","matrix","equalScalar","DenseMatrix","concat"],_st=ue(eq,Ast,e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:i,concat:a}=e,o=Oo({typed:t}),s=nk({typed:t,equalScalar:r}),l=Hi({typed:t,DenseMatrix:i}),u=gr({typed:t,matrix:n,concat:a});return t(eq,{"number, number":gue,"Complex, Complex":function(d,f){return d.re!==0||d.im!==0||f.re!==0||f.im!==0},"BigNumber, BigNumber":function(d,f){return!d.isZero()&&!d.isNaN()||!f.isZero()&&!f.isNaN()},"Unit, Unit":t.referToSelf(c=>(d,f)=>c(d.value||0,f.value||0))},u({SS:s,DS:o,Ss:l}))}),tq="xor",Mst=["typed","matrix","DenseMatrix","concat"],Tst=ue(tq,Mst,e=>{var{typed:t,matrix:n,DenseMatrix:r,concat:i}=e,a=Oo({typed:t}),o=uc({typed:t,DenseMatrix:r}),s=Hi({typed:t,DenseMatrix:r}),l=gr({typed:t,matrix:n,concat:i});return t(tq,{"number, number":vue,"Complex, Complex":function(c,d){return(c.re!==0||c.im!==0)!=(d.re!==0||d.im!==0)},"BigNumber, BigNumber":function(c,d){return(!c.isZero()&&!c.isNaN())!=(!d.isZero()&&!d.isNaN())},"Unit, Unit":t.referToSelf(u=>(c,d)=>u(c.value||0,d.value||0))},l({SS:o,DS:a,Ss:s}))}),nq="concat",Nst=["typed","matrix","isInteger"],Hue=ue(nq,Nst,e=>{var{typed:t,matrix:n,isInteger:r}=e;return t(nq,{"...Array | Matrix | number | BigNumber":function(a){var o,s=a.length,l=-1,u,c=!1,d=[];for(o=0;o<s;o++){var f=a[o];if(Ft(f)&&(c=!0),fn(f)||Sn(f)){if(o!==s-1)throw new Error("Dimension must be specified as last argument");if(u=l,l=f.valueOf(),!r(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>u)throw new pu(l,u+1)}else{var h=Zt(f).valueOf(),m=nn(h);if(d[o]=h,u=l,l=m.length-1,o>0&&l!==u)throw new hn(u+1,l+1)}}if(d.length===0)throw new SyntaxError("At least one matrix expected");for(var g=d.shift();d.length;)g=_le(g,d.shift(),l);return c?n(g):g},"...string":function(a){return a.join("")}})}),rq="column",Dst=["typed","Index","matrix","range"],que=ue(rq,Dst,e=>{var{typed:t,Index:n,matrix:r,range:i}=e;return t(rq,{"Matrix, number":a,"Array, number":function(s,l){return a(r(Zt(s)),l).valueOf()}});function a(o,s){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");sr(s,o.size()[1]);var l=i(0,o.size()[0]),u=new n(l,s),c=o.subset(u);return Ft(c)?c:r([[c]])}}),iq="count",Rst=["typed","size","prod"],Ist=ue(iq,Rst,e=>{var{typed:t,size:n,prod:r}=e;return t(iq,{string:function(a){return a.length},"Matrix | Array":function(a){return r(n(a))}})}),aq="cross",Ost=["typed","matrix","subtract","multiply"],Pst=ue(aq,Ost,e=>{var{typed:t,matrix:n,subtract:r,multiply:i}=e;return t(aq,{"Matrix, Matrix":function(s,l){return n(a(s.toArray(),l.toArray()))},"Matrix, Array":function(s,l){return n(a(s.toArray(),l))},"Array, Matrix":function(s,l){return n(a(s,l.toArray()))},"Array, Array":a});function a(o,s){var l=Math.max(nn(o).length,nn(s).length);o=J5(o),s=J5(s);var u=nn(o),c=nn(s);if(u.length!==1||c.length!==1||u[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+c.join(", ")+"])");var d=[r(i(o[1],s[2]),i(o[2],s[1])),r(i(o[2],s[0]),i(o[0],s[2])),r(i(o[0],s[1]),i(o[1],s[0]))];return l>1?[d]:d}}),oq="diag",jst=["typed","matrix","DenseMatrix","SparseMatrix"],Lst=ue(oq,jst,e=>{var{typed:t,matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(oq,{Array:function(u){return a(u,0,nn(u),null)},"Array, number":function(u,c){return a(u,c,nn(u),null)},"Array, BigNumber":function(u,c){return a(u,c.toNumber(),nn(u),null)},"Array, string":function(u,c){return a(u,0,nn(u),c)},"Array, number, string":function(u,c,d){return a(u,c,nn(u),d)},"Array, BigNumber, string":function(u,c,d){return a(u,c.toNumber(),nn(u),d)},Matrix:function(u){return a(u,0,u.size(),u.storage())},"Matrix, number":function(u,c){return a(u,c,u.size(),u.storage())},"Matrix, BigNumber":function(u,c){return a(u,c.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,c){return a(u,0,u.size(),c)},"Matrix, number, string":function(u,c,d){return a(u,c,u.size(),d)},"Matrix, BigNumber, string":function(u,c,d){return a(u,c.toNumber(),u.size(),d)}});function a(l,u,c,d){if(!Dt(u))throw new TypeError("Second parameter in function diag must be an integer");var f=u>0?u:0,h=u<0?-u:0;switch(c.length){case 1:return o(l,u,d,c[0],h,f);case 2:return s(l,u,d,c,h,f)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(l,u,c,d,f,h){var m=[d+f,d+h];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var g=c==="sparse"?i.diagonal(m,l,u):r.diagonal(m,l,u);return c!==null?g:g.valueOf()}function s(l,u,c,d,f,h){if(Ft(l)){var m=l.diagonal(u);return c!==null?c!==m.storage()?n(m,c):m:m.valueOf()}for(var g=Math.min(d[0]-f,d[1]-h),S=[],y=0;y<g;y++)S[y]=l[y+f][y+h];return c!==null?n(S):S}});function Z1(e,t,n,r,i){if(Qg.isTypedFunction(e)){var a=[t,n,r],o=Qg.resolve(e,a);if(o)return d(o.implementation,a);var s=[t,n],l=Qg.resolve(e,s);if(l)return d(l.implementation,s);var u=[t],c=Qg.resolve(e,u);return c?d(c.implementation,u):d(e,a)}else return e(t,n,r);function d(f,h){try{return f.apply(f,h)}catch(S){var m;if(S instanceof TypeError&&((m=S.data)===null||m===void 0?void 0:m.category)==="wrongType"){var g=[];throw g.push("value: ".concat(ur(t))),h.length>=2&&g.push("index: ".concat(ur(n))),h.length>=3&&g.push("array: ".concat(ur(r))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(e.name,"(").concat(g.join(", "),") at index ").concat(JSON.stringify(n)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(e.name,": ").concat(S.message))}}}var Fst="filter",Bst=["typed"],zst=ue(Fst,Bst,e=>{var{typed:t}=e;return t("filter",{"Array, function":sq,"Matrix, function":function(r,i){return r.create(sq(r.toArray(),i))},"Array, RegExp":Q5,"Matrix, RegExp":function(r,i){return r.create(Q5(r.toArray(),i))}})});function sq(e,t){return kle(e,function(n,r,i){return Z1(t,n,[r],i,"filter")})}var lq="flatten",$st=["typed","matrix"],Ust=ue(lq,$st,e=>{var{typed:t,matrix:n}=e;return t(lq,{Array:function(i){return jn(i)},Matrix:function(i){var a=jn(i.toArray());return n(a)}})}),uq="forEach",Vst=["typed"],Hst=ue(uq,Vst,e=>{var{typed:t}=e;return t(uq,{"Array, function":qst,"Matrix, function":function(r,i){r.forEach(i)}})});function qst(e,t){var n=function r(i,a){if(Array.isArray(i))JE(i,function(o,s){r(o,a.concat(s))});else return Z1(t,i,a,e,"forEach")};n(e,[])}var cq="getMatrixDataType",Wst=["typed"],Gst=ue(cq,Wst,e=>{var{typed:t}=e;return t(cq,{Array:function(r){return Jb(r,ur)},Matrix:function(r){return r.getDataType()}})}),dq="identity",Kst=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Yst=ue(dq,Kst,e=>{var{typed:t,config:n,matrix:r,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=e;return t(dq,{"":function(){return n.matrix==="Matrix"?r([]):[]},string:function(c){return r(c)},"number | BigNumber":function(c){return l(c,c,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,d){return l(c,c,d)},"number | BigNumber, number | BigNumber":function(c,d){return l(c,d,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,d,f){return l(c,d,f)},Array:function(c){return s(c)},"Array, string":function(c,d){return s(c,d)},Matrix:function(c){return s(c.valueOf(),c.storage())},"Matrix, string":function(c,d){return s(c.valueOf(),d)}});function s(u,c){switch(u.length){case 0:return c?r(c):[];case 1:return l(u[0],u[0],c);case 2:return l(u[0],u[1],c);default:throw new Error("Vector containing two values expected")}}function l(u,c,d){var f=Sn(u)||Sn(c)?i:null;if(Sn(u)&&(u=u.toNumber()),Sn(c)&&(c=c.toNumber()),!Dt(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!Dt(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var h=f?new i(1):1,m=f?new f(0):0,g=[u,c];if(d){if(d==="sparse")return o.diagonal(g,h,0,m);if(d==="dense")return a.diagonal(g,h,0,m);throw new TypeError('Unknown matrix type "'.concat(d,'"'))}for(var S=a1([],g,m),y=u<c?u:c,E=0;E<y;E++)S[E][E]=h;return S}}),fq="kron",Jst=["typed","matrix","multiplyScalar"],Qst=ue(fq,Jst,e=>{var{typed:t,matrix:n,multiplyScalar:r}=e;return t(fq,{"Matrix, Matrix":function(o,s){return n(i(o.toArray(),s.toArray()))},"Matrix, Array":function(o,s){return n(i(o.toArray(),s))},"Array, Matrix":function(o,s){return n(i(o,s.toArray()))},"Array, Array":i});function i(a,o){if(nn(a).length===1&&(a=[a]),nn(o).length===1&&(o=[o]),nn(a).length>2||nn(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var s=[],l=[];return a.map(function(u){return o.map(function(c){return l=[],s.push(l),u.map(function(d){return c.map(function(f){return l.push(r(d,f))})})})})&&s}}),hq="map",Xst=["typed"],Zst=ue(hq,Xst,e=>{var{typed:t}=e;return t(hq,{"Array, function":elt,"Matrix, function":function(r,i){return r.map(i)}})});function elt(e,t){var n=function r(i,a){return Array.isArray(i)?i.map(function(o,s){return r(o,a.concat(s))}):Z1(t,i,a,e,"map")};return n(e,[])}var pq="diff",tlt=["typed","matrix","subtract","number"],Wue=ue(pq,tlt,e=>{var{typed:t,matrix:n,subtract:r,number:i}=e;return t(pq,{"Array | Matrix":function(c){return Ft(c)?n(o(c.toArray())):o(c)},"Array | Matrix, number":function(c,d){if(!Dt(d))throw new RangeError("Dimension must be a whole number");return Ft(c)?n(a(c.toArray(),d)):a(c,d)},"Array, BigNumber":t.referTo("Array,number",u=>(c,d)=>u(c,i(d))),"Matrix, BigNumber":t.referTo("Matrix,number",u=>(c,d)=>u(c,i(d)))});function a(u,c){if(Ft(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var d=[];return u.forEach(f=>{d.push(a(f,c-1))}),d}else{if(c===0)return o(u);throw RangeError("Cannot have negative dimension")}}function o(u){for(var c=[],d=u.length,f=1;f<d;f++)c.push(s(u[f-1],u[f]));return c}function s(u,c){Ft(u)&&(u=u.toArray()),Ft(c)&&(c=c.toArray());var d=Array.isArray(u),f=Array.isArray(c);if(d&&f)return l(u,c);if(!d&&!f)return r(c,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(u,c){if(u.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var d=[],f=u.length,h=0;h<f;h++)d.push(s(u[h],c[h]));return d}}),nlt="ones",rlt=["typed","config","matrix","BigNumber"],ilt=ue(nlt,rlt,e=>{var{typed:t,config:n,matrix:r,BigNumber:i}=e;return t("ones",{"":function(){return n.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var d=u.pop();return a(u,d)}else return n.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(l,u){var c=o(l),d=c?new i(1):1;if(s(l),u){var f=r(u);return l.length>0?f.resize(l,d):f}else{var h=[];return l.length>0?a1(h,l,d):h}}function o(l){var u=!1;return l.forEach(function(c,d,f){Sn(c)&&(u=!0,f[d]=c.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!Dt(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}});function VI(){throw new Error('No "bignumber" implementation available')}function Gue(){throw new Error('No "fraction" implementation available')}function Kue(){throw new Error('No "matrix" implementation available')}var mq="range",alt=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Yue=ue(mq,alt,e=>{var{typed:t,config:n,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:c}=e;return t(mq,{string:f,"string, boolean":f,"number, number":function(S,y){return d(h(S,y,1,!1))},"number, number, number":function(S,y,E){return d(h(S,y,E,!1))},"number, number, boolean":function(S,y,E){return d(h(S,y,1,E))},"number, number, number, boolean":function(S,y,E,x){return d(h(S,y,E,x))},"BigNumber, BigNumber":function(S,y){var E=S.constructor;return d(h(S,y,new E(1),!1))},"BigNumber, BigNumber, BigNumber":function(S,y,E){return d(h(S,y,E,!1))},"BigNumber, BigNumber, boolean":function(S,y,E){var x=S.constructor;return d(h(S,y,new x(1),E))},"BigNumber, BigNumber, BigNumber, boolean":function(S,y,E,x){return d(h(S,y,E,x))},"Unit, Unit, Unit":function(S,y,E){return d(h(S,y,E,!1))},"Unit, Unit, Unit, boolean":function(S,y,E,x){return d(h(S,y,E,x))}});function d(g){return n.matrix==="Matrix"?r?r(g):Kue():g}function f(g,S){var y=m(g);if(!y)throw new SyntaxError('String "'+g+'" is no valid range');return n.number==="BigNumber"?(i===void 0&&VI(),d(h(i(y.start),i(y.end),i(y.step)))):d(h(y.start,y.end,y.step,S))}function h(g,S,y,E){for(var x=[],v=c(y)?E?o:a:E?l:s,C=g;v(C,S);)x.push(C),C=u(C,y);return x}function m(g){var S=g.split(":"),y=S.map(function(x){return Number(x)}),E=y.some(function(x){return isNaN(x)});if(E)return null;switch(y.length){case 2:return{start:y[0],end:y[1],step:1};case 3:return{start:y[0],end:y[2],step:y[1]};default:return null}}}),gq="reshape",olt=["typed","isInteger","matrix"],slt=ue(gq,olt,e=>{var{typed:t,isInteger:n}=e;return t(gq,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!n(o))throw new TypeError("Invalid size for dimension: "+o)}),II(i,a)}})}),llt="resize",ult=["config","matrix"],clt=ue(llt,ult,e=>{var{config:t,matrix:n}=e;return function(a,o,s){if(arguments.length!==2&&arguments.length!==3)throw new Cm("resize",arguments.length,2,3);if(Ft(o)&&(o=o.valueOf()),Sn(o[0])&&(o=o.map(function(c){return Sn(c)?c.toNumber():c})),Ft(a))return a.resize(o,s,!0);if(typeof a=="string")return r(a,o,s);var l=Array.isArray(a)?!1:t.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return Zt(a)}else{Array.isArray(a)||(a=[a]),a=Zt(a);var u=a1(a,o,s);return l?n(u):u}};function r(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new hn(a.length,1);var s=a[0];if(typeof s!="number"||!Dt(s))throw new TypeError("Invalid size, must contain positive integers (size: "+cn(a)+")");if(i.length>s)return i.substring(0,s);if(i.length<s){for(var l=i,u=0,c=s-i.length;u<c;u++)l+=o;return l}else return i}}),vq="rotate",dlt=["typed","multiply","rotationMatrix"],flt=ue(vq,dlt,e=>{var{typed:t,multiply:n,rotationMatrix:r}=e;return t(vq,{"Array , number | BigNumber | Complex | Unit":function(o,s){i(o,2);var l=n(r(s),o);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,s){return i(o,2),n(r(s),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,l){i(o,3);var u=n(r(s,l),o);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,l){return i(o,3),n(r(s,l),o)}});function i(a,o){var s=Array.isArray(a)?nn(a):a.size();if(s.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(s.length===2&&s[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(s[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}}),yq="rotationMatrix",hlt=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],plt=ue(yq,hlt,e=>{var{typed:t,config:n,multiplyScalar:r,addScalar:i,unaryMinus:a,norm:o,BigNumber:s,matrix:l,DenseMatrix:u,SparseMatrix:c,cos:d,sin:f}=e;return t(yq,{"":function(){return n.matrix==="Matrix"?l([]):[]},string:function(x){return l(x)},"number | BigNumber | Complex | Unit":function(x){return h(x,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(x,v){return h(x,v)},"number | BigNumber | Complex | Unit, Array":function(x,v){var C=l(v);return m(C),y(x,C,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(x,v){m(v);var C=v.storage()||(n.matrix==="Matrix"?"dense":void 0);return y(x,v,C)},"number | BigNumber | Complex | Unit, Array, string":function(x,v,C){var b=l(v);return m(b),y(x,b,C)},"number | BigNumber | Complex | Unit, Matrix, string":function(x,v,C){return m(v),y(x,v,C)}});function h(E,x){var v=Sn(E),C=v?new s(-1):-1,b=d(E),A=f(E),_=[[b,r(C,A)],[A,b]];return S(_,x)}function m(E){var x=E.size();if(x.length<1||x[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function g(E){return E.reduce((x,v)=>r(x,v))}function S(E,x){if(x){if(x==="sparse")return new c(E);if(x==="dense")return new u(E);throw new TypeError('Unknown matrix type "'.concat(x,'"'))}return E}function y(E,x,v){var C=o(x);if(C===0)throw new RangeError("Rotation around zero vector");var b=Sn(E)?s:null,A=b?new b(1):1,_=b?new b(-1):-1,T=b?new b(x.get([0])/C):x.get([0])/C,M=b?new b(x.get([1])/C):x.get([1])/C,N=b?new b(x.get([2])/C):x.get([2])/C,I=d(E),F=i(A,a(I)),$=f(E),z=i(I,g([T,T,F])),D=i(g([T,M,F]),g([_,N,$])),P=i(g([T,N,F]),g([M,$])),V=i(g([T,M,F]),g([N,$])),B=i(I,g([M,M,F])),H=i(g([M,N,F]),g([_,T,$])),K=i(g([T,N,F]),g([_,M,$])),W=i(g([M,N,F]),g([T,$])),L=i(I,g([N,N,F])),G=[[z,D,P],[V,B,H],[K,W,L]];return S(G,v)}}),bq="row",mlt=["typed","Index","matrix","range"],Jue=ue(bq,mlt,e=>{var{typed:t,Index:n,matrix:r,range:i}=e;return t(bq,{"Matrix, number":a,"Array, number":function(s,l){return a(r(Zt(s)),l).valueOf()}});function a(o,s){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");sr(s,o.size()[0]);var l=i(0,o.size()[1]),u=new n(s,l),c=o.subset(u);return Ft(c)?c:r([[c]])}}),wq="size",glt=["typed","config","?matrix"],vlt=ue(wq,glt,e=>{var{typed:t,config:n,matrix:r}=e;return t(wq,{Matrix:function(a){return a.create(a.size())},Array:nn,string:function(a){return n.matrix==="Array"?[a.length]:r([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return n.matrix==="Array"?[]:r?r([]):Kue()}})}),xq="squeeze",ylt=["typed","matrix"],blt=ue(xq,ylt,e=>{var{typed:t,matrix:n}=e;return t(xq,{Array:function(i){return J5(Zt(i))},Matrix:function(i){var a=J5(i.toArray());return Array.isArray(a)?n(a):a},any:function(i){return Zt(i)}})}),Sq="subset",wlt=["typed","matrix","zeros","add"],Que=ue(Sq,wlt,e=>{var{typed:t,matrix:n,zeros:r,add:i}=e;return t(Sq,{"Matrix, Index":function(s,l){return i1(l)?n():(Y5(s,l),s.subset(l))},"Array, Index":t.referTo("Matrix, Index",function(o){return function(s,l){var u=o(n(s),l);return l.isScalar()?u:u.valueOf()}}),"Object, Index":Slt,"string, Index":xlt,"Matrix, Index, any, any":function(s,l,u,c){return i1(l)?s:(Y5(s,l),s.clone().subset(l,a(u,l),c))},"Array, Index, any, any":t.referTo("Matrix, Index, any, any",function(o){return function(s,l,u,c){var d=o(n(s),l,u,c);return d.isMatrix?d.valueOf():d}}),"Array, Index, any":t.referTo("Matrix, Index, any, any",function(o){return function(s,l,u){return o(n(s),l,u,void 0).valueOf()}}),"Matrix, Index, any":t.referTo("Matrix, Index, any, any",function(o){return function(s,l,u){return o(s,l,u,void 0)}}),"string, Index, string":Cq,"string, Index, string, string":Cq,"Object, Index, any":Clt});function a(o,s){if(typeof o=="string")throw new Error("can't boradcast a string");if(s._isScalar)return o;var l=s.size();if(l.every(u=>u>0))try{return i(o,r(l))}catch{return o}else return o}});function xlt(e,t){if(!qE(t))throw new TypeError("Index expected");if(i1(t))return"";if(Y5(Array.from(e),t),t.size().length!==1)throw new hn(t.size().length,1);var n=e.length;sr(t.min()[0],n),sr(t.max()[0],n);var r=t.dimension(0),i="";return r.forEach(function(a){i+=e.charAt(a)}),i}function Cq(e,t,n,r){if(!t||t.isIndex!==!0)throw new TypeError("Index expected");if(i1(t))return e;if(Y5(Array.from(e),t),t.size().length!==1)throw new hn(t.size().length,1);if(r!==void 0){if(typeof r!="string"||r.length!==1)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=t.dimension(0),a=i.size()[0];if(a!==n.length)throw new hn(i.size()[0],n.length);var o=e.length;sr(t.min()[0]),sr(t.max()[0]);for(var s=[],l=0;l<o;l++)s[l]=e.charAt(l);if(i.forEach(function(d,f){s[d]=n.charAt(f[0])}),s.length>o)for(var u=o-1,c=s.length;u<c;u++)s[u]||(s[u]=r);return s.join("")}function Slt(e,t){if(!i1(t)){if(t.size().length!==1)throw new hn(t.size(),1);var n=t.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");return bo(e,n)}}function Clt(e,t,n){if(i1(t))return e;if(t.size().length!==1)throw new hn(t.size(),1);var r=t.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");var i=Zt(e);return s1(i,r,n),i}var Eq="transpose",Elt=["typed","matrix"],klt=ue(Eq,Elt,e=>{var{typed:t,matrix:n}=e;return t(Eq,{Array:o=>r(n(o)).valueOf(),Matrix:r,any:Zt});function r(o){var s=o.size(),l;switch(s.length){case 1:l=o.clone();break;case 2:{var u=s[0],c=s[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+cn(s)+")");switch(o.storage()){case"dense":l=i(o,u,c);break;case"sparse":l=a(o,u,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+cn(s)+")")}return l}function i(o,s,l){for(var u=o._data,c=[],d,f=0;f<l;f++){d=c[f]=[];for(var h=0;h<s;h++)d[h]=Zt(u[h][f])}return o.createDenseMatrix({data:c,size:[l,s],datatype:o._datatype})}function a(o,s,l){for(var u=o._values,c=o._index,d=o._ptr,f=u?[]:void 0,h=[],m=[],g=[],S=0;S<s;S++)g[S]=0;var y,E,x;for(y=0,E=c.length;y<E;y++)g[c[y]]++;for(var v=0,C=0;C<s;C++)m.push(v),v+=g[C],g[C]=m[C];for(m.push(v),x=0;x<l;x++)for(var b=d[x],A=d[x+1],_=b;_<A;_++){var T=g[c[_]]++;h[T]=x,u&&(f[T]=Zt(u[_]))}return o.createSparseMatrix({values:f,index:h,ptr:m,size:[l,s],datatype:o._datatype})}}),kq="ctranspose",Alt=["typed","transpose","conj"],_lt=ue(kq,Alt,e=>{var{typed:t,transpose:n,conj:r}=e;return t(kq,{any:function(a){return r(n(a))}})}),Aq="zeros",Mlt=["typed","config","matrix","BigNumber"],Tlt=ue(Aq,Mlt,e=>{var{typed:t,config:n,matrix:r,BigNumber:i}=e;return t(Aq,{"":function(){return n.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var d=u.pop();return a(u,d)}else return n.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(l,u){var c=o(l),d=c?new i(0):0;if(s(l),u){var f=r(u);return l.length>0?f.resize(l,d):f}else{var h=[];return l.length>0?a1(h,l,d):h}}function o(l){var u=!1;return l.forEach(function(c,d,f){Sn(c)&&(u=!0,f[d]=c.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!Dt(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}}),_q="fft",Nlt=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],Dlt=ue(_q,Nlt,e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:i,divideScalar:a,exp:o,tau:s,i:l,dotDivide:u,conj:c,pow:d,ceil:f,log2:h}=e;return t(_q,{Array:m,Matrix:function(x){return x.create(m(x.toArray()))}});function m(E){var x=nn(E);return x.length===1?y(E,x[0]):g(E.map(v=>m(v,x.slice(1))),0)}function g(E,x){var v=nn(E);if(x!==0)return new Array(v[0]).fill(0).map((b,A)=>g(E[A],x-1));if(v.length===1)return y(E);function C(b){var A=nn(b);return new Array(A[1]).fill(0).map((_,T)=>new Array(A[0]).fill(0).map((M,N)=>b[N][T]))}return C(g(C(E),1))}function S(E){for(var x=E.length,v=o(a(i(-1,i(l,s)),x)),C=[],b=1-x;b<x;b++)C.push(d(v,a(d(b,2),2)));for(var A=d(2,f(h(x+x-1))),_=[...new Array(x).fill(0).map((D,P)=>i(E[P],C[x-1+P])),...new Array(A-x).fill(0)],T=[...new Array(x+x-1).fill(0).map((D,P)=>a(1,C[P])),...new Array(A-(x+x-1)).fill(0)],M=y(_),N=y(T),I=new Array(A).fill(0).map((D,P)=>i(M[P],N[P])),F=u(c(m(c(I))),A),$=[],z=x-1;z<x+x-1;z++)$.push(i(F[z],C[z]));return $}function y(E){var x=E.length;if(x===1)return[E[0]];if(x%2===0){for(var v=[...y(E.filter((_,T)=>T%2===0)),...y(E.filter((_,T)=>T%2===1))],C=0;C<x/2;C++){var b=v[C],A=i(v[C+x/2],o(i(i(s,l),a(-C,x))));v[C]=r(b,A),v[C+x/2]=r(b,i(-1,A))}return v}else return S(E)}}),Mq="ifft",Rlt=["typed","fft","dotDivide","conj"],Ilt=ue(Mq,Rlt,e=>{var{typed:t,fft:n,dotDivide:r,conj:i}=e;return t(Mq,{"Array | Matrix":function(o){var s=Ft(o)?o.size():nn(o);return r(i(n(i(o))),s.reduce((l,u)=>l*u,1))}})});function Zb(e){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zb(e)}function Olt(e,t){if(Zb(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Plt(e){var t=Olt(e,"string");return Zb(t)==="symbol"?t:String(t)}function Vi(e,t,n){return t=Plt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jlt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tq(Object(n),!0).forEach(function(r){Vi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Llt="solveODE",Flt=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],Blt=ue(Llt,Flt,e=>{var{typed:t,add:n,subtract:r,multiply:i,divide:a,max:o,map:s,abs:l,isPositive:u,isNegative:c,larger:d,smaller:f,matrix:h,bignumber:m,unaryMinus:g}=e;function S(_){return function(T,M,N,I){var F=!(M.length===2&&(M.every(b)||M.every(ol)));if(F)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var $=M[0],z=M[1],D=d(z,$),P=I.firstStep;if(P!==void 0&&!u(P))throw new Error('"firstStep" must be positive');var V=I.maxStep;if(V!==void 0&&!u(V))throw new Error('"maxStep" must be positive');var B=I.minStep;if(B&&c(B))throw new Error('"minStep" must be positive or zero');var H=[$,z,P,B,V].filter(X=>X!==void 0);if(!(H.every(b)||H.every(ol)))throw new Error('Inconsistent type of "t" dependant variables');for(var K=1,W=I.tol?I.tol:1e-4,L=I.minDelta?I.minDelta:.2,G=I.maxDelta?I.maxDelta:5,de=I.maxIter?I.maxIter:1e4,Q=[$,z,...N,V,B].some(Sn),[ee,ne,se,ge]=Q?[m(_.a),m(_.c),m(_.b),m(_.bp)]:[_.a,_.c,_.b,_.bp],xe=P?D?P:g(P):a(r(z,$),K),we=[$],_e=[N],ze=r(se,ge),Y=0,re=0,Se=v(D),le=C(D);Se(we[Y],z);){var ye=[];xe=le(we[Y],z,xe),ye.push(T(we[Y],_e[Y]));for(var Ee=1;Ee<ne.length;++Ee)ye.push(T(n(we[Y],i(ne[Ee],xe)),n(_e[Y],i(xe,ee[Ee],ye))));var be=o(l(s(i(ze,ye),X=>ol(X)?X.value:X)));be<W&&W/be>1/4&&(we.push(n(we[Y],xe)),_e.push(n(_e[Y],i(xe,se,ye))),Y++);var Me=.84*(W/be)**(1/5);if(f(Me,L)?Me=L:d(Me,G)&&(Me=G),Me=Q?m(Me):Me,xe=i(xe,Me),V&&d(l(xe),V)?xe=D?V:g(V):B&&f(l(xe),B)&&(xe=D?B:g(B)),re++,re>de)throw new Error("Maximum number of iterations reached, try changing options")}return{t:we,y:_e}}}function y(_,T,M,N){var I=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],F=[null,1/2,3/4,1],$=[2/9,1/3,4/9,0],z=[7/24,1/4,1/3,1/8],D={a:I,c:F,b:$,bp:z};return S(D)(_,T,M,N)}function E(_,T,M,N){var I=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],F=[null,1/5,3/10,4/5,8/9,1,1],$=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],z=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],D={a:I,c:F,b:$,bp:z};return S(D)(_,T,M,N)}function x(_,T,M,N){var I=N.method?N.method:"RK45",F={RK23:y,RK45:E};if(I.toUpperCase()in F){var $=jlt({},N);return delete $.method,F[I.toUpperCase()](_,T,M,$)}else{var z=Object.keys(F).map(P=>'"'.concat(P,'"')),D="".concat(z.slice(0,-1).join(", ")," and ").concat(z.slice(-1));throw new Error('Unavailable method "'.concat(I,'". Available methods are ').concat(D))}}function v(_){return _?f:d}function C(_){var T=_?d:f;return function(M,N,I){var F=n(M,I);return T(F,N)?r(N,M):I}}function b(_){return Sn(_)||fn(_)}function A(_,T,M,N){var I=x(_,T.toArray(),M.toArray(),N);return{t:h(I.t),y:h(I.y)}}return t("solveODE",{"function, Array, Array, Object":x,"function, Matrix, Matrix, Object":A,"function, Array, Array":(_,T,M)=>x(_,T,M,{}),"function, Matrix, Matrix":(_,T,M)=>A(_,T,M,{}),"function, Array, number | BigNumber | Unit":(_,T,M)=>{var N=x(_,T,[M],{});return{t:N.t,y:N.y.map(I=>I[0])}},"function, Matrix, number | BigNumber | Unit":(_,T,M)=>{var N=x(_,T.toArray(),[M],{});return{t:h(N.t),y:h(N.y.map(I=>I[0]))}},"function, Array, number | BigNumber | Unit, Object":(_,T,M,N)=>{var I=x(_,T,[M],N);return{t:I.t,y:I.y.map(F=>F[0])}},"function, Matrix, number | BigNumber | Unit, Object":(_,T,M,N)=>{var I=x(_,T.toArray(),[M],N);return{t:h(I.t),y:h(I.y.map(F=>F[0]))}}})}),zlt="erf",$lt=["typed"],Ult=ue(zlt,$lt,e=>{var{typed:t}=e;return t("name",{number:function(o){var s=Math.abs(o);return s>=qlt?wf(o):s<=Vlt?wf(o)*n(s):s<=4?wf(o)*(1-r(s)):wf(o)*(1-i(s))},"Array | Matrix":t.referToSelf(a=>o=>vn(o,a))});function n(a){var o=a*a,s=_c[0][4]*o,l=o,u;for(u=0;u<3;u+=1)s=(s+_c[0][u])*o,l=(l+vg[0][u])*o;return a*(s+_c[0][3])/(l+vg[0][3])}function r(a){var o=_c[1][8]*a,s=a,l;for(l=0;l<7;l+=1)o=(o+_c[1][l])*a,s=(s+vg[1][l])*a;var u=(o+_c[1][7])/(s+vg[1][7]),c=parseInt(a*16)/16,d=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-d)*u}function i(a){var o=1/(a*a),s=_c[2][5]*o,l=o,u;for(u=0;u<4;u+=1)s=(s+_c[2][u])*o,l=(l+vg[2][u])*o;var c=o*(s+_c[2][4])/(l+vg[2][4]);c=(Hlt-c)/a,o=parseInt(a*16)/16;var d=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-d)*c}}),Vlt=.46875,Hlt=.5641895835477563,_c=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],vg=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],qlt=Math.pow(2,53),Nq="zeta",Wlt=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],Glt=ue(Nq,Wlt,e=>{var{typed:t,config:n,multiply:r,pow:i,divide:a,factorial:o,equal:s,smallerEq:l,isNegative:u,gamma:c,sin:d,subtract:f,add:h,Complex:m,BigNumber:g,pi:S}=e;return t(Nq,{number:b=>y(b,A=>A,()=>20),BigNumber:b=>y(b,A=>new g(A),()=>Math.abs(Math.log10(n.epsilon))),Complex:E});function y(b,A,_){return s(b,0)?A(-.5):s(b,1)?A(NaN):isFinite(b)?x(b,A,_,T=>T):u(b)?A(NaN):A(1)}function E(b){return b.re===0&&b.im===0?new m(-.5):b.re===1?new m(NaN,NaN):b.re===1/0&&b.im===0?new m(1):b.im===1/0||b.re===-1/0?new m(NaN,NaN):x(b,A=>A,A=>Math.round(1.3*15+.9*Math.abs(A.im)),A=>A.re)}function x(b,A,_,T){var M=_(b);if(T(b)>-(M-1)/2)return C(b,A(M),A);var N=r(i(2,b),i(A(S),f(b,1)));return N=r(N,d(r(a(A(S),2),b))),N=r(N,c(f(1,b))),r(N,x(f(1,b),A,_,T))}function v(b,A){for(var _=b,T=b;l(T,A);T=h(T,1)){var M=a(r(o(h(A,f(T,1))),i(4,T)),r(o(f(A,T)),o(r(2,T))));_=h(_,M)}return r(A,_)}function C(b,A,_){for(var T=a(1,r(v(_(0),A),f(1,i(2,f(1,b))))),M=_(0),N=_(1);l(N,A);N=h(N,1))M=h(M,a(r((-1)**(N-1),v(N,A)),i(N,b)));return r(T,M)}}),Dq="mode",Klt=["typed","isNaN","isNumeric"],Ylt=ue(Dq,Klt,e=>{var{typed:t,isNaN:n,isNumeric:r}=e;return t(Dq,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=jn(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var s={},l=[],u=0,c=0;c<a.length;c++){var d=a[c];if(r(d)&&n(d))throw new Error("Cannot calculate mode of an array containing NaN values");d in s||(s[d]=0),s[d]++,s[d]===u?l.push(d):s[d]>u&&(u=s[d],l=[d])}return l}});function To(e,t,n){var r;return String(e).indexOf("Unexpected type")!==-1?(r=arguments.length>2?" (type: "+ur(n)+", value: "+JSON.stringify(n)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+r)):String(e).indexOf("complex numbers")!==-1?(r=arguments.length>2?" (type: "+ur(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+r)):e}var Rq="prod",Jlt=["typed","config","multiplyScalar","numeric"],Qlt=ue(Rq,Jlt,e=>{var{typed:t,config:n,multiplyScalar:r,numeric:i}=e;return t(Rq,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(s,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(s){return a(s)}});function a(o){var s;if(ld(o,function(l){try{s=s===void 0?l:r(s,l)}catch(u){throw To(u,"prod",l)}}),typeof s=="string"&&(s=i(s,n.number)),s===void 0)throw new Error("Cannot calculate prod of an empty array");return s}}),Iq="format",Xlt=["typed"],Zlt=ue(Iq,Xlt,e=>{var{typed:t}=e;return t(Iq,{any:cn,"any, Object | function | number":cn})}),Oq="bin",eut=["typed","format"],tut=ue(Oq,eut,e=>{var{typed:t,format:n}=e;return t(Oq,{"number | BigNumber":function(i){return n(i,{notation:"bin"})},"number | BigNumber, number":function(i,a){return n(i,{notation:"bin",wordSize:a})}})}),Pq="oct",nut=["typed","format"],rut=ue(Pq,nut,e=>{var{typed:t,format:n}=e;return t(Pq,{"number | BigNumber":function(i){return n(i,{notation:"oct"})},"number | BigNumber, number":function(i,a){return n(i,{notation:"oct",wordSize:a})}})}),jq="hex",iut=["typed","format"],aut=ue(jq,iut,e=>{var{typed:t,format:n}=e;return t(jq,{"number | BigNumber":function(i){return n(i,{notation:"hex"})},"number | BigNumber, number":function(i,a){return n(i,{notation:"hex",wordSize:a})}})}),Xue=/\$([\w.]+)/g,Lq="print",out=["typed"],Zue=ue(Lq,out,e=>{var{typed:t}=e;return t(Lq,{"string, Object | Array":Fq,"string, Object | Array, number | Object":Fq})});function Fq(e,t,n){return e.replace(Xue,function(r,i){var a=i.split("."),o=t[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var s=a.shift();o=s?o[s]:o+"."}return o!==void 0?za(o)?o:cn(o,n):r})}var Bq="to",sut=["typed","matrix","concat"],lut=ue(Bq,sut,e=>{var{typed:t,matrix:n,concat:r}=e,i=gr({typed:t,matrix:n,concat:r});return t(Bq,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))}),zq="isPrime",uut=["typed"],cut=ue(zq,uut,e=>{var{typed:t}=e;return t(zq,{number:function(r){if(r*0!==0)return!1;if(r<=3)return r>1;if(r%2===0||r%3===0)return!1;for(var i=5;i*i<=r;i+=6)if(r%i===0||r%(i+2)===0)return!1;return!0},BigNumber:function(r){if(r.toNumber()*0!==0)return!1;if(r.lte(3))return r.gt(1);if(r.mod(2).eq(0)||r.mod(3).eq(0))return!1;if(r.lt(Math.pow(2,32))){for(var i=r.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(E,x,v){for(var C=1;!x.eq(0);)x.mod(2).eq(0)?(x=x.div(2),E=E.mul(E).mod(v)):(x=x.sub(1),C=E.mul(C).mod(v));return C}var s=r.constructor.clone({precision:r.toFixed(0).length*2});r=new s(r);for(var l=0,u=r.sub(1);u.mod(2).eq(0);)u=u.div(2),l+=1;var c=null;if(r.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(E=>E<r);else{var d=Math.min(r.toNumber()-2,Math.floor(2*Math.pow(r.toFixed(0).length*Math.log(10),2)));c=[];for(var f=2;f<=d;f+=1)c.push(d)}for(var h=0;h<c.length;h+=1){var m=c[h],g=o(r.sub(r).add(m),u,r);if(!g.eq(1)){for(var S=0,y=g;!y.eq(r.sub(1));S+=1,y=y.mul(y).mod(r))if(S===l-1)return!1}}return!0},"Array | Matrix":t.referToSelf(n=>r=>vn(r,n))})}),dut="numeric",fut=["number","?bignumber","?fraction"],hut=ue(dut,fut,e=>{var{number:t,bignumber:n,fraction:r}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>t(o),BigNumber:n?o=>n(o):VI,Fraction:r?o=>r(o):Gue};return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=ur(s);if(!(c in i))throw new TypeError("Cannot convert "+s+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in a))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(a).join(", "));return l===c?s:a[l](s)}}),$q="divideScalar",put=["typed","numeric"],mut=ue($q,put,e=>{var{typed:t,numeric:n}=e;return t($q,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),Uq="pow",gut=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],vut=ue(Uq,gut,e=>{var{typed:t,config:n,identity:r,multiply:i,matrix:a,inv:o,number:s,fraction:l,Complex:u}=e;return t(Uq,{"number, number":c,"Complex, Complex":function(m,g){return m.pow(g)},"BigNumber, BigNumber":function(m,g){return g.isInteger()||m>=0||n.predictable?m.pow(g):new u(m.toNumber(),0).pow(g.toNumber(),0)},"Fraction, Fraction":function(m,g){var S=m.pow(g);if(S!=null)return S;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(m.valueOf(),g.valueOf())},"Array, number":d,"Array, BigNumber":function(m,g){return d(m,g.toNumber())},"Matrix, number":f,"Matrix, BigNumber":function(m,g){return f(m,g.toNumber())},"Unit, number | BigNumber":function(m,g){return m.pow(g)}});function c(h,m){if(n.predictable&&!Dt(m)&&h<0)try{var g=l(m),S=s(g);if((m===S||Math.abs((m-S)/m)<1e-14)&&g.d%2===1)return(g.n%2===0?1:-1)*Math.pow(-h,m)}catch{}return n.predictable&&(h<-1&&m===1/0||h>-1&&h<0&&m===-1/0)?NaN:Dt(m)||h>=0||n.predictable?oue(h,m):h*h<1&&m===1/0||h*h>1&&m===-1/0?0:new u(h,0).pow(m,0)}function d(h,m){if(!Dt(m))throw new TypeError("For A^b, b must be an integer (value is "+m+")");var g=nn(h);if(g.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+g.length+" dimensions)");if(g[0]!==g[1])throw new Error("For A^b, A must be square (size is "+g[0]+"x"+g[1]+")");if(m<0)try{return d(o(h),-m)}catch(E){throw E.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+m+")"):E}for(var S=r(g[0]).valueOf(),y=h;m>=1;)(m&1)===1&&(S=i(y,S)),m>>=1,y=i(y,y);return S}function f(h,m){return a(d(h.valueOf(),m))}}),yg="Number of decimals in function round must be an integer",Vq="round",yut=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],but=ue(Vq,yut,e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,BigNumber:a,DenseMatrix:o}=e,s=_a({typed:t,equalScalar:r}),l=Hi({typed:t,DenseMatrix:o}),u=gu({typed:t});return t(Vq,{number:aH,"number, number":aH,"number, BigNumber":function(d,f){if(!f.isInteger())throw new TypeError(yg);return new a(d).toDecimalPlaces(f.toNumber())},Complex:function(d){return d.round()},"Complex, number":function(d,f){if(f%1)throw new TypeError(yg);return d.round(f)},"Complex, BigNumber":function(d,f){if(!f.isInteger())throw new TypeError(yg);var h=f.toNumber();return d.round(h)},BigNumber:function(d){return d.toDecimalPlaces(0)},"BigNumber, BigNumber":function(d,f){if(!f.isInteger())throw new TypeError(yg);return d.toDecimalPlaces(f.toNumber())},Fraction:function(d){return d.round()},"Fraction, number":function(d,f){if(f%1)throw new TypeError(yg);return d.round(f)},"Fraction, BigNumber":function(d,f){if(!f.isInteger())throw new TypeError(yg);return d.round(f.toNumber())},"Array | Matrix":t.referToSelf(c=>d=>vn(d,c)),"SparseMatrix, number | BigNumber":t.referToSelf(c=>(d,f)=>s(d,f,c,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(c=>(d,f)=>u(d,f,c,!1)),"Array, number | BigNumber":t.referToSelf(c=>(d,f)=>u(n(d),f,c,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(c=>(d,f)=>r(d,0)?i(f.size(),f.storage()):l(f,d,c,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(c=>(d,f)=>r(d,0)?i(f.size(),f.storage()):u(f,d,c,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(c=>(d,f)=>u(n(f),d,c,!0).valueOf())})}),Hq="log",wut=["config","typed","divideScalar","Complex"],xut=ue(Hq,wut,e=>{var{typed:t,config:n,divideScalar:r,Complex:i}=e;return t(Hq,{number:function(o){return o>=0||n.predictable?git(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||n.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":t.referToSelf(a=>(o,s)=>r(a(o),a(s)))})}),qq="log1p",Sut=["typed","config","divideScalar","log","Complex"],Cut=ue(qq,Sut,e=>{var{typed:t,config:n,divideScalar:r,log:i,Complex:a}=e;return t(qq,{number:function(l){return l>=-1||n.predictable?pnt(l):o(new a(l,0))},Complex:o,BigNumber:function(l){var u=l.plus(1);return!u.isNegative()||n.predictable?u.ln():o(new a(l.toNumber(),0))},"Array | Matrix":t.referToSelf(s=>l=>vn(l,s)),"any, any":t.referToSelf(s=>(l,u)=>r(s(l),i(u)))});function o(s){var l=s.re+1;return new a(Math.log(Math.sqrt(l*l+s.im*s.im)),Math.atan2(s.im,l))}}),Wq="nthRoots",Eut=["config","typed","divideScalar","Complex"],kut=ue(Wq,Eut,e=>{var{typed:t,config:n,divideScalar:r,Complex:i}=e,a=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function o(s,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(s===0||s.abs()===0)return[new i(0,0)];var u=typeof s=="number",c;(u||s.re===0||s.im===0)&&(u?c=2*+(s<0):s.im===0?c=2*+(s.re<0):c=2*+(s.im<0)+1);for(var d=s.arg(),f=s.abs(),h=[],m=Math.pow(f,1/l),g=0;g<l;g++){var S=(c+4*g)/l;if(S===Math.round(S)){h.push(a[S%4](m));continue}h.push(new i({r:m,phi:(d+2*Math.PI*g)/l}))}return h}return t(Wq,{Complex:function(l){return o(l,2)},"Complex, number":o})}),Gq="dotPow",Aut=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],_ut=ue(Gq,Aut,e=>{var{typed:t,equalScalar:n,matrix:r,pow:i,DenseMatrix:a,concat:o}=e,s=Oo({typed:t}),l=uc({typed:t,DenseMatrix:a}),u=_a({typed:t,equalScalar:n}),c=Hi({typed:t,DenseMatrix:a}),d=gr({typed:t,matrix:r,concat:o}),f={};for(var h in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,h)&&!h.includes("Matrix")&&!h.includes("Array")&&(f[h]=i.signatures[h]);var m=t(f);return t(Gq,d({elop:m,SS:l,DS:s,Ss:u,sS:c}))}),Kq="dotDivide",Mut=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],Tut=ue(Kq,Mut,e=>{var{typed:t,matrix:n,equalScalar:r,divideScalar:i,DenseMatrix:a,concat:o}=e,s=vu({typed:t,equalScalar:r}),l=Oo({typed:t}),u=uc({typed:t,DenseMatrix:a}),c=_a({typed:t,equalScalar:r}),d=Hi({typed:t,DenseMatrix:a}),f=gr({typed:t,matrix:n,concat:o});return t(Kq,f({elop:i,SS:u,DS:l,SD:s,Ss:c,sS:d}))});function tw(e){var{DenseMatrix:t}=e;return function(r,i,a){var o=r.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+cn(o)+")");var s=o[0],l=o[1];if(s!==l)throw new RangeError("Matrix must be square (size: "+cn(o)+")");var u=[];if(Ft(i)){var c=i.size(),d=i._data;if(c.length===1){if(c[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var f=0;f<s;f++)u[f]=[d[f]];return new t({data:u,size:[s,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==s||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(K5(i)){if(a){u=[];for(var h=0;h<s;h++)u[h]=[d[h][0]];return new t({data:u,size:[s,1],datatype:i._datatype})}return i}if(Mp(i)){for(var m=0;m<s;m++)u[m]=[0];for(var g=i._values,S=i._index,y=i._ptr,E=y[1],x=y[0];x<E;x++){var v=S[x];u[v][0]=g[x]}return new t({data:u,size:[s,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Vn(i)){var C=nn(i);if(C.length===1){if(C[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<s;b++)u[b]=[i[b]];return new t({data:u,size:[s,1]})}if(C.length===2){if(C[0]!==s||C[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var A=0;A<s;A++)u[A]=[i[A][0]];return new t({data:u,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Yq="lsolve",Nut=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Dut=ue(Yq,Nut,e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,l=tw({DenseMatrix:s});return t(Yq,{"SparseMatrix, Array | Matrix":function(f,h){return c(f,h)},"DenseMatrix, Array | Matrix":function(f,h){return u(f,h)},"Array, Array | Matrix":function(f,h){var m=n(f),g=u(m,h);return g.valueOf()}});function u(d,f){f=l(d,f,!0);for(var h=f._data,m=d._size[0],g=d._size[1],S=[],y=d._data,E=0;E<g;E++){var x=h[E][0]||0,v=void 0;if(o(x,0))v=0;else{var C=y[E][E];if(o(C,0))throw new Error("Linear system cannot be solved since matrix is singular");v=r(x,C);for(var b=E+1;b<m;b++)h[b]=[a(h[b][0]||0,i(v,y[b][E]))]}S[E]=[v]}return new s({data:S,size:[m,1]})}function c(d,f){f=l(d,f,!0);for(var h=f._data,m=d._size[0],g=d._size[1],S=d._values,y=d._index,E=d._ptr,x=[],v=0;v<g;v++){var C=h[v][0]||0;if(o(C,0))x[v]=[0];else{for(var b=0,A=[],_=[],T=E[v],M=E[v+1],N=T;N<M;N++){var I=y[N];I===v?b=S[N]:I>v&&(A.push(S[N]),_.push(I))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var F=r(C,b),$=0,z=_.length;$<z;$++){var D=_[$];h[D]=[a(h[D][0]||0,i(F,A[$]))]}x[v]=[F]}}return new s({data:x,size:[m,1]})}}),Jq="usolve",Rut=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Iut=ue(Jq,Rut,e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,l=tw({DenseMatrix:s});return t(Jq,{"SparseMatrix, Array | Matrix":function(f,h){return c(f,h)},"DenseMatrix, Array | Matrix":function(f,h){return u(f,h)},"Array, Array | Matrix":function(f,h){var m=n(f),g=u(m,h);return g.valueOf()}});function u(d,f){f=l(d,f,!0);for(var h=f._data,m=d._size[0],g=d._size[1],S=[],y=d._data,E=g-1;E>=0;E--){var x=h[E][0]||0,v=void 0;if(o(x,0))v=0;else{var C=y[E][E];if(o(C,0))throw new Error("Linear system cannot be solved since matrix is singular");v=r(x,C);for(var b=E-1;b>=0;b--)h[b]=[a(h[b][0]||0,i(v,y[b][E]))]}S[E]=[v]}return new s({data:S,size:[m,1]})}function c(d,f){f=l(d,f,!0);for(var h=f._data,m=d._size[0],g=d._size[1],S=d._values,y=d._index,E=d._ptr,x=[],v=g-1;v>=0;v--){var C=h[v][0]||0;if(o(C,0))x[v]=[0];else{for(var b=0,A=[],_=[],T=E[v],M=E[v+1],N=M-1;N>=T;N--){var I=y[N];I===v?b=S[N]:I<v&&(A.push(S[N]),_.push(I))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var F=r(C,b),$=0,z=_.length;$<z;$++){var D=_[$];h[D]=[a(h[D][0],i(F,A[$]))]}x[v]=[F]}}return new s({data:x,size:[m,1]})}}),Qq="lsolveAll",Out=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Put=ue(Qq,Out,e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,l=tw({DenseMatrix:s});return t(Qq,{"SparseMatrix, Array | Matrix":function(f,h){return c(f,h)},"DenseMatrix, Array | Matrix":function(f,h){return u(f,h)},"Array, Array | Matrix":function(f,h){var m=n(f),g=u(m,h);return g.map(S=>S.valueOf())}});function u(d,f){for(var h=[l(d,f,!0)._data.map(_=>_[0])],m=d._data,g=d._size[0],S=d._size[1],y=0;y<S;y++)for(var E=h.length,x=0;x<E;x++){var v=h[x];if(o(m[y][y],0))if(o(v[y],0)){if(x===0){var b=[...v];b[y]=1;for(var A=y+1;A<S;A++)b[A]=a(b[A],m[A][y]);h.push(b)}}else{if(x===0)return[];h.splice(x,1),x-=1,E-=1}else{v[y]=r(v[y],m[y][y]);for(var C=y+1;C<S;C++)v[C]=a(v[C],i(v[y],m[C][y]))}}return h.map(_=>new s({data:_.map(T=>[T]),size:[g,1]}))}function c(d,f){for(var h=[l(d,f,!0)._data.map(K=>K[0])],m=d._size[0],g=d._size[1],S=d._values,y=d._index,E=d._ptr,x=0;x<g;x++)for(var v=h.length,C=0;C<v;C++){for(var b=h[C],A=[],_=[],T=E[x],M=E[x+1],N=0,I=T;I<M;I++){var F=y[I];F===x?N=S[I]:F>x&&(A.push(S[I]),_.push(F))}if(o(N,0))if(o(b[x],0)){if(C===0){var P=[...b];P[x]=1;for(var V=0,B=_.length;V<B;V++){var H=_[V];P[H]=a(P[H],A[V])}h.push(P)}}else{if(C===0)return[];h.splice(C,1),C-=1,v-=1}else{b[x]=r(b[x],N);for(var $=0,z=_.length;$<z;$++){var D=_[$];b[D]=a(b[D],i(b[x],A[$]))}}}return h.map(K=>new s({data:K.map(W=>[W]),size:[m,1]}))}}),Xq="usolveAll",jut=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Lut=ue(Xq,jut,e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,l=tw({DenseMatrix:s});return t(Xq,{"SparseMatrix, Array | Matrix":function(f,h){return c(f,h)},"DenseMatrix, Array | Matrix":function(f,h){return u(f,h)},"Array, Array | Matrix":function(f,h){var m=n(f),g=u(m,h);return g.map(S=>S.valueOf())}});function u(d,f){for(var h=[l(d,f,!0)._data.map(_=>_[0])],m=d._data,g=d._size[0],S=d._size[1],y=S-1;y>=0;y--)for(var E=h.length,x=0;x<E;x++){var v=h[x];if(o(m[y][y],0))if(o(v[y],0)){if(x===0){var b=[...v];b[y]=1;for(var A=y-1;A>=0;A--)b[A]=a(b[A],m[A][y]);h.push(b)}}else{if(x===0)return[];h.splice(x,1),x-=1,E-=1}else{v[y]=r(v[y],m[y][y]);for(var C=y-1;C>=0;C--)v[C]=a(v[C],i(v[y],m[C][y]))}}return h.map(_=>new s({data:_.map(T=>[T]),size:[g,1]}))}function c(d,f){for(var h=[l(d,f,!0)._data.map(K=>K[0])],m=d._size[0],g=d._size[1],S=d._values,y=d._index,E=d._ptr,x=g-1;x>=0;x--)for(var v=h.length,C=0;C<v;C++){for(var b=h[C],A=[],_=[],T=E[x],M=E[x+1],N=0,I=M-1;I>=T;I--){var F=y[I];F===x?N=S[I]:F<x&&(A.push(S[I]),_.push(F))}if(o(N,0))if(o(b[x],0)){if(C===0){var P=[...b];P[x]=1;for(var V=0,B=_.length;V<B;V++){var H=_[V];P[H]=a(P[H],A[V])}h.push(P)}}else{if(C===0)return[];h.splice(C,1),C-=1,v-=1}else{b[x]=r(b[x],N);for(var $=0,z=_.length;$<z;$++){var D=_[$];b[D]=a(b[D],i(b[x],A[$]))}}}return h.map(K=>new s({data:K.map(W=>[W]),size:[m,1]}))}}),Fut="matAlgo08xS0Sid",But=["typed","equalScalar"],HI=ue(Fut,But,e=>{var{typed:t,equalScalar:n}=e;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,c=i._size,d=i._datatype,f=a._values,h=a._index,m=a._ptr,g=a._size,S=a._datatype;if(c.length!==g.length)throw new hn(c.length,g.length);if(c[0]!==g[0]||c[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+g+")");if(!s||!f)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var y=c[0],E=c[1],x,v=n,C=0,b=o;typeof d=="string"&&d===S&&(x=d,v=t.find(n,[x,x]),C=t.convert(0,x),b=t.find(o,[x,x]));for(var A=[],_=[],T=[],M=[],N=[],I,F,$,z,D=0;D<E;D++){T[D]=_.length;var P=D+1;for(F=u[D],$=u[D+1],I=F;I<$;I++)z=l[I],N[z]=P,M[z]=s[I],_.push(z);for(F=m[D],$=m[D+1],I=F;I<$;I++)z=h[I],N[z]===P&&(M[z]=b(M[z],f[I]));for(I=T[D];I<_.length;){z=_[I];var V=M[z];v(V,C)?_.splice(I,1):(A.push(V),I++)}}return T[E]=_.length,i.createSparseMatrix({values:A,index:_,ptr:T,size:[y,E],datatype:x})}}),qI=ue("useMatrixForArrayScalar",["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return{"Array, number":t.referTo("DenseMatrix, number",r=>(i,a)=>r(n(i),a).valueOf()),"Array, BigNumber":t.referTo("DenseMatrix, BigNumber",r=>(i,a)=>r(n(i),a).valueOf()),"number, Array":t.referTo("number, DenseMatrix",r=>(i,a)=>r(i,n(a)).valueOf()),"BigNumber, Array":t.referTo("BigNumber, DenseMatrix",r=>(i,a)=>r(i,n(a)).valueOf())}}),Zq="leftShift",zut=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],$ut=ue(Zq,zut,e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,DenseMatrix:a,concat:o}=e,s=Eh({typed:t}),l=vu({typed:t,equalScalar:r}),u=HI({typed:t,equalScalar:r}),c=Sm({typed:t,DenseMatrix:a}),d=_a({typed:t,equalScalar:r}),f=gu({typed:t}),h=gr({typed:t,matrix:n,concat:o}),m=qI({typed:t,matrix:n});return t(Zq,{"number, number":due,"BigNumber, BigNumber":ist,"SparseMatrix, number | BigNumber":t.referToSelf(g=>(S,y)=>r(y,0)?S.clone():d(S,y,g,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(g=>(S,y)=>r(y,0)?S.clone():f(S,y,g,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(g=>(S,y)=>r(S,0)?i(y.size(),y.storage()):c(y,S,g,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(g=>(S,y)=>r(S,0)?i(y.size(),y.storage()):f(y,S,g,!0))},m,h({SS:u,DS:s,SD:l}))}),eW="rightArithShift",Uut=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Vut=ue(eW,Uut,e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,DenseMatrix:a,concat:o}=e,s=Eh({typed:t}),l=vu({typed:t,equalScalar:r}),u=HI({typed:t,equalScalar:r}),c=Sm({typed:t,DenseMatrix:a}),d=_a({typed:t,equalScalar:r}),f=gu({typed:t}),h=gr({typed:t,matrix:n,concat:o}),m=qI({typed:t,matrix:n});return t(eW,{"number, number":fue,"BigNumber, BigNumber":ast,"SparseMatrix, number | BigNumber":t.referToSelf(g=>(S,y)=>r(y,0)?S.clone():d(S,y,g,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(g=>(S,y)=>r(y,0)?S.clone():f(S,y,g,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(g=>(S,y)=>r(S,0)?i(y.size(),y.storage()):c(y,S,g,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(g=>(S,y)=>r(S,0)?i(y.size(),y.storage()):f(y,S,g,!0))},m,h({SS:u,DS:s,SD:l}))}),tW="rightLogShift",Hut=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],qut=ue(tW,Hut,e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,DenseMatrix:a,concat:o}=e,s=Eh({typed:t}),l=vu({typed:t,equalScalar:r}),u=HI({typed:t,equalScalar:r}),c=Sm({typed:t,DenseMatrix:a}),d=_a({typed:t,equalScalar:r}),f=gu({typed:t}),h=gr({typed:t,matrix:n,concat:o}),m=qI({typed:t,matrix:n});return t(tW,{"number, number":hue,"SparseMatrix, number | BigNumber":t.referToSelf(g=>(S,y)=>r(y,0)?S.clone():d(S,y,g,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(g=>(S,y)=>r(y,0)?S.clone():f(S,y,g,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(g=>(S,y)=>r(S,0)?i(y.size(),y.storage()):c(y,S,g,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(g=>(S,y)=>r(S,0)?i(y.size(),y.storage()):f(y,S,g,!0))},m,h({SS:u,DS:s,SD:l}))}),nW="and",Wut=["typed","matrix","equalScalar","zeros","not","concat"],Gut=ue(nW,Wut,e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,not:a,concat:o}=e,s=vu({typed:t,equalScalar:r}),l=rk({typed:t,equalScalar:r}),u=_a({typed:t,equalScalar:r}),c=gu({typed:t}),d=gr({typed:t,matrix:n,concat:o});return t(nW,{"number, number":yue,"Complex, Complex":function(h,m){return(h.re!==0||h.im!==0)&&(m.re!==0||m.im!==0)},"BigNumber, BigNumber":function(h,m){return!h.isZero()&&!m.isZero()&&!h.isNaN()&&!m.isNaN()},"Unit, Unit":t.referToSelf(f=>(h,m)=>f(h.value||0,m.value||0)),"SparseMatrix, any":t.referToSelf(f=>(h,m)=>a(m)?i(h.size(),h.storage()):u(h,m,f,!1)),"DenseMatrix, any":t.referToSelf(f=>(h,m)=>a(m)?i(h.size(),h.storage()):c(h,m,f,!1)),"any, SparseMatrix":t.referToSelf(f=>(h,m)=>a(h)?i(h.size(),h.storage()):u(m,h,f,!0)),"any, DenseMatrix":t.referToSelf(f=>(h,m)=>a(h)?i(h.size(),h.storage()):c(m,h,f,!0)),"Array, any":t.referToSelf(f=>(h,m)=>f(n(h),m).valueOf()),"any, Array":t.referToSelf(f=>(h,m)=>f(h,n(m)).valueOf())},d({SS:l,DS:s}))}),lC="compare",Kut=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],Yut=ue(lC,Kut,e=>{var{typed:t,config:n,equalScalar:r,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:s,concat:l}=e,u=Oo({typed:t}),c=nk({typed:t,equalScalar:r}),d=Hi({typed:t,DenseMatrix:s}),f=gr({typed:t,matrix:i,concat:l}),h=X1({typed:t});return t(lC,Jut({typed:t,config:n}),{"boolean, boolean":function(g,S){return g===S?0:g>S?1:-1},"BigNumber, BigNumber":function(g,S){return ec(g,S,n.epsilon)?new a(0):new a(g.cmp(S))},"Fraction, Fraction":function(g,S){return new o(g.compare(S))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:c,DS:u,Ss:d}))}),Jut=ue(lC,["typed","config"],e=>{var{typed:t,config:n}=e;return t(lC,{"number, number":function(i,a){return Ns(i,a,n.epsilon)?0:i>a?1:-1}})}),Qut=function e(t,n){var r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,s=/^0/,l=function(x){return e.insensitive&&(""+x).toLowerCase()||""+x},u=l(t).replace(i,"")||"",c=l(n).replace(i,"")||"",d=u.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=c.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=parseInt(u.match(o),16)||d.length!==1&&u.match(a)&&Date.parse(u),m=parseInt(c.match(o),16)||h&&c.match(a)&&Date.parse(c)||null,g,S;if(m){if(h<m)return-1;if(h>m)return 1}for(var y=0,E=Math.max(d.length,f.length);y<E;y++){if(g=!(d[y]||"").match(s)&&parseFloat(d[y])||d[y]||0,S=!(f[y]||"").match(s)&&parseFloat(f[y])||f[y]||0,isNaN(g)!==isNaN(S))return isNaN(g)?1:-1;if(typeof g!=typeof S&&(g+="",S+=""),g<S)return-1;if(g>S)return 1}return 0};const bg=Rs(Qut);var rW="compareNatural",Xut=["typed","compare"],Zut=ue(rW,Xut,e=>{var{typed:t,compare:n}=e,r=n.signatures["boolean,boolean"];return t(rW,{"any, any":i});function i(l,u){var c=ur(l),d=ur(u),f;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(d==="number"||d==="BigNumber"||d==="Fraction"))return f=n(l,u),f.toString()!=="0"?f>0?1:-1:bg(c,d);var h=["Array","DenseMatrix","SparseMatrix"];if(h.includes(c)||h.includes(d))return f=a(i,l,u),f!==0?f:bg(c,d);if(c!==d)return bg(c,d);if(c==="Complex")return ect(l,u);if(c==="Unit")return l.equalBase(u)?i(l.value,u.value):o(i,l.formatUnits(),u.formatUnits());if(c==="boolean")return r(l,u);if(c==="string")return bg(l,u);if(c==="Object")return s(i,l,u);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(l,u,c){return Mp(u)&&Mp(c)?o(l,u.toJSON().values,c.toJSON().values):Mp(u)?a(l,u.toArray(),c):Mp(c)?a(l,u,c.toArray()):K5(u)?a(l,u.toJSON().data,c):K5(c)?a(l,u,c.toJSON().data):Array.isArray(u)?Array.isArray(c)?o(l,u,c):a(l,u,[c]):a(l,[u],c)}function o(l,u,c){for(var d=0,f=Math.min(u.length,c.length);d<f;d++){var h=l(u[d],c[d]);if(h!==0)return h}return u.length>c.length?1:u.length<c.length?-1:0}function s(l,u,c){var d=Object.keys(u),f=Object.keys(c);d.sort(bg),f.sort(bg);var h=o(l,d,f);if(h!==0)return h;for(var m=0;m<d.length;m++){var g=l(u[d[m]],c[f[m]]);if(g!==0)return g}return 0}});function ect(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0}var iW="compareText",tct=["typed","matrix","concat"];lN.signature="any, any";var nct=ue(iW,tct,e=>{var{typed:t,matrix:n,concat:r}=e,i=gr({typed:t,matrix:n,concat:r});return t(iW,lN,i({elop:lN,Ds:!0}))}),uC="equal",rct=["typed","matrix","equalScalar","DenseMatrix","concat"],ict=ue(uC,rct,e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:i,concat:a}=e,o=Oo({typed:t}),s=uc({typed:t,DenseMatrix:i}),l=Hi({typed:t,DenseMatrix:i}),u=gr({typed:t,matrix:n,concat:a});return t(uC,act({typed:t,equalScalar:r}),u({elop:r,SS:s,DS:o,Ss:l}))}),act=ue(uC,["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return t(uC,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:n(i,a)}})}),aW="equalText",oct=["typed","compareText","isZero"],sct=ue(aW,oct,e=>{var{typed:t,compareText:n,isZero:r}=e;return t(aW,{"any, any":function(a,o){return r(n(a,o))}})}),cC="smaller",lct=["typed","config","matrix","DenseMatrix","concat"],uct=ue(cC,lct,e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:a}=e,o=Oo({typed:t}),s=uc({typed:t,DenseMatrix:i}),l=Hi({typed:t,DenseMatrix:i}),u=gr({typed:t,matrix:r,concat:a}),c=X1({typed:t});return t(cC,cct({typed:t,config:n}),{"boolean, boolean":(d,f)=>d<f,"BigNumber, BigNumber":function(f,h){return f.lt(h)&&!ec(f,h,n.epsilon)},"Fraction, Fraction":(d,f)=>d.compare(f)===-1,"Complex, Complex":function(f,h){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),cct=ue(cC,["typed","config"],e=>{var{typed:t,config:n}=e;return t(cC,{"number, number":function(i,a){return i<a&&!Ns(i,a,n.epsilon)}})}),dC="smallerEq",dct=["typed","config","matrix","DenseMatrix","concat"],fct=ue(dC,dct,e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:a}=e,o=Oo({typed:t}),s=uc({typed:t,DenseMatrix:i}),l=Hi({typed:t,DenseMatrix:i}),u=gr({typed:t,matrix:r,concat:a}),c=X1({typed:t});return t(dC,hct({typed:t,config:n}),{"boolean, boolean":(d,f)=>d<=f,"BigNumber, BigNumber":function(f,h){return f.lte(h)||ec(f,h,n.epsilon)},"Fraction, Fraction":(d,f)=>d.compare(f)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),hct=ue(dC,["typed","config"],e=>{var{typed:t,config:n}=e;return t(dC,{"number, number":function(i,a){return i<=a||Ns(i,a,n.epsilon)}})}),fC="larger",pct=["typed","config","matrix","DenseMatrix","concat"],mct=ue(fC,pct,e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:a}=e,o=Oo({typed:t}),s=uc({typed:t,DenseMatrix:i}),l=Hi({typed:t,DenseMatrix:i}),u=gr({typed:t,matrix:r,concat:a}),c=X1({typed:t});return t(fC,gct({typed:t,config:n}),{"boolean, boolean":(d,f)=>d>f,"BigNumber, BigNumber":function(f,h){return f.gt(h)&&!ec(f,h,n.epsilon)},"Fraction, Fraction":(d,f)=>d.compare(f)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),gct=ue(fC,["typed","config"],e=>{var{typed:t,config:n}=e;return t(fC,{"number, number":function(i,a){return i>a&&!Ns(i,a,n.epsilon)}})}),hC="largerEq",vct=["typed","config","matrix","DenseMatrix","concat"],yct=ue(hC,vct,e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:a}=e,o=Oo({typed:t}),s=uc({typed:t,DenseMatrix:i}),l=Hi({typed:t,DenseMatrix:i}),u=gr({typed:t,matrix:r,concat:a}),c=X1({typed:t});return t(hC,bct({typed:t,config:n}),{"boolean, boolean":(d,f)=>d>=f,"BigNumber, BigNumber":function(f,h){return f.gte(h)||ec(f,h,n.epsilon)},"Fraction, Fraction":(d,f)=>d.compare(f)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),bct=ue(hC,["typed","config"],e=>{var{typed:t,config:n}=e;return t(hC,{"number, number":function(i,a){return i>=a||Ns(i,a,n.epsilon)}})}),oW="deepEqual",wct=["typed","equal"],xct=ue(oW,wct,e=>{var{typed:t,equal:n}=e;return t(oW,{"any, any":function(a,o){return r(a.valueOf(),o.valueOf())}});function r(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var s=0;s<o;s++)if(!r(i[s],a[s]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:n(i,a)}}),pC="unequal",Sct=["typed","config","equalScalar","matrix","DenseMatrix","concat"],Cct=ue(pC,Sct,e=>{var{typed:t,config:n,equalScalar:r,matrix:i,DenseMatrix:a,concat:o}=e,s=Oo({typed:t}),l=uc({typed:t,DenseMatrix:a}),u=Hi({typed:t,DenseMatrix:a}),c=gr({typed:t,matrix:i,concat:o});return t(pC,Ect({typed:t,equalScalar:r}),c({elop:d,SS:l,DS:s,Ss:u}));function d(f,h){return!r(f,h)}}),Ect=ue(pC,["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return t(pC,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!n(i,a)}})}),sW="partitionSelect",kct=["typed","isNumeric","isNaN","compare"],Act=ue(sW,kct,e=>{var{typed:t,isNumeric:n,isNaN:r,compare:i}=e,a=i,o=(u,c)=>-i(u,c);return t(sW,{"Array | Matrix, number":function(c,d){return s(c,d,a)},"Array | Matrix, number, string":function(c,d,f){if(f==="asc")return s(c,d,a);if(f==="desc")return s(c,d,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(u,c,d){if(!Dt(c)||c<0)throw new Error("k must be a non-negative integer");if(Ft(u)){var f=u.size();if(f.length>1)throw new Error("Only one dimensional matrices supported");return l(u.valueOf(),c,d)}if(Array.isArray(u))return l(u,c,d)}function l(u,c,d){if(c>=u.length)throw new Error("k out of bounds");for(var f=0;f<u.length;f++)if(n(u[f])&&r(u[f]))return u[f];for(var h=0,m=u.length-1;h<m;){for(var g=h,S=m,y=u[Math.floor(Math.random()*(m-h+1))+h];g<S;)if(d(u[g],y)>=0){var E=u[S];u[S]=u[g],u[g]=E,--S}else++g;d(u[g],y)>0&&--g,c<=g?m=g:h=g+1}return u[c]}}),lW="sort",_ct=["typed","matrix","compare","compareNatural"],Mct=ue(lW,_ct,e=>{var{typed:t,matrix:n,compare:r,compareNatural:i}=e,a=r,o=(c,d)=>-r(c,d);return t(lW,{Array:function(d){return l(d),d.sort(a)},Matrix:function(d){return u(d),n(d.toArray().sort(a),d.storage())},"Array, function":function(d,f){return l(d),d.sort(f)},"Matrix, function":function(d,f){return u(d),n(d.toArray().sort(f),d.storage())},"Array, string":function(d,f){return l(d),d.sort(s(f))},"Matrix, string":function(d,f){return u(d),n(d.toArray().sort(s(f)),d.storage())}});function s(c){if(c==="asc")return a;if(c==="desc")return o;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(c){if(nn(c).length!==1)throw new Error("One dimensional array expected")}function u(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}}),uW="max",Tct=["typed","config","numeric","larger"],ece=ue(uW,Tct,e=>{var{typed:t,config:n,numeric:r,larger:i}=e;return t(uW,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,u){return ek(l,u.valueOf(),a)},"...":function(l){if(Y1(l))throw new TypeError("Scalar values expected in function max");return o(l)}});function a(s,l){try{return i(s,l)?s:l}catch(u){throw To(u,"max",l)}}function o(s){var l;if(ld(s,function(u){try{isNaN(u)&&typeof u=="number"?l=NaN:(l===void 0||i(u,l))&&(l=u)}catch(c){throw To(c,"max",u)}}),l===void 0)throw new Error("Cannot calculate max of an empty array");return typeof l=="string"&&(l=r(l,n.number)),l}}),cW="min",Nct=["typed","config","numeric","smaller"],tce=ue(cW,Nct,e=>{var{typed:t,config:n,numeric:r,smaller:i}=e;return t(cW,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,u){return ek(l,u.valueOf(),a)},"...":function(l){if(Y1(l))throw new TypeError("Scalar values expected in function min");return o(l)}});function a(s,l){try{return i(s,l)?s:l}catch(u){throw To(u,"min",l)}}function o(s){var l;if(ld(s,function(u){try{isNaN(u)&&typeof u=="number"?l=NaN:(l===void 0||i(u,l))&&(l=u)}catch(c){throw To(c,"min",u)}}),l===void 0)throw new Error("Cannot calculate min of an empty array");return typeof l=="string"&&(l=r(l,n.number)),l}}),Dct="ImmutableDenseMatrix",Rct=["smaller","DenseMatrix"],Ict=ue(Dct,Rct,e=>{var{smaller:t,DenseMatrix:n}=e;function r(i,a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!za(a))throw new Error("Invalid datatype: "+a);if(Ft(i)||Vn(i)){var o=new n(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Vn(i.data)&&Vn(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+ur(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return r.prototype=new n,r.prototype.type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(i){switch(arguments.length){case 1:{var a=n.prototype.subset.call(this,i);return Ft(a)?new r({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:Zt(this._data),size:Zt(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(i){return new r(i)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||t(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},r.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||t(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},r},{isClass:!0}),Oct="Index",Pct=["ImmutableDenseMatrix","getMatrixDataType"],jct=ue(Oct,Pct,e=>{var{ImmutableDenseMatrix:t,getMatrixDataType:n}=e;function r(a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,s=arguments.length;o<s;o++){var l=arguments[o],u=Vn(l),c=Ft(l),d=null;if(RI(l))this._dimensions.push(l),this._isScalar=!1;else if(u||c){var f=void 0;n(l)==="boolean"?(u&&(f=i(dW(l).valueOf())),c&&(f=i(dW(l._data).valueOf())),d=l.valueOf().length):f=i(l.valueOf()),this._dimensions.push(f);var h=f.size();(h.length!==1||h[0]!==1||d!==null)&&(this._isScalar=!1)}else if(typeof l=="number")this._dimensions.push(i([l]));else if(typeof l=="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(d)}}r.prototype.type="Index",r.prototype.isIndex=!0;function i(a){for(var o=0,s=a.length;o<s;o++)if(typeof a[o]!="number"||!Dt(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new t(a)}return r.prototype.clone=function(){var a=new r;return a._dimensions=Zt(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},r.create=function(a){var o=new r;return r.apply(o,a),o},r.prototype.size=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?1:l.size()[0]}return a},r.prototype.max=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?l:l.max()}return a},r.prototype.min=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?l:l.min()}return a},r.prototype.forEach=function(a){for(var o=0,s=this._dimensions.length;o<s;o++)a(this._dimensions[o],o,this)},r.prototype.dimension=function(a){return this._dimensions[a]||null},r.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a.push(typeof l=="string"?l:l.toArray())}return a},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];typeof l=="string"?a.push(JSON.stringify(l)):a.push(l.toString())}return"["+a.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(a){return r.create(a.dimensions)},r},{isClass:!0});function dW(e){var t=[];return e.forEach((n,r)=>{n&&t.push(r)}),t}var Lct="FibonacciHeap",Fct=["smaller","larger"],Bct=ue(Lct,Fct,e=>{var{smaller:t,larger:n}=e,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,d){var f={key:c,value:d,degree:0};if(this._minimum){var h=this._minimum;f.left=h,f.right=h.right,h.right=f,f.right.left=f,t(c,h.key)&&(this._minimum=f)}else f.left=f,f.right=f,this._minimum=f;return this._size++,f},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var d=this._minimum,f=c.degree,h=c.child;f>0;){var m=h.right;h.left.right=h.right,h.right.left=h.left,h.left=d,h.right=d.right,d.right=h,h.right.left=h,h.parent=null,h=m,f--}return c.left.right=c.right,c.right.left=c.left,c===c.right?d=null:(d=c.right,d=u(d,this._size)),this._size--,this._minimum=d,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,d,f){d.key=f;var h=d.parent;return h&&t(d.key,h.key)&&(o(c,d,h),s(c,h)),t(d.key,c.key)&&(c=d),c}function o(c,d,f){d.left.right=d.right,d.right.left=d.left,f.degree--,f.child===d&&(f.child=d.right),f.degree===0&&(f.child=null),d.left=c,d.right=c.right,c.right=d,d.right.left=d,d.parent=null,d.mark=!1}function s(c,d){var f=d.parent;f&&(d.mark?(o(c,d,f),s(f)):d.mark=!0)}var l=function(d,f){d.left.right=d.right,d.right.left=d.left,d.parent=f,f.child?(d.left=f.child,d.right=f.child.right,f.child.right=d,d.right.left=d):(f.child=d,d.right=d,d.left=d),f.degree++,d.mark=!1};function u(c,d){var f=Math.floor(Math.log(d)*r)+1,h=new Array(f),m=0,g=c;if(g)for(m++,g=g.right;g!==c;)m++,g=g.right;for(var S;m>0;){for(var y=g.degree,E=g.right;S=h[y],!!S;){if(n(g.key,S.key)){var x=S;S=g,g=x}l(S,g),h[y]=null,y++}h[y]=g,g=E,m--}c=null;for(var v=0;v<f;v++)S=h[v],S&&(c?(S.left.right=S.right,S.right.left=S.left,S.left=c,S.right=c.right,c.right=S,S.right.left=S,t(S.key,c.key)&&(c=S)):c=S);return c}return i},{isClass:!0}),zct="Spa",$ct=["addScalar","equalScalar","FibonacciHeap"],Uct=ue(zct,$ct,e=>{var{addScalar:t,equalScalar:n,FibonacciHeap:r}=e;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var s=this._heap.insert(a,o);this._values[a]=s}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var s=this._values[a];s?s.value=t(s.value,o):(s=this._heap.insert(a,o),this._values[a]=s)},i.prototype.forEach=function(a,o,s){var l=this._heap,u=this._values,c=[],d=l.extractMinimum();for(d&&c.push(d);d&&d.key<=o;)d.key>=a&&(n(d.value,0)||s(d.key,d.value,this)),d=l.extractMinimum(),d&&c.push(d);for(var f=0;f<c.length;f++){var h=c[f];d=l.insert(h.key,h.value),u[d.key]=d}},i.prototype.swap=function(a,o){var s=this._values[a],l=this._values[o];if(!s&&l)s=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=s,this._values[o]=void 0;else if(s&&!l)l=this._heap.insert(o,s.value),this._heap.remove(s),this._values[o]=l,this._values[a]=void 0;else if(s&&l){var u=s.value;s.value=l.value,l.value=u}},i},{isClass:!0}),Vct=ew(function(e){return new e(1).exp()},{hasher:ik}),Hct=ew(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher:ik}),WI=ew(function(e){return e.acos(-1)},{hasher:ik}),qct=ew(function(e){return WI(e).times(2)},{hasher:ik});function ik(e){return e[0].precision}function fW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fW(Object(n),!0).forEach(function(r){Vi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Wct="Unit",Gct=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],Kct=ue(Wct,Gct,e=>{var{on:t,config:n,addScalar:r,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:s,abs:l,fix:u,round:c,equal:d,isNumeric:f,format:h,number:m,Complex:g,BigNumber:S,Fraction:y}=e,E=m;function x(Y,re){if(!(this instanceof x))throw new Error("Constructor must be called with the new operator");if(!(Y==null||f(Y)||Wc(Y)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,re===void 0)this.units=[],this.dimensions=V.map(le=>0);else if(typeof re=="string"){var Se=x.parse(re);this.units=Se.units,this.dimensions=Se.dimensions}else if(ol(re)&&re.value===null)this.fixPrefix=re.fixPrefix,this.skipAutomaticSimplification=re.skipAutomaticSimplification,this.dimensions=re.dimensions.slice(0),this.units=re.units.map(le=>xi({},le));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(Y)}Object.defineProperty(x,"name",{value:"Unit"}),x.prototype.constructor=x,x.prototype.type="Unit",x.prototype.isUnit=!0;var v,C,b;function A(){for(;b===" "||b==="	";)M()}function _(Y){return Y>="0"&&Y<="9"||Y==="."}function T(Y){return Y>="0"&&Y<="9"}function M(){C++,b=v.charAt(C)}function N(Y){C=Y,b=v.charAt(C)}function I(){var Y="",re=C;if(b==="+"?M():b==="-"&&(Y+=b,M()),!_(b))return N(re),null;if(b==="."){if(Y+=b,M(),!T(b))return N(re),null}else{for(;T(b);)Y+=b,M();b==="."&&(Y+=b,M())}for(;T(b);)Y+=b,M();if(b==="E"||b==="e"){var Se="",le=C;if(Se+=b,M(),(b==="+"||b==="-")&&(Se+=b,M()),!T(b))return N(le),Y;for(Y=Y+Se;T(b);)Y+=b,M()}return Y}function F(){for(var Y="";T(b)||x.isValidAlpha(b);)Y+=b,M();var re=Y.charAt(0);return x.isValidAlpha(re)?Y:null}function $(Y){return b===Y?(M(),Y):null}x.parse=function(Y,re){if(re=re||{},v=Y,C=-1,b="",typeof v!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var Se=new x;Se.units=[];var le=1,ye=!1;M(),A();var Ee=I(),be=null;if(Ee){if(n.number==="BigNumber")be=new S(Ee);else if(n.number==="Fraction")try{be=new y(Ee)}catch{be=parseFloat(Ee)}else be=parseFloat(Ee);A(),$("*")?(le=1,ye=!0):$("/")&&(le=-1,ye=!0)}for(var Me=[],X=1;;){for(A();b==="(";)Me.push(le),X*=le,le=1,M(),A();var ce=void 0;if(b){var ae=b;if(ce=F(),ce===null)throw new SyntaxError('Unexpected "'+ae+'" in "'+v+'" at index '+C.toString())}else break;var Ce=z(ce);if(Ce===null)throw new SyntaxError('Unit "'+ce+'" not found.');var Ie=le*X;if(A(),$("^")){A();var Oe=I();if(Oe===null)throw new SyntaxError('In "'+Y+'", "^" must be followed by a floating-point number');Ie*=Oe}Se.units.push({unit:Ce.unit,prefix:Ce.prefix,power:Ie});for(var Ve=0;Ve<V.length;Ve++)Se.dimensions[Ve]+=(Ce.unit.dimensions[Ve]||0)*Ie;for(A();b===")";){if(Me.length===0)throw new SyntaxError('Unmatched ")" in "'+v+'" at index '+C.toString());X/=Me.pop(),M(),A()}if(ye=!1,$("*")?(le=1,ye=!0):$("/")?(le=-1,ye=!0):le=1,Ce.unit.base){var qe=Ce.unit.base.key;Q.auto[qe]={unit:Ce.unit,prefix:Ce.prefix}}}if(A(),b)throw new SyntaxError('Could not parse: "'+Y+'"');if(ye)throw new SyntaxError('Trailing characters: "'+Y+'"');if(Me.length!==0)throw new SyntaxError('Unmatched "(" in "'+v+'"');if(Se.units.length===0&&!re.allowNoUnits)throw new SyntaxError('"'+Y+'" contains no units');return Se.value=be!==void 0?Se._normalize(be):null,Se},x.prototype.clone=function(){var Y=new x;Y.fixPrefix=this.fixPrefix,Y.skipAutomaticSimplification=this.skipAutomaticSimplification,Y.value=Zt(this.value),Y.dimensions=this.dimensions.slice(0),Y.units=[];for(var re=0;re<this.units.length;re++){Y.units[re]={};for(var Se in this.units[re])xt(this.units[re],Se)&&(Y.units[re][Se]=this.units[re][Se])}return Y},x.prototype.valueType=function(){return ur(this.value)},x.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},x.prototype._normalize=function(Y){if(Y==null||this.units.length===0)return Y;for(var re=Y,Se=x._getNumberConverter(ur(Y)),le=0;le<this.units.length;le++){var ye=Se(this.units[le].unit.value),Ee=Se(this.units[le].prefix.value),be=Se(this.units[le].power);re=a(re,s(a(ye,Ee),be))}return re},x.prototype._denormalize=function(Y,re){if(Y==null||this.units.length===0)return Y;for(var Se=Y,le=x._getNumberConverter(ur(Y)),ye=0;ye<this.units.length;ye++){var Ee=le(this.units[ye].unit.value),be=le(this.units[ye].prefix.value),Me=le(this.units[ye].power);Se=o(Se,s(a(Ee,be),Me))}return Se};var z=ew(Y=>{if(xt(L,Y)){var re=L[Y],Se=re.prefixes[""];return{unit:re,prefix:Se}}for(var le in L)if(xt(L,le)&&Dnt(Y,le)){var ye=L[le],Ee=Y.length-le.length,be=Y.substring(0,Ee),Me=xt(ye.prefixes,be)?ye.prefixes[be]:void 0;if(Me!==void 0)return{unit:ye,prefix:Me}}return null},{hasher:Y=>Y[0],limit:100});x.isValuelessUnit=function(Y){return z(Y)!==null},x.prototype.hasBase=function(Y){if(typeof Y=="string"&&(Y=B[Y]),!Y)return!1;for(var re=0;re<V.length;re++)if(Math.abs((this.dimensions[re]||0)-(Y.dimensions[re]||0))>1e-12)return!1;return!0},x.prototype.equalBase=function(Y){for(var re=0;re<V.length;re++)if(Math.abs((this.dimensions[re]||0)-(Y.dimensions[re]||0))>1e-12)return!1;return!0},x.prototype.equals=function(Y){return this.equalBase(Y)&&d(this.value,Y.value)},x.prototype.multiply=function(Y){for(var re=this.clone(),Se=ol(Y)?Y:new x(Y),le=0;le<V.length;le++)re.dimensions[le]=(this.dimensions[le]||0)+(Se.dimensions[le]||0);for(var ye=0;ye<Se.units.length;ye++){var Ee=Y6({},Se.units[ye]);re.units.push(Ee)}if(this.value!==null||Se.value!==null){var be=this.value===null?this._normalize(1):this.value,Me=Se.value===null?Se._normalize(1):Se.value;re.value=a(be,Me)}else re.value=null;return ol(Y)&&(re.skipAutomaticSimplification=!1),D(re)},x.prototype.divideInto=function(Y){return new x(Y).divide(this)},x.prototype.divide=function(Y){for(var re=this.clone(),Se=ol(Y)?Y:new x(Y),le=0;le<V.length;le++)re.dimensions[le]=(this.dimensions[le]||0)-(Se.dimensions[le]||0);for(var ye=0;ye<Se.units.length;ye++){var Ee=Y6(Y6({},Se.units[ye]),{},{power:-Se.units[ye].power});re.units.push(Ee)}if(this.value!==null||Se.value!==null){var be=this.value===null?this._normalize(1):this.value,Me=Se.value===null?Se._normalize(1):Se.value;re.value=o(be,Me)}else re.value=null;return ol(Y)&&(re.skipAutomaticSimplification=!1),D(re)},x.prototype.pow=function(Y){for(var re=this.clone(),Se=0;Se<V.length;Se++)re.dimensions[Se]=(this.dimensions[Se]||0)*Y;for(var le=0;le<re.units.length;le++)re.units[le].power*=Y;return re.value!==null?re.value=s(re.value,Y):re.value=null,re.skipAutomaticSimplification=!1,D(re)};function D(Y){return Y.equalBase(B.NONE)&&Y.value!==null&&!n.predictable?Y.value:Y}x.prototype.abs=function(){var Y=this.clone();if(Y.value!==null)if(Y._isDerived()||Y.units[0].unit.offset===0)Y.value=l(Y.value);else{var re=Y._numberConverter(),Se=re(Y.units[0].unit.value),le=re(Y.units[0].unit.offset),ye=a(Se,le);Y.value=i(l(r(Y.value,ye)),ye)}for(var Ee in Y.units)(Y.units[Ee].unit.name==="VA"||Y.units[Ee].unit.name==="VAR")&&(Y.units[Ee].unit=L.W);return Y},x.prototype.to=function(Y){var re=this.value===null?this._normalize(1):this.value,Se;if(typeof Y=="string")Se=x.parse(Y);else if(ol(Y))Se=Y.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(Se))throw new Error("Units do not match ('".concat(Se.toString(),"' != '").concat(this.toString(),"')"));if(Se.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units[0].unit.offset===Se.units[0].unit.offset)Se.value=Zt(re);else{var le=x._getNumberConverter(ur(re)),ye=this.units[0].unit.value,Ee=this.units[0].unit.offset,be=a(ye,Ee),Me=Se.units[0].unit.value,X=Se.units[0].unit.offset,ce=a(Me,X);Se.value=r(re,le(i(be,ce)))}return Se.fixPrefix=!0,Se.skipAutomaticSimplification=!0,Se},x.prototype.toNumber=function(Y){return E(this.toNumeric(Y))},x.prototype.toNumeric=function(Y){var re;return Y?re=this.to(Y):re=this.clone(),re._isDerived()||re.units.length===0?re._denormalize(re.value):re._denormalize(re.value,re.units[0].prefix.value)},x.prototype.toString=function(){return this.format()},x.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},x.fromJSON=function(Y){var re=new x(Y.value,Y.unit);return re.fixPrefix=Y.fixPrefix||!1,re},x.prototype.valueOf=x.prototype.toString,x.prototype.simplify=function(){var Y=this.clone(),re=[],Se;for(var le in ee)if(xt(ee,le)&&Y.hasBase(B[le])){Se=le;break}if(Se==="NONE")Y.units=[];else{var ye;if(Se&&xt(ee,Se)&&(ye=ee[Se]),ye)Y.units=[{unit:ye.unit,prefix:ye.prefix,power:1}];else{for(var Ee=!1,be=0;be<V.length;be++){var Me=V[be];Math.abs(Y.dimensions[be]||0)>1e-12&&(xt(ee,Me)?re.push({unit:ee[Me].unit,prefix:ee[Me].prefix,power:Y.dimensions[be]||0}):Ee=!0)}re.length<Y.units.length&&!Ee&&(Y.units=re)}}return Y},x.prototype.toSI=function(){for(var Y=this.clone(),re=[],Se=0;Se<V.length;Se++){var le=V[Se];if(Math.abs(Y.dimensions[Se]||0)>1e-12)if(xt(Q.si,le))re.push({unit:Q.si[le].unit,prefix:Q.si[le].prefix,power:Y.dimensions[Se]||0});else throw new Error("Cannot express custom unit "+le+" in SI units")}return Y.units=re,Y.fixPrefix=!0,Y.skipAutomaticSimplification=!0,Y},x.prototype.formatUnits=function(){for(var Y="",re="",Se=0,le=0,ye=0;ye<this.units.length;ye++)this.units[ye].power>0?(Se++,Y+=" "+this.units[ye].prefix.name+this.units[ye].unit.name,Math.abs(this.units[ye].power-1)>1e-15&&(Y+="^"+this.units[ye].power)):this.units[ye].power<0&&le++;if(le>0)for(var Ee=0;Ee<this.units.length;Ee++)this.units[Ee].power<0&&(Se>0?(re+=" "+this.units[Ee].prefix.name+this.units[Ee].unit.name,Math.abs(this.units[Ee].power+1)>1e-15&&(re+="^"+-this.units[Ee].power)):(re+=" "+this.units[Ee].prefix.name+this.units[Ee].unit.name,re+="^"+this.units[Ee].power));Y=Y.substr(1),re=re.substr(1),Se>1&&le>0&&(Y="("+Y+")"),le>1&&Se>0&&(re="("+re+")");var be=Y;return Se>0&&le>0&&(be+=" / "),be+=re,be},x.prototype.format=function(Y){var re=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),Se=!1;typeof re.value<"u"&&re.value!==null&&Wc(re.value)&&(Se=Math.abs(re.value.re)<1e-14);for(var le in re.units)xt(re.units,le)&&re.units[le].unit&&(re.units[le].unit.name==="VA"&&Se?re.units[le].unit=L.VAR:re.units[le].unit.name==="VAR"&&!Se&&(re.units[le].unit=L.VA));re.units.length===1&&!re.fixPrefix&&Math.abs(re.units[0].power-Math.round(re.units[0].power))<1e-14&&(re.units[0].prefix=re._bestPrefix());var ye=re._denormalize(re.value),Ee=re.value!==null?h(ye,Y||{}):"",be=re.formatUnits();return re.value&&Wc(re.value)&&(Ee="("+Ee+")"),be.length>0&&Ee.length>0&&(Ee+=" "),Ee+=be,Ee},x.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Y=this.value!==null?l(this.value):0,re=l(this.units[0].unit.value),Se=this.units[0].prefix;if(Y===0)return Se;var le=this.units[0].power,ye=Math.log(Y/Math.pow(Se.value*re,le))/Math.LN10-1.2;if(ye>-2.200001&&ye<1.800001)return Se;ye=Math.abs(ye);var Ee=this.units[0].unit.prefixes;for(var be in Ee)if(xt(Ee,be)){var Me=Ee[be];if(Me.scientific){var X=Math.abs(Math.log(Y/Math.pow(Me.value*re,le))/Math.LN10-1.2);(X<ye||X===ye&&Me.name.length<Se.name.length)&&(Se=Me,ye=X)}}return Se},x.prototype.splitUnit=function(Y){for(var re=this.clone(),Se=[],le=0;le<Y.length&&(re=re.to(Y[le]),le!==Y.length-1);le++){var ye=re.toNumeric(),Ee=c(ye),be=void 0,Me=d(Ee,ye);Me?be=Ee:be=u(re.toNumeric());var X=new x(be,Y[le].toString());Se.push(X),re=i(re,X)}for(var ce=0,ae=0;ae<Se.length;ae++)ce=r(ce,Se[ae].value);return d(ce,this.value)&&(re.value=0),Se.push(re),Se};var P={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};P.SHORTLONG=xi({},P.SHORT,P.LONG),P.BINARY_SHORT=xi({},P.BINARY_SHORT_SI,P.BINARY_SHORT_IEC),P.BINARY_LONG=xi({},P.BINARY_LONG_SI,P.BINARY_LONG_IEC);var V=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],B={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var H in B)xt(B,H)&&(B[H].key=H);var K={},W={name:"",base:K,value:1,offset:0,dimensions:V.map(Y=>0)},L={meter:{name:"meter",base:B.LENGTH,prefixes:P.LONG,value:1,offset:0},inch:{name:"inch",base:B.LENGTH,prefixes:P.NONE,value:.0254,offset:0},foot:{name:"foot",base:B.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yard:{name:"yard",base:B.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mile:{name:"mile",base:B.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},link:{name:"link",base:B.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rod:{name:"rod",base:B.LENGTH,prefixes:P.NONE,value:5.0292,offset:0},chain:{name:"chain",base:B.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:B.LENGTH,prefixes:P.NONE,value:1e-10,offset:0},m:{name:"m",base:B.LENGTH,prefixes:P.SHORT,value:1,offset:0},in:{name:"in",base:B.LENGTH,prefixes:P.NONE,value:.0254,offset:0},ft:{name:"ft",base:B.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yd:{name:"yd",base:B.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mi:{name:"mi",base:B.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},li:{name:"li",base:B.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rd:{name:"rd",base:B.LENGTH,prefixes:P.NONE,value:5.02921,offset:0},ch:{name:"ch",base:B.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},mil:{name:"mil",base:B.LENGTH,prefixes:P.NONE,value:254e-7,offset:0},m2:{name:"m2",base:B.SURFACE,prefixes:P.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:B.SURFACE,prefixes:P.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:B.SURFACE,prefixes:P.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:B.SURFACE,prefixes:P.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:B.SURFACE,prefixes:P.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:B.SURFACE,prefixes:P.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:B.SURFACE,prefixes:P.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:B.SURFACE,prefixes:P.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:B.SURFACE,prefixes:P.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:B.SURFACE,prefixes:P.NONE,value:1e4,offset:0},m3:{name:"m3",base:B.VOLUME,prefixes:P.CUBIC,value:1,offset:0},L:{name:"L",base:B.VOLUME,prefixes:P.SHORT,value:.001,offset:0},l:{name:"l",base:B.VOLUME,prefixes:P.SHORT,value:.001,offset:0},litre:{name:"litre",base:B.VOLUME,prefixes:P.LONG,value:.001,offset:0},cuin:{name:"cuin",base:B.VOLUME,prefixes:P.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:B.VOLUME,prefixes:P.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:B.VOLUME,prefixes:P.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:B.VOLUME,prefixes:P.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:B.VOLUME,prefixes:P.NONE,value:15e-6,offset:0},drop:{name:"drop",base:B.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:B.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},minim:{name:"minim",base:B.VOLUME,prefixes:P.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:B.VOLUME,prefixes:P.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:B.VOLUME,prefixes:P.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:B.VOLUME,prefixes:P.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:B.VOLUME,prefixes:P.NONE,value:1e-6,offset:0},cup:{name:"cup",base:B.VOLUME,prefixes:P.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:B.VOLUME,prefixes:P.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:B.VOLUME,prefixes:P.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:B.VOLUME,prefixes:P.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:B.VOLUME,prefixes:P.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:B.VOLUME,prefixes:P.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:B.VOLUME,prefixes:P.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:B.VOLUME,prefixes:P.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:B.VOLUME,prefixes:P.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:B.VOLUME,prefixes:P.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:B.VOLUME,prefixes:P.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:B.VOLUME,prefixes:P.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:B.VOLUME,prefixes:P.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:B.VOLUME,prefixes:P.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:B.VOLUME,prefixes:P.NONE,value:.1173478,offset:0},obl:{name:"obl",base:B.VOLUME,prefixes:P.NONE,value:.1589873,offset:0},g:{name:"g",base:B.MASS,prefixes:P.SHORT,value:.001,offset:0},gram:{name:"gram",base:B.MASS,prefixes:P.LONG,value:.001,offset:0},ton:{name:"ton",base:B.MASS,prefixes:P.SHORT,value:907.18474,offset:0},t:{name:"t",base:B.MASS,prefixes:P.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:B.MASS,prefixes:P.LONG,value:1e3,offset:0},grain:{name:"grain",base:B.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:B.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:B.MASS,prefixes:P.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:B.MASS,prefixes:P.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:B.MASS,prefixes:P.NONE,value:45.359237,offset:0},stick:{name:"stick",base:B.MASS,prefixes:P.NONE,value:.115,offset:0},stone:{name:"stone",base:B.MASS,prefixes:P.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:B.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:B.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:B.MASS,prefixes:P.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:B.MASS,prefixes:P.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:B.MASS,prefixes:P.NONE,value:45.359237,offset:0},s:{name:"s",base:B.TIME,prefixes:P.SHORT,value:1,offset:0},min:{name:"min",base:B.TIME,prefixes:P.NONE,value:60,offset:0},h:{name:"h",base:B.TIME,prefixes:P.NONE,value:3600,offset:0},second:{name:"second",base:B.TIME,prefixes:P.LONG,value:1,offset:0},sec:{name:"sec",base:B.TIME,prefixes:P.LONG,value:1,offset:0},minute:{name:"minute",base:B.TIME,prefixes:P.NONE,value:60,offset:0},hour:{name:"hour",base:B.TIME,prefixes:P.NONE,value:3600,offset:0},day:{name:"day",base:B.TIME,prefixes:P.NONE,value:86400,offset:0},week:{name:"week",base:B.TIME,prefixes:P.NONE,value:7*86400,offset:0},month:{name:"month",base:B.TIME,prefixes:P.NONE,value:2629800,offset:0},year:{name:"year",base:B.TIME,prefixes:P.NONE,value:31557600,offset:0},decade:{name:"decade",base:B.TIME,prefixes:P.NONE,value:315576e3,offset:0},century:{name:"century",base:B.TIME,prefixes:P.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:B.TIME,prefixes:P.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:B.FREQUENCY,prefixes:P.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:B.FREQUENCY,prefixes:P.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:B.ANGLE,prefixes:P.SHORT,value:1,offset:0},radian:{name:"radian",base:B.ANGLE,prefixes:P.LONG,value:1,offset:0},deg:{name:"deg",base:B.ANGLE,prefixes:P.SHORT,value:null,offset:0},degree:{name:"degree",base:B.ANGLE,prefixes:P.LONG,value:null,offset:0},grad:{name:"grad",base:B.ANGLE,prefixes:P.SHORT,value:null,offset:0},gradian:{name:"gradian",base:B.ANGLE,prefixes:P.LONG,value:null,offset:0},cycle:{name:"cycle",base:B.ANGLE,prefixes:P.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:B.ANGLE,prefixes:P.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:B.ANGLE,prefixes:P.NONE,value:null,offset:0},A:{name:"A",base:B.CURRENT,prefixes:P.SHORT,value:1,offset:0},ampere:{name:"ampere",base:B.CURRENT,prefixes:P.LONG,value:1,offset:0},K:{name:"K",base:B.TEMPERATURE,prefixes:P.SHORT,value:1,offset:0},degC:{name:"degC",base:B.TEMPERATURE,prefixes:P.SHORT,value:1,offset:273.15},degF:{name:"degF",base:B.TEMPERATURE,prefixes:P.SHORT,value:new y(5,9),offset:459.67},degR:{name:"degR",base:B.TEMPERATURE,prefixes:P.SHORT,value:new y(5,9),offset:0},kelvin:{name:"kelvin",base:B.TEMPERATURE,prefixes:P.LONG,value:1,offset:0},celsius:{name:"celsius",base:B.TEMPERATURE,prefixes:P.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:B.TEMPERATURE,prefixes:P.LONG,value:new y(5,9),offset:459.67},rankine:{name:"rankine",base:B.TEMPERATURE,prefixes:P.LONG,value:new y(5,9),offset:0},mol:{name:"mol",base:B.AMOUNT_OF_SUBSTANCE,prefixes:P.SHORT,value:1,offset:0},mole:{name:"mole",base:B.AMOUNT_OF_SUBSTANCE,prefixes:P.LONG,value:1,offset:0},cd:{name:"cd",base:B.LUMINOUS_INTENSITY,prefixes:P.SHORT,value:1,offset:0},candela:{name:"candela",base:B.LUMINOUS_INTENSITY,prefixes:P.LONG,value:1,offset:0},N:{name:"N",base:B.FORCE,prefixes:P.SHORT,value:1,offset:0},newton:{name:"newton",base:B.FORCE,prefixes:P.LONG,value:1,offset:0},dyn:{name:"dyn",base:B.FORCE,prefixes:P.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:B.FORCE,prefixes:P.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:B.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:B.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:B.FORCE,prefixes:P.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:B.FORCE,prefixes:P.NONE,value:9.80665,offset:0},J:{name:"J",base:B.ENERGY,prefixes:P.SHORT,value:1,offset:0},joule:{name:"joule",base:B.ENERGY,prefixes:P.LONG,value:1,offset:0},erg:{name:"erg",base:B.ENERGY,prefixes:P.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:B.ENERGY,prefixes:P.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:B.ENERGY,prefixes:P.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:B.ENERGY,prefixes:P.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:B.ENERGY,prefixes:P.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:B.POWER,prefixes:P.SHORT,value:1,offset:0},watt:{name:"watt",base:B.POWER,prefixes:P.LONG,value:1,offset:0},hp:{name:"hp",base:B.POWER,prefixes:P.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:B.POWER,prefixes:P.SHORT,value:g.I,offset:0},VA:{name:"VA",base:B.POWER,prefixes:P.SHORT,value:1,offset:0},Pa:{name:"Pa",base:B.PRESSURE,prefixes:P.SHORT,value:1,offset:0},psi:{name:"psi",base:B.PRESSURE,prefixes:P.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:B.PRESSURE,prefixes:P.NONE,value:101325,offset:0},bar:{name:"bar",base:B.PRESSURE,prefixes:P.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:B.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:B.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:B.PRESSURE,prefixes:P.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:B.PRESSURE,prefixes:P.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:B.ELECTRIC_CHARGE,prefixes:P.LONG,value:1,offset:0},C:{name:"C",base:B.ELECTRIC_CHARGE,prefixes:P.SHORT,value:1,offset:0},farad:{name:"farad",base:B.ELECTRIC_CAPACITANCE,prefixes:P.LONG,value:1,offset:0},F:{name:"F",base:B.ELECTRIC_CAPACITANCE,prefixes:P.SHORT,value:1,offset:0},volt:{name:"volt",base:B.ELECTRIC_POTENTIAL,prefixes:P.LONG,value:1,offset:0},V:{name:"V",base:B.ELECTRIC_POTENTIAL,prefixes:P.SHORT,value:1,offset:0},ohm:{name:"ohm",base:B.ELECTRIC_RESISTANCE,prefixes:P.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:B.ELECTRIC_INDUCTANCE,prefixes:P.LONG,value:1,offset:0},H:{name:"H",base:B.ELECTRIC_INDUCTANCE,prefixes:P.SHORT,value:1,offset:0},siemens:{name:"siemens",base:B.ELECTRIC_CONDUCTANCE,prefixes:P.LONG,value:1,offset:0},S:{name:"S",base:B.ELECTRIC_CONDUCTANCE,prefixes:P.SHORT,value:1,offset:0},weber:{name:"weber",base:B.MAGNETIC_FLUX,prefixes:P.LONG,value:1,offset:0},Wb:{name:"Wb",base:B.MAGNETIC_FLUX,prefixes:P.SHORT,value:1,offset:0},tesla:{name:"tesla",base:B.MAGNETIC_FLUX_DENSITY,prefixes:P.LONG,value:1,offset:0},T:{name:"T",base:B.MAGNETIC_FLUX_DENSITY,prefixes:P.SHORT,value:1,offset:0},b:{name:"b",base:B.BIT,prefixes:P.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:B.BIT,prefixes:P.BINARY_LONG,value:1,offset:0},B:{name:"B",base:B.BIT,prefixes:P.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:B.BIT,prefixes:P.BINARY_LONG,value:8,offset:0}},G={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function de(Y){if(Y.number==="BigNumber"){var re=WI(S);L.rad.value=new S(1),L.deg.value=re.div(180),L.grad.value=re.div(200),L.cycle.value=re.times(2),L.arcsec.value=re.div(648e3),L.arcmin.value=re.div(10800)}else L.rad.value=1,L.deg.value=Math.PI/180,L.grad.value=Math.PI/200,L.cycle.value=Math.PI*2,L.arcsec.value=Math.PI/648e3,L.arcmin.value=Math.PI/10800;L.radian.value=L.rad.value,L.degree.value=L.deg.value,L.gradian.value=L.grad.value}de(n),t&&t("config",function(Y,re){Y.number!==re.number&&de(Y)});var Q={si:{NONE:{unit:W,prefix:P.NONE[""]},LENGTH:{unit:L.m,prefix:P.SHORT[""]},MASS:{unit:L.g,prefix:P.SHORT.k},TIME:{unit:L.s,prefix:P.SHORT[""]},CURRENT:{unit:L.A,prefix:P.SHORT[""]},TEMPERATURE:{unit:L.K,prefix:P.SHORT[""]},LUMINOUS_INTENSITY:{unit:L.cd,prefix:P.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:L.mol,prefix:P.SHORT[""]},ANGLE:{unit:L.rad,prefix:P.SHORT[""]},BIT:{unit:L.bits,prefix:P.SHORT[""]},FORCE:{unit:L.N,prefix:P.SHORT[""]},ENERGY:{unit:L.J,prefix:P.SHORT[""]},POWER:{unit:L.W,prefix:P.SHORT[""]},PRESSURE:{unit:L.Pa,prefix:P.SHORT[""]},ELECTRIC_CHARGE:{unit:L.C,prefix:P.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:L.F,prefix:P.SHORT[""]},ELECTRIC_POTENTIAL:{unit:L.V,prefix:P.SHORT[""]},ELECTRIC_RESISTANCE:{unit:L.ohm,prefix:P.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:L.H,prefix:P.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:L.S,prefix:P.SHORT[""]},MAGNETIC_FLUX:{unit:L.Wb,prefix:P.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:L.T,prefix:P.SHORT[""]},FREQUENCY:{unit:L.Hz,prefix:P.SHORT[""]}}};Q.cgs=JSON.parse(JSON.stringify(Q.si)),Q.cgs.LENGTH={unit:L.m,prefix:P.SHORT.c},Q.cgs.MASS={unit:L.g,prefix:P.SHORT[""]},Q.cgs.FORCE={unit:L.dyn,prefix:P.SHORT[""]},Q.cgs.ENERGY={unit:L.erg,prefix:P.NONE[""]},Q.us=JSON.parse(JSON.stringify(Q.si)),Q.us.LENGTH={unit:L.ft,prefix:P.NONE[""]},Q.us.MASS={unit:L.lbm,prefix:P.NONE[""]},Q.us.TEMPERATURE={unit:L.degF,prefix:P.NONE[""]},Q.us.FORCE={unit:L.lbf,prefix:P.NONE[""]},Q.us.ENERGY={unit:L.BTU,prefix:P.BTU[""]},Q.us.POWER={unit:L.hp,prefix:P.NONE[""]},Q.us.PRESSURE={unit:L.psi,prefix:P.NONE[""]},Q.auto=JSON.parse(JSON.stringify(Q.si));var ee=Q.auto;x.setUnitSystem=function(Y){if(xt(Q,Y))ee=Q[Y];else throw new Error("Unit system "+Y+" does not exist. Choices are: "+Object.keys(Q).join(", "))},x.getUnitSystem=function(){for(var Y in Q)if(xt(Q,Y)&&Q[Y]===ee)return Y},x.typeConverters={BigNumber:function(re){return re!=null&&re.isFraction?new S(re.n).div(re.d).times(re.s):new S(re+"")},Fraction:function(re){return new y(re)},Complex:function(re){return re},number:function(re){return re!=null&&re.isFraction?m(re):re}},x.prototype._numberConverter=function(){var Y=x.typeConverters[this.valueType()];if(Y)return Y;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},x._getNumberConverter=function(Y){if(!x.typeConverters[Y])throw new TypeError('Unsupported type "'+Y+'"');return x.typeConverters[Y]};for(var ne in L)if(xt(L,ne)){var se=L[ne];se.dimensions=se.base.dimensions}for(var ge in G)if(xt(G,ge)){var xe=L[G[ge]],we={};for(var _e in xe)xt(xe,_e)&&(we[_e]=xe[_e]);we.name=ge,L[ge]=we}x.isValidAlpha=function(re){return/^[a-zA-Z]$/.test(re)};function ze(Y){for(var re=0;re<Y.length;re++){if(b=Y.charAt(re),re===0&&!x.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+Y+'"');if(re>0&&!(x.isValidAlpha(b)||T(b)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+Y+'"')}}return x.createUnit=function(Y,re){if(typeof Y!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(re&&re.override){for(var Se in Y)if(xt(Y,Se)&&x.deleteUnit(Se),Y[Se].aliases)for(var le=0;le<Y[Se].aliases.length;le++)x.deleteUnit(Y[Se].aliases[le])}var ye;for(var Ee in Y)xt(Y,Ee)&&(ye=x.createUnitSingle(Ee,Y[Ee]));return ye},x.createUnitSingle=function(Y,re){if((typeof re>"u"||re===null)&&(re={}),typeof Y!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(xt(L,Y))throw new Error('Cannot create unit "'+Y+'": a unit with that name already exists');ze(Y);var Se=null,le=[],ye=0,Ee,be,Me;if(re&&re.type==="Unit")Se=re.clone();else if(typeof re=="string")re!==""&&(Ee=re);else if(typeof re=="object")Ee=re.definition,be=re.prefixes,ye=re.offset,Me=re.baseName,re.aliases&&(le=re.aliases.valueOf());else throw new TypeError('Cannot create unit "'+Y+'" from "'+re.toString()+'": expecting "string" or "Unit" or "Object"');if(le){for(var X=0;X<le.length;X++)if(xt(L,le[X]))throw new Error('Cannot create alias "'+le[X]+'": a unit with that name already exists')}if(Ee&&typeof Ee=="string"&&!Se)try{Se=x.parse(Ee,{allowNoUnits:!0})}catch(U){throw U.message='Could not create unit "'+Y+'" from "'+Ee+'": '+U.message,U}else Ee&&Ee.type==="Unit"&&(Se=Ee.clone());le=le||[],ye=ye||0,be&&be.toUpperCase?be=P[be.toUpperCase()]||P.NONE:be=P.NONE;var ce={};if(Se){ce={name:Y,value:Se.value,dimensions:Se.dimensions.slice(0),prefixes:be,offset:ye};var Oe=!1;for(var Ve in B)if(xt(B,Ve)){for(var qe=!0,Je=0;Je<V.length;Je++)if(Math.abs((ce.dimensions[Je]||0)-(B[Ve].dimensions[Je]||0))>1e-12){qe=!1;break}if(qe){Oe=!0,ce.base=B[Ve];break}}if(!Oe){Me=Me||Y+"_STUFF";var We={dimensions:Se.dimensions.slice(0)};We.key=Me,B[Me]=We,ee[Me]={unit:ce,prefix:P.NONE[""]},ce.base=B[Me]}}else{if(Me=Me||Y+"_STUFF",V.indexOf(Me)>=0)throw new Error('Cannot create new base unit "'+Y+'": a base unit with that name already exists (and cannot be overridden)');V.push(Me);for(var ae in B)xt(B,ae)&&(B[ae].dimensions[V.length-1]=0);for(var Ce={dimensions:[]},Ie=0;Ie<V.length;Ie++)Ce.dimensions[Ie]=0;Ce.dimensions[V.length-1]=1,Ce.key=Me,B[Me]=Ce,ce={name:Y,value:1,dimensions:B[Me].dimensions.slice(0),prefixes:be,offset:ye,base:B[Me]},ee[Me]={unit:ce,prefix:P.NONE[""]}}x.UNITS[Y]=ce;for(var Nt=0;Nt<le.length;Nt++){var Pe=le[Nt],te={};for(var he in ce)xt(ce,he)&&(te[he]=ce[he]);te.name=Pe,x.UNITS[Pe]=te}return delete z.cache,new x(null,Y)},x.deleteUnit=function(Y){delete x.UNITS[Y]},x.PREFIXES=P,x.BASE_DIMENSIONS=V,x.BASE_UNITS=B,x.UNIT_SYSTEMS=Q,x.UNITS=L,x},{isClass:!0}),hW="unit",Yct=["typed","Unit"],Jct=ue(hW,Yct,e=>{var{typed:t,Unit:n}=e;return t(hW,{Unit:function(i){return i.clone()},string:function(i){return n.isValuelessUnit(i)?new n(null,i):n.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new n(i,a)},"number | BigNumber | Fraction":function(i){return new n(i)},"Array | Matrix":t.referToSelf(r=>i=>vn(i,r))})}),pW="sparse",Qct=["typed","SparseMatrix"],Xct=ue(pW,Qct,e=>{var{typed:t,SparseMatrix:n}=e;return t(pW,{"":function(){return new n([])},string:function(i){return new n([],i)},"Array | Matrix":function(i){return new n(i)},"Array | Matrix, string":function(i,a){return new n(i,a)}})}),mW="createUnit",Zct=["typed","Unit"],edt=ue(mW,Zct,e=>{var{typed:t,Unit:n}=e;return t(mW,{"Object, Object":function(i,a){return n.createUnit(i,a)},Object:function(i){return n.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var s={};return s[i]=a,n.createUnit(s,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,n.createUnit(o,{})},string:function(i){var a={};return a[i]={},n.createUnit(a,{})}})}),gW="acos",tdt=["typed","config","Complex"],ndt=ue(gW,tdt,e=>{var{typed:t,config:n,Complex:r}=e;return t(gW,{number:function(a){return a>=-1&&a<=1||n.predictable?Math.acos(a):new r(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})}),vW="acosh",rdt=["typed","config","Complex"],idt=ue(vW,rdt,e=>{var{typed:t,config:n,Complex:r}=e;return t(vW,{number:function(a){return a>=1||n.predictable?xue(a):a<=-1?new r(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new r(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})}),yW="acot",adt=["typed","BigNumber"],odt=ue(yW,adt,e=>{var{typed:t,BigNumber:n}=e;return t(yW,{number:Sue,Complex:function(i){return i.acot()},BigNumber:function(i){return new n(1).div(i).atan()}})}),bW="acoth",sdt=["typed","config","Complex","BigNumber"],ldt=ue(bW,sdt,e=>{var{typed:t,config:n,Complex:r,BigNumber:i}=e;return t(bW,{number:function(o){return o>=1||o<=-1||n.predictable?Cue(o):new r(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})}),wW="acsc",udt=["typed","config","Complex","BigNumber"],cdt=ue(wW,udt,e=>{var{typed:t,config:n,Complex:r,BigNumber:i}=e;return t(wW,{number:function(o){return o<=-1||o>=1||n.predictable?Eue(o):new r(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})}),xW="acsch",ddt=["typed","BigNumber"],fdt=ue(xW,ddt,e=>{var{typed:t,BigNumber:n}=e;return t(xW,{number:kue,Complex:function(i){return i.acsch()},BigNumber:function(i){return new n(1).div(i).asinh()}})}),SW="asec",hdt=["typed","config","Complex","BigNumber"],pdt=ue(SW,hdt,e=>{var{typed:t,config:n,Complex:r,BigNumber:i}=e;return t(SW,{number:function(o){return o<=-1||o>=1||n.predictable?Aue(o):new r(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})}),CW="asech",mdt=["typed","config","Complex","BigNumber"],gdt=ue(CW,mdt,e=>{var{typed:t,config:n,Complex:r,BigNumber:i}=e;return t(CW,{number:function(o){if(o<=1&&o>=-1||n.predictable){var s=1/o;if(s>0||n.predictable)return _ue(o);var l=Math.sqrt(s*s-1);return new r(Math.log(l-s),Math.PI)}return new r(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})}),EW="asin",vdt=["typed","config","Complex"],ydt=ue(EW,vdt,e=>{var{typed:t,config:n,Complex:r}=e;return t(EW,{number:function(a){return a>=-1&&a<=1||n.predictable?Math.asin(a):new r(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})}),bdt="asinh",wdt=["typed"],xdt=ue(bdt,wdt,e=>{var{typed:t}=e;return t("asinh",{number:Mue,Complex:function(r){return r.asinh()},BigNumber:function(r){return r.asinh()}})}),Sdt="atan",Cdt=["typed"],Edt=ue(Sdt,Cdt,e=>{var{typed:t}=e;return t("atan",{number:function(r){return Math.atan(r)},Complex:function(r){return r.atan()},BigNumber:function(r){return r.atan()}})}),kW="atan2",kdt=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],Adt=ue(kW,kdt,e=>{var{typed:t,matrix:n,equalScalar:r,BigNumber:i,DenseMatrix:a,concat:o}=e,s=vu({typed:t,equalScalar:r}),l=Oo({typed:t}),u=Vue({typed:t,equalScalar:r}),c=_a({typed:t,equalScalar:r}),d=Hi({typed:t,DenseMatrix:a}),f=gr({typed:t,matrix:n,concat:o});return t(kW,{"number, number":Math.atan2,"BigNumber, BigNumber":(h,m)=>i.atan2(h,m)},f({scalar:"number | BigNumber",SS:u,DS:l,SD:s,Ss:c,sS:d}))}),AW="atanh",_dt=["typed","config","Complex"],Mdt=ue(AW,_dt,e=>{var{typed:t,config:n,Complex:r}=e;return t(AW,{number:function(a){return a<=1&&a>=-1||n.predictable?Tue(a):new r(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})}),ev=ue("trigUnit",["typed"],e=>{var{typed:t}=e;return{Unit:t.referToSelf(n=>r=>{if(!r.hasBase(r.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return t.find(n,r.valueType())(r.value)})}}),_W="cos",Tdt=["typed"],Ndt=ue(_W,Tdt,e=>{var{typed:t}=e,n=ev({typed:t});return t(_W,{number:Math.cos,"Complex | BigNumber":r=>r.cos()},n)}),MW="cosh",Ddt=["typed"],Rdt=ue(MW,Ddt,e=>{var{typed:t}=e;return t(MW,{number:Ent,"Complex | BigNumber":n=>n.cosh()})}),TW="cot",Idt=["typed","BigNumber"],Odt=ue(TW,Idt,e=>{var{typed:t,BigNumber:n}=e,r=ev({typed:t});return t(TW,{number:Nue,Complex:i=>i.cot(),BigNumber:i=>new n(1).div(i.tan())},r)}),NW="coth",Pdt=["typed","BigNumber"],jdt=ue(NW,Pdt,e=>{var{typed:t,BigNumber:n}=e;return t(NW,{number:Due,Complex:r=>r.coth(),BigNumber:r=>new n(1).div(r.tanh())})}),DW="csc",Ldt=["typed","BigNumber"],Fdt=ue(DW,Ldt,e=>{var{typed:t,BigNumber:n}=e,r=ev({typed:t});return t(DW,{number:Rue,Complex:i=>i.csc(),BigNumber:i=>new n(1).div(i.sin())},r)}),RW="csch",Bdt=["typed","BigNumber"],zdt=ue(RW,Bdt,e=>{var{typed:t,BigNumber:n}=e;return t(RW,{number:Iue,Complex:r=>r.csch(),BigNumber:r=>new n(1).div(r.sinh())})}),IW="sec",$dt=["typed","BigNumber"],Udt=ue(IW,$dt,e=>{var{typed:t,BigNumber:n}=e,r=ev({typed:t});return t(IW,{number:Oue,Complex:i=>i.sec(),BigNumber:i=>new n(1).div(i.cos())},r)}),OW="sech",Vdt=["typed","BigNumber"],Hdt=ue(OW,Vdt,e=>{var{typed:t,BigNumber:n}=e;return t(OW,{number:Pue,Complex:r=>r.sech(),BigNumber:r=>new n(1).div(r.cosh())})}),PW="sin",qdt=["typed"],Wdt=ue(PW,qdt,e=>{var{typed:t}=e,n=ev({typed:t});return t(PW,{number:Math.sin,"Complex | BigNumber":r=>r.sin()},n)}),jW="sinh",Gdt=["typed"],Kdt=ue(jW,Gdt,e=>{var{typed:t}=e;return t(jW,{number:jue,"Complex | BigNumber":n=>n.sinh()})}),LW="tan",Ydt=["typed"],Jdt=ue(LW,Ydt,e=>{var{typed:t}=e,n=ev({typed:t});return t(LW,{number:Math.tan,"Complex | BigNumber":r=>r.tan()},n)}),Qdt="tanh",Xdt=["typed"],Zdt=ue(Qdt,Xdt,e=>{var{typed:t}=e;return t("tanh",{number:Ant,"Complex | BigNumber":n=>n.tanh()})}),FW="setCartesian",eft=["typed","size","subset","compareNatural","Index","DenseMatrix"],tft=ue(FW,eft,e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(FW,{"Array | Matrix, Array | Matrix":function(l,u){var c=[];if(r(n(l),new a(0))!==0&&r(n(u),new a(0))!==0){var d=jn(Array.isArray(l)?l:l.toArray()).sort(i),f=jn(Array.isArray(u)?u:u.toArray()).sort(i);c=[];for(var h=0;h<d.length;h++)for(var m=0;m<f.length;m++)c.push([d[h],f[m]])}return Array.isArray(l)&&Array.isArray(u)?c:new o(c)}})}),BW="setDifference",nft=["typed","size","subset","compareNatural","Index","DenseMatrix"],rft=ue(BW,nft,e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(BW,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(r(n(l),new a(0))===0)c=[];else{if(r(n(u),new a(0))===0)return jn(l.toArray());var d=o1(jn(Array.isArray(l)?l:l.toArray()).sort(i)),f=o1(jn(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var h,m=0;m<d.length;m++){h=!1;for(var g=0;g<f.length;g++)if(i(d[m].value,f[g].value)===0&&d[m].identifier===f[g].identifier){h=!0;break}h||c.push(d[m])}}return Array.isArray(l)&&Array.isArray(u)?X5(c):new o(X5(c))}})}),zW="setDistinct",ift=["typed","size","subset","compareNatural","Index","DenseMatrix"],aft=ue(zW,ift,e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(zW,{"Array | Matrix":function(l){var u;if(r(n(l),new a(0))===0)u=[];else{var c=jn(Array.isArray(l)?l:l.toArray()).sort(i);u=[],u.push(c[0]);for(var d=1;d<c.length;d++)i(c[d],c[d-1])!==0&&u.push(c[d])}return Array.isArray(l)?u:new o(u)}})}),$W="setIntersect",oft=["typed","size","subset","compareNatural","Index","DenseMatrix"],sft=ue($W,oft,e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=e;return t($W,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(r(n(l),new a(0))===0||r(n(u),new a(0))===0)c=[];else{var d=o1(jn(Array.isArray(l)?l:l.toArray()).sort(i)),f=o1(jn(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var h=0;h<d.length;h++)for(var m=0;m<f.length;m++)if(i(d[h].value,f[m].value)===0&&d[h].identifier===f[m].identifier){c.push(d[h]);break}}return Array.isArray(l)&&Array.isArray(u)?X5(c):new o(X5(c))}})}),UW="setIsSubset",lft=["typed","size","subset","compareNatural","Index"],uft=ue(UW,lft,e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a}=e;return t(UW,{"Array | Matrix, Array | Matrix":function(s,l){if(r(n(s),new a(0))===0)return!0;if(r(n(l),new a(0))===0)return!1;for(var u=o1(jn(Array.isArray(s)?s:s.toArray()).sort(i)),c=o1(jn(Array.isArray(l)?l:l.toArray()).sort(i)),d,f=0;f<u.length;f++){d=!1;for(var h=0;h<c.length;h++)if(i(u[f].value,c[h].value)===0&&u[f].identifier===c[h].identifier){d=!0;break}if(d===!1)return!1}return!0}})}),VW="setMultiplicity",cft=["typed","size","subset","compareNatural","Index"],dft=ue(VW,cft,e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a}=e;return t(VW,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(s,l){if(r(n(l),new a(0))===0)return 0;for(var u=jn(Array.isArray(l)?l:l.toArray()),c=0,d=0;d<u.length;d++)i(u[d],s)===0&&c++;return c}})}),HW="setPowerset",fft=["typed","size","subset","compareNatural","Index"],hft=ue(HW,fft,e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a}=e;return t(HW,{"Array | Matrix":function(u){if(r(n(u),new a(0))===0)return[];for(var c=jn(Array.isArray(u)?u:u.toArray()).sort(i),d=[],f=0;f.toString(2).length<=c.length;)d.push(o(c,f.toString(2).split("").reverse())),f++;return s(d)}});function o(l,u){for(var c=[],d=0;d<u.length;d++)u[d]==="1"&&c.push(l[d]);return c}function s(l){for(var u=[],c=l.length-1;c>0;c--)for(var d=0;d<c;d++)l[d].length>l[d+1].length&&(u=l[d],l[d]=l[d+1],l[d+1]=u);return l}}),qW="setSize",pft=["typed","compareNatural"],mft=ue(qW,pft,e=>{var{typed:t,compareNatural:n}=e;return t(qW,{"Array | Matrix":function(i){return Array.isArray(i)?jn(i).length:jn(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?jn(i).length:jn(i.toArray()).length;for(var o=jn(Array.isArray(i)?i:i.toArray()).sort(n),s=1,l=1;l<o.length;l++)n(o[l],o[l-1])!==0&&s++;return s}})}),WW="setSymDifference",gft=["typed","size","concat","subset","setDifference","Index"],vft=ue(WW,gft,e=>{var{typed:t,size:n,concat:r,subset:i,setDifference:a,Index:o}=e;return t(WW,{"Array | Matrix, Array | Matrix":function(l,u){if(i(n(l),new o(0))===0)return jn(u);if(i(n(u),new o(0))===0)return jn(l);var c=jn(l),d=jn(u);return r(a(c,d),a(d,c))}})}),GW="setUnion",yft=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],bft=ue(GW,yft,e=>{var{typed:t,size:n,concat:r,subset:i,setIntersect:a,setSymDifference:o,Index:s}=e;return t(GW,{"Array | Matrix, Array | Matrix":function(u,c){if(i(n(u),new s(0))===0)return jn(c);if(i(n(c),new s(0))===0)return jn(u);var d=jn(u),f=jn(c);return r(o(d,f),a(d,f))}})}),KW="add",wft=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],xft=ue(KW,wft,e=>{var{typed:t,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:s}=e,l=Eh({typed:t}),u=$I({typed:t,equalScalar:i}),c=Sm({typed:t,DenseMatrix:a}),d=gr({typed:t,matrix:n,concat:s});return t(KW,{"any, any":r,"any, any, ...any":t.referToSelf(f=>(h,m,g)=>{for(var S=f(h,m),y=0;y<g.length;y++)S=f(S,g[y]);return S})},d({elop:r,DS:l,SS:u,Ss:c}))}),YW="hypot",Sft=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],Cft=ue(YW,Sft,e=>{var{typed:t,abs:n,addScalar:r,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:s,isPositive:l}=e;return t(YW,{"... number | BigNumber":u,Array:u,Matrix:c=>u(jn(c.toArray()))});function u(c){for(var d=0,f=0,h=0;h<c.length;h++){if(Wc(c[h]))throw new TypeError("Unexpected type of argument to hypot");var m=n(c[h]);s(f,m)?(d=a(d,a(i(f,m),i(f,m))),d=r(d,1),f=m):d=r(d,l(m)?a(i(m,f),i(m,f)):m)}return a(f,o(d))}}),JW="norm",Eft=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],kft=ue(JW,Eft,e=>{var{typed:t,abs:n,add:r,pow:i,conj:a,sqrt:o,multiply:s,equalScalar:l,larger:u,smaller:c,matrix:d,ctranspose:f,eigs:h}=e;return t(JW,{number:Math.abs,Complex:function(_){return _.abs()},BigNumber:function(_){return _.abs()},boolean:function(_){return Math.abs(_)},Array:function(_){return b(d(_),2)},Matrix:function(_){return b(_,2)},"Array, number | BigNumber | string":function(_,T){return b(d(_),T)},"Matrix, number | BigNumber | string":function(_,T){return b(_,T)}});function m(A){var _=0;return A.forEach(function(T){var M=n(T);u(M,_)&&(_=M)},!0),_}function g(A){var _;return A.forEach(function(T){var M=n(T);(!_||c(M,_))&&(_=M)},!0),_||0}function S(A,_){if(_===Number.POSITIVE_INFINITY||_==="inf")return m(A);if(_===Number.NEGATIVE_INFINITY||_==="-inf")return g(A);if(_==="fro")return b(A,2);if(typeof _=="number"&&!isNaN(_)){if(!l(_,0)){var T=0;return A.forEach(function(M){T=r(i(n(M),_),T)},!0),i(T,1/_)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function y(A){var _=0;return A.forEach(function(T,M){_=r(_,s(T,a(T)))}),n(o(_))}function E(A){var _=[],T=0;return A.forEach(function(M,N){var I=N[1],F=r(_[I]||0,n(M));u(F,T)&&(T=F),_[I]=F},!0),T}function x(A){var _=A.size();if(_[0]!==_[1])throw new RangeError("Invalid matrix dimensions");var T=f(A),M=s(T,A),N=h(M).values.toArray(),I=N[N.length-1];return n(o(I))}function v(A){var _=[],T=0;return A.forEach(function(M,N){var I=N[0],F=r(_[I]||0,n(M));u(F,T)&&(T=F),_[I]=F},!0),T}function C(A,_){if(_===1)return E(A);if(_===Number.POSITIVE_INFINITY||_==="inf")return v(A);if(_==="fro")return y(A);if(_===2)return x(A);throw new Error("Unsupported parameter value "+_)}function b(A,_){var T=A.size();if(T.length===1)return S(A,_);if(T.length===2){if(T[0]&&T[1])return C(A,_);throw new RangeError("Invalid matrix dimensions")}}}),QW="dot",Aft=["typed","addScalar","multiplyScalar","conj","size"],_ft=ue(QW,Aft,e=>{var{typed:t,addScalar:n,multiplyScalar:r,conj:i,size:a}=e;return t(QW,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":l});function o(c,d){var f=u(c),h=u(d),m,g;if(f.length===1)m=f[0];else if(f.length===2&&f[1]===1)m=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(h.length===1)g=h[0];else if(h.length===2&&h[1]===1)g=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(m!==g)throw new RangeError("Vectors must have equal length ("+m+" != "+g+")");if(m===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return m}function s(c,d){var f=o(c,d),h=Ft(c)?c._data:c,m=Ft(c)?c._datatype:void 0,g=Ft(d)?d._data:d,S=Ft(d)?d._datatype:void 0,y=u(c).length===2,E=u(d).length===2,x=n,v=r;if(m&&S&&m===S&&typeof m=="string"){var C=m;x=t.find(n,[C,C]),v=t.find(r,[C,C])}if(!y&&!E){for(var b=v(i(h[0]),g[0]),A=1;A<f;A++)b=x(b,v(i(h[A]),g[A]));return b}if(!y&&E){for(var _=v(i(h[0]),g[0][0]),T=1;T<f;T++)_=x(_,v(i(h[T]),g[T][0]));return _}if(y&&!E){for(var M=v(i(h[0][0]),g[0]),N=1;N<f;N++)M=x(M,v(i(h[N][0]),g[N]));return M}if(y&&E){for(var I=v(i(h[0][0]),g[0][0]),F=1;F<f;F++)I=x(I,v(i(h[F][0]),g[F][0]));return I}}function l(c,d){o(c,d);for(var f=c._index,h=c._values,m=d._index,g=d._values,S=0,y=n,E=r,x=0,v=0;x<f.length&&v<m.length;){var C=f[x],b=m[v];if(C<b){x++;continue}if(C>b){v++;continue}C===b&&(S=y(S,E(h[x],g[v])),x++,v++)}return S}function u(c){return Ft(c)?c.size():a(c)}}),Mft="trace",Tft=["typed","matrix","add"],Nft=ue(Mft,Tft,e=>{var{typed:t,matrix:n,add:r}=e;return t("trace",{Array:function(s){return i(n(s))},SparseMatrix:a,DenseMatrix:i,any:Zt});function i(o){var s=o._size,l=o._data;switch(s.length){case 1:if(s[0]===1)return Zt(l[0]);throw new RangeError("Matrix must be square (size: "+cn(s)+")");case 2:{var u=s[0],c=s[1];if(u===c){for(var d=0,f=0;f<u;f++)d=r(d,l[f][f]);return d}else throw new RangeError("Matrix must be square (size: "+cn(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+cn(s)+")")}}function a(o){var s=o._values,l=o._index,u=o._ptr,c=o._size,d=c[0],f=c[1];if(d===f){var h=0;if(s.length>0)for(var m=0;m<f;m++)for(var g=u[m],S=u[m+1],y=g;y<S;y++){var E=l[y];if(E===m){h=r(h,s[y]);break}if(E>m)break}return h}throw new RangeError("Matrix must be square (size: "+cn(c)+")")}}),XW="index",Dft=["typed","Index"],Rft=ue(XW,Dft,e=>{var{typed:t,Index:n}=e;return t(XW,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(s){return Sn(s)?s.toNumber():Vn(s)||Ft(s)?s.map(function(l){return Sn(l)?l.toNumber():l}):s}),o=new n;return n.apply(o,a),o}})}),nce=new Set(["end"]),Ift="Node",Oft=["mathWithTransform"],Pft=ue(Ift,Oft,e=>{var{mathWithTransform:t}=e;function n(i){for(var a of[...nce])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class r{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(t,{}),o={},s=null;function l(u){var c=S0(u);return n(c),a(c,o,s)}return{evaluate:l}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!rr(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(s,l){s.forEach(function(u,c,d){l(u,c,d),o(u,l)})}o(this,a)}transform(a){function o(s,l,u){var c=a(s,l,u);return c!==s?c:s.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(s,l,u){a(s,l,u)&&o.push(s)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&sm(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toString(a)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o<"u"?o:this.toHTML(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return r},{isClass:!0,isNode:!0});function Po(e){return e&&e.isIndexError?new pu(e.index+1,e.min+1,e.max!==void 0?e.max+1:void 0):e}function rce(e){var{subset:t}=e;return function(r,i){try{if(Array.isArray(r))return t(r,i);if(r&&typeof r.subset=="function")return r.subset(i);if(typeof r=="string")return t(r,i);if(typeof r=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return bo(r,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Po(a)}}}var e3="AccessorNode",jft=["subset","Node"],Lft=ue(e3,jft,e=>{var{subset:t,Node:n}=e,r=rce({subset:t});function i(o){return!(om(o)||tl(o)||Pn(o)||Xf(o)||GE(o)||sd(o)||Ji(o))}class a extends n{constructor(s,l){if(super(),!rr(s))throw new TypeError('Node expected for parameter "object"');if(!K1(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=s,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return e3}get isAccessorNode(){return!0}_compile(s,l){var u=this.object._compile(s,l),c=this.index._compile(s,l);if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(h,m,g){return bo(u(h,m,g),d)}}else return function(h,m,g){var S=u(h,m,g),y=c(h,m,S);return r(S,y)}}forEach(s){s(this.object,"object",this),s(this.index,"index",this)}map(s){return new a(this._ifNode(s(this.object,"object",this)),this._ifNode(s(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(s){var l=this.object.toString(s);return i(this.object)&&(l="("+l+")"),l+this.index.toString(s)}toHTML(s){var l=this.object.toHTML(s);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(s)}_toTex(s){var l=this.object.toTex(s);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(s)}toJSON(){return{mathjs:e3,object:this.object,index:this.index}}static fromJSON(s){return new a(s.object,s.index)}}return Vi(a,"name",e3),a},{isClass:!0,isNode:!0}),t3="ArrayNode",Fft=["Node"],Bft=ue(t3,Fft,e=>{var{Node:t}=e;class n extends t{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(rr))throw new TypeError("Array containing Nodes expected")}get type(){return t3}get isArrayNode(){return!0}_compile(i,a){var o=Gc(this.items,function(u){return u._compile(i,a)}),s=i.config.matrix!=="Array";if(s){var l=i.matrix;return function(c,d,f){return l(Gc(o,function(h){return h(c,d,f)}))}}else return function(c,d,f){return Gc(o,function(h){return h(c,d,f)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new n(a)}clone(){return new n(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:t3,items:this.items}}static fromJSON(i){return new n(i.items)}toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,s){var l=o.some(tl)&&!o.every(tl),u=s||l,c=u?"&":"\\\\",d=o.map(function(f){return f.items?a(f.items,!s):f.toTex(i)}).join(c);return l||!u||u&&!s?"\\begin{bmatrix}"+d+"\\end{bmatrix}":d}return a(this.items,!1)}}return Vi(n,"name",t3),n},{isClass:!0,isNode:!0});function zft(e){var{subset:t,matrix:n}=e;return function(i,a,o){try{if(Array.isArray(i)){var s=n(i).subset(a,o).valueOf();return s.forEach((l,u)=>{i[u]=l}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return t(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return s1(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw Po(l)}}}var Kl=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function n3(e,t){if(!t||t!=="auto")return e;for(var n=e;sd(n);)n=n.content;return n}function lr(e,t,n,r){var i=e;t!=="keep"&&(i=e.getContent());for(var a=i.getIdentifier(),o=null,s=0;s<Kl.length;s++)if(a in Kl[s]){o=s;break}if(a==="OperatorNode:multiply"&&i.implicit&&n!=="show"){var l=n3(i.args[0],t);!(Pn(l)&&r&&r.getIdentifier()==="OperatorNode:divide"&&sN(n3(r.args[0],t)))&&!(l.getIdentifier()==="OperatorNode:divide"&&sN(n3(l.args[0],t))&&Pn(n3(l.args[1])))&&(o+=1)}return o}function ty(e,t){var n=e;t!=="keep"&&(n=e.getContent());var r=n.getIdentifier(),i=lr(n,t);if(i===null)return null;var a=Kl[i][r];if(xt(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+r+"' has the invalid associativity '"+a.associativity+"'.")}return null}function J6(e,t,n){var r=n!=="keep"?e.getContent():e,i=n!=="keep"?e.getContent():t,a=r.getIdentifier(),o=i.getIdentifier(),s=lr(r,n);if(s===null)return null;var l=Kl[s][a];if(xt(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===o)return!0;return!1}return null}function $ft(e){var t="OperatorNode:"+e;for(var n of Kl)if(t in n)return n[t].op;return null}var r3="AssignmentNode",Uft=["subset","?matrix","Node"],Vft=ue(r3,Uft,e=>{var{subset:t,matrix:n,Node:r}=e,i=rce({subset:t}),a=zft({subset:t,matrix:n});function o(l,u,c){u||(u="keep");var d=lr(l,u,c),f=lr(l.value,u,c);return u==="all"||f!==null&&f<=d}class s extends r{constructor(u,c,d){if(super(),this.object=u,this.index=d?c:null,this.value=d||c,!Ji(u)&&!om(u))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Ji(u)&&u.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!K1(this.index))throw new TypeError('IndexNode expected as "index"');if(!rr(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return r3}get isAssignmentNode(){return!0}_compile(u,c){var d=this.object._compile(u,c),f=this.index?this.index._compile(u,c):null,h=this.value._compile(u,c),m=this.object.name;if(this.index)if(this.index.isObjectProperty()){var g=this.index.getObjectProperty();return function(v,C,b){var A=d(v,C,b),_=h(v,C,b);return s1(A,g,_),_}}else{if(Ji(this.object))return function(v,C,b){var A=d(v,C,b),_=h(v,C,b),T=f(v,C,A);return v.set(m,a(A,T,_)),_};var S=this.object.object._compile(u,c);if(this.object.index.isObjectProperty()){var y=this.object.index.getObjectProperty();return function(v,C,b){var A=S(v,C,b),_=bo(A,y),T=f(v,C,_),M=h(v,C,b);return s1(A,y,a(_,T,M)),M}}else{var E=this.object.index._compile(u,c);return function(v,C,b){var A=S(v,C,b),_=E(v,C,A),T=i(A,_),M=f(v,C,T),N=h(v,C,b);return a(A,_,a(T,M,N)),N}}}else{if(!Ji(this.object))throw new TypeError("SymbolNode expected as object");return function(v,C,b){var A=h(v,C,b);return v.set(m,A),A}}}forEach(u){u(this.object,"object",this),this.index&&u(this.index,"index",this),u(this.value,"value",this)}map(u){var c=this._ifNode(u(this.object,"object",this)),d=this.index?this._ifNode(u(this.index,"index",this)):null,f=this._ifNode(u(this.value,"value",this));return new s(c,d,f)}clone(){return new s(this.object,this.index,this.value)}_toString(u){var c=this.object.toString(u),d=this.index?this.index.toString(u):"",f=this.value.toString(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(f="("+f+")"),c+d+" = "+f}toJSON(){return{mathjs:r3,object:this.object,index:this.index,value:this.value}}static fromJSON(u){return new s(u.object,u.index,u.value)}toHTML(u){var c=this.object.toHTML(u),d=this.index?this.index.toHTML(u):"",f=this.value.toHTML(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(f='<span class="math-paranthesis math-round-parenthesis">(</span>'+f+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+d+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+f}_toTex(u){var c=this.object.toTex(u),d=this.index?this.index.toTex(u):"",f=this.value.toTex(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(f="\\left(".concat(f,"\\right)")),c+d+"="+f}}return Vi(s,"name",r3),s},{isClass:!0,isNode:!0}),i3="BlockNode",Hft=["ResultSet","Node"],qft=ue(i3,Hft,e=>{var{ResultSet:t,Node:n}=e;class r extends n{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var s=o&&o.node,l=o&&o.visible!==void 0?o.visible:!0;if(!rr(s))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:s,visible:l}})}get type(){return i3}get isBlockNode(){return!0}_compile(a,o){var s=Gc(this.blocks,function(l){return{evaluate:l.node._compile(a,o),visible:l.visible}});return function(u,c,d){var f=[];return JE(s,function(m){var g=m.evaluate(u,c,d);m.visible&&f.push(g)}),new t(f)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],s=0;s<this.blocks.length;s++){var l=this.blocks[s],u=this._ifNode(a(l.node,"blocks["+s+"].node",this));o[s]={node:u,visible:l.visible}}return new r(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new r(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:i3,blocks:this.blocks}}static fromJSON(a){return new r(a.blocks)}toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return Vi(r,"name",i3),r},{isClass:!0,isNode:!0}),a3="ConditionalNode",Wft=["Node"],Gft=ue(a3,Wft,e=>{var{Node:t}=e;function n(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(Sn(i))return!i.isZero();if(Wc(i))return!!(i.re||i.im);if(ol(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+ur(i)+'"')}class r extends t{constructor(a,o,s){if(super(),!rr(a))throw new TypeError("Parameter condition must be a Node");if(!rr(o))throw new TypeError("Parameter trueExpr must be a Node");if(!rr(s))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=s}get type(){return a3}get isConditionalNode(){return!0}_compile(a,o){var s=this.condition._compile(a,o),l=this.trueExpr._compile(a,o),u=this.falseExpr._compile(a,o);return function(d,f,h){return n(s(d,f,h))?l(d,f,h):u(d,f,h)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new r(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new r(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=lr(this,o,a&&a.implicit),l=this.condition.toString(a),u=lr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l="("+l+")");var c=this.trueExpr.toString(a),d=lr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=s)&&(c="("+c+")");var f=this.falseExpr.toString(a),h=lr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||h!==null&&h<=s)&&(f="("+f+")"),l+" ? "+c+" : "+f}toJSON(){return{mathjs:a3,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new r(a.condition,a.trueExpr,a.falseExpr)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=lr(this,o,a&&a.implicit),l=this.condition.toHTML(a),u=lr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),d=lr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=s)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var f=this.falseExpr.toHTML(a),h=lr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||h!==null&&h<=s)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+f}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Vi(r,"name",a3),r},{isClass:!0,isNode:!0}),bN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kft={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},Yft={"–":"\\--","—":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},Jft=function(t,n){return bN({},t,n)},Qft=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.preserveFormatting,r=n===void 0?!1:n,i=t.escapeMapFn,a=i===void 0?Jft:i,o=String(e),s="",l=a(bN({},Kft),r?bN({},Yft):{}),u=Object.keys(l),c=function(){var f=!1;u.forEach(function(h,m){f||o.length>=h.length&&o.slice(0,h.length)===h&&(s+=l[u[m]],o=o.slice(h.length,o.length),f=!0)}),f||(s+=o.slice(0,1),o=o.slice(1,o.length))};o;)c();return s};const Xft=Rs(Qft);var wN={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},On={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},ZW={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(On.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(On.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(On.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(On.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(On.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(On.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(On.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(On.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(On.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(On.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(On.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(On.bitAnd,"${args[1]}\\right)")},bitNot:{1:On.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(On.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(On.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(On.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(On.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(On.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(On.and,"${args[1]}\\right)")},not:{1:On.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(On.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(On.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(On.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(On.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(On.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(On.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(On.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(On.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(On.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(On.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(On.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(On.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(On.to,"${args[1]}\\right)")},numeric:function(t,n){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(wN.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},Zft="\\mathrm{${name}}\\left(${args}\\right)",eG={deg:"^\\circ"};function xN(e){return Xft(e,{preserveFormatting:!0})}function ice(e,t){return t=typeof t>"u"?!1:t,t?xt(eG,e)?eG[e]:"\\mathrm{"+xN(e)+"}":xt(wN,e)?wN[e]:xN(e)}var o3="ConstantNode",eht=["Node"],tht=ue(o3,eht,e=>{var{Node:t}=e;class n extends t{constructor(i){super(),this.value=i}get type(){return o3}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new n(this.value)}_toString(i){return cn(this.value,i)}toHTML(i){var a=this._toString(i);switch(ur(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:o3,value:this.value}}static fromJSON(i){return new n(i.value)}_toTex(i){var a=this._toString(i);switch(ur(this.value)){case"string":return"\\mathtt{"+xN(a)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");if(o!==-1)return a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}"}return a;case"Fraction":return this.value.toLatex();default:return a}}}return Vi(n,"name",o3),n},{isClass:!0,isNode:!0}),s3="FunctionAssignmentNode",nht=["typed","Node"],rht=ue(s3,nht,e=>{var{typed:t,Node:n}=e;function r(a,o,s){var l=lr(a,o,s),u=lr(a.expr,o,s);return o==="all"||u!==null&&u<=l}class i extends n{constructor(o,s,l){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(s))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!rr(l))throw new TypeError('Node expected for parameter "expr"');if(nce.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var u=new Set;for(var c of s){var d=typeof c=="string"?c:c.name;if(u.has(d))throw new Error('Duplicate parameter name "'.concat(d,'"'));u.add(d)}this.name=o,this.params=s.map(function(f){return f&&f.name||f}),this.types=s.map(function(f){return f&&f.type||"any"}),this.expr=l}get type(){return s3}get isFunctionAssignmentNode(){return!0}_compile(o,s){var l=Object.create(s);JE(this.params,function(m){l[m]=!0});var u=this.expr._compile(o,l),c=this.name,d=this.params,f=YV(this.types,","),h=c+"("+YV(this.params,", ")+")";return function(g,S,y){var E={};E[f]=function(){for(var v=Object.create(S),C=0;C<d.length;C++)v[d[C]]=arguments[C];return u(g,v,y)};var x=t(c,E);return x.syntax=h,g.set(c,x),x}}forEach(o){o(this.expr,"expr",this)}map(o){var s=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),s)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return r(this,s,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:s3,name:this.name,params:this.params.map(function(s,l){return{name:s,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}toHTML(o){for(var s=o&&o.parenthesis?o.parenthesis:"keep",l=[],u=0;u<this.params.length;u++)l.push('<span class="math-symbol math-parameter">'+ul(this.params[u])+"</span>");var c=this.expr.toHTML(o);return r(this,s,o&&o.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+ul(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return r(this,s,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(ice).join(",")+"\\right)="+l}}return Vi(i,"name",s3),i},{isClass:!0,isNode:!0}),l3="IndexNode",iht=["Node","size"],aht=ue(l3,iht,e=>{var{Node:t,size:n}=e;class r extends t{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(rr))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return l3}get isIndexNode(){return!0}_compile(a,o){var s=Gc(this.dimensions,function(u,c){var d=u.filter(m=>m.isSymbolNode&&m.name==="end").length>0;if(d){var f=Object.create(o);f.end=!0;var h=u._compile(a,f);return function(g,S,y){if(!Ft(y)&&!Vn(y)&&!za(y))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+ur(y));var E=n(y).valueOf(),x=Object.create(S);return x.end=E[c],h(g,x,y)}}else return u._compile(a,o)}),l=bo(a,"index");return function(c,d,f){var h=Gc(s,function(m){return m(c,d,f)});return l(...h)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this._ifNode(a(this.dimensions[s],"dimensions["+s+"]",this));return new r(o,this.dotNotation)}clone(){return new r(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&Pn(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:l3,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new r(a.dimensions,a.dotNotation)}toHTML(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+ul(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(s){return s.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return Vi(r,"name",l3),r},{isClass:!0,isNode:!0}),u3="ObjectNode",oht=["Node"],sht=ue(u3,oht,e=>{var{Node:t}=e;class n extends t{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return rr(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return u3}get isObjectNode(){return!0}_compile(i,a){var o={};for(var s in this.properties)if(xt(this.properties,s)){var l=Xg(s),u=JSON.parse(l),c=bo(this.properties,s);o[u]=c._compile(i,a)}return function(f,h,m){var g={};for(var S in o)xt(o,S)&&(g[S]=o[S](f,h,m));return g}}forEach(i){for(var a in this.properties)xt(this.properties,a)&&i(this.properties[a],"properties["+Xg(a)+"]",this)}map(i){var a={};for(var o in this.properties)xt(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+Xg(o)+"]",this)));return new n(a)}clone(){var i={};for(var a in this.properties)xt(this.properties,a)&&(i[a]=this.properties[a]);return new n(i)}_toString(i){var a=[];for(var o in this.properties)xt(this.properties,o)&&a.push(Xg(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:u3,properties:this.properties}}static fromJSON(i){return new n(i.properties)}toHTML(i){var a=[];for(var o in this.properties)xt(this.properties,o)&&a.push('<span class="math-symbol math-property">'+ul(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)xt(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var s="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return s}}return Vi(n,"name",u3),n},{isClass:!0,isNode:!0}),c3="OperatorNode",lht=["Node"],uht=ue(c3,lht,e=>{var{Node:t}=e;function n(a,o){var s=a;if(o==="auto")for(;sd(s);)s=s.content;return Pn(s)?!0:Di(s)?n(s.args[0],o):!1}function r(a,o,s,l,u){var c=lr(a,o,s),d=ty(a,o);if(o==="all"||l.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return l.map(function(M){switch(M.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var f;switch(l.length){case 0:f=[];break;case 1:{var h=lr(l[0],o,s,a);if(u&&h!==null){var m,g;if(o==="keep"?(m=l[0].getIdentifier(),g=a.getIdentifier()):(m=l[0].getContent().getIdentifier(),g=a.getContent().getIdentifier()),Kl[c][g].latexLeftParens===!1){f=[!1];break}if(Kl[h][m].latexParens===!1){f=[!1];break}}if(h===null){f=[!1];break}if(h<=c){f=[!0];break}f=[!1]}break;case 2:{var S,y=lr(l[0],o,s,a),E=J6(a,l[0],o);y===null?S=!1:y===c&&d==="right"&&!E||y<c?S=!0:S=!1;var x,v=lr(l[1],o,s,a),C=J6(a,l[1],o);if(v===null?x=!1:v===c&&d==="left"&&!C||v<c?x=!0:x=!1,u){var b,A,_;o==="keep"?(b=a.getIdentifier(),A=a.args[0].getIdentifier(),_=a.args[1].getIdentifier()):(b=a.getContent().getIdentifier(),A=a.args[0].getContent().getIdentifier(),_=a.args[1].getContent().getIdentifier()),y!==null&&(Kl[c][b].latexLeftParens===!1&&(S=!1),Kl[y][A].latexParens===!1&&(S=!1)),v!==null&&(Kl[c][b].latexRightParens===!1&&(x=!1),Kl[v][_].latexParens===!1&&(x=!1))}f=[S,x]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(f=l.map(function(M){var N=lr(M,o,s,a),I=J6(a,M,o),F=ty(M,o);return N===null?!1:c===N&&d===F&&!I?!0:N<c}));break}if(l.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&s==="hide")for(var T=1;T<f.length;++T)n(l[T],o)&&!f[T-1]&&(o!=="keep"||!sd(l[T-1]))&&(f[T]=!0);return f}class i extends t{constructor(o,s,l,u,c){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof s!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(rr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=c===!0,this.op=o,this.fn=s,this.args=l||[]}get type(){return c3}get isOperatorNode(){return!0}_compile(o,s){if(typeof this.fn!="string"||!PI(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=bo(o,this.fn),u=Gc(this.args,function(h){return h._compile(o,s)});if(u.length===1){var c=u[0];return function(m,g,S){return l(c(m,g,S))}}else if(u.length===2){var d=u[0],f=u[1];return function(m,g,S){return l(d(m,g,S),f(m,g,S))}}else return function(m,g,S){return l.apply(null,Gc(u,function(y){return y(m,g,S)}))}}forEach(o){for(var s=0;s<this.args.length;s++)o(this.args[s],"args["+s+"]",this)}map(o){for(var s=[],l=0;l<this.args.length;l++)s[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,s,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,c=r(this,s,l,u,!1);if(u.length===1){var d=ty(this,s),f=u[0].toString(o);c[0]&&(f="("+f+")");var h=/[a-zA-Z]+/.test(this.op);return d==="right"?this.op+(h?" ":"")+f:d==="left"?f+(h?" ":"")+this.op:f+this.op}else if(u.length===2){var m=u[0].toString(o),g=u[1].toString(o);return c[0]&&(m="("+m+")"),c[1]&&(g="("+g+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m+" "+g:m+" "+this.op+" "+g}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var S=u.map(function(y,E){return y=y.toString(o),c[E]&&(y="("+y+")"),y});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?S.join(" "):S.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:c3,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}toHTML(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,c=r(this,s,l,u,!1);if(u.length===1){var d=ty(this,s),f=u[0].toHTML(o);return c[0]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+ul(this.op)+"</span>"+f:f+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+ul(this.op)+"</span>"}else if(u.length===2){var h=u[0].toHTML(o),m=u[1].toHTML(o);return c[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?h+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+m:h+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+ul(this.op)+"</span>"+m}else{var g=u.map(function(S,y){return S=S.toHTML(o),c[y]&&(S='<span class="math-parenthesis math-round-parenthesis">(</span>'+S+'<span class="math-parenthesis math-round-parenthesis">)</span>'),S});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?g.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):g.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+ul(this.op)+"</span>"):'<span class="math-function">'+ul(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+g.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,c=r(this,s,l,u,!0),d=On[this.fn];if(d=typeof d>"u"?this.op:d,u.length===1){var f=ty(this,s),h=u[0].toTex(o);return c[0]&&(h="\\left(".concat(h,"\\right)")),f==="right"?d+h:h+d}else if(u.length===2){var m=u[0],g=m.toTex(o);c[0]&&(g="\\left(".concat(g,"\\right)"));var S=u[1],y=S.toTex(o);c[1]&&(y="\\left(".concat(y,"\\right)"));var E;switch(s==="keep"?E=m.getIdentifier():E=m.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return d+"{"+g+"}{"+y+"}";case"OperatorNode:pow":switch(g="{"+g+"}",y="{"+y+"}",E){case"ConditionalNode":case"OperatorNode:divide":g="\\left(".concat(g,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return g+"~"+y}return g+d+y}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var x=u.map(function(v,C){return v=v.toTex(o),c[C]&&(v="\\left(".concat(v,"\\right)")),v});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?x.join("~"):x.join(d)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(v){return v.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Vi(i,"name",c3),i},{isClass:!0,isNode:!0}),d3="ParenthesisNode",cht=["Node"],dht=ue(d3,cht,e=>{var{Node:t}=e;class n extends t{constructor(i){if(super(),!rr(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return d3}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new n(a)}clone(){return new n(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:d3,content:this.content}}static fromJSON(i){return new n(i.content)}toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Vi(n,"name",d3),n},{isClass:!0,isNode:!0}),f3="RangeNode",fht=["Node"],hht=ue(f3,fht,e=>{var{Node:t}=e;function n(i,a,o){var s=lr(i,a,o),l={},u=lr(i.start,a,o);if(l.start=u!==null&&u<=s||a==="all",i.step){var c=lr(i.step,a,o);l.step=c!==null&&c<=s||a==="all"}var d=lr(i.end,a,o);return l.end=d!==null&&d<=s||a==="all",l}class r extends t{constructor(a,o,s){if(super(),!rr(a))throw new TypeError("Node expected");if(!rr(o))throw new TypeError("Node expected");if(s&&!rr(s))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=s||null}get type(){return f3}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return Ji(o)&&o.name==="end"});return a.length>0}_compile(a,o){var s=a.range,l=this.start._compile(a,o),u=this.end._compile(a,o);if(this.step){var c=this.step._compile(a,o);return function(f,h,m){return s(l(f,h,m),u(f,h,m),c(f,h,m))}}else return function(f,h,m){return s(l(f,h,m),u(f,h,m))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new r(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new r(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=n(this,o,a&&a.implicit),l,u=this.start.toString(a);if(s.start&&(u="("+u+")"),l=u,this.step){var c=this.step.toString(a);s.step&&(c="("+c+")"),l+=":"+c}var d=this.end.toString(a);return s.end&&(d="("+d+")"),l+=":"+d,l}toJSON(){return{mathjs:f3,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new r(a.start,a.end,a.step)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=n(this,o,a&&a.implicit),l,u=this.start.toHTML(a);if(s.start&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=u,this.step){var c=this.step.toHTML(a);s.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+c}var d=this.end.toHTML(a);return s.end&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+d,l}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=n(this,o,a&&a.implicit),l=this.start.toTex(a);if(s.start&&(l="\\left(".concat(l,"\\right)")),this.step){var u=this.step.toTex(a);s.step&&(u="\\left(".concat(u,"\\right)")),l+=":"+u}var c=this.end.toTex(a);return s.end&&(c="\\left(".concat(c,"\\right)")),l+=":"+c,l}}return Vi(r,"name",f3),r},{isClass:!0,isNode:!0}),h3="RelationalNode",pht=["Node"],mht=ue(h3,pht,e=>{var{Node:t}=e,n={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class r extends t{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return h3}get isRelationalNode(){return!0}_compile(a,o){var s=this,l=this.params.map(u=>u._compile(a,o));return function(c,d,f){for(var h,m=l[0](c,d,f),g=0;g<s.conditionals.length;g++){h=m,m=l[g+1](c,d,f);var S=bo(a,s.conditionals[g]);if(!S(h,m))return!1}return!0}}forEach(a){this.params.forEach((o,s)=>a(o,"params["+s+"]",this),this)}map(a){return new r(this.conditionals.slice(),this.params.map((o,s)=>this._ifNode(a(o,"params["+s+"]",this)),this))}clone(){return new r(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=lr(this,o,a&&a.implicit),l=this.params.map(function(d,f){var h=lr(d,o,a&&a.implicit);return o==="all"||h!==null&&h<=s?"("+d.toString(a)+")":d.toString(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=" "+n[this.conditionals[c]],u+=" "+l[c+1];return u}toJSON(){return{mathjs:h3,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new r(a.conditionals,a.params)}toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=lr(this,o,a&&a.implicit),l=this.params.map(function(d,f){var h=lr(d,o,a&&a.implicit);return o==="all"||h!==null&&h<=s?'<span class="math-parenthesis math-round-parenthesis">(</span>'+d.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':d.toHTML(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+ul(n[this.conditionals[c]])+"</span>"+l[c+1];return u}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=lr(this,o,a&&a.implicit),l=this.params.map(function(d,f){var h=lr(d,o,a&&a.implicit);return o==="all"||h!==null&&h<=s?"\\left("+d.toTex(a)+"\right)":d.toTex(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=On[this.conditionals[c]]+l[c+1];return u}}return Vi(r,"name",h3),r},{isClass:!0,isNode:!0}),ght="SymbolNode",vht=["math","?Unit","Node"],yht=ue(ght,vht,e=>{var{math:t,Unit:n,Node:r}=e;function i(o){return n?n.isValuelessUnit(o):!1}class a extends r{constructor(s){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');this.name=s}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(s,l){var u=this.name;if(l[u]===!0)return function(d,f,h){return bo(f,u)};if(u in s)return function(d,f,h){return d.has(u)?d.get(u):bo(s,u)};var c=i(u);return function(d,f,h){return d.has(u)?d.get(u):c?new n(null,u):a.onUndefinedSymbol(u)}}forEach(s){}map(s){return this.clone()}static onUndefinedSymbol(s){throw new Error("Undefined symbol "+s)}clone(){return new a(this.name)}_toString(s){return this.name}toHTML(s){var l=ul(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(s){return new a(s.name)}_toTex(s){var l=!1;typeof t[this.name]>"u"&&i(this.name)&&(l=!0);var u=ice(this.name,l);return u[0]==="\\"?u:" "+u}}return a},{isClass:!0,isNode:!0});function Cy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return typeof e.createSubScope=="function"?QV(e.createSubScope(),...n):QV(l1(),e,...n)}var p3="FunctionNode",bht=["math","Node","SymbolNode"],wht=ue(p3,bht,e=>{var t,{math:n,Node:r,SymbolNode:i}=e,a=l=>cn(l,{truncate:78});function o(l,u,c){for(var d="",f=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,h=0,m;(m=f.exec(l))!==null;)if(d+=l.substring(h,m.index),h=m.index,m[0]==="$$")d+="$",h++;else{h+=m[0].length;var g=u[m[1]];if(!g)throw new ReferenceError("Template: Property "+m[1]+" does not exist.");if(m[2]===void 0)switch(typeof g){case"string":d+=g;break;case"object":if(rr(g))d+=g.toTex(c);else if(Array.isArray(g))d+=g.map(function(S,y){if(rr(S))return S.toTex(c);throw new TypeError("Template: "+m[1]+"["+y+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+m[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+m[1]+" has to be a Node, String or array of Nodes")}else if(rr(g[m[2]]&&g[m[2]]))d+=g[m[2]].toTex(c);else throw new TypeError("Template: "+m[1]+"["+m[2]+"] is not a Node.")}return d+=l.slice(h),d}class s extends r{constructor(u,c){if(super(),typeof u=="string"&&(u=new i(u)),!rr(u))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(rr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=u,this.args=c||[]}get name(){return this.fn.name||""}get type(){return p3}get isFunctionNode(){return!0}_compile(u,c){var d=this.args.map(_=>_._compile(u,c));if(Ji(this.fn)){var f=this.fn.name;if(c[f]){var y=this.args;return function(T,M,N){var I=bo(M,f);if(typeof I!="function")throw new TypeError("Argument '".concat(f,"' was not a function; received: ").concat(a(I)));if(I.rawArgs)return I(y,u,Cy(T,M),T);var F=d.map($=>$(T,M,N));return I.apply(I,F)}}else{var h=f in u?bo(u,f):void 0,m=typeof h=="function"&&h.rawArgs===!0,g=_=>{var T;if(_.has(f))T=_.get(f);else if(f in u)T=bo(u,f);else return s.onUndefinedFunction(f);if(typeof T=="function")return T;throw new TypeError("'".concat(f,`' is not a function; its value is:
  `).concat(a(T)))};if(m){var S=this.args;return function(T,M,N){var I=g(T);return I(S,u,Cy(T,M),T)}}else switch(d.length){case 0:return function(T,M,N){var I=g(T);return I()};case 1:return function(T,M,N){var I=g(T),F=d[0];return I(F(T,M,N))};case 2:return function(T,M,N){var I=g(T),F=d[0],$=d[1];return I(F(T,M,N),$(T,M,N))};default:return function(T,M,N){var I=g(T),F=d.map($=>$(T,M,N));return I(...F)}}}}else if(om(this.fn)&&K1(this.fn.index)&&this.fn.index.isObjectProperty()){var E=this.fn.object._compile(u,c),x=this.fn.index.getObjectProperty(),v=this.args;return function(T,M,N){var I=E(T,M,N),F=Unt(I,x);if(F!=null&&F.rawArgs)return F(v,u,Cy(T,M),T);var $=d.map(z=>z(T,M,N));return F.apply(I,$)}}else{var C=this.fn.toString(),b=this.fn._compile(u,c),A=this.args;return function(T,M,N){var I=b(T,M,N);if(typeof I!="function")throw new TypeError("Expression '".concat(C,"' did not evaluate to a function; value is:")+`
  `.concat(a(I)));if(I.rawArgs)return I(A,u,Cy(T,M),T);var F=d.map($=>$(T,M,N));return I.apply(I,F)}}}forEach(u){u(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)u(this.args[c],"args["+c+"]",this)}map(u){for(var c=this._ifNode(u(this.fn,"fn",this)),d=[],f=0;f<this.args.length;f++)d[f]=this._ifNode(u(this.args[f],"args["+f+"]",this));return new s(c,d)}clone(){return new s(this.fn,this.args.slice(0))}toString(u){var c,d=this.fn.toString(u);return u&&typeof u.handler=="object"&&xt(u.handler,d)&&(c=u.handler[d](this,u)),typeof c<"u"?c:super.toString(u)}_toString(u){var c=this.args.map(function(f){return f.toString(u)}),d=Z2(this.fn)?"("+this.fn.toString(u)+")":this.fn.toString(u);return d+"("+c.join(", ")+")"}toJSON(){return{mathjs:p3,fn:this.fn,args:this.args}}toHTML(u){var c=this.args.map(function(d){return d.toHTML(u)});return'<span class="math-function">'+ul(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(u){var c;return u&&typeof u.handler=="object"&&xt(u.handler,this.name)&&(c=u.handler[this.name](this,u)),typeof c<"u"?c:super.toTex(u)}_toTex(u){var c=this.args.map(function(h){return h.toTex(u)}),d;ZW[this.name]&&(d=ZW[this.name]),n[this.name]&&(typeof n[this.name].toTex=="function"||typeof n[this.name].toTex=="object"||typeof n[this.name].toTex=="string")&&(d=n[this.name].toTex);var f;switch(typeof d){case"function":f=d(this,u);break;case"string":f=o(d,this,u);break;case"object":switch(typeof d[c.length]){case"function":f=d[c.length](this,u);break;case"string":f=o(d[c.length],this,u);break}}return typeof f<"u"?f:o(Zft,this,u)}getIdentifier(){return this.type+":"+this.name}}return t=s,Vi(s,"name",p3),Vi(s,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),Vi(s,"fromJSON",function(l){return new t(l.fn,l.args)}),s},{isClass:!0,isNode:!0}),tG="parse",xht=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],Sht=ue(tG,xht,e=>{var{typed:t,numeric:n,config:r,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:s,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:c,FunctionNode:d,IndexNode:f,ObjectNode:h,OperatorNode:m,ParenthesisNode:g,RangeNode:S,RelationalNode:y,SymbolNode:E}=e,x=t(tG,{string:function(ie){return K(ie,{})},"Array | Matrix":function(ie){return v(ie,{})},"string, Object":function(ie,ve){var Ne=ve.nodes!==void 0?ve.nodes:{};return K(ie,Ne)},"Array | Matrix, Object":v});function v(U){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ve=ie.nodes!==void 0?ie.nodes:{};return vn(U,function(Ne){if(typeof Ne!="string")throw new TypeError("String expected");return K(Ne,ve)})}var C={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},A={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},_={true:!0,false:!1,null:null,undefined:void 0},T=["NaN","Infinity"],M={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function N(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:C.NULL,nestingLevel:0,conditionalLevel:null}}function I(U,ie){return U.expression.substr(U.index,ie)}function F(U){return I(U,1)}function $(U){U.index++}function z(U){return U.expression.charAt(U.index-1)}function D(U){return U.expression.charAt(U.index+1)}function P(U){for(U.tokenType=C.NULL,U.token="",U.comment="";;){if(F(U)==="#")for(;F(U)!==`
`&&F(U)!=="";)U.comment+=F(U),$(U);if(x.isWhitespace(F(U),U.nestingLevel))$(U);else break}if(F(U)===""){U.tokenType=C.DELIMITER;return}if(F(U)===`
`&&!U.nestingLevel){U.tokenType=C.DELIMITER,U.token=F(U),$(U);return}var ie=F(U),ve=I(U,2),Ne=I(U,3);if(Ne.length===3&&b[Ne]){U.tokenType=C.DELIMITER,U.token=Ne,$(U),$(U),$(U);return}if(ve.length===2&&b[ve]){U.tokenType=C.DELIMITER,U.token=ve,$(U),$(U);return}if(b[ie]){U.tokenType=C.DELIMITER,U.token=ie,$(U);return}if(x.isDigitDot(ie)){U.tokenType=C.NUMBER;var $e=I(U,2);if($e==="0b"||$e==="0o"||$e==="0x"){for(U.token+=F(U),$(U),U.token+=F(U),$(U);x.isHexDigit(F(U));)U.token+=F(U),$(U);if(F(U)===".")for(U.token+=".",$(U);x.isHexDigit(F(U));)U.token+=F(U),$(U);else if(F(U)==="i")for(U.token+="i",$(U);x.isDigit(F(U));)U.token+=F(U),$(U);return}if(F(U)==="."){if(U.token+=F(U),$(U),!x.isDigit(F(U))){U.tokenType=C.DELIMITER;return}}else{for(;x.isDigit(F(U));)U.token+=F(U),$(U);x.isDecimalMark(F(U),D(U))&&(U.token+=F(U),$(U))}for(;x.isDigit(F(U));)U.token+=F(U),$(U);if(F(U)==="E"||F(U)==="e"){if(x.isDigit(D(U))||D(U)==="-"||D(U)==="+"){if(U.token+=F(U),$(U),(F(U)==="+"||F(U)==="-")&&(U.token+=F(U),$(U)),!x.isDigit(F(U)))throw te(U,'Digit expected, got "'+F(U)+'"');for(;x.isDigit(F(U));)U.token+=F(U),$(U);if(x.isDecimalMark(F(U),D(U)))throw te(U,'Digit expected, got "'+F(U)+'"')}else if(D(U)===".")throw $(U),te(U,'Digit expected, got "'+F(U)+'"')}return}if(x.isAlpha(F(U),z(U),D(U))){for(;x.isAlpha(F(U),z(U),D(U))||x.isDigit(F(U));)U.token+=F(U),$(U);xt(A,U.token)?U.tokenType=C.DELIMITER:U.tokenType=C.SYMBOL;return}for(U.tokenType=C.UNKNOWN;F(U)!=="";)U.token+=F(U),$(U);throw te(U,'Syntax error in part "'+U.token+'"')}function V(U){do P(U);while(U.token===`
`)}function B(U){U.nestingLevel++}function H(U){U.nestingLevel--}x.isAlpha=function(ie,ve,Ne){return x.isValidLatinOrGreek(ie)||x.isValidMathSymbol(ie,Ne)||x.isValidMathSymbol(ve,ie)},x.isValidLatinOrGreek=function(ie){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(ie)},x.isValidMathSymbol=function(ie,ve){return/^[\uD835]$/.test(ie)&&/^[\uDC00-\uDFFF]$/.test(ve)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(ve)},x.isWhitespace=function(ie,ve){return ie===" "||ie==="	"||ie===`
`&&ve>0},x.isDecimalMark=function(ie,ve){return ie==="."&&ve!=="/"&&ve!=="*"&&ve!=="^"},x.isDigitDot=function(ie){return ie>="0"&&ie<="9"||ie==="."},x.isDigit=function(ie){return ie>="0"&&ie<="9"},x.isHexDigit=function(ie){return ie>="0"&&ie<="9"||ie>="a"&&ie<="f"||ie>="A"&&ie<="F"};function K(U,ie){var ve=N();xi(ve,{expression:U,extraNodes:ie}),P(ve);var Ne=W(ve);if(ve.token!=="")throw ve.tokenType===C.DELIMITER?he(ve,"Unexpected operator "+ve.token):te(ve,'Unexpected part "'+ve.token+'"');return Ne}function W(U){var ie,ve=[],Ne;for(U.token!==""&&U.token!==`
`&&U.token!==";"&&(ie=L(U),U.comment&&(ie.comment=U.comment));U.token===`
`||U.token===";";)ve.length===0&&ie&&(Ne=U.token!==";",ve.push({node:ie,visible:Ne})),P(U),U.token!==`
`&&U.token!==";"&&U.token!==""&&(ie=L(U),U.comment&&(ie.comment=U.comment),Ne=U.token!==";",ve.push({node:ie,visible:Ne}));return ve.length>0?new s(ve):(ie||(ie=new u(void 0),U.comment&&(ie.comment=U.comment)),ie)}function L(U){var ie,ve,Ne,$e,Ue=G(U);if(U.token==="="){if(Ji(Ue))return ie=Ue.name,V(U),Ne=L(U),new o(new E(ie),Ne);if(om(Ue))return V(U),Ne=L(U),new o(Ue.object,Ue.index,Ne);if(Xf(Ue)&&Ji(Ue.fn)&&($e=!0,ve=[],ie=Ue.name,Ue.args.forEach(function(ut,At){Ji(ut)?ve[At]=ut.name:$e=!1}),$e))return V(U),Ne=L(U),new c(ie,ve,Ne);throw te(U,"Invalid left hand side of assignment operator =")}return Ue}function G(U){for(var ie=de(U);U.token==="?";){var ve=U.conditionalLevel;U.conditionalLevel=U.nestingLevel,V(U);var Ne=ie,$e=L(U);if(U.token!==":")throw te(U,"False part of conditional expression expected");U.conditionalLevel=null,V(U);var Ue=L(U);ie=new l(Ne,$e,Ue),U.conditionalLevel=ve}return ie}function de(U){for(var ie=Q(U);U.token==="or";)V(U),ie=new m("or","or",[ie,Q(U)]);return ie}function Q(U){for(var ie=ee(U);U.token==="xor";)V(U),ie=new m("xor","xor",[ie,ee(U)]);return ie}function ee(U){for(var ie=ne(U);U.token==="and";)V(U),ie=new m("and","and",[ie,ne(U)]);return ie}function ne(U){for(var ie=se(U);U.token==="|";)V(U),ie=new m("|","bitOr",[ie,se(U)]);return ie}function se(U){for(var ie=ge(U);U.token==="^|";)V(U),ie=new m("^|","bitXor",[ie,ge(U)]);return ie}function ge(U){for(var ie=xe(U);U.token==="&";)V(U),ie=new m("&","bitAnd",[ie,xe(U)]);return ie}function xe(U){for(var ie=[we(U)],ve=[],Ne={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};xt(Ne,U.token);){var $e={name:U.token,fn:Ne[U.token]};ve.push($e),V(U),ie.push(we(U))}return ie.length===1?ie[0]:ie.length===2?new m(ve[0].name,ve[0].fn,ie):new y(ve.map(Ue=>Ue.fn),ie)}function we(U){var ie,ve,Ne,$e;ie=_e(U);for(var Ue={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};xt(Ue,U.token);)ve=U.token,Ne=Ue[ve],V(U),$e=[ie,_e(U)],ie=new m(ve,Ne,$e);return ie}function _e(U){var ie,ve,Ne,$e;ie=ze(U);for(var Ue={to:"to",in:"to"};xt(Ue,U.token);)ve=U.token,Ne=Ue[ve],V(U),ve==="in"&&U.token===""?ie=new m("*","multiply",[ie,new E("in")],!0):($e=[ie,ze(U)],ie=new m(ve,Ne,$e));return ie}function ze(U){var ie,ve=[];if(U.token===":"?ie=new u(1):ie=Y(U),U.token===":"&&U.conditionalLevel!==U.nestingLevel){for(ve.push(ie);U.token===":"&&ve.length<3;)V(U),U.token===")"||U.token==="]"||U.token===","||U.token===""?ve.push(new E("end")):ve.push(Y(U));ve.length===3?ie=new S(ve[0],ve[2],ve[1]):ie=new S(ve[0],ve[1])}return ie}function Y(U){var ie,ve,Ne,$e;ie=re(U);for(var Ue={"+":"add","-":"subtract"};xt(Ue,U.token);){ve=U.token,Ne=Ue[ve],V(U);var ut=re(U);ut.isPercentage?$e=[ie,new m("*","multiply",[ie,ut])]:$e=[ie,ut],ie=new m(ve,Ne,$e)}return ie}function re(U){var ie,ve,Ne,$e;ie=Se(U),ve=ie;for(var Ue={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};xt(Ue,U.token);)Ne=U.token,$e=Ue[Ne],V(U),ve=Se(U),ie=new m(Ne,$e,[ie,ve]);return ie}function Se(U){var ie,ve;for(ie=le(U),ve=ie;U.tokenType===C.SYMBOL||U.token==="in"&&Pn(ie)||U.tokenType===C.NUMBER&&!Pn(ve)&&(!Di(ve)||ve.op==="!")||U.token==="(";)ve=le(U),ie=new m("*","multiply",[ie,ve],!0);return ie}function le(U){for(var ie=ye(U),ve=ie,Ne=[];U.token==="/"&&sN(ve);)if(Ne.push(xi({},U)),V(U),U.tokenType===C.NUMBER)if(Ne.push(xi({},U)),V(U),U.tokenType===C.SYMBOL||U.token==="(")xi(U,Ne.pop()),Ne.pop(),ve=ye(U),ie=new m("/","divide",[ie,ve]);else{Ne.pop(),xi(U,Ne.pop());break}else{xi(U,Ne.pop());break}return ie}function ye(U){var ie,ve,Ne,$e;ie=Ee(U);for(var Ue={"%":"mod",mod:"mod"};xt(Ue,U.token);)ve=U.token,Ne=Ue[ve],V(U),ve==="%"&&U.tokenType===C.DELIMITER&&U.token!=="("?ie=new m("/","divide",[ie,new u(100)],!1,!0):($e=[ie,Ee(U)],ie=new m(ve,Ne,$e));return ie}function Ee(U){var ie,ve,Ne,$e={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return xt($e,U.token)?(Ne=$e[U.token],ie=U.token,V(U),ve=[Ee(U)],new m(ie,Ne,ve)):be(U)}function be(U){var ie,ve,Ne,$e;return ie=Me(U),(U.token==="^"||U.token===".^")&&(ve=U.token,Ne=ve==="^"?"pow":"dotPow",V(U),$e=[ie,Ee(U)],ie=new m(ve,Ne,$e)),ie}function Me(U){var ie,ve,Ne,$e;ie=X(U);for(var Ue={"!":"factorial","'":"ctranspose"};xt(Ue,U.token);)ve=U.token,Ne=Ue[ve],P(U),$e=[ie],ie=new m(ve,Ne,$e),ie=ae(U,ie);return ie}function X(U){var ie=[];if(U.tokenType===C.SYMBOL&&xt(U.extraNodes,U.token)){var ve=U.extraNodes[U.token];if(P(U),U.token==="("){if(ie=[],B(U),P(U),U.token!==")")for(ie.push(L(U));U.token===",";)P(U),ie.push(L(U));if(U.token!==")")throw te(U,"Parenthesis ) expected");H(U),P(U)}return new ve(ie)}return ce(U)}function ce(U){var ie,ve;return U.tokenType===C.SYMBOL||U.tokenType===C.DELIMITER&&U.token in A?(ve=U.token,P(U),xt(_,ve)?ie=new u(_[ve]):T.indexOf(ve)!==-1?ie=new u(n(ve,"number")):ie=new E(ve),ie=ae(U,ie),ie):Ce(U)}function ae(U,ie,ve){for(var Ne;(U.token==="("||U.token==="["||U.token===".")&&(!ve||ve.indexOf(U.token)!==-1);)if(Ne=[],U.token==="(")if(Ji(ie)||om(ie)){if(B(U),P(U),U.token!==")")for(Ne.push(L(U));U.token===",";)P(U),Ne.push(L(U));if(U.token!==")")throw te(U,"Parenthesis ) expected");H(U),P(U),ie=new d(ie,Ne)}else return ie;else if(U.token==="["){if(B(U),P(U),U.token!=="]")for(Ne.push(L(U));U.token===",";)P(U),Ne.push(L(U));if(U.token!=="]")throw te(U,"Parenthesis ] expected");H(U),P(U),ie=new i(ie,new f(Ne))}else{P(U);var $e=U.tokenType===C.SYMBOL||U.tokenType===C.DELIMITER&&U.token in A;if(!$e)throw te(U,"Property name expected after dot");Ne.push(new u(U.token)),P(U);var Ue=!0;ie=new i(ie,new f(Ne,Ue))}return ie}function Ce(U){var ie,ve;return U.token==='"'||U.token==="'"?(ve=Ie(U,U.token),ie=new u(ve),ie=ae(U,ie),ie):Oe(U)}function Ie(U,ie){for(var ve="";F(U)!==""&&F(U)!==ie;)if(F(U)==="\\"){$(U);var Ne=F(U),$e=M[Ne];if($e!==void 0)ve+=$e,U.index+=1;else if(Ne==="u"){var Ue=U.expression.slice(U.index+1,U.index+5);if(/^[0-9A-Fa-f]{4}$/.test(Ue))ve+=String.fromCharCode(parseInt(Ue,16)),U.index+=5;else throw te(U,"Invalid unicode character \\u".concat(Ue))}else throw te(U,"Bad escape character \\".concat(Ne))}else ve+=F(U),$(U);if(P(U),U.token!==ie)throw te(U,"End of string ".concat(ie," expected"));return P(U),ve}function Oe(U){var ie,ve,Ne,$e;if(U.token==="["){if(B(U),P(U),U.token!=="]"){var Ue=Ve(U);if(U.token===";"){for(Ne=1,ve=[Ue];U.token===";";)P(U),ve[Ne]=Ve(U),Ne++;if(U.token!=="]")throw te(U,"End of matrix ] expected");H(U),P(U),$e=ve[0].items.length;for(var ut=1;ut<Ne;ut++)if(ve[ut].items.length!==$e)throw he(U,"Column dimensions mismatch ("+ve[ut].items.length+" !== "+$e+")");ie=new a(ve)}else{if(U.token!=="]")throw te(U,"End of matrix ] expected");H(U),P(U),ie=Ue}}else H(U),P(U),ie=new a([]);return ae(U,ie)}return qe(U)}function Ve(U){for(var ie=[L(U)],ve=1;U.token===",";)P(U),ie[ve]=L(U),ve++;return new a(ie)}function qe(U){if(U.token==="{"){B(U);var ie,ve={};do if(P(U),U.token!=="}"){if(U.token==='"'||U.token==="'")ie=Ie(U,U.token);else if(U.tokenType===C.SYMBOL||U.tokenType===C.DELIMITER&&U.token in A)ie=U.token,P(U);else throw te(U,"Symbol or string expected as object key");if(U.token!==":")throw te(U,"Colon : expected after object key");P(U),ve[ie]=L(U)}while(U.token===",");if(U.token!=="}")throw te(U,"Comma , or bracket } expected after object value");H(U),P(U);var Ne=new h(ve);return Ne=ae(U,Ne),Ne}return Je(U)}function Je(U){var ie;return U.tokenType===C.NUMBER?(ie=U.token,P(U),new u(n(ie,r.number))):We(U)}function We(U){var ie;if(U.token==="("){if(B(U),P(U),ie=L(U),U.token!==")")throw te(U,"Parenthesis ) expected");return H(U),P(U),ie=new g(ie),ie=ae(U,ie),ie}return Nt(U)}function Nt(U){throw U.token===""?te(U,"Unexpected end of expression"):te(U,"Value expected")}function Pe(U){return U.index-U.token.length+1}function te(U,ie){var ve=Pe(U),Ne=new SyntaxError(ie+" (char "+ve+")");return Ne.char=ve,Ne}function he(U,ie){var ve=Pe(U),Ne=new SyntaxError(ie+" (char "+ve+")");return Ne.char=ve,Ne}return t.addConversion({from:"string",to:"Node",convert:x}),x}),nG="compile",Cht=["typed","parse"],Eht=ue(nG,Cht,e=>{var{typed:t,parse:n}=e;return t(nG,{string:function(i){return n(i).compile()},"Array | Matrix":function(i){return vn(i,function(a){return n(a).compile()})}})}),rG="evaluate",kht=["typed","parse"],Aht=ue(rG,kht,e=>{var{typed:t,parse:n}=e;return t(rG,{string:function(i){var a=l1();return n(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return n(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=l1();return vn(i,function(o){return n(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return vn(i,function(o){return n(o).compile().evaluate(a)})}})}),_ht="Parser",Mht=["evaluate"],Tht=ue(_ht,Mht,e=>{var{evaluate:t}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:l1(),writable:!1})}return n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(r){return t(r,this.scope)},n.prototype.get=function(r){if(this.scope.has(r))return this.scope.get(r)},n.prototype.getAll=function(){return qnt(this.scope)},n.prototype.getAllAsMap=function(){return this.scope},n.prototype.set=function(r,i){return this.scope.set(r,i),i},n.prototype.remove=function(r){this.scope.delete(r)},n.prototype.clear=function(){this.scope.clear()},n},{isClass:!0}),iG="parser",Nht=["typed","Parser"],Dht=ue(iG,Nht,e=>{var{typed:t,Parser:n}=e;return t(iG,{"":function(){return new n}})}),aG="lup",Rht=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Iht=ue(aG,Rht,e=>{var{typed:t,matrix:n,abs:r,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:s,larger:l,equalScalar:u,unaryMinus:c,DenseMatrix:d,SparseMatrix:f,Spa:h}=e;return t(aG,{DenseMatrix:function(y){return m(y)},SparseMatrix:function(y){return g(y)},Array:function(y){var E=n(y),x=m(E);return{L:x.L.valueOf(),U:x.U.valueOf(),p:x.p}}});function m(S){var y=S._size[0],E=S._size[1],x=Math.min(y,E),v=Zt(S._data),C=[],b=[y,x],A=[],_=[x,E],T,M,N,I=[];for(T=0;T<y;T++)I[T]=T;for(M=0;M<E;M++){if(M>0)for(T=0;T<y;T++){var F=Math.min(T,M),$=0;for(N=0;N<F;N++)$=i($,o(v[T][N],v[N][M]));v[T][M]=s(v[T][M],$)}var z=M,D=0,P=0;for(T=M;T<y;T++){var V=v[T][M],B=r(V);l(B,D)&&(z=T,D=B,P=V)}if(M!==z&&(I[M]=[I[z],I[z]=I[M]][0],d._swapRows(M,z,v)),M<y)for(T=M+1;T<y;T++){var H=v[T][M];u(H,0)||(v[T][M]=a(v[T][M],P))}}for(M=0;M<E;M++)for(T=0;T<y;T++){if(M===0&&(T<E&&(A[T]=[]),C[T]=[]),T<M){T<E&&(A[T][M]=v[T][M]),M<y&&(C[T][M]=0);continue}if(T===M){T<E&&(A[T][M]=v[T][M]),M<y&&(C[T][M]=1);continue}T<E&&(A[T][M]=0),M<y&&(C[T][M]=v[T][M])}var K=new d({data:C,size:b}),W=new d({data:A,size:_}),L=[];for(T=0,x=I.length;T<x;T++)L[I[T]]=T;return{L:K,U:W,p:L,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function g(S){var y=S._size[0],E=S._size[1],x=Math.min(y,E),v=S._values,C=S._index,b=S._ptr,A=[],_=[],T=[],M=[y,x],N=[],I=[],F=[],$=[x,E],z,D,P,V=[],B=[];for(z=0;z<y;z++)V[z]=z,B[z]=z;var H=function(L,G){var de=B[L],Q=B[G];V[de]=G,V[Q]=L,B[L]=Q,B[G]=de},K=function(){var L=new h;D<y&&(T.push(A.length),A.push(1),_.push(D)),F.push(N.length);var G=b[D],de=b[D+1];for(P=G;P<de;P++)z=C[P],L.set(V[z],v[P]);D>0&&L.forEach(0,D-1,function(se,ge){f._forEachRow(se,A,_,T,function(xe,we){xe>se&&L.accumulate(xe,c(o(we,ge)))})});var Q=D,ee=L.get(D),ne=r(ee);L.forEach(D+1,y-1,function(se,ge){var xe=r(ge);l(xe,ne)&&(Q=se,ne=xe,ee=ge)}),D!==Q&&(f._swapRows(D,Q,M[1],A,_,T),f._swapRows(D,Q,$[1],N,I,F),L.swap(D,Q),H(D,Q)),L.forEach(0,y-1,function(se,ge){se<=D?(N.push(ge),I.push(se)):(ge=a(ge,ee),u(ge,0)||(A.push(ge),_.push(se)))})};for(D=0;D<E;D++)K();return F.push(N.length),T.push(A.length),{L:new f({values:A,index:_,ptr:T,size:M}),U:new f({values:N,index:I,ptr:F,size:$}),p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),oG="qr",Oht=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],Pht=ue(oG,Oht,e=>{var{typed:t,matrix:n,zeros:r,identity:i,isZero:a,equal:o,sign:s,sqrt:l,conj:u,unaryMinus:c,addScalar:d,divideScalar:f,multiplyScalar:h,subtractScalar:m,complex:g}=e;return xi(t(oG,{DenseMatrix:function(v){return y(v)},SparseMatrix:function(v){return E()},Array:function(v){var C=n(v),b=y(C);return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:S});function S(x){var v=x._size[0],C=x._size[1],b=i([v],"dense"),A=b._data,_=x.clone(),T=_._data,M,N,I,F=r([v],"");for(I=0;I<Math.min(C,v);++I){var $=T[I][I],z=c(o($,0)?1:s($)),D=u(z),P=0;for(M=I;M<v;M++)P=d(P,h(T[M][I],u(T[M][I])));var V=h(z,l(P));if(!a(V)){var B=m($,V);for(F[I]=1,M=I+1;M<v;M++)F[M]=f(T[M][I],B);var H=c(u(f(B,V))),K=void 0;for(N=I;N<C;N++){for(K=0,M=I;M<v;M++)K=d(K,h(u(F[M]),T[M][N]));for(K=h(K,H),M=I;M<v;M++)T[M][N]=h(m(T[M][N],h(F[M],K)),D)}for(M=0;M<v;M++){for(K=0,N=I;N<v;N++)K=d(K,h(A[M][N],F[N]));for(K=h(K,H),N=I;N<v;++N)A[M][N]=f(m(A[M][N],h(K,u(F[N]))),D)}}}return{Q:b,R:_,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function y(x){var v=S(x),C=v.R._data;if(x._data.length>0)for(var b=C[0][0].type==="Complex"?g(0):0,A=0;A<C.length;++A)for(var _=0;_<A&&_<(C[0]||[]).length;++_)C[A][_]=b;return v}function E(x){throw new Error("qr not implemented for sparse matrices yet")}});function jht(e,t,n,r){for(var i=e._values,a=e._index,o=e._ptr,s=e._size,l=e._datatype,u=s[0],c=s[1],d=r&&e._values?[]:null,f=[],h=[],m=0,g=0;g<c;g++){h[g]=m;for(var S=n?n[g]:g,y=o[S],E=o[S+1],x=y;x<E;x++){var v=t?t[a[x]]:a[x];f[m]=v,d&&(d[m]=i[x]),m++}}return h[c]=m,e.createSparseMatrix({values:d,index:f,ptr:h,size:[u,c],datatype:l})}function ace(e,t,n,r,i,a,o){var s=0;for(n[o]=e;s>=0;){var l=n[o+s],u=n[r+l];u===-1?(s--,a[t++]=l):(n[r+l]=n[i+u],++s,n[o+s]=u)}return t}function Lht(e,t){if(!e)return null;var n=0,r,i=[],a=[],o=0,s=t,l=2*t;for(r=0;r<t;r++)a[o+r]=-1;for(r=t-1;r>=0;r--)e[r]!==-1&&(a[s+r]=a[o+e[r]],a[o+e[r]]=r);for(r=0;r<t;r++)e[r]===-1&&(n=ace(r,n,a,o,s,i,l));return i}function Fht(e,t){if(!e)return null;var n=e._index,r=e._ptr,i=e._size,a=i[0],o=i[1],s=[],l=[],u=0,c=o,d,f;if(t)for(d=0;d<a;d++)l[c+d]=-1;for(var h=0;h<o;h++){s[h]=-1,l[u+h]=-1;for(var m=r[h],g=r[h+1],S=m;S<g;S++){var y=n[S];for(d=t?l[c+y]:y;d!==-1&&d<h;d=f)f=l[u+d],l[u+d]=h,f===-1&&(s[d]=h);t&&(l[c+y]=h)}}return s}function Bht(e,t,n){for(var r=e._values,i=e._index,a=e._ptr,o=e._size,s=o[1],l=0,u=0;u<s;u++){var c=a[u];for(a[u]=l;c<a[u+1];c++)t(i[c],u,r?r[c]:1,n)&&(i[l]=i[c],r&&(r[l]=r[c]),l++)}return a[s]=l,i.splice(l,i.length-l),r&&r.splice(l,r.length-l),l}function rf(e){return-e-2}var zht="csAmd",$ht=["add","multiply","transpose"],Uht=ue(zht,$ht,e=>{var{add:t,multiply:n,transpose:r}=e;return function(c,d){if(!d||c<=0||c>3)return null;var f=d._size,h=f[0],m=f[1],g=0,S=Math.max(16,10*Math.sqrt(m));S=Math.min(m-2,S);var y=i(c,d,h,m,S);Bht(y,l,null);for(var E=y._index,x=y._ptr,v=x[m],C=[],b=[],A=0,_=m+1,T=2*(m+1),M=3*(m+1),N=4*(m+1),I=5*(m+1),F=6*(m+1),$=7*(m+1),z=C,D=a(m,x,b,A,M,z,T,$,_,F,N,I),P=o(m,x,b,I,N,F,S,_,M,z,T),V=0,B,H,K,W,L,G,de,Q,ee,ne,se,ge,xe,we,_e,ze;P<m;){for(K=-1;V<m&&(K=b[M+V])===-1;V++);b[T+K]!==-1&&(z[b[T+K]]=-1),b[M+V]=b[T+K];var Y=b[N+K],re=b[_+K];P+=re;var Se=0;b[_+K]=-re;var le=x[K],ye=Y===0?le:v,Ee=ye;for(W=1;W<=Y+1;W++){for(W>Y?(G=K,de=le,Q=b[A+K]-Y):(G=E[le++],de=x[G],Q=b[A+G]),L=1;L<=Q;L++)B=E[de++],!((ee=b[_+B])<=0)&&(Se+=ee,b[_+B]=-ee,E[Ee++]=B,b[T+B]!==-1&&(z[b[T+B]]=z[B]),z[B]!==-1?b[T+z[B]]=b[T+B]:b[M+b[I+B]]=b[T+B]);G!==K&&(x[G]=rf(K),b[F+G]=0)}for(Y!==0&&(v=Ee),b[I+K]=Se,x[K]=ye,b[A+K]=Ee-ye,b[N+K]=-2,D=s(D,g,b,F,m),ne=ye;ne<Ee;ne++)if(B=E[ne],!((se=b[N+B])<=0)){ee=-b[_+B];var be=D-ee;for(le=x[B],ge=x[B]+se-1;le<=ge;le++)G=E[le],b[F+G]>=D?b[F+G]-=ee:b[F+G]!==0&&(b[F+G]=b[I+G]+be)}for(ne=ye;ne<Ee;ne++){for(B=E[ne],ge=x[B],xe=ge+b[N+B]-1,we=ge,_e=0,ze=0,le=ge;le<=xe;le++)if(G=E[le],b[F+G]!==0){var Me=b[F+G]-D;Me>0?(ze+=Me,E[we++]=G,_e+=G):(x[G]=rf(K),b[F+G]=0)}b[N+B]=we-ge+1;var X=we,ce=ge+b[A+B];for(le=xe+1;le<ce;le++){H=E[le];var ae=b[_+H];ae<=0||(ze+=ae,E[we++]=H,_e+=H)}ze===0?(x[B]=rf(K),ee=-b[_+B],Se-=ee,re+=ee,P+=ee,b[_+B]=0,b[N+B]=-1):(b[I+B]=Math.min(b[I+B],ze),E[we]=E[X],E[X]=E[ge],E[ge]=K,b[A+B]=we-ge+1,_e=(_e<0?-_e:_e)%m,b[T+B]=b[$+_e],b[$+_e]=B,z[B]=_e)}for(b[I+K]=Se,g=Math.max(g,Se),D=s(D+g,g,b,F,m),ne=ye;ne<Ee;ne++)if(B=E[ne],!(b[_+B]>=0))for(_e=z[B],B=b[$+_e],b[$+_e]=-1;B!==-1&&b[T+B]!==-1;B=b[T+B],D++){for(Q=b[A+B],se=b[N+B],le=x[B]+1;le<=x[B]+Q-1;le++)b[F+E[le]]=D;var Ce=B;for(H=b[T+B];H!==-1;){var Ie=b[A+H]===Q&&b[N+H]===se;for(le=x[H]+1;Ie&&le<=x[H]+Q-1;le++)b[F+E[le]]!==D&&(Ie=0);Ie?(x[H]=rf(B),b[_+B]+=b[_+H],b[_+H]=0,b[N+H]=-1,H=b[T+H],b[T+Ce]=H):(Ce=H,H=b[T+H])}}for(le=ye,ne=ye;ne<Ee;ne++)B=E[ne],!((ee=-b[_+B])<=0)&&(b[_+B]=ee,ze=b[I+B]+Se-ee,ze=Math.min(ze,m-P-ee),b[M+ze]!==-1&&(z[b[M+ze]]=B),b[T+B]=b[M+ze],z[B]=-1,b[M+ze]=B,V=Math.min(V,ze),b[I+B]=ze,E[le++]=B);b[_+K]=re,(b[A+K]=le-ye)===0&&(x[K]=-1,b[F+K]=0),Y!==0&&(v=le)}for(B=0;B<m;B++)x[B]=rf(x[B]);for(H=0;H<=m;H++)b[M+H]=-1;for(H=m;H>=0;H--)b[_+H]>0||(b[T+H]=b[M+x[H]],b[M+x[H]]=H);for(G=m;G>=0;G--)b[_+G]<=0||x[G]!==-1&&(b[T+G]=b[M+x[G]],b[M+x[G]]=G);for(K=0,B=0;B<=m;B++)x[B]===-1&&(K=ace(B,K,b,M,T,C,F));return C.splice(C.length-1,1),C};function i(u,c,d,f,h){var m=r(c);if(u===1&&f===d)return t(c,m);if(u===2){for(var g=m._index,S=m._ptr,y=0,E=0;E<d;E++){var x=S[E];if(S[E]=y,!(S[E+1]-x>h))for(var v=S[E+1];x<v;x++)g[y++]=g[x]}return S[d]=y,c=r(m),n(m,c)}return n(m,c)}function a(u,c,d,f,h,m,g,S,y,E,x,v){for(var C=0;C<u;C++)d[f+C]=c[C+1]-c[C];d[f+u]=0;for(var b=0;b<=u;b++)d[h+b]=-1,m[b]=-1,d[g+b]=-1,d[S+b]=-1,d[y+b]=1,d[E+b]=1,d[x+b]=0,d[v+b]=d[f+b];var A=s(0,0,d,E,u);return d[x+u]=-2,c[u]=-1,d[E+u]=0,A}function o(u,c,d,f,h,m,g,S,y,E,x){for(var v=0,C=0;C<u;C++){var b=d[f+C];if(b===0)d[h+C]=-2,v++,c[C]=-1,d[m+C]=0;else if(b>g)d[S+C]=0,d[h+C]=-1,v++,c[C]=rf(u),d[S+u]++;else{var A=d[y+b];A!==-1&&(E[A]=C),d[x+C]=d[y+b],d[y+b]=C}}return v}function s(u,c,d,f,h){if(u<2||u+c<0){for(var m=0;m<h;m++)d[f+m]!==0&&(d[f+m]=1);u=2}return u}function l(u,c){return u!==c}});function Vht(e,t,n,r,i,a,o){var s,l,u=0,c;if(e<=t||n[r+t]<=n[i+e])return-1;n[i+e]=n[r+t];var d=n[a+e];if(n[a+e]=t,d===-1)u=1,c=e;else{for(u=2,c=d;c!==n[o+c];c=n[o+c]);for(s=d;s!==c;s=l)l=n[o+s],n[o+s]=c}return{jleaf:u,q:c}}var Hht="csCounts",qht=["transpose"],Wht=ue(Hht,qht,e=>{var{transpose:t}=e;return function(n,r,i,a){if(!n||!r||!i)return null;var o=n._size,s=o[0],l=o[1],u,c,d,f,h,m,g,S=4*l+(a?l+s+1:0),y=[],E=0,x=l,v=2*l,C=3*l,b=4*l,A=5*l+1;for(d=0;d<S;d++)y[d]=-1;var _=[],T=t(n),M=T._index,N=T._ptr;for(d=0;d<l;d++)for(c=i[d],_[c]=y[C+c]===-1?1:0;c!==-1&&y[C+c]===-1;c=r[c])y[C+c]=d;if(a){for(d=0;d<l;d++)y[i[d]]=d;for(u=0;u<s;u++){for(d=l,m=N[u],g=N[u+1],h=m;h<g;h++)d=Math.min(d,y[M[h]]);y[A+u]=y[b+d],y[b+d]=u}}for(u=0;u<l;u++)y[E+u]=u;for(d=0;d<l;d++){for(c=i[d],r[c]!==-1&&_[r[c]]--,f=a?y[b+d]:c;f!==-1;f=a?y[A+f]:-1)for(h=N[f];h<N[f+1];h++){u=M[h];var I=Vht(u,c,y,C,x,v,E);I.jleaf>=1&&_[c]++,I.jleaf===2&&_[I.q]--}r[c]!==-1&&(y[E+c]=r[c])}for(c=0;c<l;c++)r[c]!==-1&&(_[r[c]]+=_[c]);return _}}),Ght="csSqr",Kht=["add","multiply","transpose"],Yht=ue(Ght,Kht,e=>{var{add:t,multiply:n,transpose:r}=e,i=Uht({add:t,multiply:n,transpose:r}),a=Wht({transpose:r});return function(l,u,c){var d=u._ptr,f=u._size,h=f[1],m,g={};if(g.q=i(l,u),l&&!g.q)return null;if(c){var S=l?jht(u,null,g.q,0):u;g.parent=Fht(S,1);var y=Lht(g.parent,h);if(g.cp=a(S,g.parent,y,1),S&&g.parent&&g.cp&&o(S,g))for(g.unz=0,m=0;m<h;m++)g.unz+=g.cp[m]}else g.unz=4*d[h]+h,g.lnz=g.unz;return g};function o(s,l){var u=s._ptr,c=s._index,d=s._size,f=d[0],h=d[1];l.pinv=[],l.leftmost=[];var m=l.parent,g=l.pinv,S=l.leftmost,y=[],E=0,x=f,v=f+h,C=f+2*h,b,A,_,T,M;for(A=0;A<h;A++)y[x+A]=-1,y[v+A]=-1,y[C+A]=0;for(b=0;b<f;b++)S[b]=-1;for(A=h-1;A>=0;A--)for(T=u[A],M=u[A+1],_=T;_<M;_++)S[c[_]]=A;for(b=f-1;b>=0;b--)g[b]=-1,A=S[b],A!==-1&&(y[C+A]++===0&&(y[v+A]=b),y[E+b]=y[x+A],y[x+A]=b);for(l.lnz=0,l.m2=f,A=0;A<h;A++)if(b=y[x+A],l.lnz++,b<0&&(b=l.m2++),g[b]=A,!(--C[A]<=0)){l.lnz+=y[C+A];var N=m[A];N!==-1&&(y[C+N]===0&&(y[v+N]=y[v+A]),y[E+y[v+A]]=y[x+N],y[x+N]=y[E+b],y[C+N]+=y[C+A])}for(b=0;b<f;b++)g[b]<0&&(g[b]=A++);return!0}});function SN(e,t){return e[t]<0}function oce(e,t){e[t]=rf(e[t])}function sG(e){return e<0?rf(e):e}function Jht(e,t,n,r,i){var a=t._index,o=t._ptr,s=t._size,l=s[1],u,c,d,f=0;for(r[0]=e;f>=0;){e=r[f];var h=i?i[e]:e;SN(o,e)||(oce(o,e),r[l+f]=h<0?0:sG(o[h]));var m=1;for(c=r[l+f],d=h<0?0:sG(o[h+1]);c<d;c++)if(u=a[c],!SN(o,u)){r[l+f]=c,r[++f]=u,m=0;break}m&&(f--,r[--n]=e)}return n}function Qht(e,t,n,r,i){var a=e._ptr,o=e._size,s=t._index,l=t._ptr,u=o[1],c,d,f,h=u;for(d=l[n],f=l[n+1],c=d;c<f;c++){var m=s[c];SN(a,m)||(h=Jht(m,e,h,r,i))}for(c=h;c<u;c++)oce(a,r[c]);return h}var Xht="csSpsolve",Zht=["divideScalar","multiply","subtract"],ept=ue(Xht,Zht,e=>{var{divideScalar:t,multiply:n,subtract:r}=e;return function(a,o,s,l,u,c,d){var f=a._values,h=a._index,m=a._ptr,g=a._size,S=g[1],y=o._values,E=o._index,x=o._ptr,v,C,b,A,_=Qht(a,o,s,l,c);for(v=_;v<S;v++)u[l[v]]=0;for(C=x[s],b=x[s+1],v=C;v<b;v++)u[E[v]]=y[v];for(var T=_;T<S;T++){var M=l[T],N=c?c[M]:M;if(!(N<0))for(C=m[N],b=m[N+1],u[M]=t(u[M],f[d?C:b-1]),v=d?C+1:C,A=d?b:b-1;v<A;v++){var I=h[v];u[I]=r(u[I],n(f[v],u[M]))}}return _}}),tpt="csLu",npt=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],rpt=ue(tpt,npt,e=>{var{abs:t,divideScalar:n,multiply:r,subtract:i,larger:a,largerEq:o,SparseMatrix:s}=e,l=ept({divideScalar:n,multiply:r,subtract:i});return function(c,d,f){if(!c)return null;var h=c._size,m=h[1],g,S=100,y=100;d&&(g=d.q,S=d.lnz||S,y=d.unz||y);var E=[],x=[],v=[],C=new s({values:E,index:x,ptr:v,size:[m,m]}),b=[],A=[],_=[],T=new s({values:b,index:A,ptr:_,size:[m,m]}),M=[],N,I,F=[],$=[];for(N=0;N<m;N++)F[N]=0,M[N]=-1,v[N+1]=0;S=0,y=0;for(var z=0;z<m;z++){v[z]=S,_[z]=y;var D=g?g[z]:z,P=l(C,c,D,$,F,M,1),V=-1,B=-1;for(I=P;I<m;I++)if(N=$[I],M[N]<0){var H=t(F[N]);a(H,B)&&(B=H,V=N)}else A[y]=M[N],b[y++]=F[N];if(V===-1||B<=0)return null;M[D]<0&&o(t(F[D]),r(B,f))&&(V=D);var K=F[V];for(A[y]=z,b[y++]=K,M[V]=z,x[S]=V,E[S++]=1,I=P;I<m;I++)N=$[I],M[N]<0&&(x[S]=N,E[S++]=n(F[N],K)),F[N]=0}for(v[m]=S,_[m]=y,I=0;I<S;I++)x[I]=M[x[I]];return E.splice(S,E.length-S),x.splice(S,x.length-S),b.splice(y,b.length-y),A.splice(y,A.length-y),{L:C,U:T,pinv:M}}}),lG="slu",ipt=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],apt=ue(lG,ipt,e=>{var{typed:t,abs:n,add:r,multiply:i,transpose:a,divideScalar:o,subtract:s,larger:l,largerEq:u,SparseMatrix:c}=e,d=Yht({add:r,multiply:i,transpose:a}),f=rpt({abs:n,divideScalar:o,multiply:i,subtract:s,larger:l,largerEq:u,SparseMatrix:c});return t(lG,{"SparseMatrix, number, number":function(m,g,S){if(!Dt(g)||g<0||g>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(S<0||S>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var y=d(g,m,!1),E=f(m,y,S);return{L:E.L,U:E.U,p:E.pinv,q:y.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function uG(e,t){var n,r=t.length,i=[];if(e)for(n=0;n<r;n++)i[e[n]]=t[n];else for(n=0;n<r;n++)i[n]=t[n];return i}var cG="lusolve",opt=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],spt=ue(cG,opt,e=>{var{typed:t,matrix:n,lup:r,slu:i,usolve:a,lsolve:o,DenseMatrix:s}=e,l=tw({DenseMatrix:s});return t(cG,{"Array, Array | Matrix":function(f,h){f=n(f);var m=r(f),g=c(m.L,m.U,m.p,null,h);return g.valueOf()},"DenseMatrix, Array | Matrix":function(f,h){var m=r(f);return c(m.L,m.U,m.p,null,h)},"SparseMatrix, Array | Matrix":function(f,h){var m=r(f);return c(m.L,m.U,m.p,null,h)},"SparseMatrix, Array | Matrix, number, number":function(f,h,m,g){var S=i(f,m,g);return c(S.L,S.U,S.p,S.q,h)},"Object, Array | Matrix":function(f,h){return c(f.L,f.U,f.p,f.q,h)}});function u(d){if(Ft(d))return d;if(Vn(d))return n(d);throw new TypeError("Invalid Matrix LU decomposition")}function c(d,f,h,m,g){d=u(d),f=u(f),h&&(g=l(d,g,!0),g._data=uG(h,g._data));var S=o(d,g),y=a(f,S);return m&&(y._data=uG(m,y._data)),y}}),dG="polynomialRoot",lpt=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],upt=ue(dG,lpt,e=>{var{typed:t,isZero:n,equalScalar:r,add:i,subtract:a,multiply:o,divide:s,sqrt:l,unaryMinus:u,cbrt:c,typeOf:d,im:f,re:h}=e;return t(dG,{"number|Complex, ...number|Complex":(m,g)=>{for(var S=[m,...g];S.length>0&&n(S[S.length-1]);)S.pop();if(S.length<2)throw new RangeError("Polynomial [".concat(m,", ").concat(g,"] must have a non-zero non-constant coefficient"));switch(S.length){case 2:return[u(s(S[0],S[1]))];case 3:{var[y,E,x]=S,v=o(2,x),C=o(E,E),b=o(4,x,y);if(r(C,b))return[s(u(E),v)];var A=l(a(C,b));return[s(a(A,E),v),s(a(u(A),E),v)]}case 4:{var[_,T,M,N]=S,I=u(o(3,N)),F=o(M,M),$=o(3,N,T),z=i(o(2,M,M,M),o(27,N,N,_)),D=o(9,N,M,T);if(r(F,$)&&r(z,D))return[s(M,I)];var P=a(F,$),V=a(z,D),B=i(o(18,N,M,T,_),o(M,M,T,T)),H=i(o(4,M,M,M,_),o(4,N,T,T,T),o(27,N,N,_,_));if(r(B,H))return[s(a(o(4,N,M,T),i(o(9,N,N,_),o(M,M,M))),o(N,P)),s(a(o(9,N,_),o(M,T)),o(2,P))];var K;r(F,$)?K=V:K=s(i(V,l(a(o(V,V),o(4,P,P,P)))),2);var W=!0,L=c(K,W).toArray().map(G=>s(i(M,G,s(P,G)),I));return L.map(G=>d(G)==="Complex"&&r(h(G),h(G)+f(G))?h(G):G)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(S))}}})}),cpt="Help",dpt=["parse"],fpt=ue(cpt,dpt,e=>{var{parse:t}=e;function n(r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!r)throw new Error('Argument "doc" missing');this.doc=r}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var r=this.doc||{},i=`
`;if(r.name&&(i+="Name: "+r.name+`

`),r.category&&(i+="Category: "+r.category+`

`),r.description&&(i+=`Description:
    `+r.description+`

`),r.syntax&&(i+=`Syntax:
    `+r.syntax.join(`
    `)+`

`),r.examples){i+=`Examples:
`;for(var a={},o=0;o<r.examples.length;o++){var s=r.examples[o];i+="    "+s+`
`;var l=void 0;try{l=t(s).compile().evaluate(a)}catch(u){l=u}l!==void 0&&!hle(l)&&(i+="        "+cn(l,{precision:14})+`
`)}i+=`
`}return r.mayThrow&&r.mayThrow.length&&(i+="Throws: "+r.mayThrow.join(", ")+`

`),r.seealso&&r.seealso.length&&(i+="See also: "+r.seealso.join(", ")+`
`),i},n.prototype.toJSON=function(){var r=Zt(this.doc);return r.mathjs="Help",r},n.fromJSON=function(r){var i={};return Object.keys(r).filter(a=>a!=="mathjs").forEach(a=>{i[a]=r[a]}),new n(i)},n.prototype.valueOf=n.prototype.toString,n},{isClass:!0}),hpt="Chain",ppt=["?on","math","typed"],mpt=ue(hpt,ppt,e=>{var{on:t,math:n,typed:r}=e;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");ple(u)?this.value=u.value:this.value=u}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return cn(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(u){return new i(u.value)};function a(u,c){typeof c=="function"&&(i.prototype[u]=s(c))}function o(u,c){lnt(i.prototype,u,function(){var f=c();if(typeof f=="function")return s(f)})}function s(u){return function(){if(arguments.length===0)return new i(u(this.value));for(var c=[this.value],d=0;d<arguments.length;d++)c[d+1]=arguments[d];if(r.isTypedFunction(u)){var f=r.resolve(u,c);if(f.params.length===1)throw new Error("chain function "+u.name+" cannot match rest parameter between chain value and additional arguments.");return new i(f.implementation.apply(u,c))}return new i(u.apply(u,c))}}i.createProxy=function(u,c){if(typeof u=="string")a(u,c);else{var d=function(m){xt(u,m)&&l[m]===void 0&&o(m,()=>u[m])};for(var f in u)d(f)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(n),t&&t("import",function(u,c,d){d||o(u,c)}),i},{isClass:!0}),fG={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},gpt={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},vpt={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},ypt={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},bpt={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},wpt={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},xpt={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},Spt={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},Cpt={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},Ept={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},kpt={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},hG={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},Apt={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},_pt={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},Mpt={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},Tpt={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},Npt={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},Dpt={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},Rpt={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},Ipt={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},Opt={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},Ppt={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},jpt={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},Lpt={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},Fpt={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},Bpt={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},zpt={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},$pt={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},Upt={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},Vpt={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},Hpt={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},qpt={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},Wpt={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},Gpt={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},Kpt={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},Ypt={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},Jpt={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},Qpt={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},Xpt={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},Zpt={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},emt={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},tmt={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},nmt={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},rmt={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},imt={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},amt={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},omt={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},smt={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},lmt={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},umt={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},cmt={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},dmt={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},fmt={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},hmt={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},pmt={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},mmt={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},gmt={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},vmt={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},ymt={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},bmt={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},wmt={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},xmt={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},Smt={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},Cmt={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},Emt={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},kmt={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax ≣ 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},Amt={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},_mt={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},Mmt={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},Tmt={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},Nmt={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},Dmt={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},Rmt={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},Imt={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},Omt={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},Pmt={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},jmt={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},Lmt={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},Fmt={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},Bmt={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},zmt={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},$mt={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},Umt={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},Vmt={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},Hmt={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},qmt={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},Wmt={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},Gmt={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},Kmt={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},Ymt={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},Jmt={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},Qmt={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},Xmt={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},Zmt={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},egt={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},tgt={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},ngt={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},rgt={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},igt={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},agt={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},ogt={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},sgt={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},lgt={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},ugt={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},cgt={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},dgt={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},fgt={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},hgt={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},pgt={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},mgt={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},ggt={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},vgt={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},ygt={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},bgt={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},wgt={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},xgt={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},Sgt={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},Cgt={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Egt={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},kgt={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},Agt={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},_gt={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false }"],seealso:["inv"]},Mgt={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},Tgt={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},Ngt={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},Dgt={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},Rgt={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Igt={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Ogt={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore–Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},Pgt={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},jgt={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},Lgt={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},Fgt={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},Bgt={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},zgt={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},$gt={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},Ugt={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},Vgt={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},Hgt={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},qgt={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},Wgt={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},Ggt={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},Kgt={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},Ygt={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},Jgt={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},Qgt={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},Xgt={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},Zgt={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},e0t={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},t0t={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},n0t={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},r0t={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},i0t={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},a0t={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},o0t={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},s0t={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},l0t={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},u0t={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},c0t={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},d0t={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},f0t={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},h0t={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},p0t={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},m0t={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},g0t={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},v0t={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},y0t={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},b0t={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},w0t={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},x0t={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},S0t={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},C0t={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},E0t={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},k0t={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},A0t={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},_0t={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},M0t={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},T0t={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},N0t={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},D0t={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},R0t={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},I0t={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},O0t={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},P0t={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},j0t={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},L0t={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},F0t={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},B0t={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},z0t={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},$0t={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},U0t={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},V0t={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},H0t={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},q0t={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},W0t={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},G0t={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},K0t={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},Y0t={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},J0t={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},Q0t={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},X0t={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},Z0t={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},e1t={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},t1t={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},n1t={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},r1t={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},i1t={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},a1t={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},o1t={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},s1t={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},l1t={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},u1t={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},c1t={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},d1t={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},f1t={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},h1t={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},p1t={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},m1t={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},g1t={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},v1t={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},y1t={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},b1t={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},w1t={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},x1t={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},S1t={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},C1t={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},E1t={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},k1t={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},A1t={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},_1t={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},M1t={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},T1t={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},N1t={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},D1t={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},R1t={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},I1t={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},O1t={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},P1t={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},j1t={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]},L1t={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},F1t={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},B1t={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},z1t={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},$1t={bignumber:Dpt,boolean:Rpt,complex:Ipt,createUnit:Opt,fraction:Ppt,index:jpt,matrix:Lpt,number:Fpt,sparse:Bpt,splitUnit:zpt,string:$pt,unit:Upt,e:fG,E:fG,false:gpt,i:vpt,Infinity:ypt,LN2:wpt,LN10:bpt,LOG2E:Spt,LOG10E:xpt,NaN:Cpt,null:Ept,pi:hG,PI:hG,phi:kpt,SQRT1_2:Apt,SQRT2:_pt,tau:Mpt,true:Tpt,version:Npt,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:Wpt,lsolve:Kpt,lsolveAll:Ypt,lup:Jpt,lusolve:Qpt,leafCount:Gpt,polynomialRoot:Xpt,resolve:tmt,simplify:nmt,simplifyConstant:rmt,simplifyCore:imt,symbolicEqual:omt,rationalize:emt,slu:amt,usolve:smt,usolveAll:lmt,qr:Zpt,abs:umt,add:cmt,cbrt:dmt,ceil:fmt,cube:hmt,divide:pmt,dotDivide:mmt,dotMultiply:gmt,dotPow:vmt,exp:ymt,expm:bmt,expm1:wmt,fix:xmt,floor:Smt,gcd:Cmt,hypot:Emt,lcm:Amt,log:_mt,log2:Nmt,log1p:Tmt,log10:Mmt,mod:Dmt,multiply:Rmt,norm:Imt,nthRoot:Omt,nthRoots:Pmt,pow:jmt,round:Lmt,sign:Fmt,sqrt:Bmt,sqrtm:zmt,square:Hmt,subtract:qmt,unaryMinus:Wmt,unaryPlus:Gmt,xgcd:Kmt,invmod:kmt,bitAnd:Ymt,bitNot:Jmt,bitOr:Qmt,bitXor:Xmt,leftShift:Zmt,rightArithShift:egt,rightLogShift:tgt,bellNumbers:ngt,catalan:rgt,composition:igt,stirlingS2:agt,config:Vpt,import:Hpt,typed:qpt,arg:ogt,conj:sgt,re:ugt,im:lgt,evaluate:cgt,help:dgt,distance:fgt,intersect:hgt,and:pgt,not:mgt,or:ggt,xor:vgt,concat:bgt,count:wgt,cross:xgt,column:ygt,ctranspose:Sgt,det:Cgt,diag:Egt,diff:kgt,dot:Agt,getMatrixDataType:Dgt,identity:Rgt,filter:Mgt,flatten:Tgt,forEach:Ngt,inv:Igt,pinv:Ogt,eigs:_gt,kron:Pgt,matrixFromFunction:Fgt,matrixFromRows:Bgt,matrixFromColumns:Lgt,map:jgt,ones:zgt,partitionSelect:$gt,range:Ugt,resize:Hgt,reshape:Vgt,rotate:qgt,rotationMatrix:Wgt,row:Ggt,size:Kgt,sort:Ygt,squeeze:Jgt,subset:Qgt,trace:Xgt,transpose:Zgt,zeros:e0t,fft:t0t,ifft:n0t,sylvester:$mt,schur:Umt,lyap:Vmt,solveODE:z1t,combinations:r0t,combinationsWithRep:i0t,factorial:a0t,gamma:o0t,kldivergence:l0t,lgamma:s0t,multinomial:u0t,permutations:c0t,pickRandom:d0t,random:f0t,randomInt:h0t,compare:p0t,compareNatural:m0t,compareText:g0t,deepEqual:v0t,equal:y0t,equalText:b0t,larger:w0t,largerEq:x0t,smaller:S0t,smallerEq:C0t,unequal:E0t,setCartesian:k0t,setDifference:A0t,setDistinct:_0t,setIntersect:M0t,setIsSubset:T0t,setMultiplicity:N0t,setPowerset:D0t,setSize:R0t,setSymDifference:I0t,setUnion:O0t,zpk2tf:P0t,freqz:j0t,erf:L0t,zeta:F0t,cumsum:K0t,mad:B0t,max:z0t,mean:$0t,median:U0t,min:V0t,mode:H0t,prod:q0t,quantileSeq:W0t,std:G0t,sum:Y0t,variance:J0t,corr:Q0t,acos:X0t,acosh:Z0t,acot:e1t,acoth:t1t,acsc:n1t,acsch:r1t,asec:i1t,asech:a1t,asin:o1t,asinh:s1t,atan:l1t,atanh:c1t,atan2:u1t,cos:d1t,cosh:f1t,cot:h1t,coth:p1t,csc:m1t,csch:g1t,sec:v1t,sech:y1t,sin:b1t,sinh:w1t,tan:x1t,tanh:S1t,to:C1t,clone:k1t,format:A1t,bin:E1t,oct:L1t,hex:M1t,isNaN:N1t,isInteger:T1t,isNegative:D1t,isNumeric:R1t,hasNumericValue:_1t,isPositive:I1t,isPrime:O1t,isZero:P1t,print:F1t,typeOf:B1t,numeric:j1t},pG="help",U1t=["typed","mathWithTransform","Help"],V1t=ue(pG,U1t,e=>{var{typed:t,mathWithTransform:n,Help:r}=e;return t(pG,{any:function(a){var o,s=a;if(typeof a!="string"){for(o in n)if(xt(n,o)&&a===n[o]){s=o;break}}var l=bo($1t,s);if(!l){var u=typeof s=="function"?s.name:s;throw new Error('No documentation found on "'+u+'"')}return new r(l)}})}),mG="chain",H1t=["typed","Chain"],q1t=ue(mG,H1t,e=>{var{typed:t,Chain:n}=e;return t(mG,{"":function(){return new n},any:function(i){return new n(i)}})}),gG="det",W1t=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],G1t=ue(gG,W1t,e=>{var{typed:t,matrix:n,subtractScalar:r,multiply:i,divideScalar:a,isZero:o,unaryMinus:s}=e;return t(gG,{any:function(c){return Zt(c)},"Array | Matrix":function(c){var d;switch(Ft(c)?d=c.size():Array.isArray(c)?(c=n(c),d=c.size()):d=[],d.length){case 0:return Zt(c);case 1:if(d[0]===1)return Zt(c.valueOf()[0]);if(d[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+cn(d)+")");case 2:{var f=d[0],h=d[1];if(f===h)return l(c.clone().valueOf(),f);if(h===0)return 1;throw new RangeError("Matrix must be square (size: "+cn(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+cn(d)+")")}}});function l(u,c,d){if(c===1)return Zt(u[0][0]);if(c===2)return r(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var f=!1,h=new Array(c).fill(0).map((A,_)=>_),m=0;m<c;m++){var g=h[m];if(o(u[g][m])){var S=void 0;for(S=m+1;S<c;S++)if(!o(u[h[S]][m])){g=h[S],h[S]=h[m],h[m]=g,f=!f;break}if(S===c)return u[g][m]}for(var y=u[g][m],E=m===0?1:u[h[m-1]][m-1],x=m+1;x<c;x++)for(var v=h[x],C=m+1;C<c;C++)u[v][C]=a(r(i(u[v][C],y),i(u[v][m],u[g][C])),E)}var b=u[h[c-1]][c-1];return f?s(b):b}}),vG="inv",K1t=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Y1t=ue(vG,K1t,e=>{var{typed:t,matrix:n,divideScalar:r,addScalar:i,multiply:a,unaryMinus:o,det:s,identity:l,abs:u}=e;return t(vG,{"Array | Matrix":function(f){var h=Ft(f)?f.size():nn(f);switch(h.length){case 1:if(h[0]===1)return Ft(f)?n([r(1,f.valueOf()[0])]):[r(1,f[0])];throw new RangeError("Matrix must be square (size: "+cn(h)+")");case 2:{var m=h[0],g=h[1];if(m===g)return Ft(f)?n(c(f.valueOf(),m,g),f.storage()):c(f,m,g);throw new RangeError("Matrix must be square (size: "+cn(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+cn(h)+")")}},any:function(f){return r(1,f)}});function c(d,f,h){var m,g,S,y,E;if(f===1){if(y=d[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,y)]]}else if(f===2){var x=s(d);if(x===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(d[1][1],x),r(o(d[0][1]),x)],[r(o(d[1][0]),x),r(d[0][0],x)]]}else{var v=d.concat();for(m=0;m<f;m++)v[m]=v[m].concat();for(var C=l(f).valueOf(),b=0;b<h;b++){var A=u(v[b][b]),_=b;for(m=b+1;m<f;)u(v[m][b])>A&&(A=u(v[m][b]),_=m),m++;if(A===0)throw Error("Cannot calculate inverse, determinant is zero");m=_,m!==b&&(E=v[b],v[b]=v[m],v[m]=E,E=C[b],C[b]=C[m],C[m]=E);var T=v[b],M=C[b];for(m=0;m<f;m++){var N=v[m],I=C[m];if(m!==b){if(N[b]!==0){for(S=r(o(N[b]),T[b]),g=b;g<h;g++)N[g]=i(N[g],a(S,T[g]));for(g=0;g<h;g++)I[g]=i(I[g],a(S,M[g]))}}else{for(S=T[b],g=b;g<h;g++)N[g]=r(N[g],S);for(g=0;g<h;g++)I[g]=r(I[g],S)}}}return C}}}),yG="pinv",J1t=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],Q1t=ue(yG,J1t,e=>{var{typed:t,matrix:n,inv:r,deepEqual:i,equal:a,dotDivide:o,dot:s,ctranspose:l,divideScalar:u,multiply:c,add:d,Complex:f}=e;return t(yG,{"Array | Matrix":function(x){var v=Ft(x)?x.size():nn(x);switch(v.length){case 1:return y(x)?l(x):v[0]===1?r(x):o(l(x),s(x,x));case 2:{if(y(x))return l(x);var C=v[0],b=v[1];if(C===b)try{return r(x)}catch(A){if(!(A instanceof Error&&A.message.match(/Cannot calculate inverse, determinant is zero/)))throw A}return Ft(x)?n(h(x.valueOf(),C,b),x.storage()):h(x,C,b)}default:throw new RangeError("Matrix must be two dimensional (size: "+cn(v)+")")}},any:function(x){return a(x,0)?Zt(x):u(1,x)}});function h(E,x,v){var{C,F:b}=g(E,x,v),A=c(r(c(l(C),C)),l(C)),_=c(l(b),r(c(b,l(b))));return c(_,A)}function m(E,x,v){for(var C=Zt(E),b=0,A=0;A<x;A++){if(v<=b)return C;for(var _=A;S(C[_][b]);)if(_++,x===_&&(_=A,b++,v===b))return C;[C[_],C[A]]=[C[A],C[_]];for(var T=C[A][b],M=0;M<v;M++)C[A][M]=o(C[A][M],T);for(var N=0;N<x;N++)if(N!==A){T=C[N][b];for(var I=0;I<v;I++)C[N][I]=d(C[N][I],c(-1,c(T,C[A][I])))}b++}return C}function g(E,x,v){var C=m(E,x,v),b=E.map((_,T)=>_.filter((M,N)=>N<x&&!S(s(C[N],C[N])))),A=C.filter((_,T)=>!S(s(C[T],C[T])));return{C:b,F:A}}function S(E){return a(d(E,f(1,1)),d(0,f(1,1)))}function y(E){return i(d(E,f(1,1)),d(c(E,0),f(1,1)))}});function X1t(e){var{addScalar:t,subtract:n,flatten:r,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:s,abs:l,bignumber:u,diag:c,size:d,reshape:f,inv:h,qr:m,usolve:g,usolveAll:S,equal:y,complex:E,larger:x,smaller:v,matrixFromColumns:C,dot:b}=e;function A(W,L,G,de){var Q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ee=_(W,L,G,de,Q);T(W,L,G,de,Q,ee);var{values:ne,C:se}=M(W,L,G,de,Q);if(Q){var ge=N(W,L,se,ee,ne,G,de);return{values:ne,eigenvectors:ge}}return{values:ne}}function _(W,L,G,de,Q){var ee=de==="BigNumber",ne=de==="Complex",se=ee?u(0):0,ge=ee?u(1):ne?E(1):1,xe=ee?u(1):1,we=ee?u(10):2,_e=a(we,we),ze;Q&&(ze=Array(L).fill(ge));for(var Y=!1;!Y;){Y=!0;for(var re=0;re<L;re++){for(var Se=se,le=se,ye=0;ye<L;ye++)re!==ye&&(Se=t(Se,l(W[ye][re])),le=t(le,l(W[re][ye])));if(!y(Se,0)&&!y(le,0)){for(var Ee=xe,be=Se,Me=o(le,we),X=a(le,we);v(be,Me);)be=a(be,_e),Ee=a(Ee,we);for(;x(be,X);)be=o(be,_e),Ee=o(Ee,we);var ce=v(o(t(be,le),Ee),a(t(Se,le),.95));if(ce){Y=!1;for(var ae=o(1,Ee),Ce=0;Ce<L;Ce++)re!==Ce&&(W[re][Ce]=a(W[re][Ce],ae),W[Ce][re]=a(W[Ce][re],Ee));Q&&(ze[re]=a(ze[re],ae))}}}}return Q?c(ze):null}function T(W,L,G,de,Q,ee){var ne=de==="BigNumber",se=de==="Complex",ge=ne?u(0):se?E(0):0;ne&&(G=u(G));for(var xe=0;xe<L-2;xe++){for(var we=0,_e=ge,ze=xe+1;ze<L;ze++){var Y=W[ze][xe];v(l(_e),l(Y))&&(_e=Y,we=ze)}if(!v(l(_e),G)){if(we!==xe+1){var re=W[we];W[we]=W[xe+1],W[xe+1]=re;for(var Se=0;Se<L;Se++){var le=W[Se][we];W[Se][we]=W[Se][xe+1],W[Se][xe+1]=le}if(Q){var ye=ee[we];ee[we]=ee[xe+1],ee[xe+1]=ye}}for(var Ee=xe+2;Ee<L;Ee++){var be=o(W[Ee][xe],_e);if(be!==0){for(var Me=0;Me<L;Me++)W[Ee][Me]=n(W[Ee][Me],a(be,W[xe+1][Me]));for(var X=0;X<L;X++)W[X][xe+1]=t(W[X][xe+1],a(be,W[X][Ee]));if(Q)for(var ce=0;ce<L;ce++)ee[Ee][ce]=n(ee[Ee][ce],a(be,ee[xe+1][ce]))}}}}return ee}function M(W,L,G,de,Q){var ee=de==="BigNumber",ne=de==="Complex",se=ee?u(1):ne?E(1):1;ee&&(G=u(G));for(var ge=Zt(W),xe=[],we=L,_e=[],ze=Q?c(Array(L).fill(se)):void 0,Y=Q?c(Array(we).fill(se)):void 0,re=0;re<=100;){re+=1;for(var Se=ge[we-1][we-1],le=0;le<we;le++)ge[le][le]=n(ge[le][le],Se);var{Q:ye,R:Ee}=m(ge);ge=i(Ee,ye);for(var be=0;be<we;be++)ge[be][be]=t(ge[be][be],Se);if(Q&&(Y=i(Y,ye)),we===1||v(l(ge[we-1][we-2]),G)){re=0,xe.push(ge[we-1][we-1]),Q&&(_e.unshift([[1]]),$(Y,L),ze=i(ze,Y),we>1&&(Y=c(Array(we-1).fill(se)))),we-=1,ge.pop();for(var Me=0;Me<we;Me++)ge[Me].pop()}else if(we===2||v(l(ge[we-2][we-3]),G)){re=0;var X=I(ge[we-2][we-2],ge[we-2][we-1],ge[we-1][we-2],ge[we-1][we-1]);xe.push(...X),Q&&(_e.unshift(F(ge[we-2][we-2],ge[we-2][we-1],ge[we-1][we-2],ge[we-1][we-1],X[0],X[1],G,de)),$(Y,L),ze=i(ze,Y),we>2&&(Y=c(Array(we-2).fill(se)))),we-=2,ge.pop(),ge.pop();for(var ce=0;ce<we;ce++)ge[ce].pop(),ge[ce].pop()}if(we===0)break}if(xe.sort((Ie,Oe)=>+n(l(Ie),l(Oe))),re>100){var ae=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+xe.join(", "));throw ae.values=xe,ae.vectors=[],ae}var Ce=Q?i(ze,z(_e,L)):void 0;return{values:xe,C:Ce}}function N(W,L,G,de,Q,ee,ne){var se=h(G),ge=i(se,W,G),xe=ne==="BigNumber",we=ne==="Complex",_e=xe?u(0):we?E(0):0,ze=xe?u(1):we?E(1):1,Y=[],re=[];for(var Se of Q){var le=D(Y,Se,y);le===-1?(Y.push(Se),re.push(1)):re[le]+=1}for(var ye=[],Ee=Y.length,be=Array(L).fill(_e),Me=c(Array(L).fill(ze)),X=function(){var Ce=Y[ce],Ie=n(ge,i(Ce,Me)),Oe=S(Ie,be);for(Oe.shift();Oe.length<re[ce];){var Ve=P(Ie,L,Oe,ee,ne);if(Ve===null)break;Oe.push(Ve)}var qe=i(h(de),G);Oe=Oe.map(Je=>i(qe,Je)),ye.push(...Oe.map(Je=>({value:Ce,vector:r(Je)})))},ce=0;ce<Ee;ce++)X();return ye}function I(W,L,G,de){var Q=t(W,de),ee=n(a(W,de),a(L,G)),ne=a(Q,.5),se=a(s(n(a(Q,Q),a(4,ee))),.5);return[t(ne,se),n(ne,se)]}function F(W,L,G,de,Q,ee,ne,se){var ge=se==="BigNumber",xe=se==="Complex",we=ge?u(0):xe?E(0):0,_e=ge?u(1):xe?E(1):1;if(v(l(G),ne))return[[_e,we],[we,_e]];if(x(l(n(Q,ee)),ne))return[[n(Q,de),n(ee,de)],[G,G]];var ze=n(W,Q),Y=n(de,Q);return v(l(L),ne)&&v(l(Y),ne)?[[ze,_e],[G,we]]:[[L,we],[Y,_e]]}function $(W,L){for(var G=0;G<W.length;G++)W[G].push(...Array(L-W[G].length).fill(0));for(var de=W.length;de<L;de++)W.push(Array(L).fill(0)),W[de][de]=1;return W}function z(W,L){for(var G=[],de=0;de<L;de++)G[de]=Array(L).fill(0);var Q=0;for(var ee of W){for(var ne=ee.length,se=0;se<ne;se++)for(var ge=0;ge<ne;ge++)G[Q+se][Q+ge]=ee[se][ge];Q+=ne}return G}function D(W,L,G){for(var de=0;de<W.length;de++)if(G(W[de],L))return de;return-1}function P(W,L,G,de,Q){for(var ee=Q==="BigNumber"?u(1e3):1e3,ne,se=0;se<5;++se){ne=V(L,G,Q);try{ne=g(W,ne)}catch{continue}if(x(H(ne),ee))break}if(se>=5)return null;for(se=0;;){var ge=g(W,ne);if(v(H(B(ne,[ge])),de))break;if(++se>=10)return null;ne=K(ge)}return ne}function V(W,L,G){var de=G==="BigNumber",Q=G==="Complex",ee=Array(W).fill(0).map(ne=>2*Math.random()-1);return de&&(ee=ee.map(ne=>u(ne))),Q&&(ee=ee.map(ne=>E(ne))),ee=B(ee,L),K(ee,G)}function B(W,L){var G=d(W);for(var de of L)de=f(de,G),W=n(W,i(o(b(de,W),b(de,de)),de));return W}function H(W){return l(s(b(W,W)))}function K(W,L){var G=L==="BigNumber",de=L==="Complex",Q=G?u(1):de?E(1):1;return i(o(Q,H(W)),W)}return A}function Z1t(e){var{config:t,addScalar:n,subtract:r,abs:i,atan:a,cos:o,sin:s,multiplyScalar:l,inv:u,bignumber:c,multiply:d,add:f}=e;function h(T,M){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.epsilon,I=arguments.length>3?arguments[3]:void 0,F=arguments.length>4?arguments[4]:void 0;if(I==="number")return m(T,N,F);if(I==="BigNumber")return g(T,N,F);throw TypeError("Unsupported data type: "+I)}function m(T,M,N){var I=T.length,F=Math.abs(M/I),$,z;if(N){z=new Array(I);for(var D=0;D<I;D++)z[D]=Array(I).fill(0),z[D][D]=1}for(var P=b(T);Math.abs(P[1])>=Math.abs(F);){var V=P[0][0],B=P[0][1];$=S(T[V][V],T[B][B],T[V][B]),T=C(T,$,V,B),N&&(z=E(z,$,V,B)),P=b(T)}for(var H=Array(I).fill(0),K=0;K<I;K++)H[K]=T[K][K];return _(Zt(H),z,N)}function g(T,M,N){var I=T.length,F=i(M/I),$,z;if(N){z=new Array(I);for(var D=0;D<I;D++)z[D]=Array(I).fill(0),z[D][D]=1}for(var P=A(T);i(P[1])>=i(F);){var V=P[0][0],B=P[0][1];$=y(T[V][V],T[B][B],T[V][B]),T=v(T,$,V,B),N&&(z=x(z,$,V,B)),P=A(T)}for(var H=Array(I).fill(0),K=0;K<I;K++)H[K]=T[K][K];return _(Zt(H),z,N)}function S(T,M,N){var I=M-T;return Math.abs(I)<=t.epsilon?Math.PI/4:.5*Math.atan(2*N/(M-T))}function y(T,M,N){var I=r(M,T);return i(I)<=t.epsilon?c(-1).acos().div(4):l(.5,a(d(2,N,u(I))))}function E(T,M,N,I){for(var F=T.length,$=Math.cos(M),z=Math.sin(M),D=Array(F).fill(0),P=Array(F).fill(0),V=0;V<F;V++)D[V]=$*T[V][N]-z*T[V][I],P[V]=z*T[V][N]+$*T[V][I];for(var B=0;B<F;B++)T[B][N]=D[B],T[B][I]=P[B];return T}function x(T,M,N,I){for(var F=T.length,$=o(M),z=s(M),D=Array(F).fill(c(0)),P=Array(F).fill(c(0)),V=0;V<F;V++)D[V]=r(l($,T[V][N]),l(z,T[V][I])),P[V]=n(l(z,T[V][N]),l($,T[V][I]));for(var B=0;B<F;B++)T[B][N]=D[B],T[B][I]=P[B];return T}function v(T,M,N,I){for(var F=T.length,$=c(o(M)),z=c(s(M)),D=l($,$),P=l(z,z),V=Array(F).fill(c(0)),B=Array(F).fill(c(0)),H=d(c(2),$,z,T[N][I]),K=n(r(l(D,T[N][N]),H),l(P,T[I][I])),W=f(l(P,T[N][N]),H,l(D,T[I][I])),L=0;L<F;L++)V[L]=r(l($,T[N][L]),l(z,T[I][L])),B[L]=n(l(z,T[N][L]),l($,T[I][L]));T[N][N]=K,T[I][I]=W,T[N][I]=c(0),T[I][N]=c(0);for(var G=0;G<F;G++)G!==N&&G!==I&&(T[N][G]=V[G],T[G][N]=V[G],T[I][G]=B[G],T[G][I]=B[G]);return T}function C(T,M,N,I){for(var F=T.length,$=Math.cos(M),z=Math.sin(M),D=$*$,P=z*z,V=Array(F).fill(0),B=Array(F).fill(0),H=D*T[N][N]-2*$*z*T[N][I]+P*T[I][I],K=P*T[N][N]+2*$*z*T[N][I]+D*T[I][I],W=0;W<F;W++)V[W]=$*T[N][W]-z*T[I][W],B[W]=z*T[N][W]+$*T[I][W];T[N][N]=H,T[I][I]=K,T[N][I]=0,T[I][N]=0;for(var L=0;L<F;L++)L!==N&&L!==I&&(T[N][L]=V[L],T[L][N]=V[L],T[I][L]=B[L],T[L][I]=B[L]);return T}function b(T){for(var M=T.length,N=0,I=[0,1],F=0;F<M;F++)for(var $=F+1;$<M;$++)Math.abs(N)<Math.abs(T[F][$])&&(N=Math.abs(T[F][$]),I=[F,$]);return[I,N]}function A(T){for(var M=T.length,N=0,I=[0,1],F=0;F<M;F++)for(var $=F+1;$<M;$++)i(N)<i(T[F][$])&&(N=i(T[F][$]),I=[F,$]);return[I,N]}function _(T,M,N){var I=T.length,F=Array(I),$;if(N){$=Array(I);for(var z=0;z<I;z++)$[z]=Array(I)}for(var D=0;D<I;D++){for(var P=0,V=T[0],B=0;B<T.length;B++)i(T[B])<i(V)&&(P=B,V=T[P]);if(F[D]=T.splice(P,1)[0],N)for(var H=0;H<I;H++)$[D][H]=M[H][P],M[H].splice(P,1)}if(!N)return{values:F};var K=$.map((W,L)=>({value:F[L],vector:W}));return{values:F,eigenvectors:K}}return h}var evt="eigs",tvt=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],nvt=ue(evt,tvt,e=>{var{config:t,typed:n,matrix:r,addScalar:i,subtract:a,equal:o,abs:s,atan:l,cos:u,sin:c,multiplyScalar:d,divideScalar:f,inv:h,bignumber:m,multiply:g,add:S,larger:y,column:E,flatten:x,number:v,complex:C,sqrt:b,diag:A,size:_,reshape:T,qr:M,usolve:N,usolveAll:I,im:F,re:$,smaller:z,matrixFromColumns:D,dot:P}=e,V=Z1t({config:t,addScalar:i,subtract:a,column:E,flatten:x,equal:o,abs:s,atan:l,cos:u,sin:c,multiplyScalar:d,inv:h,bignumber:m,complex:C,multiply:g,add:S}),B=X1t({config:t,addScalar:i,subtract:a,multiply:g,multiplyScalar:d,flatten:x,divideScalar:f,sqrt:b,abs:s,bignumber:m,diag:A,size:_,reshape:T,qr:M,inv:h,usolve:N,usolveAll:I,equal:o,complex:C,larger:y,smaller:z,matrixFromColumns:D,dot:P});return n("eigs",{Array:function(ee){return H(r(ee))},"Array, number|BigNumber":function(ee,ne){return H(r(ee),{precision:ne})},"Array, Object"(Q,ee){return H(r(Q),ee)},Matrix:function(ee){return H(ee,{matricize:!0})},"Matrix, number|BigNumber":function(ee,ne){return H(ee,{precision:ne,matricize:!0})},"Matrix, Object":function(ee,ne){var se={matricize:!0};return xi(se,ne),H(ee,se)}});function H(Q){var ee,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se="eigenvectors"in ne?ne.eigenvectors:!0,ge=(ee=ne.precision)!==null&&ee!==void 0?ee:t.epsilon,xe=K(Q,ge,se);return ne.matricize&&(xe.values=r(xe.values),se&&(xe.eigenvectors=xe.eigenvectors.map(we=>{var{value:_e,vector:ze}=we;return{value:_e,vector:r(ze)}}))),se&&Object.defineProperty(xe,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),xe}function K(Q,ee,ne){var se=Q.toArray(),ge=Q.size();if(ge.length!==2||ge[0]!==ge[1])throw new RangeError("Matrix must be square (size: ".concat(cn(ge),")"));var xe=ge[0];if(L(se,xe,ee)&&(G(se,xe),W(se,xe,ee))){var we=de(Q,se,xe);return V(se,xe,ee,we,ne)}var _e=de(Q,se,xe);return B(se,xe,ee,_e,ne)}function W(Q,ee,ne){for(var se=0;se<ee;se++)for(var ge=se;ge<ee;ge++)if(y(m(s(a(Q[se][ge],Q[ge][se]))),ne))return!1;return!0}function L(Q,ee,ne){for(var se=0;se<ee;se++)for(var ge=0;ge<ee;ge++)if(y(m(s(F(Q[se][ge]))),ne))return!1;return!0}function G(Q,ee){for(var ne=0;ne<ee;ne++)for(var se=0;se<ee;se++)Q[ne][se]=$(Q[ne][se])}function de(Q,ee,ne){var se=Q.datatype();if(se==="number"||se==="BigNumber"||se==="Complex")return se;for(var ge=!1,xe=!1,we=!1,_e=0;_e<ne;_e++)for(var ze=0;ze<ne;ze++){var Y=ee[_e][ze];if(fn(Y)||X2(Y))ge=!0;else if(Sn(Y))xe=!0;else if(Wc(Y))we=!0;else throw TypeError("Unsupported type in Matrix: "+ur(Y))}if(xe&&we&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),we){for(var re=0;re<ne;re++)for(var Se=0;Se<ne;Se++)ee[re][Se]=C(ee[re][Se]);return"Complex"}if(xe){for(var le=0;le<ne;le++)for(var ye=0;ye<ne;ye++)ee[le][ye]=m(ee[le][ye]);return"BigNumber"}if(ge){for(var Ee=0;Ee<ne;Ee++)for(var be=0;be<ne;be++)ee[Ee][be]=v(ee[Ee][be]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),bG="expm",rvt=["typed","abs","add","identity","inv","multiply"],ivt=ue(bG,rvt,e=>{var{typed:t,abs:n,add:r,identity:i,inv:a,multiply:o}=e;return t(bG,{Matrix:function(d){var f=d.size();if(f.length!==2||f[0]!==f[1])throw new RangeError("Matrix must be square (size: "+cn(f)+")");for(var h=f[0],m=1e-15,g=s(d),S=l(g,m),y=S.q,E=S.j,x=o(d,Math.pow(2,-E)),v=i(h),C=i(h),b=1,A=x,_=-1,T=1;T<=y;T++)T>1&&(A=o(A,x),_=-_),b=b*(y-T+1)/((2*y-T+1)*T),v=r(v,o(b,A)),C=r(C,o(b*_,A));for(var M=o(a(C),v),N=0;N<E;N++)M=o(M,M);return Mp(d)?d.createSparseMatrix(M):M}});function s(c){for(var d=c.size()[0],f=0,h=0;h<d;h++){for(var m=0,g=0;g<d;g++)m+=n(c.get([h,g]));f=Math.max(m,f)}return f}function l(c,d){for(var f=30,h=0;h<f;h++)for(var m=0;m<=h;m++){var g=h-m;if(u(c,m,g)<d)return{q:m,j:g}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(c,d,f){for(var h=1,m=2;m<=d;m++)h*=m;for(var g=h,S=d+1;S<=2*d;S++)g*=S;var y=g*(2*d+1);return 8*Math.pow(c/Math.pow(2,f),2*d)*h*h/(g*y)}}),wG="sqrtm",avt=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],ovt=ue(wG,avt,e=>{var{typed:t,abs:n,add:r,multiply:i,map:a,sqrt:o,subtract:s,inv:l,size:u,max:c,identity:d}=e,f=1e3,h=1e-6;function m(g){var S,y=0,E=g,x=d(u(g));do{var v=E;if(E=i(.5,r(v,l(x))),x=i(.5,r(x,l(v))),S=c(n(s(E,v))),S>h&&++y>f)throw new Error("computing square root of matrix: iterative method could not converge")}while(S>h);return E}return t(wG,{"Array | Matrix":function(S){var y=Ft(S)?S.size():nn(S);switch(y.length){case 1:if(y[0]===1)return a(S,o);throw new RangeError("Matrix must be square (size: "+cn(y)+")");case 2:{var E=y[0],x=y[1];if(E===x)return m(S);throw new RangeError("Matrix must be square (size: "+cn(y)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+cn(y)+")")}}})}),xG="sylvester",svt=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],lvt=ue(xG,svt,e=>{var{typed:t,schur:n,matrixFromColumns:r,matrix:i,multiply:a,range:o,concat:s,transpose:l,index:u,subset:c,add:d,subtract:f,identity:h,lusolve:m,abs:g}=e;return t(xG,{"Matrix, Matrix, Matrix":S,"Array, Matrix, Matrix":function(E,x,v){return S(i(E),x,v)},"Array, Array, Matrix":function(E,x,v){return S(i(E),i(x),v)},"Array, Matrix, Array":function(E,x,v){return S(i(E),x,i(v))},"Matrix, Array, Matrix":function(E,x,v){return S(E,i(x),v)},"Matrix, Array, Array":function(E,x,v){return S(E,i(x),i(v))},"Matrix, Matrix, Array":function(E,x,v){return S(E,x,i(v))},"Array, Array, Array":function(E,x,v){return S(i(E),i(x),i(v)).toArray()}});function S(y,E,x){for(var v=E.size()[0],C=y.size()[0],b=n(y),A=b.T,_=b.U,T=n(a(-1,E)),M=T.T,N=T.U,I=a(a(l(_),x),N),F=o(0,C),$=[],z=(we,_e)=>s(we,_e,1),D=(we,_e)=>s(we,_e,0),P=0;P<v;P++)if(P<v-1&&g(c(M,u(P+1,P)))>1e-5){for(var V=D(c(I,u(F,P)),c(I,u(F,P+1))),B=0;B<P;B++)V=d(V,D(a($[B],c(M,u(B,P))),a($[B],c(M,u(B,P+1)))));var H=a(h(C),a(-1,c(M,u(P,P)))),K=a(h(C),a(-1,c(M,u(P+1,P)))),W=a(h(C),a(-1,c(M,u(P,P+1)))),L=a(h(C),a(-1,c(M,u(P+1,P+1)))),G=D(z(d(A,H),K),z(W,d(A,L))),de=m(G,V);$[P]=de.subset(u(o(0,C),0)),$[P+1]=de.subset(u(o(C,2*C),0)),P++}else{for(var Q=c(I,u(F,P)),ee=0;ee<P;ee++)Q=d(Q,a($[ee],c(M,u(ee,P))));var ne=c(M,u(P,P)),se=f(A,a(ne,h(C)));$[P]=m(se,Q)}var ge=i(r(...$)),xe=a(_,a(ge,l(N)));return xe}}),SG="schur",uvt=["typed","matrix","identity","multiply","qr","norm","subtract"],cvt=ue(SG,uvt,e=>{var{typed:t,matrix:n,identity:r,multiply:i,qr:a,norm:o,subtract:s}=e;return t(SG,{Array:function(c){var d=l(n(c));return{U:d.U.valueOf(),T:d.T.valueOf()}},Matrix:function(c){return l(c)}});function l(u){var c=u.size()[0],d=u,f=r(c),h=0,m;do{m=d;var g=a(d),S=g.Q,y=g.R;if(d=i(y,S),f=i(f,S),h++>100)break}while(o(s(d,m))>1e-4);return{U:f,T:d}}}),CG="lyap",dvt=["typed","matrix","sylvester","multiply","transpose"],fvt=ue(CG,dvt,e=>{var{typed:t,matrix:n,sylvester:r,multiply:i,transpose:a}=e;return t(CG,{"Matrix, Matrix":function(s,l){return r(s,a(s),i(-1,l))},"Array, Matrix":function(s,l){return r(n(s),a(n(s)),i(-1,l))},"Matrix, Array":function(s,l){return r(s,a(n(s)),n(i(-1,l)))},"Array, Array":function(s,l){return r(n(s),a(n(s)),n(i(-1,l))).toArray()}})}),hvt="divide",pvt=["typed","matrix","multiply","equalScalar","divideScalar","inv"],mvt=ue(hvt,pvt,e=>{var{typed:t,matrix:n,multiply:r,equalScalar:i,divideScalar:a,inv:o}=e,s=_a({typed:t,equalScalar:i}),l=gu({typed:t});return t("divide",mle({"Array | Matrix, Array | Matrix":function(c,d){return r(c,o(d))},"DenseMatrix, any":function(c,d){return l(c,d,a,!1)},"SparseMatrix, any":function(c,d){return s(c,d,a,!1)},"Array, any":function(c,d){return l(n(c),d,a,!1).valueOf()},"any, Array | Matrix":function(c,d){return r(c,o(d))}},a.signatures))}),EG="distance",gvt=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],vvt=ue(EG,gvt,e=>{var{typed:t,addScalar:n,subtractScalar:r,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:s,abs:l}=e;return t(EG,{"Array, Array, Array":function(C,b,A){if(C.length===2&&b.length===2&&A.length===2){if(!c(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(b,A))throw new TypeError("LinePoint1 should not be same with LinePoint2");var _=r(A[1],b[1]),T=r(b[0],A[0]),M=r(i(A[0],b[1]),i(b[0],A[1]));return S(C[0],C[1],_,T,M)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(C,b,A){if(Object.keys(C).length===2&&Object.keys(b).length===2&&Object.keys(A).length===2){if(!c(C))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(A))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(m(b),m(A)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in C&&"pointY"in C&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in A&&"lineTwoPtY"in A){var _=r(A.lineTwoPtY,b.lineOnePtY),T=r(b.lineOnePtX,A.lineTwoPtX),M=r(i(A.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,A.lineTwoPtY));return S(C.pointX,C.pointY,_,T,M)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(C,b){if(C.length===2&&b.length===3){if(!c(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return S(C[0],C[1],b[0],b[1],b[2])}else if(C.length===3&&b.length===6){if(!d(C))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(C[0],C[1],C[2],b[0],b[1],b[2],b[3],b[4],b[5])}else if(C.length===b.length&&C.length>0){if(!f(C))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!f(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return E(C,b)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(C,b){if(Object.keys(C).length===2&&Object.keys(b).length===3){if(!c(C))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in C&&"pointY"in C&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return S(C.pointX,C.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}else if(Object.keys(C).length===3&&Object.keys(b).length===6){if(!d(C))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!h(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in C&&"pointY"in C&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return y(C.pointX,C.pointY,C.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}else if(Object.keys(C).length===2&&Object.keys(b).length===2){if(!c(C))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in C&&"pointOneY"in C&&"pointTwoX"in b&&"pointTwoY"in b)return E([C.pointOneX,C.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(C).length===3&&Object.keys(b).length===3){if(!d(C))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in C&&"pointOneY"in C&&"pointOneZ"in C&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return E([C.pointOneX,C.pointOneY,C.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(C){if(!g(C))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return x(C)}});function u(v){return typeof v=="number"||Sn(v)}function c(v){return v.constructor!==Array&&(v=m(v)),u(v[0])&&u(v[1])}function d(v){return v.constructor!==Array&&(v=m(v)),u(v[0])&&u(v[1])&&u(v[2])}function f(v){return Array.isArray(v)||(v=m(v)),v.every(u)}function h(v){return v.constructor!==Array&&(v=m(v)),u(v[0])&&u(v[1])&&u(v[2])&&u(v[3])&&u(v[4])&&u(v[5])}function m(v){for(var C=Object.keys(v),b=[],A=0;A<C.length;A++)b.push(v[C[A]]);return b}function g(v){if(v[0].length===2&&u(v[0][0])&&u(v[0][1])){if(v.some(C=>C.length!==2||!u(C[0])||!u(C[1])))return!1}else if(v[0].length===3&&u(v[0][0])&&u(v[0][1])&&u(v[0][2])){if(v.some(C=>C.length!==3||!u(C[0])||!u(C[1])||!u(C[2])))return!1}else return!1;return!0}function S(v,C,b,A,_){var T=l(n(n(i(b,v),i(A,C)),_)),M=s(n(i(b,b),i(A,A)));return a(T,M)}function y(v,C,b,A,_,T,M,N,I){var F=[r(i(r(_,C),I),i(r(T,b),N)),r(i(r(T,b),M),i(r(A,v),I)),r(i(r(A,v),N),i(r(_,C),M))];F=s(n(n(i(F[0],F[0]),i(F[1],F[1])),i(F[2],F[2])));var $=s(n(n(i(M,M),i(N,N)),i(I,I)));return a(F,$)}function E(v,C){for(var b=v.length,A=0,_=0,T=0;T<b;T++)_=r(v[T],C[T]),A=n(i(_,_),A);return s(A)}function x(v){for(var C=[],b=[],A=[],_=0;_<v.length-1;_++)for(var T=_+1;T<v.length;T++)v[0].length===2?(b=[v[_][0],v[_][1]],A=[v[T][0],v[T][1]]):v[0].length===3&&(b=[v[_][0],v[_][1],v[_][2]],A=[v[T][0],v[T][1],v[T][2]]),C.push(E(b,A));return C}}),yvt="intersect",bvt=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],wvt=ue(yvt,bvt,e=>{var{typed:t,config:n,abs:r,add:i,addScalar:a,matrix:o,multiply:s,multiplyScalar:l,divideScalar:u,subtract:c,smaller:d,equalScalar:f,flatten:h,isZero:m,isNumeric:g}=e;return t("intersect",{"Array, Array, Array":S,"Array, Array, Array, Array":y,"Matrix, Matrix, Matrix":function(N,I,F){var $=S(N.valueOf(),I.valueOf(),F.valueOf());return $===null?null:o($)},"Matrix, Matrix, Matrix, Matrix":function(N,I,F,$){var z=y(N.valueOf(),I.valueOf(),F.valueOf(),$.valueOf());return z===null?null:o(z)}});function S(M,N,I){if(M=E(M),N=E(N),I=E(I),!v(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!v(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!C(I))throw new TypeError("Array with 4 numbers expected as third argument");return T(M[0],M[1],M[2],N[0],N[1],N[2],I[0],I[1],I[2],I[3])}function y(M,N,I,F){if(M=E(M),N=E(N),I=E(I),F=E(F),M.length===2){if(!x(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!x(N))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!x(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!x(F))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return b(M,N,I,F)}else if(M.length===3){if(!v(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!v(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!v(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!v(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return _(M[0],M[1],M[2],N[0],N[1],N[2],I[0],I[1],I[2],F[0],F[1],F[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function E(M){return M.length===1?M[0]:M.length>1&&Array.isArray(M[0])&&M.every(N=>Array.isArray(N)&&N.length===1)?h(M):M}function x(M){return M.length===2&&g(M[0])&&g(M[1])}function v(M){return M.length===3&&g(M[0])&&g(M[1])&&g(M[2])}function C(M){return M.length===4&&g(M[0])&&g(M[1])&&g(M[2])&&g(M[3])}function b(M,N,I,F){var $=M,z=I,D=c($,N),P=c(z,F),V=c(l(D[0],P[1]),l(P[0],D[1]));if(m(V)||d(r(V),n.epsilon))return null;var B=l(P[0],$[1]),H=l(P[1],$[0]),K=l(P[0],z[1]),W=l(P[1],z[0]),L=u(a(c(c(B,H),K),W),V);return i(s(D,L),$)}function A(M,N,I,F,$,z,D,P,V,B,H,K){var W=l(c(M,N),c(I,F)),L=l(c($,z),c(D,P)),G=l(c(V,B),c(H,K));return a(a(W,L),G)}function _(M,N,I,F,$,z,D,P,V,B,H,K){var W=A(M,D,B,D,N,P,H,P,I,V,K,V),L=A(B,D,F,M,H,P,$,N,K,V,z,I),G=A(M,D,F,M,N,P,$,N,I,V,z,I),de=A(B,D,B,D,H,P,H,P,K,V,K,V),Q=A(F,M,F,M,$,N,$,N,z,I,z,I),ee=c(l(W,L),l(G,de)),ne=c(l(Q,de),l(L,L));if(m(ne))return null;var se=u(ee,ne),ge=u(a(W,l(se,L)),de),xe=a(M,l(se,c(F,M))),we=a(N,l(se,c($,N))),_e=a(I,l(se,c(z,I))),ze=a(D,l(ge,c(B,D))),Y=a(P,l(ge,c(H,P))),re=a(V,l(ge,c(K,V)));return f(xe,ze)&&f(we,Y)&&f(_e,re)?[xe,we,_e]:null}function T(M,N,I,F,$,z,D,P,V,B){var H=l(M,D),K=l(F,D),W=l(N,P),L=l($,P),G=l(I,V),de=l(z,V),Q=c(c(c(B,H),W),G),ee=c(c(c(a(a(K,L),de),H),W),G),ne=u(Q,ee),se=a(M,l(ne,c(F,M))),ge=a(N,l(ne,c($,N))),xe=a(I,l(ne,c(z,I)));return[se,ge,xe]}}),kG="sum",xvt=["typed","config","add","numeric"],sce=ue(kG,xvt,e=>{var{typed:t,config:n,add:r,numeric:i}=e;return t(kG,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(l){if(Y1(l))throw new TypeError("Scalar values expected in function sum");return a(l)}});function a(s){var l;return ld(s,function(u){try{l=l===void 0?u:r(l,u)}catch(c){throw To(c,"sum",u)}}),l===void 0&&(l=i(0,n.number)),typeof l=="string"&&(l=i(l,n.number)),l}function o(s,l){try{var u=ek(s,l,r);return u}catch(c){throw To(c,"sum")}}}),m3="cumsum",Svt=["typed","add","unaryPlus"],lce=ue(m3,Svt,e=>{var{typed:t,add:n,unaryPlus:r}=e;return t(m3,{Array:i,Matrix:function(u){return u.create(i(u.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(u,c){return u.create(o(u.valueOf(),c))},"...":function(u){if(Y1(u))throw new TypeError("All values expected to be scalar in function cumsum");return i(u)}});function i(l){try{return a(l)}catch(u){throw To(u,m3)}}function a(l){if(l.length===0)return[];for(var u=[r(l[0])],c=1;c<l.length;++c)u.push(n(u[c-1],l[c]));return u}function o(l,u){var c=nn(l);if(u<0||u>=c.length)throw new pu(u,c.length);try{return s(l,u)}catch(d){throw To(d,m3)}}function s(l,u){var c,d,f;if(u<=0){var h=l[0][0];if(Array.isArray(h)){for(f=qle(l),d=[],c=0;c<f.length;c++)d[c]=s(f[c],u-1);return d}else return a(l)}else{for(d=[],c=0;c<l.length;c++)d[c]=s(l[c],u-1);return d}}}),AG="mean",Cvt=["typed","add","divide"],uce=ue(AG,Cvt,e=>{var{typed:t,add:n,divide:r}=e;return t(AG,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(s){if(Y1(s))throw new TypeError("Scalar values expected in function mean");return a(s)}});function i(o,s){try{var l=ek(o,s,n),u=Array.isArray(o)?nn(o):o.size();return r(l,u[s])}catch(c){throw To(c,"mean")}}function a(o){var s,l=0;if(ld(o,function(u){try{s=s===void 0?u:n(s,u),l++}catch(c){throw To(c,"mean",u)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return r(s,l)}}),_G="median",Evt=["typed","add","divide","compare","partitionSelect"],kvt=ue(_G,Evt,e=>{var{typed:t,add:n,divide:r,compare:i,partitionSelect:a}=e;function o(u){try{u=jn(u.valueOf());var c=u.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var d=c/2-1,f=a(u,d+1),h=u[d],m=0;m<d;++m)i(u[m],h)>0&&(h=u[m]);return l(h,f)}else{var g=a(u,(c-1)/2);return s(g)}}catch(S){throw To(S,"median")}}var s=t({"number | BigNumber | Complex | Unit":function(c){return c}}),l=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,d){return r(n(c,d),2)}});return t(_G,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(c,d){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(Y1(c))throw new TypeError("Scalar values expected in function median");return o(c)}})}),MG="mad",Avt=["typed","abs","map","median","subtract"],_vt=ue(MG,Avt,e=>{var{typed:t,abs:n,map:r,median:i,subtract:a}=e;return t(MG,{"Array | Matrix":o,"...":function(l){return o(l)}});function o(s){if(s=jn(s.valueOf()),s.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(s);return i(r(s,function(u){return n(a(u,l))}))}catch(u){throw u instanceof TypeError&&u.message.indexOf("median")!==-1?new TypeError(u.message.replace("median","mad")):To(u,"mad")}}}),Q6="unbiased",TG="variance",Mvt=["typed","add","subtract","multiply","divide","apply","isNaN"],cce=ue(TG,Mvt,e=>{var{typed:t,add:n,subtract:r,multiply:i,divide:a,apply:o,isNaN:s}=e;return t(TG,{"Array | Matrix":function(d){return l(d,Q6)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(d,f){return u(d,f,Q6)},"Array | Matrix, number | BigNumber, string":u,"...":function(d){return l(d,Q6)}});function l(c,d){var f,h=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(ld(c,function(S){try{f=f===void 0?S:n(f,S),h++}catch(y){throw To(y,"variance",S)}}),h===0)throw new Error("Cannot calculate variance of an empty array");var m=a(f,h);if(f=void 0,ld(c,function(S){var y=r(S,m);f=f===void 0?i(y,y):n(f,i(y,y))}),s(f))return f;switch(d){case"uncorrected":return a(f,h);case"biased":return a(f,h+1);case"unbiased":{var g=Sn(f)?f.mul(0):0;return h===1?g:a(f,h-1)}default:throw new Error('Unknown normalization "'+d+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(c,d,f){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(c,d,h=>l(h,f))}catch(h){throw To(h,"variance")}}}),NG="quantileSeq",Tvt=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],dce=ue(NG,Tvt,e=>{var{typed:t,bignumber:n,add:r,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:d,larger:f}=e,h=zI({typed:t,isInteger:u});return t(NG,{"Array | Matrix, number | BigNumber":(E,x)=>g(E,x,!1),"Array | Matrix, number | BigNumber, number":(E,x,v)=>m(E,x,!1,v,g),"Array | Matrix, number | BigNumber, boolean":g,"Array | Matrix, number | BigNumber, boolean, number":(E,x,v,C)=>m(E,x,v,C,g),"Array | Matrix, Array | Matrix":(E,x)=>S(E,x,!1),"Array | Matrix, Array | Matrix, number":(E,x,v)=>m(E,x,!1,v,S),"Array | Matrix, Array | Matrix, boolean":S,"Array | Matrix, Array | Matrix, boolean, number":(E,x,v,C)=>m(E,x,v,C,S)});function m(E,x,v,C,b){return h(E,C,A=>b(A,x,v))}function g(E,x,v){var C,b=E.valueOf();if(c(x,0))throw new Error("N/prob must be non-negative");if(d(x,1))return fn(x)?y(b,x,v):n(y(b,x,v));if(f(x,1)){if(!u(x))throw new Error("N must be a positive integer");if(f(x,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var A=r(x,1);C=[];for(var _=0;c(_,x);_++){var T=a(_+1,A);C.push(y(b,T,v))}return fn(x)?C:n(C)}}function S(E,x,v){for(var C=E.valueOf(),b=x.valueOf(),A=[],_=0;_<b.length;++_)A.push(y(C,b[_],v));return A}function y(E,x,v){var C=jn(E),b=C.length;if(b===0)throw new Error("Cannot calculate quantile of an empty sequence");var A=fn(x)?x*(b-1):x.times(b-1),_=fn(x)?Math.floor(A):A.floor().toNumber(),T=fn(x)?A%1:A.minus(_);if(u(A))return v?C[A]:s(C,fn(x)?A:A.valueOf());var M,N;if(v)M=C[_],N=C[_+1];else{N=s(C,_+1),M=C[_];for(var I=0;I<_;++I)l(C[I],M)>0&&(M=C[I])}return r(o(M,i(1,T)),o(N,T))}}),DG="std",Nvt=["typed","map","sqrt","variance"],fce=ue(DG,Nvt,e=>{var{typed:t,map:n,sqrt:r,variance:i}=e;return t(DG,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(s){return a(s)}});function a(o,s){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return Qf(l)?n(l,r):r(l)}catch(u){throw u instanceof TypeError&&u.message.indexOf(" variance")!==-1?new TypeError(u.message.replace(" variance"," std")):u}}}),RG="corr",Dvt=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],Rvt=ue(RG,Dvt,e=>{var{typed:t,matrix:n,sqrt:r,sum:i,add:a,subtract:o,multiply:s,pow:l,divide:u}=e;return t(RG,{"Array, Array":function(h,m){return c(h,m)},"Matrix, Matrix":function(h,m){var g=c(h.toArray(),m.toArray());return Array.isArray(g)?n(g):g}});function c(f,h){var m=[];if(Array.isArray(f[0])&&Array.isArray(h[0])){if(f.length!==h.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var g=0;g<f.length;g++){if(f[g].length!==h[g].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");m.push(d(f[g],h[g]))}return m}else{if(f.length!==h.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return d(f,h)}}function d(f,h){var m=f.length,g=i(f),S=i(h),y=f.reduce((b,A,_)=>a(b,s(A,h[_])),0),E=i(f.map(b=>l(b,2))),x=i(h.map(b=>l(b,2))),v=o(s(m,y),s(g,S)),C=r(s(o(s(m,E),l(g,2)),o(s(m,x),l(S,2))));return u(v,C)}}),IG="combinations",Ivt=["typed"],Ovt=ue(IG,Ivt,e=>{var{typed:t}=e;return t(IG,{"number, number":pue,"BigNumber, BigNumber":function(r,i){var a=r.constructor,o,s,l=r.minus(i),u=new a(1);if(!OG(r)||!OG(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(r))throw new TypeError("k must be less than n in function combinations");if(o=u,i.lt(l))for(s=u;s.lte(l);s=s.plus(u))o=o.times(i.plus(s)).dividedBy(s);else for(s=u;s.lte(i);s=s.plus(u))o=o.times(l.plus(s)).dividedBy(s);return o}})});function OG(e){return e.isInteger()&&e.gte(0)}var PG="combinationsWithRep",Pvt=["typed"],jvt=ue(PG,Pvt,e=>{var{typed:t}=e;return t(PG,{"number, number":function(r,i){if(!Dt(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Dt(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<r-1){var a=Bc(r,r+i-1);return a/Bc(1,i)}var o=Bc(i+1,r+i-1);return o/Bc(1,r-1)},"BigNumber, BigNumber":function(r,i){var a=r.constructor,o,s,l=new a(1),u=r.minus(l);if(!jG(r)||!jG(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,i.lt(u))for(s=l;s.lte(u);s=s.plus(l))o=o.times(i.plus(s)).dividedBy(s);else for(s=l;s.lte(i);s=s.plus(l))o=o.times(u.plus(s)).dividedBy(s);return o}})});function jG(e){return e.isInteger()&&e.gte(0)}var LG="gamma",Lvt=["typed","config","multiplyScalar","pow","BigNumber","Complex"],Fvt=ue(LG,Lvt,e=>{var{typed:t,config:n,multiplyScalar:r,pow:i,BigNumber:a,Complex:o}=e;function s(u){if(u.im===0)return iC(u.re);if(u.re<.5){var c=new o(1-u.re,-u.im),d=new o(Math.PI*u.re,Math.PI*u.im);return new o(Math.PI).div(d.sin()).div(s(c))}u=new o(u.re-1,u.im);for(var f=new o(C0[0],0),h=1;h<C0.length;++h){var m=new o(C0[h],0);f=f.add(m.div(u.add(h)))}var g=new o(u.re+bue+.5,u.im),S=Math.sqrt(2*Math.PI),y=g.pow(u.add(.5)),E=g.neg().exp();return f.mul(S).mul(y).mul(E)}return t(LG,{number:iC,Complex:s,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):l(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(u){if(u<8)return new a([1,1,2,6,24,120,720,5040][u]);var c=n.precision+(Math.log(u.toNumber())|0),d=a.clone({precision:c});if(u%2===1)return u.times(l(new a(u-1)));for(var f=u,h=new d(u),m=u.toNumber();f>2;)f-=2,m+=f,h=h.times(m);return new a(h.toPrecision(a.precision))}}),FG="lgamma",Bvt=["Complex","typed"],zvt=ue(FG,Bvt,e=>{var{Complex:t,typed:n}=e,r=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return n(FG,{number:aC,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(u){var c=6.283185307179586,d=1.1447298858494002,f=.1;if(u.isNaN())return new t(NaN,NaN);if(u.im===0)return new t(aC(u.re),0);if(u.re>=r||Math.abs(u.im)>=i)return s(u);if(u.re<=f){var h=_nt(c,u.im)*Math.floor(.5*u.re+.25),m=u.mul(Math.PI).sin().log(),g=o(new t(1-u.re,-u.im));return new t(d,h).sub(m).sub(g)}else return u.im>=0?l(u):l(u.conjugate()).conjugate()}function s(u){for(var c=u.sub(.5).mul(u.log()).sub(u).add(wue),d=new t(1,0).div(u),f=d.div(u),h=a[0],m=a[1],g=2*f.re,S=f.re*f.re+f.im*f.im,y=2;y<8;y++){var E=m;m=-S*h+a[y],h=g*h+E}var x=d.mul(f.mul(h).add(m));return c.add(x)}function l(u){var c=0,d=0,f=u;for(u=u.add(1);u.re<=r;){f=f.mul(u);var h=f.im<0?1:0;h!==0&&d===0&&c++,d=h,u=u.add(1)}return s(u).sub(f.log()).sub(new t(0,c*2*Math.PI*1))}}),BG="factorial",$vt=["typed","gamma"],Uvt=ue(BG,$vt,e=>{var{typed:t,gamma:n}=e;return t(BG,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return n(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return n(i.plus(1))},"Array | Matrix":t.referToSelf(r=>i=>vn(i,r))})}),zG="kldivergence",Vvt=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],Hvt=ue(zG,Vvt,e=>{var{typed:t,matrix:n,divide:r,sum:i,multiply:a,map:o,dotDivide:s,log:l,isNumeric:u}=e;return t(zG,{"Array, Array":function(f,h){return c(n(f),n(h))},"Matrix, Array":function(f,h){return c(f,n(h))},"Array, Matrix":function(f,h){return c(n(f),h)},"Matrix, Matrix":function(f,h){return c(f,h)}});function c(d,f){var h=f.size().length,m=d.size().length;if(h>1)throw new Error("first object must be one dimensional");if(m>1)throw new Error("second object must be one dimensional");if(h!==m)throw new Error("Length of two vectors must be equal");var g=i(d);if(g===0)throw new Error("Sum of elements in first object must be non zero");var S=i(f);if(S===0)throw new Error("Sum of elements in second object must be non zero");var y=r(d,i(d)),E=r(f,i(f)),x=i(a(y,o(s(y,E),v=>l(v))));return u(x)?x:Number.NaN}}),$G="multinomial",qvt=["typed","add","divide","multiply","factorial","isInteger","isPositive"],Wvt=ue($G,qvt,e=>{var{typed:t,add:n,divide:r,multiply:i,factorial:a,isInteger:o,isPositive:s}=e;return t($G,{"Array | Matrix":function(u){var c=0,d=1;return ld(u,function(f){if(!o(f)||!s(f))throw new TypeError("Positive integer value expected in function multinomial");c=n(c,f),d=i(d,a(f))}),r(a(c),d)}})}),UG="permutations",Gvt=["typed","factorial"],Kvt=ue(UG,Gvt,e=>{var{typed:t,factorial:n}=e;return t(UG,{"number | BigNumber":n,"number, number":function(i,a){if(!Dt(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Dt(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Bc(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,s;if(!VG(i)||!VG(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(o=l,s=i.minus(a).plus(1);s.lte(i);s=s.plus(1))o=o.times(s);return o}})});function VG(e){return e.isInteger()&&e.gte(0)}var GI={exports:{}};GI.exports;(function(e){(function(t,n,r){function i(l){var u=this,c=s();u.next=function(){var d=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=d-(u.c=d|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function a(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function o(l,u){var c=new i(l),d=u&&u.state,f=c.next;return f.int32=function(){return c.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&a(d,c),f.state=function(){return a(c,{})}),f}function s(){var l=4022871197,u=function(c){c=String(c);for(var d=0;d<c.length;d++){l+=c.charCodeAt(d);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.alea=o})(go,e,!1)})(GI);var Yvt=GI.exports,KI={exports:{}};KI.exports;(function(e){(function(t,n,r){function i(s){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function a(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function o(s,l){var u=new i(s),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,h=(u.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&a(c,u),d.state=function(){return a(u,{})}),d}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xor128=o})(go,e,!1)})(KI);var Jvt=KI.exports,YI={exports:{}};YI.exports;(function(e){(function(t,n,r){function i(s){var l=this,u="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function o(s,l){var u=new i(s),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,h=(u.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&a(c,u),d.state=function(){return a(u,{})}),d}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xorwow=o})(go,e,!1)})(YI);var Qvt=YI.exports,JI={exports:{}};JI.exports;(function(e){(function(t,n,r){function i(s){var l=this;l.next=function(){var c=l.x,d=l.i,f,h;return f=c[d],f^=f>>>7,h=f^f<<24,f=c[d+1&7],h^=f^f>>>10,f=c[d+3&7],h^=f^f>>>3,f=c[d+4&7],h^=f^f<<7,f=c[d+7&7],f=f^f<<13,h^=f^f<<9,c[d]=h,l.i=d+1&7,h};function u(c,d){var f,h=[];if(d===(d|0))h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[f&7]=h[f&7]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?h[7]=-1:h[f],c.x=h,c.i=0,f=256;f>0;--f)c.next()}u(l,s)}function a(s,l){return l.x=s.x.slice(),l.i=s.i,l}function o(s,l){s==null&&(s=+new Date);var u=new i(s),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,h=(u.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=u.next,d.quick=d,c&&(c.x&&a(c,u),d.state=function(){return a(u,{})}),d}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xorshift7=o})(go,e,!1)})(JI);var Xvt=JI.exports,QI={exports:{}};QI.exports;(function(e){(function(t,n,r){function i(s){var l=this;l.next=function(){var c=l.w,d=l.X,f=l.i,h,m;return l.w=c=c+1640531527|0,m=d[f+34&127],h=d[f=f+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,m=d[f]=m^h,l.i=f,m+(c^c>>>16)|0};function u(c,d){var f,h,m,g,S,y=[],E=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,E=Math.max(E,d.length)),m=0,g=-32;g<E;++g)d&&(h^=d.charCodeAt((g+32)%d.length)),g===0&&(S=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,g>=0&&(S=S+1640531527|0,f=y[g&127]^=h+S,m=f==0?m+1:0);for(m>=128&&(y[(d&&d.length||0)&127]=-1),m=127,g=4*128;g>0;--g)h=y[m+34&127],f=y[m=m+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,y[m]=h^f;c.w=S,c.X=y,c.i=m}u(l,s)}function a(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function o(s,l){s==null&&(s=+new Date);var u=new i(s),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,h=(u.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=u.next,d.quick=d,c&&(c.X&&a(c,u),d.state=function(){return a(u,{})}),d}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xor4096=o})(go,e,!1)})(QI);var Zvt=QI.exports,XI={exports:{}};XI.exports;(function(e){(function(t,n,r){function i(s){var l=this,u="";l.next=function(){var d=l.b,f=l.c,h=l.d,m=l.a;return d=d<<25^d>>>7^f,f=f-h|0,h=h<<24^h>>>8^m,m=m-d|0,l.b=d=d<<20^d>>>12^f,l.c=f=f-h|0,l.d=h<<16^f>>>16^m,l.a=m-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):u+=s;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function a(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function o(s,l){var u=new i(s),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,h=(u.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&a(c,u),d.state=function(){return a(u,{})}),d}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.tychei=o})(go,e,!1)})(XI);var eyt=XI.exports,hce={exports:{}};const tyt={},nyt=Object.freeze(Object.defineProperty({__proto__:null,default:tyt},Symbol.toStringTag,{value:"Module"})),ryt=kye(nyt);(function(e){(function(t,n,r){var i=256,a=6,o=52,s="random",l=r.pow(i,a),u=r.pow(2,o),c=u*2,d=i-1,f;function h(v,C,b){var A=[];C=C==!0?{entropy:!0}:C||{};var _=y(S(C.entropy?[v,x(n)]:v??E(),3),A),T=new m(A),M=function(){for(var N=T.g(a),I=l,F=0;N<u;)N=(N+F)*i,I*=i,F=T.g(1);for(;N>=c;)N/=2,I/=2,F>>>=1;return(N+F)/I};return M.int32=function(){return T.g(4)|0},M.quick=function(){return T.g(4)/4294967296},M.double=M,y(x(T.S),n),(C.pass||b||function(N,I,F,$){return $&&($.S&&g($,T),N.state=function(){return g(T,{})}),F?(r[s]=N,I):N})(M,_,"global"in C?C.global:this==r,C.state)}function m(v){var C,b=v.length,A=this,_=0,T=A.i=A.j=0,M=A.S=[];for(b||(v=[b++]);_<i;)M[_]=_++;for(_=0;_<i;_++)M[_]=M[T=d&T+v[_%b]+(C=M[_])],M[T]=C;(A.g=function(N){for(var I,F=0,$=A.i,z=A.j,D=A.S;N--;)I=D[$=d&$+1],F=F*i+D[d&(D[$]=D[z=d&z+I])+(D[z]=I)];return A.i=$,A.j=z,F})(i)}function g(v,C){return C.i=v.i,C.j=v.j,C.S=v.S.slice(),C}function S(v,C){var b=[],A=typeof v,_;if(C&&A=="object")for(_ in v)try{b.push(S(v[_],C-1))}catch{}return b.length?b:A=="string"?v:v+"\0"}function y(v,C){for(var b=v+"",A,_=0;_<b.length;)C[d&_]=d&(A^=C[d&_]*19)+b.charCodeAt(_++);return x(C)}function E(){try{var v;return f&&(v=f.randomBytes)?v=v(i):(v=new Uint8Array(i),(t.crypto||t.msCrypto).getRandomValues(v)),x(v)}catch{var C=t.navigator,b=C&&C.plugins;return[+new Date,t,b,t.screen,x(n)]}}function x(v){return String.fromCharCode.apply(0,v)}if(y(r.random(),n),e.exports){e.exports=h;try{f=ryt}catch{}}else r["seed"+s]=h})(typeof self<"u"?self:go,[],Math)})(hce);var iyt=hce.exports,ayt=Yvt,oyt=Jvt,syt=Qvt,lyt=Xvt,uyt=Zvt,cyt=eyt,Em=iyt;Em.alea=ayt;Em.xor128=oyt;Em.xorwow=syt;Em.xorshift7=lyt;Em.xor4096=uyt;Em.tychei=cyt;var dyt=Em;const pce=Rs(dyt);var fyt=pce(Date.now());function c1(e){var t;function n(i){t=i===null?fyt:pce(String(i))}n(e);function r(){return t()}return r}var HG="pickRandom",hyt=["typed","config","?on"],pyt=ue(HG,hyt,e=>{var{typed:t,config:n,on:r}=e,i=c1(n.randomSeed);return r&&r("config",function(o,s){o.randomSeed!==s.randomSeed&&(i=c1(o.randomSeed))}),t(HG,{"Array | Matrix":function(s){return a(s,{})},"Array | Matrix, Object":function(s,l){return a(s,l)},"Array | Matrix, number":function(s,l){return a(s,{number:l})},"Array | Matrix, Array | Matrix":function(s,l){return a(s,{weights:l})},"Array | Matrix, Array | Matrix, number":function(s,l,u){return a(s,{number:u,weights:l})},"Array | Matrix, number, Array | Matrix":function(s,l,u){return a(s,{number:l,weights:u})}});function a(o,s){var{number:l,weights:u,elementWise:c=!0}=s,d=typeof l>"u";d&&(l=1);var f=Ft(o)?o.create:Ft(u)?u.create:null;o=o.valueOf(),u&&(u=u.valueOf()),c===!0&&(o=jn(o),u=jn(u));var h=0;if(typeof u<"u"){if(u.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var m=0,g=u.length;m<g;m++){if(!fn(u[m])||u[m]<0)throw new Error("Weights must be an array of positive numbers");h+=u[m]}}for(var S=o.length,y=[],E;y.length<l;){if(typeof u>"u")E=o[Math.floor(i()*S)];else for(var x=i()*h,v=0,C=o.length;v<C;v++)if(x-=u[v],x<0){E=o[v];break}y.push(E)}return d?y[0]:f?f(y):y}});function ZI(e,t){var n=[];if(e=e.slice(0),e.length>1)for(var r=0,i=e.shift();r<i;r++)n.push(ZI(e,t));else for(var a=0,o=e.shift();a<o;a++)n.push(t());return n}var qG="random",myt=["typed","config","?on"],gyt=ue(qG,myt,e=>{var{typed:t,config:n,on:r}=e,i=c1(n.randomSeed);return r&&r("config",function(s,l){s.randomSeed!==l.randomSeed&&(i=c1(s.randomSeed))}),t(qG,{"":()=>o(0,1),number:s=>o(0,s),"number, number":(s,l)=>o(s,l),"Array | Matrix":s=>a(s,0,1),"Array | Matrix, number":(s,l)=>a(s,0,l),"Array | Matrix, number, number":(s,l,u)=>a(s,l,u)});function a(s,l,u){var c=ZI(s.valueOf(),()=>o(l,u));return Ft(s)?s.create(c):c}function o(s,l){return s+i()*(l-s)}}),WG="randomInt",vyt=["typed","config","?on"],yyt=ue(WG,vyt,e=>{var{typed:t,config:n,on:r}=e,i=c1(n.randomSeed);return r&&r("config",function(s,l){s.randomSeed!==l.randomSeed&&(i=c1(s.randomSeed))}),t(WG,{"":()=>o(0,1),number:s=>o(0,s),"number, number":(s,l)=>o(s,l),"Array | Matrix":s=>a(s,0,1),"Array | Matrix, number":(s,l)=>a(s,0,l),"Array | Matrix, number, number":(s,l,u)=>a(s,l,u)});function a(s,l,u){var c=ZI(s.valueOf(),()=>o(l,u));return Ft(s)?s.create(c):c}function o(s,l){return Math.floor(s+i()*(l-s))}}),GG="stirlingS2",byt=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],wyt=ue(GG,byt,e=>{var{typed:t,addScalar:n,subtractScalar:r,multiplyScalar:i,divideScalar:a,pow:o,factorial:s,combinations:l,isNegative:u,isInteger:c,number:d,bignumber:f,larger:h}=e,m=[],g=[];return t(GG,{"number | BigNumber, number | BigNumber":function(y,E){if(!c(y)||u(y)||!c(E)||u(E))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(h(E,y))throw new TypeError("k must be less than or equal to n in function stirlingS2");var x=!(fn(y)&&fn(E)),v=x?g:m,C=x?f:d,b=d(y),A=d(E);if(v[b]&&v[b].length>A)return v[b][A];for(var _=0;_<=b;++_)if(v[_]||(v[_]=[C(_===0?1:0)]),_!==0)for(var T=v[_],M=v[_-1],N=T.length;N<=_&&N<=A;++N)N===_?T[N]=1:T[N]=n(i(C(N),M[N]),M[N-1]);return v[b][A]}})}),KG="bellNumbers",xyt=["typed","addScalar","isNegative","isInteger","stirlingS2"],Syt=ue(KG,xyt,e=>{var{typed:t,addScalar:n,isNegative:r,isInteger:i,stirlingS2:a}=e;return t(KG,{"number | BigNumber":function(s){if(!i(s)||r(s))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,u=0;u<=s;u++)l=n(l,a(s,u));return l}})}),YG="catalan",Cyt=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],Eyt=ue(YG,Cyt,e=>{var{typed:t,addScalar:n,divideScalar:r,multiplyScalar:i,combinations:a,isNegative:o,isInteger:s}=e;return t(YG,{"number | BigNumber":function(u){if(!s(u)||o(u))throw new TypeError("Non-negative integer value expected in function catalan");return r(a(i(u,2),u),n(u,1))}})}),JG="composition",kyt=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],Ayt=ue(JG,kyt,e=>{var{typed:t,addScalar:n,combinations:r,isPositive:i,isNegative:a,isInteger:o,larger:s}=e;return t(JG,{"number | BigNumber, number | BigNumber":function(u,c){if(!o(u)||!i(u)||!o(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(s(c,u))throw new TypeError("k must be less than or equal to n in function composition");return r(n(u,-1),n(c,-1))}})}),QG="leafCount",_yt=["parse","typed"],Myt=ue(QG,_yt,e=>{var{parse:t,typed:n}=e;function r(i){var a=0;return i.forEach(o=>{a+=r(o)}),a||1}return n(QG,{Node:function(a){return r(a)}})});function XG(e){return Pn(e)||Di(e)&&e.isUnary()&&Pn(e.args[0])}function mC(e){return!!(Pn(e)||(Xf(e)||Di(e))&&e.args.every(mC)||sd(e)&&mC(e.content))}function ZG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZG(Object(n),!0).forEach(function(r){Vi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Tyt="simplifyUtil",Nyt=["FunctionNode","OperatorNode","SymbolNode"],eO=ue(Tyt,Nyt,e=>{var{FunctionNode:t,OperatorNode:n,SymbolNode:r}=e,i=!0,a=!1,o="defaultF",s={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},l={divide:{total:a},log:{total:a}},u={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(x,v){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,b=o;if(typeof x=="string"?b=x:Di(x)?b=x.fn.toString():Xf(x)?b=x.name:sd(x)&&(b="paren"),xt(C,b)){var A=C[b];if(xt(A,v))return A[v];if(xt(s,b))return s[b][v]}if(xt(C,o)){var _=C[o];return xt(_,v)?_[v]:s[o][v]}if(xt(s,b)){var T=s[b];if(xt(T,v))return T[v]}return s[o][v]}function d(x){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return c(x,"commutative",v)}function f(x){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return c(x,"associative",v)}function h(x,v){var C=X6({},x);for(var b in v)xt(x,b)?C[b]=X6(X6({},v[b]),x[b]):C[b]=v[b];return C}function m(x,v){if(!x.args||x.args.length===0)return x;x.args=g(x,v);for(var C=0;C<x.args.length;C++)m(x.args[C],v)}function g(x,v){var C,b=[],A=function _(T){for(var M=0;M<T.args.length;M++){var N=T.args[M];Di(N)&&C===N.op?_(N):b.push(N)}};return f(x,v)?(C=x.op,A(x),b):x.args}function S(x,v){if(!(!x.args||x.args.length===0)){for(var C=E(x),b=x.args.length,A=0;A<b;A++)S(x.args[A],v);if(b>2&&f(x,v)){for(var _=x.args.pop();x.args.length>0;)_=C([x.args.pop(),_]);x.args=_.args}}}function y(x,v){if(!(!x.args||x.args.length===0)){for(var C=E(x),b=x.args.length,A=0;A<b;A++)y(x.args[A],v);if(b>2&&f(x,v)){for(var _=x.args.shift();x.args.length>0;)_=C([_,x.args.shift()]);x.args=_.args}}}function E(x){return Di(x)?function(v){try{return new n(x.op,x.fn,v,x.implicit)}catch(C){return console.error(C),[]}}:function(v){return new t(new r(x.name),v)}}return{createMakeNodeFunction:E,hasProperty:c,isCommutative:d,isAssociative:f,mergeContext:h,flatten:m,allChildren:g,unflattenr:S,unflattenl:y,defaultContext:s,realContext:l,positiveContext:u}}),Dyt="simplify",Ryt=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Iyt=ue(Dyt,Ryt,e=>{var{config:t,typed:n,parse:r,add:i,subtract:a,multiply:o,divide:s,pow:l,isZero:u,equal:c,resolve:d,simplifyConstant:f,simplifyCore:h,fraction:m,bignumber:g,mathWithTransform:S,matrix:y,AccessorNode:E,ArrayNode:x,ConstantNode:v,FunctionNode:C,IndexNode:b,ObjectNode:A,OperatorNode:_,ParenthesisNode:T,SymbolNode:M}=e,{hasProperty:N,isCommutative:I,isAssociative:F,mergeContext:$,flatten:z,unflattenr:D,unflattenl:P,createMakeNodeFunction:V,defaultContext:B,realContext:H,positiveContext:K}=eO({FunctionNode:C,OperatorNode:_,SymbolNode:M});n.addConversion({from:"Object",to:"Map",convert:S0});var W=n("simplify",{Node:se,"Node, Map":(le,ye)=>se(le,!1,ye),"Node, Map, Object":(le,ye,Ee)=>se(le,!1,ye,Ee),"Node, Array":se,"Node, Array, Map":se,"Node, Array, Map, Object":se});n.removeConversion({from:"Object",to:"Map",convert:S0}),W.defaultContext=B,W.realContext=H,W.positiveContext=K;function L(le){return le.transform(function(ye,Ee,be){return sd(ye)?L(ye.content):ye})}var G={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};W.rules=[h,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},f,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},f,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function de(le,ye){var Ee={};if(le.s){var be=le.s.split("->");if(be.length===2)Ee.l=be[0],Ee.r=be[1];else throw SyntaxError("Could not parse rule: "+le.s)}else Ee.l=le.l,Ee.r=le.r;Ee.l=L(r(Ee.l)),Ee.r=L(r(Ee.r));for(var Me of["imposeContext","repeat","assuming"])Me in le&&(Ee[Me]=le[Me]);if(le.evaluate&&(Ee.evaluate=r(le.evaluate)),F(Ee.l,ye)){var X=!I(Ee.l,ye),ce;X&&(ce=ne());var ae=V(Ee.l),Ce=ne();Ee.expanded={},Ee.expanded.l=ae([Ee.l,Ce]),z(Ee.expanded.l,ye),D(Ee.expanded.l,ye),Ee.expanded.r=ae([Ee.r,Ce]),X&&(Ee.expandedNC1={},Ee.expandedNC1.l=ae([ce,Ee.l]),Ee.expandedNC1.r=ae([ce,Ee.r]),Ee.expandedNC2={},Ee.expandedNC2.l=ae([ce,Ee.expanded.l]),Ee.expandedNC2.r=ae([ce,Ee.expanded.r]))}return Ee}function Q(le,ye){for(var Ee=[],be=0;be<le.length;be++){var Me=le[be],X=void 0,ce=typeof Me;switch(ce){case"string":Me={s:Me};case"object":X=de(Me,ye);break;case"function":X=Me;break;default:throw TypeError("Unsupported type of rule: "+ce)}Ee.push(X)}return Ee}var ee=0;function ne(){return new M("_p"+ee++)}function se(le,ye){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l1(),be=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Me=be.consoleDebug;ye=Q(ye||W.rules,be.context);var X=d(le,Ee);X=L(X);for(var ce={},ae=X.toString({parenthesis:"all"});!ce[ae];){ce[ae]=!0,ee=0;var Ce=ae;Me&&console.log("Working on: ",ae);for(var Ie=0;Ie<ye.length;Ie++){var Oe="";if(typeof ye[Ie]=="function"?(X=ye[Ie](X,be),Me&&(Oe=ye[Ie].name)):(z(X,be.context),X=xe(X,ye[Ie],be.context),Me&&(Oe="".concat(ye[Ie].l.toString()," -> ").concat(ye[Ie].r.toString()))),Me){var Ve=X.toString({parenthesis:"all"});Ve!==Ce&&(console.log("Applying",Oe,"produced",Ve),Ce=Ve)}P(X,be.context)}ae=X.toString({parenthesis:"all"})}return X}function ge(le,ye,Ee){var be=le;if(le)for(var Me=0;Me<le.length;++Me){var X=xe(le[Me],ye,Ee);X!==le[Me]&&(be===le&&(be=le.slice()),be[Me]=X)}return be}function xe(le,ye,Ee){if(ye.assuming){for(var be in ye.assuming)for(var Me in ye.assuming[be])if(N(be,Me,Ee)!==ye.assuming[be][Me])return le}var X=$(ye.imposeContext,Ee),ce=le;if(ce instanceof _||ce instanceof C){var ae=ge(ce.args,ye,Ee);ae!==ce.args&&(ce=ce.clone(),ce.args=ae)}else if(ce instanceof T){if(ce.content){var Ce=xe(ce.content,ye,Ee);Ce!==ce.content&&(ce=new T(Ce))}}else if(ce instanceof x){var Ie=ge(ce.items,ye,Ee);Ie!==ce.items&&(ce=new x(Ie))}else if(ce instanceof E){var Oe=ce.object;ce.object&&(Oe=xe(ce.object,ye,Ee));var Ve=ce.index;ce.index&&(Ve=xe(ce.index,ye,Ee)),(Oe!==ce.object||Ve!==ce.index)&&(ce=new E(Oe,Ve))}else if(ce instanceof b){var qe=ge(ce.dimensions,ye,Ee);qe!==ce.dimensions&&(ce=new b(qe))}else if(ce instanceof A){var Je=!1,We={};for(var Nt in ce.properties)We[Nt]=xe(ce.properties[Nt],ye,Ee),We[Nt]!==ce.properties[Nt]&&(Je=!0);Je&&(ce=new A(We))}var Pe=ye.r,te=re(ye.l,ce,X)[0];if(!te&&ye.expanded&&(Pe=ye.expanded.r,te=re(ye.expanded.l,ce,X)[0]),!te&&ye.expandedNC1&&(Pe=ye.expandedNC1.r,te=re(ye.expandedNC1.l,ce,X)[0],te||(Pe=ye.expandedNC2.r,te=re(ye.expandedNC2.l,ce,X)[0])),te){var he=ce.implicit;ce=Pe.clone(),he&&"implicit"in Pe&&(ce.implicit=!0),ce=ce.transform(function(U){return U.isSymbolNode&&xt(te.placeholders,U.name)?te.placeholders[U.name].clone():U})}return ye.repeat&&ce!==le&&(ce=xe(ce,ye,Ee)),ce}function we(le,ye){var Ee=[],be,Me,X=V(le);if(I(le,ye))for(var ce=0;ce<le.args.length;ce++)Me=le.args.slice(0),Me.splice(ce,1),be=Me.length===1?Me[0]:X(Me),Ee.push(X([le.args[ce],be]));else for(var ae=1;ae<le.args.length;ae++){var Ce=le.args[0];ae>1&&(Ce=X(le.args.slice(0,ae))),Me=le.args.slice(ae),be=Me.length===1?Me[0]:X(Me),Ee.push(X([Ce,be]))}return Ee}function _e(le,ye){var Ee={placeholders:{}};if(!le.placeholders&&!ye.placeholders)return Ee;if(le.placeholders){if(!ye.placeholders)return le}else return ye;for(var be in le.placeholders)if(xt(le.placeholders,be)&&(Ee.placeholders[be]=le.placeholders[be],xt(ye.placeholders,be)&&!Se(le.placeholders[be],ye.placeholders[be])))return null;for(var Me in ye.placeholders)xt(ye.placeholders,Me)&&(Ee.placeholders[Me]=ye.placeholders[Me]);return Ee}function ze(le,ye){var Ee=[];if(le.length===0||ye.length===0)return Ee;for(var be,Me=0;Me<le.length;Me++)for(var X=0;X<ye.length;X++)be=_e(le[Me],ye[X]),be&&Ee.push(be);return Ee}function Y(le){if(le.length===0)return le;for(var ye=le.reduce(ze),Ee=[],be={},Me=0;Me<ye.length;Me++){var X=JSON.stringify(ye[Me]);be[X]||(be[X]=!0,Ee.push(ye[Me]))}return Ee}function re(le,ye,Ee,be){var Me=[{placeholders:{}}];if(le instanceof _&&ye instanceof _||le instanceof C&&ye instanceof C){if(le instanceof _){if(le.op!==ye.op||le.fn!==ye.fn)return[]}else if(le instanceof C&&le.name!==ye.name)return[];if(ye.args.length===1&&le.args.length===1||!F(ye,Ee)&&ye.args.length===le.args.length||be){for(var X=[],ce=0;ce<le.args.length;ce++){var ae=re(le.args[ce],ye.args[ce],Ee);if(ae.length===0)break;X.push(ae)}if(X.length!==le.args.length){if(!I(ye,Ee)||le.args.length===1)return[];if(le.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var Ce=re(le.args[0],ye.args[1],Ee);if(Ce.length===0)return[];var Ie=re(le.args[1],ye.args[0],Ee);if(Ie.length===0)return[];X=[Ce,Ie]}Me=Y(X)}else if(ye.args.length>=2&&le.args.length===2){for(var Oe=we(ye,Ee),Ve=[],qe=0;qe<Oe.length;qe++){var Je=re(le,Oe[qe],Ee,!0);Ve=Ve.concat(Je)}return Ve}else{if(le.args.length>2)throw Error("Unexpected non-binary associative function: "+le.toString());return[]}}else if(le instanceof M){if(le.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(G[le.name]){if(le.name!==ye.name)return[]}else switch(le.name[1]>="a"&&le.name[1]<="z"?le.name.substring(0,2):le.name[0]){case"n":case"_p":Me[0].placeholders[le.name]=ye;break;case"c":case"cl":if(Pn(ye))Me[0].placeholders[le.name]=ye;else return[];break;case"v":if(!Pn(ye))Me[0].placeholders[le.name]=ye;else return[];break;case"vl":if(Ji(ye))Me[0].placeholders[le.name]=ye;else return[];break;case"cd":if(XG(ye))Me[0].placeholders[le.name]=ye;else return[];break;case"vd":if(!XG(ye))Me[0].placeholders[le.name]=ye;else return[];break;case"ce":if(mC(ye))Me[0].placeholders[le.name]=ye;else return[];break;case"ve":if(!mC(ye))Me[0].placeholders[le.name]=ye;else return[];break;default:throw new Error("Invalid symbol in rule: "+le.name)}}else if(le instanceof v){if(!c(le.value,ye.value))return[]}else return[];return Me}function Se(le,ye){if(le instanceof v&&ye instanceof v){if(!c(le.value,ye.value))return!1}else if(le instanceof M&&ye instanceof M){if(le.name!==ye.name)return!1}else if(le instanceof _&&ye instanceof _||le instanceof C&&ye instanceof C){if(le instanceof _){if(le.op!==ye.op||le.fn!==ye.fn)return!1}else if(le instanceof C&&le.name!==ye.name)return!1;if(le.args.length!==ye.args.length)return!1;for(var Ee=0;Ee<le.args.length;Ee++)if(!Se(le.args[Ee],ye.args[Ee]))return!1}else return!1;return!0}return W}),Oyt="simplifyConstant",Pyt=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],jyt=ue(Oyt,Pyt,e=>{var{typed:t,config:n,mathWithTransform:r,matrix:i,fraction:a,bignumber:o,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:d,ObjectNode:f,OperatorNode:h,SymbolNode:m}=e,{isCommutative:g,isAssociative:S,allChildren:y,createMakeNodeFunction:E}=eO({FunctionNode:c,OperatorNode:h,SymbolNode:m}),x=t("simplifyConstant",{Node:z=>A($(z,{})),"Node, Object":function(D,P){return A($(D,P))}});function v(z){return X2(z)?z.valueOf():z instanceof Array?z.map(v):Ft(z)?i(v(z.valueOf())):z}function C(z,D,P){try{return r[z].apply(null,D)}catch{return D=D.map(v),T(r[z].apply(null,D),P)}}var b=t({Fraction:N,number:function(D){return D<0?M(new u(-D)):new u(D)},BigNumber:function(D){return D<0?M(new u(-D)):new u(D)},Complex:function(D){throw new Error("Cannot convert Complex number to Node")},string:function(D){return new u(D)},Matrix:function(D){return new l(D.valueOf().map(P=>b(P)))}});function A(z){return rr(z)?z:b(z)}function _(z,D){var P=D&&D.exactFractions!==!1;if(P&&isFinite(z)&&a){var V=a(z),B=D&&typeof D.fractionsLimit=="number"?D.fractionsLimit:1/0;if(V.valueOf()===z&&V.n<B&&V.d<B)return V}return z}var T=t({"string, Object":function(D,P){if(n.number==="BigNumber")return o===void 0&&VI(),o(D);if(n.number==="Fraction")return a===void 0&&Gue(),a(D);var V=parseFloat(D);return _(V,P)},"Fraction, Object":function(D,P){return D},"BigNumber, Object":function(D,P){return D},"number, Object":function(D,P){return _(D,P)},"Complex, Object":function(D,P){return D.im!==0?D:_(D.re,P)},"Matrix, Object":function(D,P){return i(_(D.valueOf()))},"Array, Object":function(D,P){return D.map(_)}});function M(z){return new h("-","unaryMinus",[z])}function N(z){var D,P=z.s*z.n;return P<0?D=new h("-","unaryMinus",[new u(-P)]):D=new u(P),z.d===1?D:new h("/","divide",[D,new u(z.d)])}function I(z,D,P){if(!K1(D))return new s(A(z),A(D));if(tl(z)||Ft(z)){for(var V=Array.from(D.dimensions);V.length>0;)if(Pn(V[0])&&typeof V[0].value!="string"){var B=T(V.shift().value,P);tl(z)?z=z.items[B-1]:(z=z.valueOf()[B-1],z instanceof Array&&(z=i(z)))}else if(V.length>1&&Pn(V[1])&&typeof V[1].value!="string"){var H=T(V[1].value,P),K=[],W=tl(z)?z.items:z.valueOf();for(var L of W)if(tl(L))K.push(L.items[H-1]);else if(Ft(z))K.push(L[H-1]);else break;if(K.length===W.length)tl(z)?z=new l(K):z=i(K),V.splice(1,1);else break}else break;return V.length===D.dimensions.length?new s(A(z),D):V.length>0?(D=new d(V),new s(A(z),D)):z}if(GE(z)&&D.dimensions.length===1&&Pn(D.dimensions[0])){var G=D.dimensions[0].value;return G in z.properties?z.properties[G]:new u}return new s(A(z),D)}function F(z,D,P,V){var B=D.shift(),H=D.reduce((K,W)=>{if(!rr(W)){var L=K.pop();if(rr(L))return[L,W];try{return K.push(C(z,[L,W],V)),K}catch{K.push(L)}}K.push(A(K.pop()));var G=K.length===1?K[0]:P(K);return[P([G,A(W)])]},[B]);return H.length===1?H[0]:P([H[0],b(H[1])])}function $(z,D){switch(z.type){case"SymbolNode":return z;case"ConstantNode":switch(typeof z.value){case"number":return T(z.value,D);case"string":return z.value;default:if(!isNaN(z.value))return T(z.value,D)}return z;case"FunctionNode":if(r[z.name]&&r[z.name].rawArgs)return z;{var P=["add","multiply"];if(P.indexOf(z.name)===-1){var V=z.args.map(xe=>$(xe,D));if(!V.some(rr))try{return C(z.name,V,D)}catch{}if(z.name==="size"&&V.length===1&&tl(V[0])){for(var B=[],H=V[0];tl(H);)B.push(H.items.length),H=H.items[0];return i(B)}return new c(z.name,V.map(A))}}case"OperatorNode":{var K=z.fn.toString(),W,L,G=E(z);if(Di(z)&&z.isUnary())W=[$(z.args[0],D)],rr(W[0])?L=G(W):L=C(K,W,D);else if(S(z,D.context))if(W=y(z,D.context),W=W.map(xe=>$(xe,D)),g(K,D.context)){for(var de=[],Q=[],ee=0;ee<W.length;ee++)rr(W[ee])?Q.push(W[ee]):de.push(W[ee]);de.length>1?(L=F(K,de,G,D),Q.unshift(L),L=F(K,Q,G,D)):L=F(K,W,G,D)}else L=F(K,W,G,D);else W=z.args.map(xe=>$(xe,D)),L=F(K,W,G,D);return L}case"ParenthesisNode":return $(z.content,D);case"AccessorNode":return I($(z.object,D),$(z.index,D),D);case"ArrayNode":{var ne=z.items.map(xe=>$(xe,D));return ne.some(rr)?new l(ne.map(A)):i(ne)}case"IndexNode":return new d(z.dimensions.map(xe=>x(xe,D)));case"ObjectNode":{var se={};for(var ge in z.properties)se[ge]=x(z.properties[ge],D);return new f(se)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(z.type))}}return x}),eK="simplifyCore",Lyt=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Fyt=ue(eK,Lyt,e=>{var{typed:t,parse:n,equal:r,isZero:i,add:a,subtract:o,multiply:s,divide:l,pow:u,AccessorNode:c,ArrayNode:d,ConstantNode:f,FunctionNode:h,IndexNode:m,ObjectNode:g,OperatorNode:S,ParenthesisNode:y,SymbolNode:E}=e,x=new f(0),v=new f(1),C=new f(!0),b=new f(!1);function A(N){return Di(N)&&["and","not","or"].includes(N.op)}var{hasProperty:_,isCommutative:T}=eO({FunctionNode:h,OperatorNode:S,SymbolNode:E});function M(N){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=I?I.context:void 0;if(_(N,"trivial",F)){if(Xf(N)&&N.args.length===1)return M(N.args[0],I);var $=!1,z=0;if(N.forEach(Q=>{++z,z===1&&($=M(Q,I))}),z===1)return $}var D=N;if(Xf(D)){var P=$ft(D.name);if(P){if(D.args.length>2&&_(D,"associative",F))for(;D.args.length>2;){var V=D.args.pop(),B=D.args.pop();D.args.push(new S(P,D.name,[V,B]))}D=new S(P,D.name,D.args)}else return new h(M(D.fn),D.args.map(Q=>M(Q,I)))}if(Di(D)&&D.isUnary()){var H=M(D.args[0],I);if(D.op==="~"&&Di(H)&&H.isUnary()&&H.op==="~"||D.op==="not"&&Di(H)&&H.isUnary()&&H.op==="not"&&A(H.args[0]))return H.args[0];var K=!0;if(D.op==="-"&&Di(H)&&(H.isBinary()&&H.fn==="subtract"&&(D=new S("-","subtract",[H.args[1],H.args[0]]),K=!1),H.isUnary()&&H.op==="-"))return H.args[0];if(K)return new S(D.op,D.fn,[H])}if(Di(D)&&D.isBinary()){var W=M(D.args[0],I),L=M(D.args[1],I);if(D.op==="+"){if(Pn(W)&&i(W.value))return L;if(Pn(L)&&i(L.value))return W;Di(L)&&L.isUnary()&&L.op==="-"&&(L=L.args[0],D=new S("-","subtract",[W,L]))}if(D.op==="-")return Di(L)&&L.isUnary()&&L.op==="-"?M(new S("+","add",[W,L.args[0]]),I):Pn(W)&&i(W.value)?M(new S("-","unaryMinus",[L])):Pn(L)&&i(L.value)?W:new S(D.op,D.fn,[W,L]);if(D.op==="*"){if(Pn(W)){if(i(W.value))return x;if(r(W.value,1))return L}if(Pn(L)){if(i(L.value))return x;if(r(L.value,1))return W;if(T(D,F))return new S(D.op,D.fn,[L,W],D.implicit)}return new S(D.op,D.fn,[W,L],D.implicit)}if(D.op==="/")return Pn(W)&&i(W.value)?x:Pn(L)&&r(L.value,1)?W:new S(D.op,D.fn,[W,L]);if(D.op==="^"&&Pn(L)){if(i(L.value))return v;if(r(L.value,1))return W}if(D.op==="and"){if(Pn(W))if(W.value){if(A(L))return L}else return b;if(Pn(L))if(L.value){if(A(W))return W}else return b}if(D.op==="or"){if(Pn(W)){if(W.value)return C;if(A(L))return L}if(Pn(L)){if(L.value)return C;if(A(W))return W}}return new S(D.op,D.fn,[W,L])}if(Di(D))return new S(D.op,D.fn,D.args.map(Q=>M(Q,I)));if(tl(D))return new d(D.items.map(Q=>M(Q,I)));if(om(D))return new c(M(D.object,I),M(D.index,I));if(K1(D))return new m(D.dimensions.map(Q=>M(Q,I)));if(GE(D)){var G={};for(var de in D.properties)G[de]=M(D.properties[de],I);return new g(G)}return D}return t(eK,{Node:M,"Node,Object":M})}),Byt="resolve",zyt=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],$yt=ue(Byt,zyt,e=>{var{typed:t,parse:n,ConstantNode:r,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=e;function s(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!u)return l;if(Ji(l)){if(c.has(l.name)){var d=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(d,"}"))}var f=u.get(l.name);if(rr(f)){var h=new Set(c);return h.add(l.name),s(f,u,h)}else return typeof f=="number"?n(String(f)):f!==void 0?new r(f):l}else if(Di(l)){var m=l.args.map(function(S){return s(S,u,c)});return new a(l.op,l.fn,m,l.implicit)}else{if(sd(l))return new o(s(l.content,u,c));if(Xf(l)){var g=l.args.map(function(S){return s(S,u,c)});return new i(l.name,g)}}return l.map(S=>s(S,u,c))}return t("resolve",{Node:s,"Node, Map | null | undefined":s,"Node, Object":(l,u)=>s(l,S0(u)),"Array | Matrix":t.referToSelf(l=>u=>u.map(c=>l(c))),"Array | Matrix, null | undefined":t.referToSelf(l=>u=>u.map(c=>l(c))),"Array, Object":t.referTo("Array,Map",l=>(u,c)=>l(u,S0(c))),"Matrix, Object":t.referTo("Matrix,Map",l=>(u,c)=>l(u,S0(c))),"Array | Matrix, Map":t.referToSelf(l=>(u,c)=>u.map(d=>l(d,c)))})}),tK="symbolicEqual",Uyt=["parse","simplify","typed","OperatorNode"],Vyt=ue(tK,Uyt,e=>{var{parse:t,simplify:n,typed:r,OperatorNode:i}=e;function a(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new i("-","subtract",[o,s]),c=n(u,{},l);return Pn(c)&&!c.value}return r(tK,{"Node, Node":a,"Node, Node, Object":a})}),nK="derivative",Hyt=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],qyt=ue(nK,Hyt,e=>{var{typed:t,config:n,parse:r,simplify:i,equal:a,isZero:o,numeric:s,ConstantNode:l,FunctionNode:u,OperatorNode:c,ParenthesisNode:d,SymbolNode:f}=e;function h(v,C){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},A={};S(A,v,C.name);var _=y(v,A);return b.simplify?i(_):_}t.addConversion({from:"identifier",to:"SymbolNode",convert:r});var m=t(nK,{"Node, SymbolNode":h,"Node, SymbolNode, Object":h});t.removeConversion({from:"identifier",to:"SymbolNode",convert:r}),m._simplify=!0,m.toTex=function(v){return g.apply(null,v.args)};var g=t("_derivTex",{"Node, SymbolNode":function(C,b){return Pn(C)&&ur(C.value)==="string"?g(r(C.value).toString(),b.toString(),1):g(C.toTex(),b.toString(),1)},"Node, ConstantNode":function(C,b){if(ur(b.value)==="string")return g(C,r(b.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(C,b,A){return g(C.toString(),b.name,A.value)},"string, string, number":function(C,b,A){var _;return A===1?_="{d\\over d"+b+"}":_="{d^{"+A+"}\\over d"+b+"^{"+A+"}}",_+"\\left[".concat(C,"\\right]")}}),S=t("constTag",{"Object, ConstantNode, string":function(C,b){return C[b]=!0,!0},"Object, SymbolNode, string":function(C,b,A){return b.name!==A?(C[b]=!0,!0):!1},"Object, ParenthesisNode, string":function(C,b,A){return S(C,b.content,A)},"Object, FunctionAssignmentNode, string":function(C,b,A){return b.params.indexOf(A)===-1?(C[b]=!0,!0):S(C,b.expr,A)},"Object, FunctionNode | OperatorNode, string":function(C,b,A){if(b.args.length>0){for(var _=S(C,b.args[0],A),T=1;T<b.args.length;++T)_=S(C,b.args[T],A)&&_;if(_)return C[b]=!0,!0}return!1}}),y=t("_derivative",{"ConstantNode, Object":function(C){return x(0)},"SymbolNode, Object":function(C,b){return b[C]!==void 0?x(0):x(1)},"ParenthesisNode, Object":function(C,b){return new d(y(C.content,b))},"FunctionAssignmentNode, Object":function(C,b){return b[C]!==void 0?x(0):y(C.expr,b)},"FunctionNode, Object":function(C,b){if(C.args.length!==1&&E(C),b[C]!==void 0)return x(0);var A=C.args[0],_,T=!1,M=!1,N;switch(C.name){case"cbrt":T=!0,N=new c("*","multiply",[x(3),new c("^","pow",[A,new c("/","divide",[x(2),x(3)])])]);break;case"sqrt":case"nthRoot":if(C.args.length===1)T=!0,N=new c("*","multiply",[x(2),new u("sqrt",[A])]);else if(C.args.length===2)return _=new c("/","divide",[x(1),C.args[1]]),b[_]=b[C.args[1]],y(new c("^","pow",[A,_]),b);break;case"log10":_=x(10);case"log":if(!_&&C.args.length===1)N=A.clone(),T=!0;else if(C.args.length===1&&_||C.args.length===2&&b[C.args[1]]!==void 0)N=new c("*","multiply",[A.clone(),new u("log",[_||C.args[1]])]),T=!0;else if(C.args.length===2)return y(new c("/","divide",[new u("log",[A]),new u("log",[C.args[1]])]),b);break;case"pow":return b[_]=b[C.args[1]],y(new c("^","pow",[A,C.args[1]]),b);case"exp":N=new u("exp",[A.clone()]);break;case"sin":N=new u("cos",[A.clone()]);break;case"cos":N=new c("-","unaryMinus",[new u("sin",[A.clone()])]);break;case"tan":N=new c("^","pow",[new u("sec",[A.clone()]),x(2)]);break;case"sec":N=new c("*","multiply",[C,new u("tan",[A.clone()])]);break;case"csc":M=!0,N=new c("*","multiply",[C,new u("cot",[A.clone()])]);break;case"cot":M=!0,N=new c("^","pow",[new u("csc",[A.clone()]),x(2)]);break;case"asin":T=!0,N=new u("sqrt",[new c("-","subtract",[x(1),new c("^","pow",[A.clone(),x(2)])])]);break;case"acos":T=!0,M=!0,N=new u("sqrt",[new c("-","subtract",[x(1),new c("^","pow",[A.clone(),x(2)])])]);break;case"atan":T=!0,N=new c("+","add",[new c("^","pow",[A.clone(),x(2)]),x(1)]);break;case"asec":T=!0,N=new c("*","multiply",[new u("abs",[A.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[A.clone(),x(2)]),x(1)])])]);break;case"acsc":T=!0,M=!0,N=new c("*","multiply",[new u("abs",[A.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[A.clone(),x(2)]),x(1)])])]);break;case"acot":T=!0,M=!0,N=new c("+","add",[new c("^","pow",[A.clone(),x(2)]),x(1)]);break;case"sinh":N=new u("cosh",[A.clone()]);break;case"cosh":N=new u("sinh",[A.clone()]);break;case"tanh":N=new c("^","pow",[new u("sech",[A.clone()]),x(2)]);break;case"sech":M=!0,N=new c("*","multiply",[C,new u("tanh",[A.clone()])]);break;case"csch":M=!0,N=new c("*","multiply",[C,new u("coth",[A.clone()])]);break;case"coth":M=!0,N=new c("^","pow",[new u("csch",[A.clone()]),x(2)]);break;case"asinh":T=!0,N=new u("sqrt",[new c("+","add",[new c("^","pow",[A.clone(),x(2)]),x(1)])]);break;case"acosh":T=!0,N=new u("sqrt",[new c("-","subtract",[new c("^","pow",[A.clone(),x(2)]),x(1)])]);break;case"atanh":T=!0,N=new c("-","subtract",[x(1),new c("^","pow",[A.clone(),x(2)])]);break;case"asech":T=!0,M=!0,N=new c("*","multiply",[A.clone(),new u("sqrt",[new c("-","subtract",[x(1),new c("^","pow",[A.clone(),x(2)])])])]);break;case"acsch":T=!0,M=!0,N=new c("*","multiply",[new u("abs",[A.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[A.clone(),x(2)]),x(1)])])]);break;case"acoth":T=!0,M=!0,N=new c("-","subtract",[x(1),new c("^","pow",[A.clone(),x(2)])]);break;case"abs":N=new c("/","divide",[new u(new f("abs"),[A.clone()]),A.clone()]);break;case"gamma":default:throw new Error('Function "'+C.name+'" is not supported by derivative, or a wrong number of arguments is passed')}var I,F;T?(I="/",F="divide"):(I="*",F="multiply");var $=y(A,b);return M&&($=new c("-","unaryMinus",[$])),new c(I,F,[$,N])},"OperatorNode, Object":function(C,b){if(b[C]!==void 0)return x(0);if(C.op==="+")return new c(C.op,C.fn,C.args.map(function(D){return y(D,b)}));if(C.op==="-"){if(C.isUnary())return new c(C.op,C.fn,[y(C.args[0],b)]);if(C.isBinary())return new c(C.op,C.fn,[y(C.args[0],b),y(C.args[1],b)])}if(C.op==="*"){var A=C.args.filter(function(D){return b[D]!==void 0});if(A.length>0){var _=C.args.filter(function(D){return b[D]===void 0}),T=_.length===1?_[0]:new c("*","multiply",_),M=A.concat(y(T,b));return new c("*","multiply",M)}return new c("+","add",C.args.map(function(D){return new c("*","multiply",C.args.map(function(P){return P===D?y(P,b):P.clone()}))}))}if(C.op==="/"&&C.isBinary()){var N=C.args[0],I=C.args[1];return b[I]!==void 0?new c("/","divide",[y(N,b),I]):b[N]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[N]),new c("/","divide",[y(I,b),new c("^","pow",[I.clone(),x(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[y(N,b),I.clone()]),new c("*","multiply",[N.clone(),y(I,b)])]),new c("^","pow",[I.clone(),x(2)])])}if(C.op==="^"&&C.isBinary()){var F=C.args[0],$=C.args[1];if(b[F]!==void 0)return Pn(F)&&(o(F.value)||a(F.value,1))?x(0):new c("*","multiply",[C,new c("*","multiply",[new u("log",[F.clone()]),y($.clone(),b)])]);if(b[$]!==void 0){if(Pn($)){if(o($.value))return x(0);if(a($.value,1))return y(F,b)}var z=new c("^","pow",[F.clone(),new c("-","subtract",[$,x(1)])]);return new c("*","multiply",[$.clone(),new c("*","multiply",[y(F,b),z])])}return new c("*","multiply",[new c("^","pow",[F.clone(),$.clone()]),new c("+","add",[new c("*","multiply",[y(F,b),new c("/","divide",[$.clone(),F.clone()])]),new c("*","multiply",[y($,b),new u("log",[F.clone()])])])])}throw new Error('Operator "'+C.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function E(v){if(!((v.name==="log"||v.name==="nthRoot"||v.name==="pow")&&v.args.length===2)){for(var C=0;C<v.args.length;++C)v.args[C]=x(0);throw v.compile().evaluate(),new Error('Function "'+v.name+'" is not supported by derivative, or a wrong number of arguments is passed')}}function x(v,C){return new l(s(v,C||n.number))}return m}),rK="rationalize",Wyt=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],Gyt=ue(rK,Wyt,e=>{var{config:t,typed:n,equal:r,isZero:i,add:a,subtract:o,multiply:s,divide:l,pow:u,parse:c,simplifyConstant:d,simplifyCore:f,simplify:h,fraction:m,bignumber:g,mathWithTransform:S,matrix:y,AccessorNode:E,ArrayNode:x,ConstantNode:v,FunctionNode:C,IndexNode:b,ObjectNode:A,OperatorNode:_,SymbolNode:T,ParenthesisNode:M}=e;function N(D){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=F(),H=I(D,P,!0,B.firstRules),K=H.variables.length,W={exactFractions:!1},L={exactFractions:!0};if(D=H.expression,K>=1){D=$(D);var G,de,Q=!0,ee=!1;D=h(D,B.firstRules,{},W);for(var ne;de=Q?B.distrDivRules:B.sucDivRules,D=h(D,de,{},L),Q=!Q,ne=D.toString(),ne!==G;)ee=!0,G=ne;ee&&(D=h(D,B.firstRulesAgain,{},W)),D=h(D,B.finalRules,{},W)}var se=[],ge={};return D.type==="OperatorNode"&&D.isBinary()&&D.op==="/"?(K===1&&(D.args[0]=z(D.args[0],se),D.args[1]=z(D.args[1])),V&&(ge.numerator=D.args[0],ge.denominator=D.args[1])):(K===1&&(D=z(D,se)),V&&(ge.numerator=D,ge.denominator=null)),V?(ge.coefficients=se,ge.variables=H.variables,ge.expression=D,ge):D}return n(rK,{Node:N,"Node, boolean":(D,P)=>N(D,{},P),"Node, Object":N,"Node, Object, boolean":N});function I(D,P,V,B){var H=[],K=h(D,B,P,{exactFractions:!1});V=!!V;var W="+-*"+(V?"/":"");G(K);var L={};return L.expression=K,L.variables=H,L;function G(de){var Q=de.type;if(Q==="FunctionNode")throw new Error("There is an unsolved function call");if(Q==="OperatorNode")if(de.op==="^"){if(de.args[1].type!=="ConstantNode"||!Dt(parseFloat(de.args[1].value)))throw new Error("There is a non-integer exponent");G(de.args[0])}else{if(W.indexOf(de.op)===-1)throw new Error("Operator "+de.op+" invalid in polynomial expression");for(var ee=0;ee<de.args.length;ee++)G(de.args[ee])}else if(Q==="SymbolNode"){var ne=de.name,se=H.indexOf(ne);se===-1&&H.push(ne)}else if(Q==="ParenthesisNode")G(de.content);else if(Q!=="ConstantNode")throw new Error("type "+Q+" is not allowed in polynomial expression")}}function F(){var D=[f,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},d,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],P=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],V=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],B=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],H={};return H.firstRules=D.concat(P,B),H.distrDivRules=V,H.sucDivRules=B,H.firstRulesAgain=D.concat(P),H.finalRules=[f,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},d,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],H}function $(D,P,V){var B=D.type,H=arguments.length>1;if(B==="OperatorNode"&&D.isBinary()){var K=!1,W;if(D.op==="^"&&(D.args[0].type==="ParenthesisNode"||D.args[0].type==="OperatorNode")&&D.args[1].type==="ConstantNode"&&(W=parseFloat(D.args[1].value),K=W>=2&&Dt(W)),K){if(W>2){var L=D.args[0],G=new _("^","pow",[D.args[0].cloneDeep(),new v(W-1)]);D=new _("*","multiply",[L,G])}else D=new _("*","multiply",[D.args[0],D.args[0].cloneDeep()]);H&&(V==="content"?P.content=D:P.args[V]=D)}}if(B==="ParenthesisNode")$(D.content,D,"content");else if(B!=="ConstantNode"&&B!=="SymbolNode")for(var de=0;de<D.args.length;de++)$(D.args[de],D,de);if(!H)return D}function z(D,P){P===void 0&&(P=[]),P[0]=0;var V={};V.cte=1,V.oper="+",V.fire="";var B=0,H="";ne(D,null,V),B=P.length-1;for(var K=!0,W,L=B;L>=0;L--)if(P[L]!==0){var G=new v(K?P[L]:Math.abs(P[L])),de=P[L]<0?"-":"+";if(L>0){var Q=new T(H);if(L>1){var ee=new v(L);Q=new _("^","pow",[Q,ee])}P[L]===-1&&K?G=new _("-","unaryMinus",[Q]):Math.abs(P[L])===1?G=Q:G=new _("*","multiply",[G,Q])}K?W=G:de==="+"?W=new _("+","add",[W,G]):W=new _("-","subtract",[W,G]),K=!1}if(K)return new v(0);return W;function ne(se,ge,xe){var we=se.type;if(we==="FunctionNode")throw new Error("There is an unsolved function call");if(we==="OperatorNode"){if("+-*^".indexOf(se.op)===-1)throw new Error("Operator "+se.op+" invalid");if(ge!==null){if((se.fn==="unaryMinus"||se.fn==="pow")&&ge.fn!=="add"&&ge.fn!=="subtract"&&ge.fn!=="multiply")throw new Error("Invalid "+se.op+" placing");if((se.fn==="subtract"||se.fn==="add"||se.fn==="multiply")&&ge.fn!=="add"&&ge.fn!=="subtract")throw new Error("Invalid "+se.op+" placing");if((se.fn==="subtract"||se.fn==="add"||se.fn==="unaryMinus")&&xe.noFil!==0)throw new Error("Invalid "+se.op+" placing")}(se.op==="^"||se.op==="*")&&(xe.fire=se.op);for(var _e=0;_e<se.args.length;_e++)se.fn==="unaryMinus"&&(xe.oper="-"),(se.op==="+"||se.fn==="subtract")&&(xe.fire="",xe.cte=1,xe.oper=_e===0?"+":se.op),xe.noFil=_e,ne(se.args[_e],se,xe)}else if(we==="SymbolNode"){if(se.name!==H&&H!=="")throw new Error("There is more than one variable");if(H=se.name,ge===null){P[1]=1;return}if(ge.op==="^"&&xe.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ge.op==="*"&&xe.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(xe.fire===""||xe.fire==="*")&&(B<1&&(P[1]=0),P[1]+=xe.cte*(xe.oper==="+"?1:-1),B=Math.max(1,B))}else if(we==="ConstantNode"){var ze=parseFloat(se.value);if(ge===null){P[0]=ze;return}if(ge.op==="^"){if(xe.noFil!==1)throw new Error("Constant cannot be powered");if(!Dt(ze)||ze<=0)throw new Error("Non-integer exponent is not allowed");for(var Y=B+1;Y<ze;Y++)P[Y]=0;ze>B&&(P[ze]=0),P[ze]+=xe.cte*(xe.oper==="+"?1:-1),B=Math.max(ze,B);return}xe.cte=ze,xe.fire===""&&(P[0]+=xe.cte*(xe.oper==="+"?1:-1))}else throw new Error("Type "+we+" is not allowed")}}}),iK="zpk2tf",Kyt=["typed","add","multiply","Complex","number"],Yyt=ue(iK,Kyt,e=>{var{typed:t,add:n,multiply:r,Complex:i,number:a}=e;return t(iK,{"Array,Array,number":function(u,c,d){return o(u,c,d)},"Array,Array":function(u,c){return o(u,c,1)},"Matrix,Matrix,number":function(u,c,d){return o(u.valueOf(),c.valueOf(),d)},"Matrix,Matrix":function(u,c){return o(u.valueOf(),c.valueOf(),1)}});function o(l,u,c){l.some(E=>E.type==="BigNumber")&&(l=l.map(E=>a(E))),u.some(E=>E.type==="BigNumber")&&(u=u.map(E=>a(E)));for(var d=[i(1,0)],f=[i(1,0)],h=0;h<l.length;h++){var m=l[h];typeof m=="number"&&(m=i(m,0)),d=s(d,[i(1,0),i(-m.re,-m.im)])}for(var g=0;g<u.length;g++){var S=u[g];typeof S=="number"&&(S=i(S,0)),f=s(f,[i(1,0),i(-S.re,-S.im)])}for(var y=0;y<d.length;y++)d[y]=r(d[y],c);return[d,f]}function s(l,u){for(var c=[],d=0;d<l.length+u.length-1;d++){c[d]=i(0,0);for(var f=0;f<l.length;f++)d-f>=0&&d-f<u.length&&(c[d]=n(c[d],r(l[f],u[d-f])))}return c}}),aK="freqz",Jyt=["typed","add","multiply","Complex","divide","matrix"],Qyt=ue(aK,Jyt,e=>{var{typed:t,add:n,multiply:r,Complex:i,divide:a,matrix:o}=e;return t(aK,{"Array, Array":function(c,d){var f=l(512);return s(c,d,f)},"Array, Array, Array":function(c,d,f){return s(c,d,f)},"Array, Array, number":function(c,d,f){if(f<0)throw new Error("w must be a positive number");var h=l(f);return s(c,d,h)},"Matrix, Matrix":function(c,d){var f=l(512),{w:h,h:m}=s(c.valueOf(),d.valueOf(),f);return{w:o(h),h:o(m)}},"Matrix, Matrix, Matrix":function(c,d,f){var{h}=s(c.valueOf(),d.valueOf(),f.valueOf());return{h:o(h),w:o(f)}},"Matrix, Matrix, number":function(c,d,f){if(f<0)throw new Error("w must be a positive number");var h=l(f),{h:m}=s(c.valueOf(),d.valueOf(),h);return{h:o(m),w:o(h)}}});function s(u,c,d){for(var f=[],h=[],m=0;m<d.length;m++){for(var g=i(0,0),S=i(0,0),y=0;y<u.length;y++)g=n(g,r(u[y],i(Math.cos(-y*d[m]),Math.sin(-y*d[m]))));for(var E=0;E<c.length;E++)S=n(S,r(c[E],i(Math.cos(-E*d[m]),Math.sin(-E*d[m]))));f.push(g),h.push(S)}for(var x=[],v=0;v<f.length;v++)x.push(a(f[v],h[v]));return{h:x,w:d}}function l(u){for(var c=[],d=0;d<u;d++)c.push(d/u*Math.PI);return c}}),Xyt="reviver",Zyt=["classes"],ebt=ue(Xyt,Zyt,e=>{var{classes:t}=e;return function(r,i){var a=t[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}}),tbt="replacer",nbt=[],rbt=ue(tbt,nbt,()=>function(t,n){return typeof n=="number"&&(!isFinite(n)||isNaN(n))?{mathjs:"number",value:String(n)}:n}),ibt="12.0.0",abt=ue("true",[],()=>!0),obt=ue("false",[],()=>!1),sbt=ue("null",[],()=>null),lbt=js("Infinity",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return t.number==="BigNumber"?new n(1/0):1/0}),ubt=js("NaN",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return t.number==="BigNumber"?new n(NaN):NaN}),cbt=js("pi",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return t.number==="BigNumber"?WI(n):yit}),dbt=js("tau",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return t.number==="BigNumber"?qct(n):bit}),fbt=js("e",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return t.number==="BigNumber"?Vct(n):wit}),hbt=js("phi",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return t.number==="BigNumber"?Hct(n):xit}),pbt=js("LN2",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return t.number==="BigNumber"?new n(2).ln():Math.LN2}),mbt=js("LN10",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return t.number==="BigNumber"?new n(10).ln():Math.LN10}),gbt=js("LOG2E",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return t.number==="BigNumber"?new n(1).div(new n(2).ln()):Math.LOG2E}),vbt=js("LOG10E",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return t.number==="BigNumber"?new n(1).div(new n(10).ln()):Math.LOG10E}),ybt=js("SQRT1_2",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return t.number==="BigNumber"?new n("0.5").sqrt():Math.SQRT1_2}),bbt=js("SQRT2",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return t.number==="BigNumber"?new n(2).sqrt():Math.SQRT2}),wbt=js("i",["Complex"],e=>{var{Complex:t}=e;return t.I}),xbt=ue("version",[],()=>ibt);function js(e,t,n){return ue(e,t,n,{recreateOnConfigChange:!0})}var Sbt=tn("speedOfLight","299792458","m s^-1"),Cbt=tn("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),Ebt=tn("planckConstant","6.62607015e-34","J s"),kbt=tn("reducedPlanckConstant","1.0545718176461565e-34","J s"),Abt=tn("magneticConstant","1.25663706212e-6","N A^-2"),_bt=tn("electricConstant","8.8541878128e-12","F m^-1"),Mbt=tn("vacuumImpedance","376.730313667","ohm"),Tbt=tn("coulomb","8.987551792261171e9","N m^2 C^-2"),Nbt=tn("elementaryCharge","1.602176634e-19","C"),Dbt=tn("bohrMagneton","9.2740100783e-24","J T^-1"),Rbt=tn("conductanceQuantum","7.748091729863649e-5","S"),Ibt=tn("inverseConductanceQuantum","12906.403729652257","ohm"),Obt=tn("magneticFluxQuantum","2.0678338484619295e-15","Wb"),Pbt=tn("nuclearMagneton","5.0507837461e-27","J T^-1"),jbt=tn("klitzing","25812.807459304513","ohm"),Lbt=tn("bohrRadius","5.29177210903e-11","m"),Fbt=tn("classicalElectronRadius","2.8179403262e-15","m"),Bbt=tn("electronMass","9.1093837015e-31","kg"),zbt=tn("fermiCoupling","1.1663787e-5","GeV^-2"),$bt=ak("fineStructure",.0072973525693),Ubt=tn("hartreeEnergy","4.3597447222071e-18","J"),Vbt=tn("protonMass","1.67262192369e-27","kg"),Hbt=tn("deuteronMass","3.3435830926e-27","kg"),qbt=tn("neutronMass","1.6749271613e-27","kg"),Wbt=tn("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),Gbt=tn("rydberg","10973731.568160","m^-1"),Kbt=tn("thomsonCrossSection","6.6524587321e-29","m^2"),Ybt=ak("weakMixingAngle",.2229),Jbt=ak("efimovFactor",22.7),Qbt=tn("atomicMass","1.66053906660e-27","kg"),Xbt=tn("avogadro","6.02214076e23","mol^-1"),Zbt=tn("boltzmann","1.380649e-23","J K^-1"),e2t=tn("faraday","96485.33212331001","C mol^-1"),t2t=tn("firstRadiation","3.7417718521927573e-16","W m^2"),n2t=tn("loschmidt","2.686780111798444e25","m^-3"),r2t=tn("gasConstant","8.31446261815324","J K^-1 mol^-1"),i2t=tn("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),a2t=tn("molarVolume","0.022413969545014137","m^3 mol^-1"),o2t=ak("sackurTetrode",-1.16487052358),s2t=tn("secondRadiation","0.014387768775039337","m K"),l2t=tn("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),u2t=tn("wienDisplacement","2.897771955e-3","m K"),c2t=tn("molarMass","0.99999999965e-3","kg mol^-1"),d2t=tn("molarMassC12","11.9999999958e-3","kg mol^-1"),f2t=tn("gravity","9.80665","m s^-2"),h2t=tn("planckLength","1.616255e-35","m"),p2t=tn("planckMass","2.176435e-8","kg"),m2t=tn("planckTime","5.391245e-44","s"),g2t=tn("planckCharge","1.87554603778e-18","C"),v2t=tn("planckTemperature","1.416785e+32","K");function tn(e,t,n){var r=["config","Unit","BigNumber"];return ue(e,r,i=>{var{config:a,Unit:o,BigNumber:s}=i,l=a.number==="BigNumber"?new s(t):parseFloat(t),u=new o(l,n);return u.fixPrefix=!0,u})}function ak(e,t){var n=["config","BigNumber"];return ue(e,n,r=>{var{config:i,BigNumber:a}=r;return i.number==="BigNumber"?new a(t):t})}var y2t="apply",b2t=["typed","isInteger"],w2t=ue(y2t,b2t,e=>{var{typed:t,isInteger:n}=e,r=zI({typed:t,isInteger:n});return t("apply",{"...any":function(a){var o=a[1];fn(o)?a[1]=o-1:Sn(o)&&(a[1]=o.minus(1));try{return r.apply(null,a)}catch(s){throw Po(s)}}})},{isTransformFunction:!0}),x2t="column",S2t=["typed","Index","matrix","range"],C2t=ue(x2t,S2t,e=>{var{typed:t,Index:n,matrix:r,range:i}=e,a=que({typed:t,Index:n,matrix:r,range:i});return t("column",{"...any":function(s){var l=s.length-1,u=s[l];fn(u)&&(s[l]=u-1);try{return a.apply(null,s)}catch(c){throw Po(c)}}})},{isTransformFunction:!0});function tO(e,t,n){var r=e.filter(function(s){return Ji(s)&&!(s.name in t)&&!n.has(s.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+e+'"');var i=r.name,a=Cy(n),o=e.compile();return function(l){return a.set(i,l),o.evaluate(a)}}var E2t="filter",k2t=["typed"],A2t=ue(E2t,k2t,e=>{var{typed:t}=e;function n(i,a,o){var s,l;return i[0]&&(s=i[0].compile().evaluate(o)),i[1]&&(Ji(i[1])||Z2(i[1])?l=i[1].compile().evaluate(o):l=tO(i[1],a,o)),r(s,l)}n.rawArgs=!0;var r=t("filter",{"Array, function":oK,"Matrix, function":function(a,o){return a.create(oK(a.toArray(),o))},"Array, RegExp":Q5,"Matrix, RegExp":function(a,o){return a.create(Q5(a.toArray(),o))}});return n},{isTransformFunction:!0});function oK(e,t){return kle(e,function(n,r,i){return Z1(t,n,[r+1],i,"filter")})}var _2t="forEach",M2t=["typed"],T2t=ue(_2t,M2t,e=>{var{typed:t}=e;function n(i,a,o){var s,l;return i[0]&&(s=i[0].compile().evaluate(o)),i[1]&&(Ji(i[1])||Z2(i[1])?l=i[1].compile().evaluate(o):l=tO(i[1],a,o)),r(s,l)}n.rawArgs=!0;var r=t("forEach",{"Array | Matrix, function":function(a,o){var s=function l(u,c){if(Array.isArray(u))JE(u,function(d,f){l(d,c.concat(f+1))});else return Z1(o,u,c,a,"forEach")};s(a.valueOf(),[])}});return n},{isTransformFunction:!0}),N2t="index",D2t=["Index","getMatrixDataType"],R2t=ue(N2t,D2t,e=>{var{Index:t,getMatrixDataType:n}=e;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var s=arguments[a];if(RI(s))s.start--,s.end-=s.step>0?0:2;else if(s&&s.isSet===!0)s=s.map(function(u){return u-1});else if(Vn(s)||Ft(s))n(s)!=="boolean"&&(s=s.map(function(u){return u-1}));else if(fn(s))s--;else if(Sn(s))s=s.toNumber()-1;else if(typeof s!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=s}var l=new t;return t.apply(l,i),l}},{isTransformFunction:!0}),I2t="map",O2t=["typed"],P2t=ue(I2t,O2t,e=>{var{typed:t}=e;function n(i,a,o){var s,l;return i[0]&&(s=i[0].compile().evaluate(o)),i[1]&&(Ji(i[1])||Z2(i[1])?l=i[1].compile().evaluate(o):l=tO(i[1],a,o)),r(s,l)}n.rawArgs=!0;var r=t("map",{"Array, function":function(a,o){return sK(a,o,a)},"Matrix, function":function(a,o){return a.create(sK(a.valueOf(),o,a))}});return n},{isTransformFunction:!0});function sK(e,t,n){function r(i,a){return Array.isArray(i)?Gc(i,function(o,s){return r(o,a.concat(s+1))}):Z1(t,i,a,n,"map")}return r(e,[])}function kh(e){if(e.length===2&&Qf(e[0])){e=e.slice();var t=e[1];fn(t)?e[1]=t-1:Sn(t)&&(e[1]=t.minus(1))}return e}var j2t="max",L2t=["typed","config","numeric","larger"],F2t=ue(j2t,L2t,e=>{var{typed:t,config:n,numeric:r,larger:i}=e,a=ece({typed:t,config:n,numeric:r,larger:i});return t("max",{"...any":function(s){s=kh(s);try{return a.apply(null,s)}catch(l){throw Po(l)}}})},{isTransformFunction:!0}),B2t="mean",z2t=["typed","add","divide"],$2t=ue(B2t,z2t,e=>{var{typed:t,add:n,divide:r}=e,i=uce({typed:t,add:n,divide:r});return t("mean",{"...any":function(o){o=kh(o);try{return i.apply(null,o)}catch(s){throw Po(s)}}})},{isTransformFunction:!0}),U2t="min",V2t=["typed","config","numeric","smaller"],H2t=ue(U2t,V2t,e=>{var{typed:t,config:n,numeric:r,smaller:i}=e,a=tce({typed:t,config:n,numeric:r,smaller:i});return t("min",{"...any":function(s){s=kh(s);try{return a.apply(null,s)}catch(l){throw Po(l)}}})},{isTransformFunction:!0}),q2t="range",W2t=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],G2t=ue(q2t,W2t,e=>{var{typed:t,config:n,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:c}=e,d=Yue({typed:t,config:n,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:c});return t("range",{"...any":function(h){var m=h.length-1,g=h[m];return typeof g!="boolean"&&h.push(!0),d.apply(null,h)}})},{isTransformFunction:!0}),K2t="row",Y2t=["typed","Index","matrix","range"],J2t=ue(K2t,Y2t,e=>{var{typed:t,Index:n,matrix:r,range:i}=e,a=Jue({typed:t,Index:n,matrix:r,range:i});return t("row",{"...any":function(s){var l=s.length-1,u=s[l];fn(u)&&(s[l]=u-1);try{return a.apply(null,s)}catch(c){throw Po(c)}}})},{isTransformFunction:!0}),Q2t="subset",X2t=["typed","matrix","zeros","add"],Z2t=ue(Q2t,X2t,e=>{var{typed:t,matrix:n,zeros:r,add:i}=e,a=Que({typed:t,matrix:n,zeros:r,add:i});return t("subset",{"...any":function(s){try{return a.apply(null,s)}catch(l){throw Po(l)}}})},{isTransformFunction:!0}),ewt="concat",twt=["typed","matrix","isInteger"],nwt=ue(ewt,twt,e=>{var{typed:t,matrix:n,isInteger:r}=e,i=Hue({typed:t,matrix:n,isInteger:r});return t("concat",{"...any":function(o){var s=o.length-1,l=o[s];fn(l)?o[s]=l-1:Sn(l)&&(o[s]=l.minus(1));try{return i.apply(null,o)}catch(u){throw Po(u)}}})},{isTransformFunction:!0}),lK="diff",rwt=["typed","matrix","subtract","number","bignumber"],iwt=ue(lK,rwt,e=>{var{typed:t,matrix:n,subtract:r,number:i,bignumber:a}=e,o=Wue({typed:t,matrix:n,subtract:r,number:i,bignumber:a});return t(lK,{"...any":function(l){l=kh(l);try{return o.apply(null,l)}catch(u){throw Po(u)}}})},{isTransformFunction:!0}),awt="std",owt=["typed","map","sqrt","variance"],swt=ue(awt,owt,e=>{var{typed:t,map:n,sqrt:r,variance:i}=e,a=fce({typed:t,map:n,sqrt:r,variance:i});return t("std",{"...any":function(s){s=kh(s);try{return a.apply(null,s)}catch(l){throw Po(l)}}})},{isTransformFunction:!0}),uK="sum",lwt=["typed","config","add","numeric"],uwt=ue(uK,lwt,e=>{var{typed:t,config:n,add:r,numeric:i}=e,a=sce({typed:t,config:n,add:r,numeric:i});return t(uK,{"...any":function(s){s=kh(s);try{return a.apply(null,s)}catch(l){throw Po(l)}}})},{isTransformFunction:!0}),cwt="quantileSeq",dwt=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],fwt=ue(cwt,dwt,e=>{var{typed:t,bignumber:n,add:r,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:d,larger:f}=e,h=dce({typed:t,bignumber:n,add:r,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:d,larger:f});return t("quantileSeq",{"Array | Matrix, number | BigNumber":h,"Array | Matrix, number | BigNumber, number":(g,S,y)=>h(g,S,m(y)),"Array | Matrix, number | BigNumber, boolean":h,"Array | Matrix, number | BigNumber, boolean, number":(g,S,y,E)=>h(g,S,y,m(E)),"Array | Matrix, Array | Matrix":h,"Array | Matrix, Array | Matrix, number":(g,S,y)=>h(g,S,m(y)),"Array | Matrix, Array | Matrix, boolean":h,"Array | Matrix, Array | Matrix, boolean, number":(g,S,y,E)=>h(g,S,y,m(E))});function m(g){return kh([[],g])[1]}},{isTransformFunction:!0}),cK="cumsum",hwt=["typed","add","unaryPlus"],pwt=ue(cK,hwt,e=>{var{typed:t,add:n,unaryPlus:r}=e,i=lce({typed:t,add:n,unaryPlus:r});return t(cK,{"...any":function(o){if(o.length===2&&Qf(o[0])){var s=o[1];fn(s)?o[1]=s-1:Sn(s)&&(o[1]=s.minus(1))}try{return i.apply(null,o)}catch(l){throw Po(l)}}})},{isTransformFunction:!0}),dK="variance",mwt=["typed","add","subtract","multiply","divide","apply","isNaN"],gwt=ue(dK,mwt,e=>{var{typed:t,add:n,subtract:r,multiply:i,divide:a,apply:o,isNaN:s}=e,l=cce({typed:t,add:n,subtract:r,multiply:i,divide:a,apply:o,isNaN:s});return t(dK,{"...any":function(c){c=kh(c);try{return l.apply(null,c)}catch(d){throw Po(d)}}})},{isTransformFunction:!0}),fK="print",vwt=["typed","matrix","zeros","add"],ywt=ue(fK,vwt,e=>{var{typed:t,matrix:n,zeros:r,add:i}=e,a=Zue({typed:t,matrix:n,zeros:r,add:i});return t(fK,{"string, Object | Array":function(l,u){return a(o(l),u)},"string, Object | Array, number | Object":function(l,u,c){return a(o(l),u,c)}});function o(s){return s.replace(Xue,l=>{var u=l.slice(1).split("."),c=u.map(function(d){return!isNaN(d)&&d.length>0?parseInt(d)-1:d});return"$"+c.join(".")})}},{isTransformFunction:!0}),st=Grt({config:Ye}),fr=Qrt({}),hK=fbt({BigNumber:st,config:Ye}),bwt=obt({}),wwt=$bt({BigNumber:st,config:Ye}),km=tit({}),mce=wbt({Complex:fr}),xwt=lbt({BigNumber:st,config:Ye}),Swt=mbt({BigNumber:st,config:Ye}),Cwt=vbt({BigNumber:st,config:Ye}),ok=sit({}),Ewt=ubt({BigNumber:st,config:Ye}),kwt=sbt({}),Awt=hbt({BigNumber:st,config:Ye}),_wt=iit({}),gce=Qnt({}),Mwt=ybt({BigNumber:st,config:Ye}),Twt=o2t({BigNumber:st,config:Ye}),vce=dbt({BigNumber:st,config:Ye}),Nwt=abt({}),Dwt=xbt({}),mn=dit({Matrix:ok}),Rwt=Jbt({BigNumber:st,config:Ye}),Iwt=pbt({BigNumber:st,config:Ye}),CN=cbt({BigNumber:st,config:Ye}),Owt=rbt({}),Pwt=bbt({BigNumber:st,config:Ye}),ke=Gnt({BigNumber:st,Complex:fr,DenseMatrix:mn,Fraction:km}),nO=Sat({BigNumber:st,config:Ye,typed:ke}),jwt=Ybt({BigNumber:st,config:Ye}),jo=Eat({typed:ke}),Lwt=ndt({Complex:fr,config:Ye,typed:ke}),Fwt=odt({BigNumber:st,typed:ke}),Bwt=cdt({BigNumber:st,Complex:fr,config:Ye,typed:ke}),qi=Mat({typed:ke}),zwt=vst({typed:ke}),$wt=gdt({BigNumber:st,Complex:fr,config:Ye,typed:ke}),Uwt=xdt({typed:ke}),yce=Edt({typed:ke}),Vwt=Mdt({Complex:fr,config:Ye,typed:ke}),ks=nat({BigNumber:st,typed:ke}),Hwt=ust({typed:ke}),qwt=Zit({typed:ke}),Wwt=hit({typed:ke}),sk=Ovt({typed:ke}),lk=aat({Complex:fr,typed:ke}),Am=bst({typed:ke}),rO=Ndt({typed:ke}),Gwt=Odt({BigNumber:st,typed:ke}),Kwt=Fdt({BigNumber:st,typed:ke}),Ywt=Vat({typed:ke}),Mn=$it({config:Ye,typed:ke}),Jwt=Ult({typed:ke}),bce=qat({typed:ke}),Qwt=Gat({Complex:fr,typed:ke}),Xwt=zst({typed:ke}),Zwt=Hst({typed:ke}),nw=Zlt({typed:ke}),iO=Gst({typed:ke}),ext=aut({format:nw,typed:ke}),aO=xst({typed:ke}),Qo=mit({typed:ke}),Ah=Ait({typed:ke}),_m=Rit({typed:ke}),yu=Oit({typed:ke}),txt=gbt({BigNumber:st,config:Ye}),nxt=zvt({Complex:fr,typed:ke}),rxt=Mot({Complex:fr,config:Ye,typed:ke}),wce=Not({Complex:fr,config:Ye,typed:ke}),Mm=Zst({typed:ke}),pi=Iot({typed:ke}),xce=kst({typed:ke}),Ed=Yit({typed:ke}),ixt=rut({format:nw,typed:ke}),axt=pyt({config:Ye,typed:ke}),oxt=Zue({typed:ke}),sxt=gyt({config:Ye,typed:ke}),oO=Cst({typed:ke}),lxt=Udt({BigNumber:st,typed:ke}),Sce=Bot({BigNumber:st,Fraction:km,complex:lk,typed:ke}),uk=Wdt({typed:ke}),kd=Hit({Matrix:ok,equalScalar:Mn,typed:ke}),uxt=yat({typed:ke}),cxt=Hot({typed:ke}),dxt=Qit({typed:ke}),Nl=Nat({typed:ke}),fxt=Jdt({typed:ke}),Cce=Fit({typed:ke}),hxt=idt({Complex:fr,config:Ye,typed:ke}),pxt=fdt({BigNumber:st,typed:ke}),sO=zI({isInteger:Qo,typed:ke}),mxt=pdt({BigNumber:st,Complex:fr,config:Ye,typed:ke}),gxt=tut({format:nw,typed:ke}),vxt=jvt({typed:ke}),yxt=Rdt({typed:ke}),bxt=zdt({BigNumber:st,typed:ke}),rw=jit({typed:ke}),wxt=cut({typed:ke}),xxt=yyt({config:Ye,typed:ke}),Sxt=Hdt({BigNumber:st,typed:ke}),Cxt=Kdt({typed:ke}),Ext=Xct({SparseMatrix:kd,typed:ke}),bu=Uot({Complex:fr,config:Ye,typed:ke}),kxt=Zdt({typed:ke}),cc=wat({typed:ke}),Axt=ldt({BigNumber:st,Complex:fr,config:Ye,typed:ke}),_xt=jdt({BigNumber:st,typed:ke}),tv=lat({Fraction:km,typed:ke}),Tm=Mit({typed:ke}),ot=cat({DenseMatrix:mn,Matrix:ok,SparseMatrix:kd,typed:ke}),Mxt=fat({isZero:yu,matrix:ot,typed:ke}),Txt=Ylt({isNaN:rw,isNumeric:Tm,typed:ke}),au=hut({bignumber:ks,fraction:tv,number:Ed}),Ece=Qlt({config:Ye,multiplyScalar:pi,numeric:au,typed:ke}),kce=slt({isInteger:Qo,matrix:ot,typed:ke}),Ma=vlt({matrix:ot,config:Ye,typed:ke}),Nxt=blt({matrix:ot,typed:ke}),iw=klt({matrix:ot,typed:ke}),Ace=Kot({BigNumber:st,config:Ye,matrix:ot,typed:ke}),No=Tlt({BigNumber:st,config:Ye,matrix:ot,typed:ke}),Dxt=ydt({Complex:fr,config:Ye,typed:ke}),_ce=Rat({BigNumber:st,Complex:fr,Fraction:km,config:Ye,isNegative:Ah,matrix:ot,typed:ke,unaryMinus:cc}),Xn=Hue({isInteger:Qo,matrix:ot,typed:ke}),Rxt=Ist({prod:Ece,size:Ma,typed:ke}),lO=_lt({conj:Am,transpose:iw,typed:ke}),Mce=Lst({DenseMatrix:mn,SparseMatrix:kd,matrix:ot,typed:ke}),Yr=mut({numeric:au,typed:ke}),aw=Tut({DenseMatrix:mn,concat:Xn,divideScalar:Yr,equalScalar:Mn,matrix:ot,typed:ke}),Dl=ict({DenseMatrix:mn,concat:Xn,equalScalar:Mn,matrix:ot,typed:ke}),ow=Ust({matrix:ot,typed:ke}),Ixt=Nit({isNumeric:Tm,typed:ke}),_h=Yst({BigNumber:st,DenseMatrix:mn,SparseMatrix:kd,config:Ye,matrix:ot,typed:ke}),Oxt=Qst({matrix:ot,multiplyScalar:pi,typed:ke}),ck=yct({DenseMatrix:mn,concat:Xn,config:Ye,matrix:ot,typed:ke}),Pxt=$ut({DenseMatrix:mn,concat:Xn,equalScalar:Mn,matrix:ot,typed:ke,zeros:No}),Tce=Dut({DenseMatrix:mn,divideScalar:Yr,equalScalar:Mn,matrix:ot,multiplyScalar:pi,subtractScalar:Nl,typed:ke}),uO=gat({flatten:ow,matrix:ot,size:Ma,typed:ke}),jxt=Lot({BigNumber:st,concat:Xn,equalScalar:Mn,matrix:ot,typed:ke}),Lxt=ilt({BigNumber:st,config:Ye,matrix:ot,typed:ke}),cO=Pht({addScalar:qi,complex:lk,conj:Am,divideScalar:Yr,equal:Dl,identity:_h,isZero:yu,matrix:ot,multiplyScalar:pi,sign:Sce,sqrt:bu,subtractScalar:Nl,typed:ke,unaryMinus:cc,zeros:No}),Fxt=clt({config:Ye,matrix:ot}),Bxt=Vut({DenseMatrix:mn,concat:Xn,equalScalar:Mn,matrix:ot,typed:ke,zeros:No}),nv=but({BigNumber:st,DenseMatrix:mn,equalScalar:Mn,matrix:ot,typed:ke,zeros:No}),wo=uct({DenseMatrix:mn,concat:Xn,config:Ye,matrix:ot,typed:ke}),fi=Wot({DenseMatrix:mn,concat:Xn,equalScalar:Mn,matrix:ot,subtractScalar:Nl,typed:ke,unaryMinus:cc}),zxt=lut({concat:Xn,matrix:ot,typed:ke}),$xt=Cct({DenseMatrix:mn,concat:Xn,config:Ye,equalScalar:Mn,matrix:ot,typed:ke}),dO=Iut({DenseMatrix:mn,divideScalar:Yr,equalScalar:Mn,matrix:ot,multiplyScalar:pi,subtractScalar:Nl,typed:ke}),Uxt=Tst({DenseMatrix:mn,concat:Xn,matrix:ot,typed:ke}),An=xft({DenseMatrix:mn,SparseMatrix:kd,addScalar:qi,concat:Xn,equalScalar:Mn,matrix:ot,typed:ke}),Vxt=Adt({BigNumber:st,DenseMatrix:mn,concat:Xn,equalScalar:Mn,matrix:ot,typed:ke}),Hxt=sst({concat:Xn,equalScalar:Mn,matrix:ot,typed:ke}),qxt=mst({DenseMatrix:mn,concat:Xn,matrix:ot,typed:ke}),Wxt=Eyt({addScalar:qi,combinations:sk,divideScalar:Yr,isInteger:Qo,isNegative:Ah,multiplyScalar:pi,typed:ke}),Nm=Yut({BigNumber:st,DenseMatrix:mn,Fraction:km,concat:Xn,config:Ye,equalScalar:Mn,matrix:ot,typed:ke}),Nce=nct({concat:Xn,matrix:ot,typed:ke}),Gxt=lce({add:An,typed:ke,unaryPlus:nO}),fO=xct({equal:Dl,typed:ke}),Kxt=Wue({matrix:ot,number:Ed,subtract:fi,typed:ke}),Yxt=vvt({abs:jo,addScalar:qi,deepEqual:fO,divideScalar:Yr,multiplyScalar:pi,sqrt:bu,subtractScalar:Nl,typed:ke}),dk=_ft({addScalar:qi,conj:Am,multiplyScalar:pi,size:Ma,typed:ke}),Jxt=sct({compareText:Nce,isZero:yu,typed:ke}),Dce=$ue({DenseMatrix:mn,config:Ye,equalScalar:Mn,matrix:ot,round:nv,typed:ke,zeros:No}),Qxt=Sot({BigNumber:st,DenseMatrix:mn,concat:Xn,config:Ye,equalScalar:Mn,matrix:ot,round:nv,typed:ke,zeros:No}),Xxt=Cft({abs:jo,addScalar:qi,divideScalar:Yr,isPositive:_m,multiplyScalar:pi,smaller:wo,sqrt:bu,typed:ke}),Rce=Ict({DenseMatrix:mn,smaller:wo}),qa=jct({ImmutableDenseMatrix:Rce,getMatrixDataType:iO}),xo=mct({DenseMatrix:mn,concat:Xn,config:Ye,matrix:ot,typed:ke}),hO=xut({Complex:fr,config:Ye,divideScalar:Yr,typed:ke}),Zxt=Put({DenseMatrix:mn,divideScalar:Yr,equalScalar:Mn,matrix:ot,multiplyScalar:pi,subtractScalar:Nl,typed:ke}),e3t=pat({flatten:ow,matrix:ot,size:Ma,typed:ke}),t3t=tce({config:Ye,numeric:au,smaller:wo,typed:ke}),Ice=Uue({DenseMatrix:mn,concat:Xn,config:Ye,equalScalar:Mn,matrix:ot,round:nv,typed:ke,zeros:No}),Qn=Pot({addScalar:qi,dot:dk,equalScalar:Mn,matrix:ot,multiplyScalar:pi,typed:ke}),n3t=kut({Complex:fr,config:Ye,divideScalar:Yr,typed:ke}),r3t=_st({DenseMatrix:mn,concat:Xn,equalScalar:Mn,matrix:ot,typed:ke}),fk=Act({compare:Nm,isNaN:rw,isNumeric:Tm,typed:ke}),i3t=qut({DenseMatrix:mn,concat:Xn,equalScalar:Mn,matrix:ot,typed:ke,zeros:No}),Oce=apt({SparseMatrix:kd,abs:jo,add:An,divideScalar:Yr,larger:xo,largerEq:ck,multiply:Qn,subtract:fi,transpose:iw,typed:ke}),Ls=Que({add:An,matrix:ot,typed:ke,zeros:No}),pO=sce({add:An,config:Ye,numeric:au,typed:ke}),a3t=Nft({add:An,matrix:ot,typed:ke}),Pce=Lut({DenseMatrix:mn,divideScalar:Yr,equalScalar:Mn,matrix:ot,multiplyScalar:pi,subtractScalar:Nl,typed:ke}),o3t=Yyt({Complex:fr,add:An,multiply:Qn,number:Ed,typed:ke}),s3t=dst({DenseMatrix:mn,concat:Xn,equalScalar:Mn,matrix:ot,typed:ke}),mO=$at({DenseMatrix:mn,config:Ye,equalScalar:Mn,matrix:ot,round:nv,typed:ke,zeros:No}),dc=Zut({compare:Nm,typed:ke}),l3t=Ayt({addScalar:qi,combinations:sk,isInteger:Qo,isNegative:Ah,isPositive:_m,larger:xo,typed:ke}),u3t=Pst({matrix:ot,multiply:Qn,subtract:fi,typed:ke}),jce=G1t({divideScalar:Yr,isZero:yu,matrix:ot,multiply:Qn,subtractScalar:Nl,typed:ke,unaryMinus:cc}),c3t=est({concat:Xn,equalScalar:Mn,matrix:ot,multiplyScalar:pi,typed:ke}),Lce=Bct({larger:xo,smaller:wo}),Fce=Jat({Complex:fr,DenseMatrix:mn,ceil:mO,equalScalar:Mn,floor:Dce,matrix:ot,typed:ke,zeros:No}),Bce=Rft({Index:qa,typed:ke}),d3t=wvt({abs:jo,add:An,addScalar:qi,config:Ye,divideScalar:Yr,equalScalar:Mn,flatten:ow,isNumeric:Tm,isZero:yu,matrix:ot,multiply:Qn,multiplyScalar:pi,smaller:wo,subtract:fi,typed:ke}),f3t=Jot({BigNumber:st,add:An,config:Ye,equal:Dl,isInteger:Qo,mod:Ice,smaller:wo,typed:ke,xgcd:Ace}),h3t=Aot({concat:Xn,equalScalar:Mn,matrix:ot,typed:ke}),p3t=Cut({Complex:fr,config:Ye,divideScalar:Yr,log:hO,typed:ke}),gO=ece({config:Ye,larger:xo,numeric:au,typed:ke}),m3t=tft({DenseMatrix:mn,Index:qa,compareNatural:dc,size:Ma,subset:Ls,typed:ke}),g3t=aft({DenseMatrix:mn,Index:qa,compareNatural:dc,size:Ma,subset:Ls,typed:ke}),v3t=uft({Index:qa,compareNatural:dc,size:Ma,subset:Ls,typed:ke}),y3t=hft({Index:qa,compareNatural:dc,size:Ma,subset:Ls,typed:ke}),d1=fct({DenseMatrix:mn,concat:Xn,config:Ye,matrix:ot,typed:ke}),b3t=Mct({compare:Nm,compareNatural:dc,matrix:ot,typed:ke}),w3t=Gut({concat:Xn,equalScalar:Mn,matrix:ot,not:xce,typed:ke,zeros:No}),f1=Yue({bignumber:ks,matrix:ot,add:An,config:Ye,isPositive:_m,larger:xo,largerEq:ck,smaller:wo,smallerEq:d1,typed:ke}),x3t=Jue({Index:qa,matrix:ot,range:f1,typed:ke}),zce=rft({DenseMatrix:mn,Index:qa,compareNatural:dc,size:Ma,subset:Ls,typed:ke}),S3t=dft({Index:qa,compareNatural:dc,size:Ma,subset:Ls,typed:ke}),$ce=vft({Index:qa,concat:Xn,setDifference:zce,size:Ma,subset:Ls,typed:ke}),Uce=Uct({FibonacciHeap:Lce,addScalar:qi,equalScalar:Mn}),Vce=que({Index:qa,matrix:ot,range:f1,typed:ke}),Dm=Y1t({abs:jo,addScalar:qi,det:jce,divideScalar:Yr,identity:_h,matrix:ot,multiply:Qn,typed:ke,unaryMinus:cc}),Hce=Iht({DenseMatrix:mn,Spa:Uce,SparseMatrix:kd,abs:jo,addScalar:qi,divideScalar:Yr,equalScalar:Mn,larger:xo,matrix:ot,multiplyScalar:pi,subtractScalar:Nl,typed:ke,unaryMinus:cc}),C3t=Q1t({Complex:fr,add:An,ctranspose:lO,deepEqual:fO,divideScalar:Yr,dot:dk,dotDivide:aw,equal:Dl,inv:Dm,matrix:ot,multiply:Qn,typed:ke}),Rl=vut({Complex:fr,config:Ye,fraction:tv,identity:_h,inv:Dm,matrix:ot,multiply:Qn,number:Ed,typed:ke}),qce=sft({DenseMatrix:mn,Index:qa,compareNatural:dc,size:Ma,subset:Ls,typed:ke}),E3t=bft({Index:qa,concat:Xn,setIntersect:qce,setSymDifference:$ce,size:Ma,subset:Ls,typed:ke}),k3t=ovt({abs:jo,add:An,identity:_h,inv:Dm,map:Mm,max:gO,multiply:Qn,size:Ma,sqrt:bu,subtract:fi,typed:ke}),Kt=Kct({BigNumber:st,Complex:fr,Fraction:km,abs:jo,addScalar:qi,config:Ye,divideScalar:Yr,equal:Dl,fix:Fce,format:nw,isNumeric:Tm,multiplyScalar:pi,number:Ed,pow:Rl,round:nv,subtractScalar:Nl}),A3t=Mbt({BigNumber:st,Unit:Kt,config:Ye}),_3t=u2t({BigNumber:st,Unit:Kt,config:Ye}),M3t=Qbt({BigNumber:st,Unit:Kt,config:Ye}),T3t=Dbt({BigNumber:st,Unit:Kt,config:Ye}),N3t=Zbt({BigNumber:st,Unit:Kt,config:Ye}),D3t=Rbt({BigNumber:st,Unit:Kt,config:Ye}),R3t=Tbt({BigNumber:st,Unit:Kt,config:Ye}),I3t=Hbt({BigNumber:st,Unit:Kt,config:Ye}),O3t=_ut({DenseMatrix:mn,concat:Xn,equalScalar:Mn,matrix:ot,pow:Rl,typed:ke}),P3t=_bt({BigNumber:st,Unit:Kt,config:Ye}),j3t=Nbt({BigNumber:st,Unit:Kt,config:Ye}),L3t=ivt({abs:jo,add:An,identity:_h,inv:Dm,multiply:Qn,typed:ke}),F3t=e2t({BigNumber:st,Unit:Kt,config:Ye}),Wce=Dlt({addScalar:qi,ceil:mO,conj:Am,divideScalar:Yr,dotDivide:aw,exp:bce,i:mce,log2:wce,matrix:ot,multiplyScalar:pi,pow:Rl,tau:vce,typed:ke}),vO=Fvt({BigNumber:st,Complex:fr,config:Ye,multiplyScalar:pi,pow:Rl,typed:ke}),B3t=Cbt({BigNumber:st,Unit:Kt,config:Ye}),z3t=Ubt({BigNumber:st,Unit:Kt,config:Ye}),$3t=Ilt({conj:Am,dotDivide:aw,fft:Wce,typed:ke}),U3t=jbt({BigNumber:st,Unit:Kt,config:Ye}),V3t=n2t({BigNumber:st,Unit:Kt,config:Ye}),H3t=Abt({BigNumber:st,Unit:Kt,config:Ye}),q3t=c2t({BigNumber:st,Unit:Kt,config:Ye}),W3t=i2t({BigNumber:st,Unit:Kt,config:Ye}),G3t=qbt({BigNumber:st,Unit:Kt,config:Ye}),K3t=Pbt({BigNumber:st,Unit:Kt,config:Ye}),Y3t=g2t({BigNumber:st,Unit:Kt,config:Ye}),J3t=h2t({BigNumber:st,Unit:Kt,config:Ye}),Q3t=v2t({BigNumber:st,Unit:Kt,config:Ye}),X3t=Vbt({BigNumber:st,Unit:Kt,config:Ye}),Z3t=Wbt({BigNumber:st,Unit:Kt,config:Ye}),eSt=kbt({BigNumber:st,Unit:Kt,config:Ye}),tSt=Gbt({BigNumber:st,Unit:Kt,config:Ye}),nSt=s2t({BigNumber:st,Unit:Kt,config:Ye}),rSt=Sbt({BigNumber:st,Unit:Kt,config:Ye}),iSt=l2t({BigNumber:st,Unit:Kt,config:Ye}),aSt=Kbt({BigNumber:st,Unit:Kt,config:Ye}),oSt=Xbt({BigNumber:st,Unit:Kt,config:Ye}),sSt=Lbt({BigNumber:st,Unit:Kt,config:Ye}),lSt=edt({Unit:Kt,typed:ke}),Zi=mvt({divideScalar:Yr,equalScalar:Mn,inv:Dm,matrix:ot,multiply:Qn,typed:ke}),uSt=Bbt({BigNumber:st,Unit:Kt,config:Ye}),sw=Uvt({gamma:vO,typed:ke}),cSt=t2t({BigNumber:st,Unit:Kt,config:Ye}),dSt=f2t({BigNumber:st,Unit:Kt,config:Ye}),fSt=Ibt({BigNumber:st,Unit:Kt,config:Ye}),Gce=spt({DenseMatrix:mn,lsolve:Tce,lup:Hce,matrix:ot,slu:Oce,typed:ke,usolve:dO}),hSt=Obt({BigNumber:st,Unit:Kt,config:Ye}),pSt=d2t({BigNumber:st,Unit:Kt,config:Ye}),mSt=Wvt({add:An,divide:Zi,factorial:sw,isInteger:Qo,isPositive:_m,multiply:Qn,typed:ke}),gSt=Kvt({factorial:sw,typed:ke}),vSt=p2t({BigNumber:st,Unit:Kt,config:Ye}),ySt=upt({add:An,cbrt:_ce,divide:Zi,equalScalar:Mn,im:aO,isZero:yu,multiply:Qn,re:oO,sqrt:bu,subtract:fi,typeOf:Cce,typed:ke,unaryMinus:cc}),bSt=mft({compareNatural:dc,typed:ke}),wSt=Blt({abs:jo,add:An,bignumber:ks,divide:Zi,isNegative:Ah,isPositive:_m,larger:xo,map:Mm,matrix:ot,max:gO,multiply:Qn,smaller:wo,subtract:fi,typed:ke,unaryMinus:cc}),Kce=wyt({bignumber:ks,addScalar:qi,combinations:sk,divideScalar:Yr,factorial:sw,isInteger:Qo,isNegative:Ah,larger:xo,multiplyScalar:pi,number:Ed,pow:Rl,subtractScalar:Nl,typed:ke}),xSt=Jct({Unit:Kt,typed:ke}),SSt=Syt({addScalar:qi,isInteger:Qo,isNegative:Ah,stirlingS2:Kce,typed:ke}),Yce=nvt({abs:jo,add:An,addScalar:qi,atan:yce,bignumber:ks,column:Vce,complex:lk,config:Ye,cos:rO,diag:Mce,divideScalar:Yr,dot:dk,equal:Dl,flatten:ow,im:aO,inv:Dm,larger:xo,matrix:ot,matrixFromColumns:uO,multiply:Qn,multiplyScalar:pi,number:Ed,qr:cO,re:oO,reshape:kce,sin:uk,size:Ma,smaller:wo,sqrt:bu,subtract:fi,typed:ke,usolve:dO,usolveAll:Pce}),CSt=zbt({BigNumber:st,Unit:Kt,config:Ye}),ESt=r2t({BigNumber:st,Unit:Kt,config:Ye}),Jce=uce({add:An,divide:Zi,typed:ke}),kSt=a2t({BigNumber:st,Unit:Kt,config:Ye}),ASt=Ebt({BigNumber:st,Unit:Kt,config:Ye}),_St=dce({bignumber:ks,add:An,compare:Nm,divide:Zi,isInteger:Qo,larger:xo,multiply:Qn,partitionSelect:fk,smaller:wo,smallerEq:d1,subtract:fi,typed:ke}),yO=cce({add:An,apply:sO,divide:Zi,isNaN:rw,multiply:Qn,subtract:fi,typed:ke}),MSt=Fbt({BigNumber:st,Unit:Kt,config:Ye}),Qce=kvt({add:An,compare:Nm,divide:Zi,partitionSelect:fk,typed:ke}),TSt=Rvt({add:An,divide:Zi,matrix:ot,mean:Jce,multiply:Qn,pow:Rl,sqrt:bu,subtract:fi,sum:pO,typed:ke}),NSt=Qyt({Complex:fr,add:An,divide:Zi,matrix:ot,multiply:Qn,typed:ke}),DSt=_vt({abs:jo,map:Mm,median:Qce,subtract:fi,typed:ke}),RSt=fce({map:Mm,sqrt:bu,typed:ke,variance:yO}),ISt=Glt({BigNumber:st,Complex:fr,add:An,config:Ye,divide:Zi,equal:Dl,factorial:sw,gamma:vO,isNegative:Ah,multiply:Qn,pi:CN,pow:Rl,sin:uk,smallerEq:d1,subtract:fi,typed:ke}),bO=kft({abs:jo,add:An,conj:Am,ctranspose:lO,eigs:Yce,equalScalar:Mn,larger:xo,matrix:ot,multiply:Qn,pow:Rl,smaller:wo,sqrt:bu,typed:ke}),Xce=plt({BigNumber:st,DenseMatrix:mn,SparseMatrix:kd,addScalar:qi,config:Ye,cos:rO,matrix:ot,multiplyScalar:pi,norm:bO,sin:uk,typed:ke,unaryMinus:cc}),OSt=Hvt({divide:Zi,dotDivide:aw,isNumeric:Tm,log:hO,map:Mm,matrix:ot,multiply:Qn,sum:pO,typed:ke}),PSt=m2t({BigNumber:st,Unit:Kt,config:Ye}),Zce=cvt({identity:_h,matrix:ot,multiply:Qn,norm:bO,qr:cO,subtract:fi,typed:ke}),jSt=flt({multiply:Qn,rotationMatrix:Xce,typed:ke}),ede=lvt({abs:jo,add:An,concat:Xn,identity:_h,index:Bce,lusolve:Gce,matrix:ot,matrixFromColumns:uO,multiply:Qn,range:f1,schur:Zce,subset:Ls,subtract:fi,transpose:iw,typed:ke}),LSt=fvt({matrix:ot,multiply:Qn,sylvester:ede,transpose:iw,typed:ke}),rv={},iv={},tde={},ro=Pft({mathWithTransform:iv}),av=sht({Node:ro}),Ad=uht({Node:ro}),Rm=dht({Node:ro}),nde=mht({Node:ro}),ov=Bft({Node:ro}),rde=qft({Node:ro,ResultSet:gce}),ide=Gft({Node:ro}),Mh=tht({Node:ro}),ade=hht({Node:ro}),FSt=ebt({classes:tde}),wO=mpt({math:rv,typed:ke}),ode=rht({Node:ro,typed:ke}),BSt=q1t({Chain:wO,typed:ke}),sv=aht({Node:ro,size:Ma}),lv=Lft({Node:ro,subset:Ls}),sde=Vft({matrix:ot,Node:ro,subset:Ls}),Th=yht({Unit:Kt,Node:ro,math:rv}),Nh=wht({Node:ro,SymbolNode:Th,math:rv}),wu=Sht({AccessorNode:lv,ArrayNode:ov,AssignmentNode:sde,BlockNode:rde,ConditionalNode:ide,ConstantNode:Mh,FunctionAssignmentNode:ode,FunctionNode:Nh,IndexNode:sv,ObjectNode:av,OperatorNode:Ad,ParenthesisNode:Rm,RangeNode:ade,RelationalNode:nde,SymbolNode:Th,config:Ye,numeric:au,typed:ke}),lde=$yt({ConstantNode:Mh,FunctionNode:Nh,OperatorNode:Ad,ParenthesisNode:Rm,parse:wu,typed:ke}),xO=jyt({bignumber:ks,fraction:tv,AccessorNode:lv,ArrayNode:ov,ConstantNode:Mh,FunctionNode:Nh,IndexNode:sv,ObjectNode:av,OperatorNode:Ad,SymbolNode:Th,config:Ye,mathWithTransform:iv,matrix:ot,typed:ke}),zSt=Eht({parse:wu,typed:ke}),ude=fpt({parse:wu}),$St=Myt({parse:wu,typed:ke}),SO=Fyt({AccessorNode:lv,ArrayNode:ov,ConstantNode:Mh,FunctionNode:Nh,IndexNode:sv,ObjectNode:av,OperatorNode:Ad,ParenthesisNode:Rm,SymbolNode:Th,add:An,divide:Zi,equal:Dl,isZero:yu,multiply:Qn,parse:wu,pow:Rl,subtract:fi,typed:ke}),h1=Aht({parse:wu,typed:ke}),USt=V1t({Help:ude,mathWithTransform:iv,typed:ke}),cde=Tht({evaluate:h1}),hk=Iyt({bignumber:ks,fraction:tv,AccessorNode:lv,ArrayNode:ov,ConstantNode:Mh,FunctionNode:Nh,IndexNode:sv,ObjectNode:av,OperatorNode:Ad,ParenthesisNode:Rm,SymbolNode:Th,add:An,config:Ye,divide:Zi,equal:Dl,isZero:yu,mathWithTransform:iv,matrix:ot,multiply:Qn,parse:wu,pow:Rl,resolve:lde,simplifyConstant:xO,simplifyCore:SO,subtract:fi,typed:ke}),VSt=Vyt({OperatorNode:Ad,parse:wu,simplify:hk,typed:ke}),HSt=Dht({Parser:cde,typed:ke}),qSt=Gyt({bignumber:ks,fraction:tv,AccessorNode:lv,ArrayNode:ov,ConstantNode:Mh,FunctionNode:Nh,IndexNode:sv,ObjectNode:av,OperatorNode:Ad,ParenthesisNode:Rm,SymbolNode:Th,add:An,config:Ye,divide:Zi,equal:Dl,isZero:yu,mathWithTransform:iv,matrix:ot,multiply:Qn,parse:wu,pow:Rl,simplify:hk,simplifyConstant:xO,simplifyCore:SO,subtract:fi,typed:ke}),WSt=qyt({ConstantNode:Mh,FunctionNode:Nh,OperatorNode:Ad,ParenthesisNode:Rm,SymbolNode:Th,config:Ye,equal:Dl,isZero:yu,numeric:au,parse:wu,simplify:hk,typed:ke});xi(rv,{e:hK,false:bwt,fineStructure:wwt,i:mce,Infinity:xwt,LN10:Swt,LOG10E:Cwt,NaN:Ewt,null:kwt,phi:Awt,SQRT1_2:Mwt,sackurTetrode:Twt,tau:vce,true:Nwt,E:hK,version:Dwt,efimovFactor:Rwt,LN2:Iwt,pi:CN,replacer:Owt,reviver:FSt,SQRT2:Pwt,typed:ke,unaryPlus:nO,PI:CN,weakMixingAngle:jwt,abs:jo,acos:Lwt,acot:Fwt,acsc:Bwt,addScalar:qi,arg:zwt,asech:$wt,asinh:Uwt,atan:yce,atanh:Vwt,bignumber:ks,bitNot:Hwt,boolean:qwt,clone:Wwt,combinations:sk,complex:lk,conj:Am,cos:rO,cot:Gwt,csc:Kwt,cube:Ywt,equalScalar:Mn,erf:Jwt,exp:bce,expm1:Qwt,filter:Xwt,forEach:Zwt,format:nw,getMatrixDataType:iO,hex:ext,im:aO,isInteger:Qo,isNegative:Ah,isPositive:_m,isZero:yu,LOG2E:txt,lgamma:nxt,log10:rxt,log2:wce,map:Mm,multiplyScalar:pi,not:xce,number:Ed,oct:ixt,pickRandom:axt,print:oxt,random:sxt,re:oO,sec:lxt,sign:Sce,sin:uk,splitUnit:uxt,square:cxt,string:dxt,subtractScalar:Nl,tan:fxt,typeOf:Cce,acosh:hxt,acsch:pxt,apply:sO,asec:mxt,bin:gxt,chain:BSt,combinationsWithRep:vxt,cosh:yxt,csch:bxt,isNaN:rw,isPrime:wxt,randomInt:xxt,sech:Sxt,sinh:Cxt,sparse:Ext,sqrt:bu,tanh:kxt,unaryMinus:cc,acoth:Axt,coth:_xt,fraction:tv,isNumeric:Tm,matrix:ot,matrixFromFunction:Mxt,mode:Txt,numeric:au,prod:Ece,reshape:kce,size:Ma,squeeze:Nxt,transpose:iw,xgcd:Ace,zeros:No,asin:Dxt,cbrt:_ce,concat:Xn,count:Rxt,ctranspose:lO,diag:Mce,divideScalar:Yr,dotDivide:aw,equal:Dl,flatten:ow,hasNumericValue:Ixt,identity:_h,kron:Oxt,largerEq:ck,leftShift:Pxt,lsolve:Tce,matrixFromColumns:uO,nthRoot:jxt,ones:Lxt,qr:cO,resize:Fxt,rightArithShift:Bxt,round:nv,smaller:wo,subtract:fi,to:zxt,unequal:$xt,usolve:dO,xor:Uxt,add:An,atan2:Vxt,bitAnd:Hxt,bitXor:qxt,catalan:Wxt,compare:Nm,compareText:Nce,cumsum:Gxt,deepEqual:fO,diff:Kxt,distance:Yxt,dot:dk,equalText:Jxt,floor:Dce,gcd:Qxt,hypot:Xxt,larger:xo,log:hO,lsolveAll:Zxt,matrixFromRows:e3t,min:t3t,mod:Ice,multiply:Qn,nthRoots:n3t,or:r3t,partitionSelect:fk,rightLogShift:i3t,slu:Oce,subset:Ls,sum:pO,trace:a3t,usolveAll:Pce,zpk2tf:o3t,bitOr:s3t,ceil:mO,compareNatural:dc,composition:l3t,cross:u3t,det:jce,dotMultiply:c3t,fix:Fce,index:Bce,intersect:d3t,invmod:f3t,lcm:h3t,log1p:p3t,max:gO,setCartesian:m3t,setDistinct:g3t,setIsSubset:v3t,setPowerset:y3t,smallerEq:d1,sort:b3t,and:w3t,range:f1,row:x3t,setDifference:zce,setMultiplicity:S3t,setSymDifference:$ce,column:Vce,inv:Dm,lup:Hce,pinv:C3t,pow:Rl,setIntersect:qce,setUnion:E3t,sqrtm:k3t,vacuumImpedance:A3t,wienDisplacement:_3t,atomicMass:M3t,bohrMagneton:T3t,boltzmann:N3t,conductanceQuantum:D3t,coulomb:R3t,deuteronMass:I3t,dotPow:O3t,electricConstant:P3t,elementaryCharge:j3t,expm:L3t,faraday:F3t,fft:Wce,gamma:vO,gravitationConstant:B3t,hartreeEnergy:z3t,ifft:$3t,klitzing:U3t,loschmidt:V3t,magneticConstant:H3t,molarMass:q3t,molarPlanckConstant:W3t,neutronMass:G3t,nuclearMagneton:K3t,planckCharge:Y3t,planckLength:J3t,planckTemperature:Q3t,protonMass:X3t,quantumOfCirculation:Z3t,reducedPlanckConstant:eSt,rydberg:tSt,secondRadiation:nSt,speedOfLight:rSt,stefanBoltzmann:iSt,thomsonCrossSection:aSt,avogadro:oSt,bohrRadius:sSt,createUnit:lSt,divide:Zi,electronMass:uSt,factorial:sw,firstRadiation:cSt,gravity:dSt,inverseConductanceQuantum:fSt,lusolve:Gce,magneticFluxQuantum:hSt,molarMassC12:pSt,multinomial:mSt,parse:wu,permutations:gSt,planckMass:vSt,polynomialRoot:ySt,resolve:lde,setSize:bSt,simplifyConstant:xO,solveODE:wSt,stirlingS2:Kce,unit:xSt,bellNumbers:SSt,compile:zSt,eigs:Yce,fermiCoupling:CSt,gasConstant:ESt,leafCount:$St,mean:Jce,molarVolume:kSt,planckConstant:ASt,quantileSeq:_St,simplifyCore:SO,variance:yO,classicalElectronRadius:MSt,evaluate:h1,help:USt,median:Qce,simplify:hk,symbolicEqual:VSt,corr:TSt,freqz:NSt,mad:DSt,parser:HSt,rationalize:qSt,std:RSt,zeta:ISt,derivative:WSt,norm:bO,rotationMatrix:Xce,kldivergence:OSt,planckTime:PSt,schur:Zce,rotate:jSt,sylvester:ede,lyap:LSt,config:Ye});xi(iv,rv,{filter:A2t({typed:ke}),forEach:T2t({typed:ke}),map:P2t({typed:ke}),apply:w2t({isInteger:Qo,typed:ke}),concat:nwt({isInteger:Qo,matrix:ot,typed:ke}),max:F2t({config:Ye,larger:xo,numeric:au,typed:ke}),print:ywt({add:An,matrix:ot,typed:ke,zeros:No}),diff:iwt({bignumber:ks,matrix:ot,number:Ed,subtract:fi,typed:ke}),min:H2t({config:Ye,numeric:au,smaller:wo,typed:ke}),subset:Z2t({add:An,matrix:ot,typed:ke,zeros:No}),cumsum:pwt({add:An,typed:ke,unaryPlus:nO}),index:R2t({Index:qa,getMatrixDataType:iO}),sum:uwt({add:An,config:Ye,numeric:au,typed:ke}),range:G2t({bignumber:ks,matrix:ot,add:An,config:Ye,isPositive:_m,larger:xo,largerEq:ck,smaller:wo,smallerEq:d1,typed:ke}),row:J2t({Index:qa,matrix:ot,range:f1,typed:ke}),column:C2t({Index:qa,matrix:ot,range:f1,typed:ke}),mean:$2t({add:An,divide:Zi,typed:ke}),quantileSeq:fwt({add:An,bignumber:ks,compare:Nm,divide:Zi,isInteger:Qo,larger:xo,multiply:Qn,partitionSelect:fk,smaller:wo,smallerEq:d1,subtract:fi,typed:ke}),variance:gwt({add:An,apply:sO,divide:Zi,isNaN:rw,multiply:Qn,subtract:fi,typed:ke}),std:swt({map:Mm,sqrt:bu,typed:ke,variance:yO})});xi(tde,{BigNumber:st,Complex:fr,Fraction:km,Matrix:ok,Node:ro,ObjectNode:av,OperatorNode:Ad,ParenthesisNode:Rm,Range:_wt,RelationalNode:nde,ResultSet:gce,ArrayNode:ov,BlockNode:rde,ConditionalNode:ide,ConstantNode:Mh,DenseMatrix:mn,RangeNode:ade,Chain:wO,FunctionAssignmentNode:ode,SparseMatrix:kd,IndexNode:sv,ImmutableDenseMatrix:Rce,Index:qa,AccessorNode:lv,AssignmentNode:sde,FibonacciHeap:Lce,Spa:Uce,Unit:Kt,SymbolNode:Th,FunctionNode:Nh,Help:ude,Parser:cde});wO.createProxy(rv);function E0(e,t){if(e==="action"){if(t===1)return"ONE-ACTION";if(t===2)return"TWO-ACTIONS";if(t===3)return"THREE-ACTIONS"}else{if(e==="reaction")return"REACTION";if(e==="free")return"FREE-ACTION"}return null}function Dh(e){return e==="common"?"COMMON":e==="uncommon"?"UNCOMMON":e==="rare"?"RARE":e==="unique"?"UNIQUE":"COMMON"}function dde(e){switch(e){case"tiny":return"TINY";case"sm":return"SMALL";case"med":return"MEDIUM";case"lg":return"LARGE";case"huge":return"HUGE";case"grg":return"GARGANTUAN";default:return(e==null?void 0:e.toUpperCase())||"MEDIUM"}}async function th(e,t){const n=await wm(),r=[];for(let i of e){let a=await n1(i,n.map(o=>o.id));a||(await GSt(Ze.startCase(i),"",t.id),a=await n1(i,n.map(o=>o.id))),a&&r.push(a.id)}return r}async function GSt(e,t,n,r){return await dr("create-trait",{name:e,description:t,meta_data:r,content_source_id:n})}async function KSt(e,t){return await dr("find-content-source",{id:e,foundry_id:t==="Pathfinder Core Rulebook"?"Pathfinder Player Core":t})}function Im(e){if(!e)return{description:""};const t=/<p><strong>(Frequency|Trigger|Requirements|Area|Craft Requirements|Special|Heightened (.*?))<\/strong>(.*?)<\/p>/gs,n={};let r;for(;(r=t.exec(e))!==null;){const i=r[1].trim().toLowerCase().replace(/\s/g,"_"),a=(r[2]??"").trim(),o=r[3].trim();i.startsWith("heightened")?(n.heightened||(n.heightened=[]),Ze.isString(n.heightened)||n.heightened.push({amount:a,text:o})):n[i]=o}return n.description=e.replace(t,""),n}const fde=["equipment","weapon","armor","kit","consumable","backpack","treasure"];function Om(e,t){return e=e.replace(/@actor\.level/g,"1"),t&&(e=e.replace(/@item\.level/g,`${t}`)),e=XSt(e),e=YSt(e),e=pK(e,!0),e=pK(e,!1),e=QSt(e),e=JSt(e),console.log(e),e}function YSt(e){const t=/@Damage\[([^\]]+)d(\d+)\[([^\]]+)\]\]/gm;let n=e,r;for(;(r=t.exec(e))!==null;){const i=r[1],a=r[2],o=r[3];let s=i;try{s=h1(i)}catch(l){console.warn(l,i)}n=n.replace(r[0],`${s}d${a} ${o}`)}return n}function JSt(e){const t=/\[\[([^\]]+?)\(([^\]]+)\)\[([^\]]+)\]\]\]/gm;let n=e,r;for(;(r=t.exec(e))!==null;){r[1];const i=r[2];let a=r[3];a=a.replace(/[, ]/g," ");let o=i;try{o=h1(i)}catch(s){console.warn(s,i)}n=n.replace(r[0],`${o} ${a}`)}return n}function pK(e,t){const n=t?/@Check\[type:([^\]]+)\|([^\]]+)\|basic:true\]/gm:/@Check\[type:([^\]]+)\|([^\]]+)\|basic:false\]/gm;let r=e,i;for(;(i=n.exec(e))!==null;){const a=i[1];i[2],r=r.replace(i[0],`basic ${Ze.startCase(a)}`)}return r}function QSt(e){const t=/@Template\[type:([^\]]+)\|distance:([^\]]+)\]/gm;let n=e,r;for(;(r=t.exec(e))!==null;){const i=r[1],a=r[2];n=n.replace(r[0],`${a}-foot ${i}`)}return n}function XSt(e){const t=/@UUID\[Compendium\.([^\]]+)\]/gm;let n=e,r;for(;(r=t.exec(e))!==null;){const i=r[1].split("."),a=i[i.length-1];n=n.replace(r[0],`[[${a}]]`)}return n}async function ZSt(e,t){var y,E,x,v,C,b,A,_,T,M,N,I,F,$,z,D,P,V,B,H,K,W,L,G,de,Q;let n={id:-1,created_at:"",name:t.name,level:((x=(E=(y=t.system)==null?void 0:y.details)==null?void 0:E.level)==null?void 0:x.value)??0,rarity:Dh((C=(v=t.system)==null?void 0:v.traits)==null?void 0:C.rarity),size:dde((_=(A=(b=t.system)==null?void 0:b.traits)==null?void 0:A.size)==null?void 0:_.value),traits:await th(((M=(T=t.system)==null?void 0:T.traits)==null?void 0:M.value)??[],e),family_type:(I=(N=t.system)==null?void 0:N.details)==null?void 0:I.creatureType,senses:(z=($=(F=t.system)==null?void 0:F.traits)==null?void 0:$.senses)==null?void 0:z.value,languages:{value:(V=(P=(D=t.system)==null?void 0:D.traits)==null?void 0:P.languages)==null?void 0:V.value,custom:(K=(H=(B=t.system)==null?void 0:B.traits)==null?void 0:H.languages)==null?void 0:K.custom},skills:void 0,items:void 0,attributes:{str:t.system.abilities.str.mod,dex:t.system.abilities.dex.mod,con:t.system.abilities.con.mod,int:t.system.abilities.int.mod,wis:t.system.abilities.wis.mod,cha:t.system.abilities.cha.mod},stats:{ac:t.system.attributes.ac.value,saves:{fort:t.system.saves.fortitude.value,ref:t.system.saves.reflex.value,will:t.system.saves.will.value,custom:t.system.attributes.allSaves.value},hp:{max:t.system.attributes.hp.max,details:t.system.attributes.hp.details},perception:(G=(L=(W=t.system)==null?void 0:W.attributes)==null?void 0:L.perception)==null?void 0:G.value},immunities:void 0,weaknesses:void 0,resistances:void 0,interaction_abilities:void 0,offensive_abilities:void 0,defensive_abilities:void 0,speeds:{speed:t.system.attributes.speed.value,others:t.system.attributes.speed.otherSpeeds},attacks:void 0,spellcasting:void 0,description:ba(t.system.details.publicNotes)??"",meta_data:{},content_source_id:e.id,version:"1.0"},r=t==null?void 0:t.items.filter(ee=>ee.type=="lore"),i=[];for(let ee of r)i.push({name:ee.name,bonus:(Q=(de=ee==null?void 0:ee.system)==null?void 0:de.mod)==null?void 0:Q.value});n.skills={value:i};let a=t.items.filter(ee=>fde.includes(ee.type)),o=[];for(let ee of a){let ne=1;ee.type=="consumable"&&(ne=ee.system.quantity);let se=null,ge=!0;ee.system.baseItem!=null?(se=ee.system.baseItem.replace(/-/g," "),se.includes(" armor")&&(se=se.replace(" armor",""))):ge=!1;let xe=null;ee.system.category=="shield"&&(xe={armor:ee.system.acBonus,hardness:ee.system.hardness,hp:ee.system.hp.max,bt:parseInt(ee.system.hp.max)/2}),o.push({display_name:ee.name,quantity:ne,name:se,do_index:ge,shield_stats:xe})}n.items={value:o};let s=t.items.filter(ee=>ee.type=="action"&&ee.system.category=="interaction"),l=[];for(let ee of s)l.push({name:ee.name,actions:E0(ee.system.actionType.value,ee.system.actions.value),traits:ee.system.traits.value,description:ba(ee.system.description.value)??""});n.interaction_abilities={value:l},t.system.attributes.immunities?n.immunities={value:t.system.attributes.immunities.map(ee=>ee.type)}:n.immunities={value:[]},t.system.attributes.weaknesses?n.weaknesses={value:t.system.attributes.weaknesses}:n.weaknesses={value:[]},t.system.attributes.resistances?n.resistances={value:t.system.attributes.resistances}:n.resistances={value:[]};let u=t.items.filter(ee=>ee.type=="action"&&ee.system.category=="defensive"),c=[];for(let ee of u)c.push({name:ee.name,actions:E0(ee.system.actionType.value,ee.system.actions.value),traits:ee.system.traits.value,description:ba(ee.system.description.value)??""});n.defensive_abilities={value:c};let d=t.items.filter(ee=>ee.type=="melee"),f=[];for(let ee of d){let ne="";if(ee.system.description.value!=null){let se=/<p>@Localize\[PF2E\.PersistentDamage\.(\D+)(.+?)\.success]<\/p>/g.exec(ee.system.description.value);if(se!=null)ne+=`${se[2]} persistent ${se[1].toLowerCase()}`;else{let ge=/@Localize\[PF2E\.PersistentDamage\.(\D+)(.+?)\.success]/g.exec(ee.system.description.value);ge!=null&&(ne+=`${ge[2]} persistent ${ge[1].toLowerCase()}`)}}ne!=""&&(ne+=", "),ne+=ee.system.attackEffects.value,f.push({type:ee.system.weaponType.value,name:ee.name,bonus:ee.system.bonus.value,traits:ee.system.traits.value,damage:Object.values(ee.system.damageRolls),effects:ne})}n.attacks={value:f};let h=t.items.filter(ee=>ee.type=="spellcastingEntry"),m=[];for(let ee of h){let ne=0;ee.system.prepared.value=="focus"&&(ne=t.system.resources.focus.max);let se=t.items.filter(we=>we.type=="spell"&&we.system.location.value==ee._id),ge=[],xe=[];for(let we of se){let _e=we.system.level.value;we.system.location.heightenedLevel!=null&&(_e=we.system.location.heightenedLevel),we.system.traits.value.includes("cantrip")&&(_e=0);let ze=we.name.toLowerCase();if(ze.includes(" (constant)"))ze=ze.replace(" (constant)",""),xe.push({name:ze,level:_e});else{let Y=!1;ze.includes(" (at will)")&&(ze=ze.replace(" (at will)",""),Y=!0),ge.push({name:ze,level:_e,is_at_will:Y})}}m.push({name:ee.name,dc:ee.system.spelldc.dc,attack:ee.system.spelldc.value,spells:ge,constant_spells:xe,focus:ne})}n.spellcasting={value:m};let g=t.items.filter(ee=>ee.type=="action"&&ee.system.category=="offensive"),S=[];for(let ee of g)S.push({name:ee.name,actions:E0(ee.system.actionType.value,ee.system.actions.value),traits:ee.system.traits.value,description:ba(ee.system.description.value)??""});return n.offensive_abilities={value:S},n}async function e5t(e,t){return await dr("delete-content",{id:t,type:e})}async function t5t(e){const t=await dr("create-content-source",{...e});return t?t===!0?e:t:null}async function p1(e){const t=await dr("create-ability-block",{...e});return t?t===!0?e:t:null}async function EN(e){const t=await dr("create-spell",{...e});return t?t===!0?e:t:null}async function n5t(e){const t=await dr("create-item",{...e});return t?t===!0?e:t:null}async function r5t(e){const t=await dr("create-creature",{...e});return t?t===!0?e:t:null}async function kN(e){const t=await dr("create-background",{...e});return t?t===!0?e:t:null}async function mK(e){const t=await dr("create-class",{...e});return t?t===!0?e:t:null}async function gK(e){const t=await dr("create-ancestry",{...e});return t?t===!0?e:t:null}async function CO(e){return e?await dr("open-ai-request",{content:e,model:"gpt-4"}):null}async function i5t(e){const t=`
  Please determine the most appropriate skill for the action with the following description.
  Only respond with the skill name that is most appropriate for the action.
  If you are unsure, please respond with "unsure".

  ## Description:
  ${e}

  ## Skills:
    ACROBATICS
    ARCANA
    ATHLETICS
    CRAFTING
    DECEPTION
    DIPLOMACY
    INTIMIDATION
    MEDICINE
    NATURE
    OCCULTISM
    PERFORMANCE
    RELIGION
    SOCIETY
    STEALTH
    SURVIVAL
    THIEVERY
    LORE
  `;return await CO(t)}async function a5t(e){const t=`
  # Your job is it to detect potential content links in a description for Pathfinder 2e. IMPORTANT: Your response should only be the exact same as the description but with any potential content links wrapped in double brackets.

  # Examples:
  ### Input:
  You change your grip on the shield, allowing you to combine rapid attacks with your shield boss or shield spikes and your main weapon’s Strikes in a series of swift motions. You reduce your [[shield boss]] and shield spikes weapon damage die to 1d4 and your Strikes gain the agile weapon trait. You can use Agile Shield Grip again to switch to a normal grip, which removes the agile trait.
  ### Output:
  You change your grip on the shield, allowing you to combine rapid attacks with your [[shield boss]] or [[shield spikes]] and your main weapon’s [[Strikes]] in a series of swift motions. You reduce your [[shield boss]] and [[shield spikes]] weapon damage die to 1d4 and your [[Strikes]] gain the [[agile]] weapon trait. You can use [[Agile Shield Grip]] again to switch to a normal grip, which removes the [[agile]] trait.

  ### Input:
  Your deceptions confound even the most powerful mortal divinations. Detection, revelation, and scrying effects pass right over you, your possessions, and your auras, detecting nothing unless the detecting effect has a counteract level of 10 or higher. For example, detect magic would still detect other magic in the area but not any magic on you, true seeing wouldn’t reveal you, locate or scrying wouldn’t find you, and so on.
  ### Output:
  Your deceptions confound even the most powerful mortal divinations. [[Detection]], [[revelation]], and [[scrying]] effects pass right over you, your possessions, and your auras, detecting nothing unless the detecting effect has a counteract level of 10 or higher. For example, [[detect magic]] would still detect other magic in the area but not any magic on you, [[true seeing]] wouldn’t reveal you, [[locate]] or [[scrying]] wouldn’t find you, and so on.

  ### Input:
  You whip up a small sandstorm around your body. When a creature starts its turn in the area or moves into the area, it must succeed at a Fortitude save or become dazzled for as long as it remains in the area; it is then temporarily immune to this dazzling effect for 10 minutes. 
  Additionally, you direct a jet of sand at a single target. One creature of your choice within 30 feet takes 8d6 slashing damage (basic Reflex save). On a critical failure, the creature is also frightened 1 until the next time you Sustain the Spell or for 1 minute.
  ### Output:
  You whip up a small sandstorm around your body. When a creature starts its turn in the area or moves into the area, it must succeed at a Fortitude save or become [[dazzled]] for as long as it remains in the area; it is then temporarily immune to this [[dazzling]] effect for 10 minutes. 
  Additionally, you direct a jet of sand at a single target. One creature of your choice within 30 feet takes 8d6 slashing damage (basic Reflex save). On a critical failure, the creature is also [[frightened 1]] until the next time you [[Sustain the Spell]] or for 1 minute.

  Now it's your turn.
  ### Input:
  ${e}
  `;return await CO(t)}async function Pm(e){let t=await a5t(e)??"";if(ny(e.trim())!==ny(t.trim()))return console.log("AI added more than just potential content links, not using it."),console.log("Original text:",e),console.log("Detected text:",t),e;const n=t.match(/\[\[(.*?)\]\]/g)??[];for(const r of n){const i=ny(r),a=await aie(i,{amount:3,maxDistance:.25});let o=a.find(s=>`${s.name}`.trim().toLowerCase()===i.trim().toLowerCase());if(!o&&a.length>0&&(o=a[0]),o){const s=o._type==="ability-block"?o.type:o._type;t=t.replace(r,`<a href="link_${s}_${o.id}">${ny(r)}</a>`)}}return ny(t)}function ny(e){return e.replace(/[\[\]]/g,"")}function o5t(e){return e==="1"?"ONE-ACTION":e==="2"?"TWO-ACTIONS":e==="3"?"THREE-ACTIONS":e==="reaction"?"REACTION":e==="free"?"FREE-ACTION":e==="1 or 2"||e==="1 to 2"?"ONE-TO-TWO-ACTIONS":e==="2 or 3"||e==="2 to 3"?"TWO-TO-THREE-ACTIONS":e==="1 to 3"?"ONE-TO-THREE-ACTIONS":e==="2 to 2 rounds"?"TWO-TO-TWO-ROUNDS":e==="2 to 3 rounds"?"TWO-TO-THREE-ROUNDS":e==="3 to 2 rounds"?"THREE-TO-TWO-ROUNDS":e==="3 to 3 rounds"?"THREE-TO-THREE-ROUNDS":e}const s5t=!1;let ja=hde();function hde(){return{total:0,missingSources:new Map,uploads:new Map,failedUploads:new Map}}function l5t(){return Ze.cloneDeep(ja)}function pde(){ja=hde()}async function u5t(e,t){pde(),ja.total=t.length;const n=new Set;for(let i of t){const a=await c5t(e,i);a.success&&a.id&&n.add(a.id)}Si({id:"generate-embeddings",title:"Generating embeddings...",message:"This may take a couple seconds, please wait.",autoClose:!1});const r=await _u(kR(e),[...n]);id("generate-embeddings"),Si({id:"generate-embeddings",title:"Successfully Generated Embeddings",message:`Generated ${r.total} embeddings for ${Ip(hu(e))}.`,autoClose:6e3}),console.log("-------- UPLOAD STATS --------"),console.group("Successful Uploads:");for(let[i,a]of ja.uploads)console.group(i),console.table(Object.fromEntries(a)),console.groupEnd();console.groupEnd(),console.group("Failed Uploads:");for(let[i,a]of ja.failedUploads)console.group(i),console.table(Object.fromEntries(a)),console.groupEnd();console.groupEnd(),console.group("Missing Sources:"),console.table(Object.fromEntries(ja.missingSources)),console.groupEnd()}async function c5t(e,t){var u,c,d,f,h,m,g,S,y;const n=URL.createObjectURL(t),i=await(await fetch(n)).json(),a=((c=(u=i.system)==null?void 0:u.publication)==null?void 0:c.title)||((f=(d=i.system)==null?void 0:d.source)==null?void 0:f.value)||((g=(m=(h=i.system)==null?void 0:h.details)==null?void 0:m.source)==null?void 0:g.value),o=(y=(S=i.system)==null?void 0:S.publication)==null?void 0:y.remaster,s=await KSt(void 0,a);if(!s||!o)return ja.missingSources.set(a,(ja.missingSources.get(a)??0)+1),{success:!1};let l;return e==="action"?l=await d5t(s,i):e==="feat"?l=await f5t(s,i):e==="class-feature"?l=await h5t(s,i):e==="spell"?l=await p5t(s,i):e==="item"?l=await m5t(s,i):e==="creature"?l=await g5t(s,i):e==="heritage"?l=await v5t(s,i):e==="background"?l=await y5t(s,i):(console.error(`Unknown type: ${e}`),l={success:!1}),l!=null&&l.success?(ja.uploads.has(e)||ja.uploads.set(e,new Map),ja.uploads.get(e).set(a,(ja.uploads.get(e).get(a)??0)+1)):(ja.failedUploads.has(e)||ja.failedUploads.set(e,new Map),ja.failedUploads.get(e).set(a,(ja.failedUploads.get(e).get(a)??0)+1)),l}async function d5t(e,t){var l,u,c,d,f,h,m,g,S,y,E,x,v,C,b,A,_;if(t.type!=="action")return{success:!1};const n=Im(Om((u=(l=t.system)==null?void 0:l.description)==null?void 0:u.value)),r=await Pm(n.description),i=(((d=(c=t.system)==null?void 0:c.traits)==null?void 0:d.value)??[]).includes("skill");let a=null;i&&(a=await i5t(ba(n.description)??""),console.log(`Classified skill for action: ${_r(t.name)}, ${a}`));const o={id:-1,created_at:"",name:_r(t.name)??"",actions:E0((h=(f=t.system)==null?void 0:f.actionType)==null?void 0:h.value,(g=(m=t.system)==null?void 0:m.actions)==null?void 0:g.value),rarity:Dh((y=(S=t.system)==null?void 0:S.traits)==null?void 0:y.rarity),frequency:_r(n.frequency),trigger:(n==null?void 0:n.trigger)||_r((x=(E=t.system)==null?void 0:E.trigger)==null?void 0:x.value),requirements:_r(n==null?void 0:n.requirements),access:_r(t.access),description:ba(r)??"",special:ba(n.special),type:"action",meta_data:{skill:a??void 0,foundry:{rules:(v=t.system)==null?void 0:v.rules,tags:(b=(C=t.system)==null?void 0:C.traits)==null?void 0:b.otherTags}},traits:await th(((_=(A=t.system)==null?void 0:A.traits)==null?void 0:_.value)??[],e),content_source_id:e.id,version:"1.0"},s=await p1(o);return{success:!!s,id:s==null?void 0:s.id}}async function f5t(e,t){var s,l,u,c,d,f,h,m,g,S,y,E,x,v,C,b,A,_,T,M,N,I,F;if(!(t.type==="feat"&&((s=t.system)==null?void 0:s.category)!=="classfeature"))return{success:!1};const n=Im(Om((u=(l=t.system)==null?void 0:l.description)==null?void 0:u.value,(d=(c=t.system)==null?void 0:c.level)==null?void 0:d.value)),r=((m=(h=(f=t.system)==null?void 0:f.prerequisites)==null?void 0:h.value)==null?void 0:m.map($=>_r($.value)))??void 0,i=await Pm(n.description),a={id:-1,created_at:"",name:_r(t.name)??"",actions:E0((S=(g=t.system)==null?void 0:g.actionType)==null?void 0:S.value,(E=(y=t.system)==null?void 0:y.actions)==null?void 0:E.value),level:(v=(x=t.system)==null?void 0:x.level)==null?void 0:v.value,rarity:Dh((b=(C=t.system)==null?void 0:C.traits)==null?void 0:b.rarity),frequency:_r(n.frequency),trigger:(n==null?void 0:n.trigger)||_r((_=(A=t.system)==null?void 0:A.trigger)==null?void 0:_.value),requirements:_r(n==null?void 0:n.requirements),access:_r(t.access),description:ba(i)??"",special:ba(n.special),prerequisites:r,type:"feat",meta_data:{foundry:{rules:(T=t.system)==null?void 0:T.rules,tags:(N=(M=t.system)==null?void 0:M.traits)==null?void 0:N.otherTags}},traits:await th(((F=(I=t.system)==null?void 0:I.traits)==null?void 0:F.value)??[],e),content_source_id:e.id,version:"1.0"},o=await p1(a);return{success:!!o,id:o==null?void 0:o.id}}async function h5t(e,t){var o,s,l,u,c,d,f,h,m,g,S,y,E,x,v,C,b,A;if(!(t.type==="feat"&&((o=t.system)==null?void 0:o.category)==="classfeature"))return{success:!1};const n=Im(Om((l=(s=t.system)==null?void 0:s.description)==null?void 0:l.value)),r=await Pm(n.description),i={id:-1,created_at:"",name:_r(t.name)??"",actions:E0((c=(u=t.system)==null?void 0:u.actionType)==null?void 0:c.value,(f=(d=t.system)==null?void 0:d.actions)==null?void 0:f.value),level:(m=(h=t.system)==null?void 0:h.level)==null?void 0:m.value,rarity:Dh((S=(g=t.system)==null?void 0:g.traits)==null?void 0:S.rarity),frequency:_r(n.frequency),trigger:(n==null?void 0:n.trigger)||_r((E=(y=t.system)==null?void 0:y.trigger)==null?void 0:E.value),requirements:_r(n==null?void 0:n.requirements),access:_r(t.access),description:ba(r)??"",special:ba(n.special),type:"class-feature",meta_data:{foundry:{rules:(x=t.system)==null?void 0:x.rules,tags:(C=(v=t.system)==null?void 0:v.traits)==null?void 0:C.otherTags}},traits:await th(((A=(b=t.system)==null?void 0:b.traits)==null?void 0:A.value)??[],e),content_source_id:e.id,version:"1.0"},a=await p1(i);return{success:!!a,id:a==null?void 0:a.id}}async function p5t(e,t){var o,s,l,u,c,d,f,h,m,g,S,y,E,x,v,C,b,A,_,T,M,N,I,F,$,z,D,P,V,B,H,K,W,L,G,de,Q,ee,ne,se,ge,xe,we,_e,ze,Y,re,Se,le,ye,Ee,be,Me,X;if(t.type!=="spell")return{success:!1};const n=Im(Om((s=(o=t.system)==null?void 0:o.description)==null?void 0:s.value,(u=(l=t.system)==null?void 0:l.level)==null?void 0:u.value)),r=await Pm(n.description),i={id:-1,created_at:"",name:_r(t.name)??"",rank:(d=(c=t.system)==null?void 0:c.level)==null?void 0:d.value,traditions:(h=(f=t.system)==null?void 0:f.traditions)==null?void 0:h.value,rarity:Dh((g=(m=t.system)==null?void 0:m.traits)==null?void 0:g.rarity),cast:o5t(((y=(S=t.system)==null?void 0:S.time)==null?void 0:y.value)??""),traits:await th(((x=(E=t.system)==null?void 0:E.traits)==null?void 0:x.value)??[],e),defense:(C=(v=t.system)==null?void 0:v.save)==null?void 0:C.value,cost:(A=(b=t.system)==null?void 0:b.cost)==null?void 0:A.value,trigger:(n==null?void 0:n.trigger)||_r((T=(_=t.system)==null?void 0:_.trigger)==null?void 0:T.value),requirements:_r(n==null?void 0:n.requirements)||((N=(M=t.system)==null?void 0:M.materials)==null?void 0:N.value),range:(F=(I=t.system)==null?void 0:I.range)==null?void 0:F.value,area:(n==null?void 0:n.area)||(($=t.system)==null?void 0:$.area)&&`${(D=(z=t.system)==null?void 0:z.area)==null?void 0:D.value}-foot ${(V=(P=t.system)==null?void 0:P.area)==null?void 0:V.type}`,targets:(H=(B=t.system)==null?void 0:B.target)==null?void 0:H.value,duration:(W=(K=t.system)==null?void 0:K.duration)==null?void 0:W.value,description:ba(r)??"",heightened:{text:n.heightened,data:(L=t.system)==null?void 0:L.heightening},meta_data:{damage:Object.values(((de=(G=t.system)==null?void 0:G.damage)==null?void 0:de.value)??{}),type:(ee=(Q=t.system)==null?void 0:Q.spellType)==null?void 0:ee.value,foundry:{rules:(ne=t.system)==null?void 0:ne.rules,tags:(ge=(se=t.system)==null?void 0:se.traits)==null?void 0:ge.otherTags,components:(xe=t.system)==null?void 0:xe.components,attribute:(_e=(we=t.system)==null?void 0:we.ability)==null?void 0:_e.value,materials:(Y=(ze=t.system)==null?void 0:ze.materials)==null?void 0:Y.value,is_focus:((Se=(re=t.system)==null?void 0:re.category)==null?void 0:Se.value)==="focus",is_sustained:(ye=(le=t.system)==null?void 0:le.sustained)==null?void 0:ye.value,has_counteract_check:(be=(Ee=t.system)==null?void 0:Ee.hasCounteractCheck)==null?void 0:be.value,custom_tradition:(X=(Me=t.system)==null?void 0:Me.traditions)==null?void 0:X.custom}},content_source_id:e.id,version:"1.0"},a=await EN(i);return{success:!!a,id:a==null?void 0:a.id}}async function m5t(e,t){var o,s,l,u,c,d,f,h,m,g,S,y,E,x,v,C,b,A,_,T,M,N,I,F,$,z,D,P,V,B,H,K,W,L,G,de,Q,ee,ne,se,ge,xe,we,_e,ze,Y,re,Se,le,ye,Ee,be,Me,X,ce,ae,Ce,Ie,Oe,Ve,qe,Je,We,Nt,Pe;if(!fde.includes(t.type))return{success:!1};const n=Im(Om((s=(o=t.system)==null?void 0:o.description)==null?void 0:s.value,(u=(l=t.system)==null?void 0:l.level)==null?void 0:u.value)),r=await Pm(n.description),i={id:-1,created_at:"",name:_r(t.name)??"",level:(d=(c=t.system)==null?void 0:c.level)==null?void 0:d.value,price:(h=(f=t.system)==null?void 0:f.price)==null?void 0:h.value,rarity:Dh((g=(m=t.system)==null?void 0:m.traits)==null?void 0:g.rarity),bulk:(y=(S=t.system)==null?void 0:S.weight)==null?void 0:y.value,traits:await th(((x=(E=t.system)==null?void 0:E.traits)==null?void 0:x.value)??[],e),group:(((C=(v=t.system)==null?void 0:v.consumableType)==null?void 0:C.value)||((b=t.system)==null?void 0:b.group))??"",hands:void 0,size:dde((_=(A=t.system)==null?void 0:A.size)==null?void 0:_.value),craft_requirements:_r(n==null?void 0:n.craft_requirements),usage:(M=(T=t.system)==null?void 0:T.usage)==null?void 0:M.value,description:ba(r)??"",meta_data:{base_item:(N=t.system)==null?void 0:N.baseItem,category:(I=t.system)==null?void 0:I.category,damage:(F=t.system)==null?void 0:F.damage,bulk_equipped:(z=($=t.system)==null?void 0:$.equippedBulk)==null?void 0:z.value,bulk_negate:(P=(D=t.system)==null?void 0:D.negateBulk)==null?void 0:P.value,group:(V=t.system)==null?void 0:V.group,hardness:(B=t.system)==null?void 0:B.hardness,hp:(K=(H=t.system)==null?void 0:H.hp)==null?void 0:K.value,hp_max:((L=(W=t.system)==null?void 0:W.hp)==null?void 0:L.max)??0,broken_threshold:parseInt(((de=(G=t.system)==null?void 0:G.hp)==null?void 0:de.max)??0)/2,quantity:(Q=t.system)==null?void 0:Q.quantity,material:(ee=t.system)==null?void 0:ee.material,range:(ne=t.system)==null?void 0:ne.range,reload:(ge=(se=t.system)==null?void 0:se.reload)==null?void 0:ge.value,runes:{potency_amount:(we=(xe=t.system)==null?void 0:xe.potencyRune)==null?void 0:we.value,striking_type:(ze=(_e=t.system)==null?void 0:_e.strikingRune)==null?void 0:ze.value,property_1:(re=(Y=t.system)==null?void 0:Y.propertyRune1)==null?void 0:re.value,property_2:(le=(Se=t.system)==null?void 0:Se.propertyRune2)==null?void 0:le.value,property_3:(Ee=(ye=t.system)==null?void 0:ye.propertyRune3)==null?void 0:Ee.value,property_4:(Me=(be=t.system)==null?void 0:be.propertyRune4)==null?void 0:Me.value},foundry:{rules:(X=t.system)==null?void 0:X.rules,tags:(ae=(ce=t.system)==null?void 0:ce.traits)==null?void 0:ae.otherTags,bonus:(Ie=(Ce=t.system)==null?void 0:Ce.bonus)==null?void 0:Ie.value,bonus_damage:(Ve=(Oe=t.system)==null?void 0:Oe.bonusDamage)==null?void 0:Ve.value,container_id:(qe=t.system)==null?void 0:qe.containerId,splash_damage:(We=(Je=t.system)==null?void 0:Je.splashDamage)==null?void 0:We.value,stack_group:(Nt=t.system)==null?void 0:Nt.stackGroup,items:Object.values(((Pe=t.system)==null?void 0:Pe.items)??{})}},content_source_id:e.id,version:"1.0"},a=await n5t(i);return{success:!!a,id:a==null?void 0:a.id}}async function g5t(e,t){if(t.type!=="npc")return{success:!1};try{const n=await ZSt(e,t),r=await r5t(n);return{success:!!r,id:r==null?void 0:r.id}}catch(n){return console.log(n),typeof n=="string"?$i(n):n instanceof Error&&$i(n.message),{success:!1}}}async function v5t(e,t){var o,s,l,u,c,d,f,h,m,g,S;if(t.type!=="heritage")return{success:!1};const n=Im(Om((s=(o=t.system)==null?void 0:o.description)==null?void 0:s.value)),r=await Pm(n.description),i={id:-1,created_at:"",name:_r(t.name)??"",level:-1,actions:null,rarity:Dh((u=(l=t.system)==null?void 0:l.traits)==null?void 0:u.rarity),requirements:_r(n==null?void 0:n.requirements),access:_r(t.access),description:ba(r)??"",special:ba(n.special)??"",type:"heritage",meta_data:{foundry:{rules:(c=t.system)==null?void 0:c.rules,tags:(f=(d=t.system)==null?void 0:d.traits)==null?void 0:f.otherTags}},traits:await th(((m=(h=t.system)==null?void 0:h.traits)==null?void 0:m.value)??[],e),content_source_id:e.id,version:"1.0"};(S=(g=t.system)==null?void 0:g.ancestry)!=null&&S.name&&(i.traits=i.traits.concat(await th([t.system.ancestry.name],e)));const a=await p1(i);return{success:!!a,id:a==null?void 0:a.id}}async function y5t(e,t){var o,s,l,u;if(t.type!=="background")return{success:!1};const n=Im(Om((s=(o=t.system)==null?void 0:o.description)==null?void 0:s.value));let r=await Pm(n.description);r=ba(r)??"",r=r.trim().replace(/\*/g,""),r=r.replace(/^([\s\S]*?)(\n\n|$)/,`> _$1_

`);const i={id:-1,created_at:"",name:_r(t.name)??"",rarity:Dh((u=(l=t.system)==null?void 0:l.traits)==null?void 0:u.rarity),description:r,artwork_url:"",operations:[],content_source_id:e.id,version:"1.0"},a=await kN(i);return{success:!!a,id:a==null?void 0:a.id}}function b5t(){const[e,t]=j.useState(null),[n,r]=j.useState(!1),[i,a]=j.useState(!1),o=async h=>{e&&(n||(pde(),setTimeout(async()=>{r(!0),a(!0),await u5t(e,h),r(!1),Si({title:"Upload Complete",message:"Files have been uploaded.",autoClose:3e3})},1e3)))},{data:s}=En({queryKey:["upload-stats",{}],queryFn:async({queryKey:h})=>l5t(),refetchInterval:1e3});let l=0,u=0,c=0,d=0,f=0;if(s){for(const h of s.uploads.values())c=[...h.values()].reduce((m,g)=>m+g,c);for(const h of s.failedUploads.values())d=[...h.values()].reduce((m,g)=>m+g,d);f=[...s.missingSources.values()].reduce((h,m)=>h+m,f),l=s.total,u=c+d+f}return p.jsxs(ns,{p:"sm",children:[p.jsx(ta,{p:"sm",children:p.jsxs(Ae,{children:[p.jsx(zt,{order:3,children:"Upload Content"}),p.jsx(Gr,{placeholder:"Select content type",data:[{value:"action",label:"Action"},{value:"feat",label:"Feat"},{value:"class-feature",label:"Class Feature"},{value:"spell",label:"Spell"},{value:"item",label:"Item"},{value:"creature",label:"Creature"},{value:"heritage",label:"Heritage"},{value:"background",label:"Background"}],value:e,onChange:h=>{t(h),a(!1)}})]})}),i&&u>0&&p.jsxs(Zs.Root,{size:"xl",children:[p.jsx(Zs.Section,{animated:u!==l,value:Math.ceil(d/l*100),color:"red",children:p.jsxs(Zs.Label,{children:["Errors - ",d]})}),p.jsx(Zs.Section,{animated:u!==l,value:Math.ceil(f/l*100),color:"yellow",children:p.jsxs(Zs.Label,{children:["Missing Source - ",f]})}),p.jsx(Zs.Section,{animated:u!==l,value:Math.ceil(c/l*100),children:p.jsxs(Zs.Label,{children:["Uploaded - ",c]})})]}),e?p.jsx(Qx,{onDrop:h=>o(h),onReject:h=>console.log("rejected files",h),maxSize:3*1024**2,accept:["application/json"],children:p.jsxs(Ae,{justify:"center",gap:"xl",mih:220,style:{pointerEvents:"none"},children:[p.jsx(Qx.Accept,{children:p.jsx(fR,{style:{width:me(52),height:me(52),color:"var(--mantine-color-blue-6)"},stroke:1.5})}),p.jsx(Qx.Reject,{children:p.jsx(I1,{style:{width:me(52),height:me(52),color:"var(--mantine-color-red-6)"},stroke:1.5})}),p.jsx(Qx.Idle,{children:p.jsx(cOe,{style:{width:me(52),height:me(52),color:"var(--mantine-color-dimmed)"},stroke:1.5})}),p.jsxs("div",{children:[p.jsx(pe,{size:"xl",inline:!0,children:"Drag JSON files here or click to select files"}),p.jsx(pe,{size:"sm",c:"dimmed",inline:!0,mt:7,children:"Attach as many files as you like, each file should not exceed 5mb"})]})]})}):p.jsx(p.Fragment,{})]})}var w5t=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const vK=Rs(w5t);function x5t(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function mde(e){return typeof e!="string"?[]:e.split(".")}function Oc(e,t){const n=mde(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function yK(e,t,n){typeof n.value=="object"&&(n.value=e0(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function e0(e){if(typeof e!="object")return e;var t=0,n,r,i,a=Object.prototype.toString.call(e);if(a==="[object Object]"?i=Object.create(e.__proto__||null):a==="[object Array]"?i=Array(e.length):a==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(e0(o))})):a==="[object Map]"?(i=new Map,e.forEach(function(o,s){i.set(e0(s),e0(o))})):a==="[object Date]"?i=new Date(+e):a==="[object RegExp]"?i=new RegExp(e.source,e.flags):a==="[object DataView]"?i=new e.constructor(e0(e.buffer)):a==="[object ArrayBuffer]"?i=e.slice(0):a.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)yK(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||yK(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function pk(e,t,n){const r=mde(e);if(r.length===0)return n;const i=e0(n);if(r.length===1)return i[r[0]]=t,i;let a=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(a===void 0)return i;a=a[r[o]]}return a[r[r.length-1]]=t,i}function S5t(e,{from:t,to:n},r){const i=Oc(e,r);if(!Array.isArray(i))return r;const a=[...i],o=i[t];return a.splice(t,1),a.splice(n,0,o),pk(e,a,r)}function C5t(e,t,n,r){const i=Oc(e,r);if(!Array.isArray(i))return r;const a=[...i];return a.splice(typeof n=="number"?n:a.length,0,t),pk(e,a,r)}function E5t(e,t,n){const r=Oc(e,n);return Array.isArray(r)?pk(e,r.filter((i,a)=>a!==t),n):n}function AN(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function bK(e){const t=AN(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function _N(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,a)=>{const o=e[a],s=`${n===""?"":`${n}.`}${a}`,l=Oc(s,t);let u=!1;return typeof o=="function"&&(i[s]=o(l,t,s)),typeof o=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,d)=>_N(o,t,`${s}.${d}`,i))),typeof o=="object"&&typeof l=="object"&&l!==null&&(u||_N(o,t,s,i)),i},r)}function MN(e,t){return bK(typeof e=="function"?e(t):_N(e,t))}function g3(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=MN(t,n),i=Object.keys(r.errors).find(a=>e.split(".").every((o,s)=>o===a.split(".")[s]));return{hasError:!!i,error:i?r.errors[i]:null}}const k5t="__MANTINE_FORM_INDEX__";function wK(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${k5t}`)):!1:!1}function xK(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function gde(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function SK(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function CK(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let a=n;r===-1&&(a=gde(`${i}.${t}`,a));const o={...a},s=new Set;return Object.entries(a).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=SK(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=SK(l,i),d=l.replace(`${i}.${c}`,`${i}.${c+r}`);o[d]=u,s.add(d),s.has(l)||delete o[l]}),o}function A5t(e,{from:t,to:n},r){const i=`${e}.${t}`,a=`${e}.${n}`,o={...r};return Object.keys(r).every(s=>{let l,u;if(s.startsWith(i)&&(l=s,u=s.replace(i,a)),s.startsWith(a)&&(l=s.replace(a,i),u=s),l&&u){const c=o[l],d=o[u];return d===void 0?delete o[l]:o[l]=d,c===void 0?delete o[u]:o[u]=c,!1}return!0}),o}function _5t(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const M5t=typeof window<"u"?j.useLayoutEffect:j.useEffect;function la(e,t){M5t(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function T5t(e,t){e&&_5t(e),la(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),la(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),la(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),la(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),la(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),la(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),la(`mantine-form:${e}:clear-errors`,t.clearErrors),la(`mantine-form:${e}:reset`,t.reset),la(`mantine-form:${e}:validate`,t.validate),la(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),la(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),la(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),la(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),la(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),la(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),la(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),la(`mantine-form:${e}:reset-touched`,t.resetTouched)}function uv({name:e,initialValues:t={},initialErrors:n={},initialDirty:r={},initialTouched:i={},clearInputErrorOnChange:a=!0,validateInputOnChange:o=!1,validateInputOnBlur:s=!1,onValuesChange:l,transformValues:u=d=>d,validate:c}={}){const[d,f]=j.useState(i),[h,m]=j.useState(r),[g,S]=j.useState(t),[y,E]=j.useState(AN(n)),x=j.useRef(t),v=ne=>{x.current=ne},C=j.useCallback(()=>f({}),[]),b=ne=>{const se=ne?{...g,...ne}:g;v(se),m({})},A=j.useCallback(ne=>E(se=>AN(typeof ne=="function"?ne(se):ne)),[]),_=j.useCallback(()=>E({}),[]),T=j.useCallback(()=>{S(x.current),_(),m({}),C()},[]),M=j.useCallback((ne,se)=>A(ge=>({...ge,[ne]:se})),[]),N=j.useCallback(ne=>A(se=>{if(typeof ne!="string")return se;const ge={...se};return delete ge[ne],ge}),[]),I=j.useCallback(ne=>m(se=>{if(typeof ne!="string")return se;const ge=gde(ne,se);return delete ge[ne],ge}),[]),F=j.useCallback((ne,se)=>{const ge=wK(ne,o);I(ne),f(xe=>({...xe,[ne]:!0})),S(xe=>{const we=pk(ne,se,xe);if(ge){const _e=g3(ne,c,we);_e.hasError?M(ne,_e.error):N(ne)}return l==null||l(we),we}),!ge&&a&&M(ne,null)},[]),$=j.useCallback(ne=>{S(se=>{const ge=typeof ne=="function"?ne(se):ne,xe={...se,...ge};return l==null||l(xe),xe}),a&&_()},[]),z=j.useCallback((ne,se)=>{I(ne),S(ge=>{const xe=S5t(ne,se,ge);return l==null||l(xe),xe}),E(ge=>A5t(ne,se,ge))},[]),D=j.useCallback((ne,se)=>{I(ne),S(ge=>{const xe=E5t(ne,se,ge);return l==null||l(xe),xe}),E(ge=>CK(ne,se,ge,-1))},[]),P=j.useCallback((ne,se,ge)=>{I(ne),S(xe=>{const we=C5t(ne,se,ge,xe);return l==null||l(we),we}),E(xe=>CK(ne,ge,xe,1))},[]),V=j.useCallback(()=>{const ne=MN(c,g);return E(ne.errors),ne},[g,c]),B=j.useCallback(ne=>{const se=g3(ne,c,g);return se.hasError?M(ne,se.error):N(ne),se},[g,c]),H=(ne,{type:se="input",withError:ge=!0,withFocus:xe=!0}={})=>{const _e={onChange:x5t(ze=>F(ne,ze))};return ge&&(_e.error=y[ne]),se==="checkbox"?_e.checked=Oc(ne,g):_e.value=Oc(ne,g),xe&&(_e.onFocus=()=>f(ze=>({...ze,[ne]:!0})),_e.onBlur=()=>{if(wK(ne,s)){const ze=g3(ne,c,g);ze.hasError?M(ne,ze.error):N(ne)}}),_e},K=(ne,se)=>ge=>{ge==null||ge.preventDefault();const xe=V();xe.hasErrors?se==null||se(xe.errors,g,ge):ne==null||ne(u(g),ge)},W=ne=>u(ne||g),L=j.useCallback(ne=>{ne.preventDefault(),T()},[]),G=ne=>{if(ne){const ge=Oc(ne,h);if(typeof ge=="boolean")return ge;const xe=Oc(ne,g),we=Oc(ne,x.current);return!vK(xe,we)}return Object.keys(h).length>0?xK(h):!vK(g,x.current)},de=j.useCallback(ne=>xK(d,ne),[d]),Q=j.useCallback(ne=>ne?!g3(ne,c,g).hasError:!MN(c,g).hasErrors,[g,c]),ee={values:g,errors:y,setValues:$,setInitialValues:v,setErrors:A,setFieldValue:F,setFieldError:M,clearFieldError:N,clearErrors:_,reset:T,validate:V,validateField:B,reorderListItem:z,removeListItem:D,insertListItem:P,getInputProps:H,onSubmit:K,onReset:L,isDirty:G,isTouched:de,setTouched:f,setDirty:m,resetTouched:C,resetDirty:b,isValid:Q,getTransformedValues:W};return T5t(e,ee),ee}function cv(e){return p.jsx(b2,{ff:"Ubuntu Mono, monospace",size:"xs",placeholder:"Value",w:190,value:e.value,onChange:t=>{const n=t.toUpperCase().replace(/\s/g,"_");e.onChange(t,qc()[n])},data:Object.keys(qc()).filter(t=>!t.endsWith("____")).filter(t=>e.variableType?qc()[t].type===e.variableType:!0)})}function N5t(e){const t=()=>({id:crypto.randomUUID(),name:"",data:void 0,operator:"",value:""}),[n,r]=j.useState(e.conditions&&e.conditions.length>0?e.conditions:[t()]),[i,a]=j.useState(e.trueOperations??[]),[o,s]=j.useState(e.falseOperations??[]);return $n(()=>{e.onChange(n,i,o)},[n,i,o]),p.jsx(rs,{onRemove:e.onRemove,title:"Conditional",children:p.jsxs(it,{w:"100%",children:[p.jsx(p.Fragment,{children:n.map((l,u)=>p.jsx(D5t,{id:l.id,defaultName:l.name,defaultData:l.data,defaultOperator:l.operator,defaultValue:l.value,onChange:c=>{r(d=>(d[u]=c,Ze.cloneDeep(d)))},includeAnd:u!==0,includeAdd:u===n.length-1,onAdd:()=>{r(c=>[...c,t()])},onRemove:c=>{r(d=>d.filter(f=>f.id!==c))}},u))}),p.jsx(Lt,{}),p.jsx(p.Fragment,{children:p.jsx(Jn,{mah:400,children:p.jsxs(it,{children:[p.jsx(nh,{title:p.jsxs(Ae,{gap:8,wrap:"nowrap",children:[p.jsx(Mz,{size:"1.1rem"}),p.jsx(pe,{fz:"sm",c:"gray.0",children:"If"}),p.jsx(ft,{variant:"dot",size:"sm",styles:{root:{"--badge-dot-size":0,textTransform:"initial"}},children:"True"})]}),value:i,onChange:l=>a(l),blacklist:["conditional","createValue"]}),p.jsx(nh,{title:p.jsxs(Ae,{gap:8,wrap:"nowrap",children:[p.jsx(Mz,{size:"1.1rem"}),p.jsx(pe,{fz:"sm",c:"gray.0",children:"If"}),p.jsx(ft,{variant:"dot",size:"sm",styles:{root:{"--badge-dot-size":0,textTransform:"initial"}},children:"False"})]}),value:o,onChange:l=>s(l),blacklist:["conditional","createValue"]})]})})})]})})}function D5t(e){var c;const[t,n]=j.useState(e.defaultName),[r,i]=j.useState(e.defaultData),[a,o]=j.useState(e.defaultOperator),[s,l]=j.useState(e.defaultValue);j.useEffect(()=>{e.onChange({id:e.id,name:t,data:r,operator:a,value:s})},[t,r,a,s]);let u=[];return((r==null?void 0:r.type)==="attr"||(r==null?void 0:r.type)==="num"||(r==null?void 0:r.type)==="prof")&&(u=[{value:"EQUALS",label:"equals"},{value:"LESS_THAN",label:"less than"},{value:"GREATER_THAN",label:"greater than"},{value:"NOT_EQUALS",label:"not equals"}]),(r==null?void 0:r.type)==="bool"&&(u=[{value:"EQUALS",label:"equals"},{value:"NOT_EQUALS",label:"not equals"}]),((r==null?void 0:r.type)==="str"||(r==null?void 0:r.type)==="list-str")&&(u=[{value:"INCLUDES",label:"includes"},{value:"EQUALS",label:"equals"},{value:"NOT_EQUALS",label:"not equals"}]),r||(u=[{value:"INCLUDES",label:"includes"},{value:"EQUALS",label:"equals"},{value:"NOT_EQUALS",label:"not equals"},{value:"LESS_THAN",label:"less than"},{value:"GREATER_THAN",label:"greater than"}]),p.jsxs(Ae,{wrap:"nowrap",style:{position:"relative"},children:[e.includeAnd&&p.jsxs(p.Fragment,{children:[p.jsx(pe,{style:{position:"absolute",top:6,left:-35},c:"dimmed",fs:"italic",fz:"sm",children:"&&"}),e.includeAdd&&p.jsx(oi,{label:"Remove Condition",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(bt,{style:{position:"absolute",top:0,right:-28},size:"sm",variant:"subtle",color:"gray",onClick:()=>{var d;return(d=e.onRemove)==null?void 0:d.call(e,e.id)},children:p.jsx(D1,{size:"0.9rem"})})})]}),e.includeAdd&&p.jsx(oi,{label:"Add Condition",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(bt,{style:{position:"absolute",top:23,right:-28},size:"sm",variant:"subtle",color:"gray",onClick:e.onAdd,children:p.jsx(R1,{size:"0.9rem"})})}),p.jsx(cv,{value:t,onChange:(d,f)=>{n(d),i(f),o(""),l("")}}),t&&p.jsx(Gr,{size:"xs",placeholder:"Operator",w:100,value:a,searchValue:((c=u.find(d=>d.value===a))==null?void 0:c.label)||"",onChange:d=>{d&&o(d)},data:u}),t&&a&&p.jsx(R5t,{variableType:(r==null?void 0:r.type)||"str",operationType:a,value:s,onChange:l})]})}function R5t(e){return e.variableType==="attr"||e.variableType==="num"?p.jsx(Ms,{size:"xs",placeholder:"Number",value:e.value,onChange:t=>e.onChange(parseInt(`${t}`)),allowDecimal:!1}):e.variableType==="bool"?p.jsx(Ss,{size:"xs",value:e.value||void 0,onChange:e.onChange,defaultValue:"TRUE",data:[{label:"True",value:"TRUE"},{label:"False",value:"FALSE"}]}):e.variableType==="str"||e.variableType==="list-str"&&e.operationType==="INCLUDES"?p.jsx(sn,{size:"xs",placeholder:"Text (case insensitive)",value:e.value,onChange:t=>e.onChange(t.target.value.toLowerCase())}):e.variableType==="prof"?p.jsx(Ss,{size:"xs",value:e.value||void 0,onChange:e.onChange,data:[{label:"U",value:"U"},{label:"T",value:"T"},{label:"E",value:"E"},{label:"M",value:"M"},{label:"L",value:"L"}]}):e.variableType==="list-str"&&e.operationType==="EQUALS"?p.jsx(C4,{size:"xs",value:e.value,onChange:e.onChange,placeholder:"Array contents as JSON",validationError:void 0,formatOnBlur:!0,autosize:!0,minRows:4}):null}function I5t(e){return p.jsx(rs,{onRemove:e.onRemove,title:"Give Action",children:p.jsx(Va,{type:"ability-block",onClick:t=>{e.onSelect(t)},selectedId:e.selectedId,options:{abilityBlockType:"action"}})})}function O5t(e){return p.jsx(rs,{onRemove:e.onRemove,title:"Give Class Feature",children:p.jsx(Va,{type:"ability-block",onClick:t=>{e.onSelect(t)},selectedId:e.selectedId,options:{abilityBlockType:"class-feature"}})})}function P5t(e){return p.jsx(rs,{onRemove:e.onRemove,title:"Give Feat",children:p.jsx(Va,{type:"ability-block",onClick:t=>{e.onSelect(t)},selectedId:e.selectedId,options:{abilityBlockType:"feat"}})})}function j5t(e){return p.jsx(rs,{onRemove:e.onRemove,title:"Give Spell",children:p.jsx(Va,{type:"spell",onClick:t=>{e.onSelect(t)},selectedId:e.selectedId})})}function L5t(e){const[t,n]=j.useState(e.variable),[r,i]=j.useState(Tt(e.variable)??void 0),[a,o]=j.useState(e.value);return $n(()=>{n(e.variable),i(Tt(e.variable)??void 0),o(e.value)},[e.value,e.variable]),p.jsxs(rs,{onRemove:e.onRemove,title:"Adjust Value",children:[p.jsx(cv,{value:t,onChange:(s,l)=>{n(s),i(l),e.onSelect(s),o("")}}),r&&p.jsx(EO,{variableType:r.type,value:a,onChange:s=>{o(s),e.onValueChange(s)}})]})}function EO(e){var t;if(e.variableType==="attr"){const n=e.value;return p.jsx(p.Fragment,{children:p.jsx(Ms,{size:"xs",prefix:n.value>=0?"+":void 0,placeholder:"Number to Add",value:n.value,onChange:r=>e.onChange({value:parseInt(`${r}`),partial:n.partial}),allowDecimal:!1})})}else if(e.variableType==="num"){const n=e.value;return p.jsx(Ms,{size:"xs",prefix:n>=0?"+":void 0,placeholder:"Number to Add",value:n,onChange:r=>e.onChange(parseInt(`${r}`)),allowDecimal:!1})}else if(e.variableType==="bool"){const n=e.value;return p.jsx(Ss,{size:"xs",value:n?"TRUE":"FALSE",onChange:e.onChange,defaultValue:"TRUE",data:[{label:"True",value:"TRUE"},{label:"False",value:"FALSE"}]})}else if(e.variableType==="str"||e.variableType==="list-str"){const n=e.value;return p.jsx(sn,{size:"xs",placeholder:"Text to Append",value:n,onChange:r=>e.onChange(r.target.value.toLowerCase())})}else if(e.variableType==="prof"){const n=e.value;return p.jsx(p.Fragment,{children:(t=e.options)!=null&&t.profExtended?p.jsx(Ss,{size:"xs",value:n.value,onChange:r=>e.onChange({value:r,attribute:n.attribute}),data:[{label:"U",value:"U"},{label:"T",value:"T"},{label:"E",value:"E"},{label:"M",value:"M"},{label:"L",value:"L"},{label:"1",value:"1"},{label:"-1",value:"-1"}]}):p.jsx(Ss,{size:"xs",value:n.value,onChange:r=>e.onChange({value:r,attribute:n.attribute}),data:[{label:"U",value:"U"},{label:"T",value:"T"},{label:"E",value:"E"},{label:"M",value:"M"},{label:"L",value:"L"}]})})}return null}function F5t(e){const[t,n]=j.useState(e.variable),[r,i]=j.useState(Tt(e.variable)??void 0),[a,o]=j.useState(e.value);return $n(()=>{n(e.variable),i(Tt(e.variable)??void 0),o(e.value)},[e.value,e.variable]),p.jsxs(rs,{onRemove:e.onRemove,title:"Set Value",children:[p.jsx(cv,{value:t,onChange:(s,l)=>{n(s),i(l),e.onSelect(s),o("")}}),r&&p.jsx(vde,{variableType:r.type,value:a,onChange:s=>{o(s),e.onValueChange(s)}})]})}function vde(e){if(e.variableType==="attr"){const t=e.value;return p.jsxs(p.Fragment,{children:[p.jsx(Ms,{size:"xs",placeholder:"Number",value:t.value,onChange:n=>e.onChange({value:parseInt(`${n}`),partial:t.partial}),allowDecimal:!1}),p.jsxs(Z,{children:[p.jsx(pe,{fz:10,children:"Is Partial"}),p.jsx(Ss,{size:"xs",value:t.partial?"TRUE":"FALSE",onChange:n=>e.onChange({value:t.value,partial:n==="TRUE"}),defaultValue:"FALSE",data:[{label:"True",value:"TRUE"},{label:"False",value:"FALSE"}]})]})]})}else if(e.variableType==="num"){const t=e.value;return p.jsx(Ms,{size:"xs",placeholder:"Number",value:t,onChange:n=>e.onChange(parseInt(`${n}`)),allowDecimal:!1})}else if(e.variableType==="bool"){const t=e.value;return p.jsx(Ss,{size:"xs",value:t?"TRUE":"FALSE",onChange:e.onChange,defaultValue:"TRUE",data:[{label:"True",value:"TRUE"},{label:"False",value:"FALSE"}]})}else if(e.variableType==="str"){const t=e.value;return p.jsx(sn,{size:"xs",placeholder:"Text",value:t,onChange:n=>e.onChange(n.target.value.toLowerCase())})}else if(e.variableType==="prof"){const t=e.value;return p.jsxs(p.Fragment,{children:[p.jsx(Ss,{size:"xs",value:t.value,onChange:n=>e.onChange({value:n,attribute:t.attribute}),data:[{label:"U",value:"U"},{label:"T",value:"T"},{label:"E",value:"E"},{label:"M",value:"M"},{label:"L",value:"L"}]}),p.jsx(cv,{value:t.attribute??"",onChange:(n,r)=>e.onChange({value:t.value,attribute:r==null?void 0:r.name}),variableType:"attr"})]})}else if(e.variableType==="list-str"){const t=e.value;return p.jsx(C4,{size:"xs",value:t,onChange:e.onChange,placeholder:"Array contents as JSON",validationError:void 0,formatOnBlur:!0,autosize:!0,minRows:4})}return null}function B5t(e){return p.jsx(rs,{onRemove:e.onRemove,title:"Create Value",children:p.jsxs(Ae,{children:[p.jsx(Gr,{placeholder:"Value Type",size:"xs",w:110,value:e.variableType,onChange:t=>{t&&e.onTypeChange(t)},data:[{label:"Number",value:"num"},{label:"Text",value:"str"},{label:"Boolean",value:"bool"},{label:"Proficiency",value:"prof"},{label:"Attribute",value:"attr"},{label:"List of Text",value:"list-str"}]}),p.jsx(sn,{ff:"Ubuntu Mono, monospace",size:"xs",placeholder:"Value Name",w:190,value:e.variable,onChange:t=>{e.onNameChange(Zy(t.target.value,!1))}}),p.jsx(vde,{variableType:e.variableType,value:e.value,onChange:t=>{e.onValueChange(t)}})]})})}const z5t={linkControlLabel:"Link",colorPickerControlLabel:"Text color",highlightControlLabel:"Highlight text",colorControlLabel:e=>`Set text color ${e}`,boldControlLabel:"Bold",italicControlLabel:"Italic",underlineControlLabel:"Underline",strikeControlLabel:"Strikethrough",clearFormattingControlLabel:"Clear formatting",unlinkControlLabel:"Remove link",bulletListControlLabel:"Bullet list",orderedListControlLabel:"Ordered list",h1ControlLabel:"Heading 1",h2ControlLabel:"Heading 2",h3ControlLabel:"Heading 3",h4ControlLabel:"Heading 4",h5ControlLabel:"Heading 5",h6ControlLabel:"Heading 6",blockquoteControlLabel:"Blockquote",alignLeftControlLabel:"Align text: left",alignCenterControlLabel:"Align text: center",alignRightControlLabel:"Align text: right",alignJustifyControlLabel:"Align text: justify",codeControlLabel:"Code",codeBlockControlLabel:"Code block",subscriptControlLabel:"Subscript",superscriptControlLabel:"Superscript",unsetColorControlLabel:"Unset color",hrControlLabel:"Horizontal line",linkEditorInputLabel:"Enter URL",linkEditorInputPlaceholder:"https://example.com/",linkEditorExternalLink:"Open link in a new tab",linkEditorInternalLink:"Open link in the same tab",linkEditorSave:"Save",colorPickerCancel:"Cancel",colorPickerClear:"Clear color",colorPickerColorPicker:"Color picker",colorPickerPalette:"Color palette",colorPickerSave:"Save",colorPickerColorLabel:e=>`Set text color ${e}`},[$5t,fc]=Kr("RichTextEditor component was not found in tree");var jm={root:"m-dd3f7539",typographyStylesProvider:"m-d37966d9",content:"m-c2204cc2",linkEditorDropdown:"m-8a991b4f",control:"m-c2207da6",controlsGroup:"m-2ab47ef2",linkEditor:"m-b67b711e",linkEditorInput:"m-296cf94c",linkEditorExternalControl:"m-cfef614",linkEditorSave:"m-3b28e7bb",toolbar:"m-4574a3c4"};const U5t={},kO=Ge((e,t)=>{const n=Fe("RichTextEditorToolbar",U5t,e),{classNames:r,className:i,style:a,styles:o,vars:s,sticky:l,stickyOffset:u,...c}=n,d=fc();return O.createElement(Z,{ref:t,mod:{sticky:l},...d.getStyles("toolbar",{className:i,style:a,styles:o,classNames:r}),...c,__vars:{"--rte-sticky-offset":me(u)}})});kO.classes=jm;kO.displayName="@mantine/tiptap/RichTextEditorToolbar";const V5t={},AO=Ge((e,t)=>{const n=Fe("RichTextEditorControlsGroup",V5t,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=fc();return O.createElement(Z,{ref:t,...u.getStyles("controlsGroup",{className:i,style:a,styles:o,classNames:r}),...l})});AO.classes=jm;AO.displayName="@mantine/tiptap/RichTextEditorControlsGroup";const H5t={},_O=Ge((e,t)=>{const n=Fe("RichTextEditorContent",H5t,e),{classNames:r,className:i,style:a,styles:o,vars:s,...l}=n,u=fc();return u.withTypographyStyles?O.createElement(B7,{...u.getStyles("typographyStylesProvider",{className:i,style:a,styles:o,classNames:r}),unstyled:u.unstyled,ref:t},O.createElement(Z,{component:gV,editor:u.editor,...u.getStyles("content",{classNames:r,styles:o}),...l})):O.createElement(Z,{component:gV,editor:u.editor,...u.getStyles("content",{classNames:r,styles:o,className:i,style:a}),...l})});_O.classes=jm;_O.displayName="@mantine/tiptap/RichTextEditorContent";const q5t={interactive:!0},dv=Ge((e,t)=>{const n=Fe("RichTextEditorControl",q5t,e),{classNames:r,className:i,style:a,styles:o,vars:s,interactive:l,active:u,onMouseDown:c,...d}=n,f=fc();return O.createElement(Hn,{...d,...f.getStyles("control",{className:i,style:a,classNames:r,styles:o}),"data-rich-text-editor-control":!0,tabIndex:l?0:-1,"data-interactive":l||void 0,"data-active":u||void 0,"aria-pressed":u&&l||void 0,"aria-hidden":!l||void 0,ref:t,unstyled:f.unstyled,onMouseDown:h=>{h.preventDefault(),c==null||c(h)}})});dv.classes=jm;dv.displayName="@mantine/tiptap/RichTextEditorControl";const MO=j.forwardRef(({className:e,icon:t,...n},r)=>O.createElement(dv,{ref:r,...n},O.createElement(t,{style:{width:me(16),height:me(16)}})));MO.displayName="@mantine/tiptap/RichTextEditorControlBase";function Tr({label:e,isActive:t,operation:n,icon:r}){return j.forwardRef((i,a)=>{const{editor:o,labels:s}=fc(),l=s[e];return O.createElement(MO,{...i,"aria-label":l,title:l,active:t!=null&&t.name?o==null?void 0:o.isActive(t.name,t.attributes):!1,ref:a,onClick:()=>o==null?void 0:o.chain().focus()[n.name](n.attributes).run(),icon:i.icon||r})})}const W5t=Tr({label:"boldControlLabel",icon:e=>O.createElement(xRe,{...e,stroke:1.5}),isActive:{name:"bold"},operation:{name:"toggleBold"}}),G5t=Tr({label:"italicControlLabel",icon:e=>O.createElement(FIe,{...e,stroke:1.5}),isActive:{name:"italic"},operation:{name:"toggleItalic"}}),K5t=Tr({label:"underlineControlLabel",icon:e=>O.createElement(QOe,{...e,stroke:1.5}),isActive:{name:"underline"},operation:{name:"toggleUnderline"}}),Y5t=Tr({label:"strikeControlLabel",icon:e=>O.createElement($Oe,{...e,stroke:1.5}),isActive:{name:"strike"},operation:{name:"toggleStrike"}}),J5t=Tr({label:"clearFormattingControlLabel",icon:e=>O.createElement(ZRe,{...e,stroke:1.5}),operation:{name:"unsetAllMarks"}}),Q5t=Tr({label:"unlinkControlLabel",icon:e=>O.createElement(XOe,{...e,stroke:1.5}),operation:{name:"unsetLink"}}),X5t=Tr({label:"bulletListControlLabel",icon:e=>O.createElement(GIe,{...e,stroke:1.5}),isActive:{name:"bulletList"},operation:{name:"toggleBulletList"}}),Z5t=Tr({label:"orderedListControlLabel",icon:e=>O.createElement(WIe,{...e,stroke:1.5}),isActive:{name:"orderedList"},operation:{name:"toggleOrderedList"}}),eCt=Tr({label:"h1ControlLabel",icon:e=>O.createElement(CIe,{...e,stroke:1.5}),isActive:{name:"heading",attributes:{level:1}},operation:{name:"toggleHeading",attributes:{level:1}}}),tCt=Tr({label:"h2ControlLabel",icon:e=>O.createElement(EIe,{...e,stroke:1.5}),isActive:{name:"heading",attributes:{level:2}},operation:{name:"toggleHeading",attributes:{level:2}}}),nCt=Tr({label:"h3ControlLabel",icon:e=>O.createElement(kIe,{...e,stroke:1.5}),isActive:{name:"heading",attributes:{level:3}},operation:{name:"toggleHeading",attributes:{level:3}}}),rCt=Tr({label:"h4ControlLabel",icon:e=>O.createElement(AIe,{...e,stroke:1.5}),isActive:{name:"heading",attributes:{level:4}},operation:{name:"toggleHeading",attributes:{level:4}}}),iCt=Tr({label:"h5ControlLabel",icon:e=>O.createElement(_Ie,{...e,stroke:1.5}),isActive:{name:"heading",attributes:{level:5}},operation:{name:"toggleHeading",attributes:{level:5}}}),aCt=Tr({label:"h6ControlLabel",icon:e=>O.createElement(MIe,{...e,stroke:1.5}),isActive:{name:"heading",attributes:{level:6}},operation:{name:"toggleHeading",attributes:{level:6}}}),oCt=Tr({label:"blockquoteControlLabel",icon:e=>O.createElement(wRe,{...e,stroke:1.5}),isActive:{name:"blockquote"},operation:{name:"toggleBlockquote"}}),sCt=Tr({label:"alignLeftControlLabel",icon:e=>O.createElement(dRe,{...e,stroke:1.5}),operation:{name:"setTextAlign",attributes:"left"}}),lCt=Tr({label:"alignRightControlLabel",icon:e=>O.createElement(fRe,{...e,stroke:1.5}),operation:{name:"setTextAlign",attributes:"right"}}),uCt=Tr({label:"alignCenterControlLabel",icon:e=>O.createElement(uRe,{...e,stroke:1.5}),operation:{name:"setTextAlign",attributes:"center"}}),cCt=Tr({label:"alignJustifyControlLabel",icon:e=>O.createElement(cRe,{...e,stroke:1.5}),operation:{name:"setTextAlign",attributes:"justify"}}),dCt=Tr({label:"subscriptControlLabel",icon:e=>O.createElement(UOe,{...e,stroke:1.5}),isActive:{name:"subscript"},operation:{name:"toggleSubscript"}}),fCt=Tr({label:"superscriptControlLabel",icon:e=>O.createElement(VOe,{...e,stroke:1.5}),isActive:{name:"superscript"},operation:{name:"toggleSuperscript"}}),hCt=Tr({label:"codeControlLabel",icon:e=>O.createElement(Tre,{...e,stroke:1.5}),isActive:{name:"code"},operation:{name:"toggleCode"}}),pCt=Tr({label:"codeBlockControlLabel",icon:e=>O.createElement(Tre,{...e,stroke:1.5}),isActive:{name:"codeBlock"},operation:{name:"toggleCodeBlock"}}),mCt=Tr({label:"highlightControlLabel",icon:e=>O.createElement(PIe,{...e,stroke:1.5}),isActive:{name:"highlight"},operation:{name:"toggleHighlight"}}),gCt=Tr({label:"hrControlLabel",icon:e=>O.createElement(HIe,{...e,stroke:1.5}),operation:{name:"setHorizontalRule"}}),vCt=Tr({label:"unsetColorControlLabel",icon:e=>O.createElement(_re,{...e,stroke:1.5}),operation:{name:"unsetColor"}}),yCt=e=>O.createElement(Ire,{stroke:1.5,...e}),bCt={},TO=Ge((e,t)=>{var I;const n=Fe("RichTextEditorLinkControl",bCt,e),{classNames:r,className:i,style:a,styles:o,vars:s,icon:l,popoverProps:u,disableTooltips:c,initialExternal:d,...f}=n,h=fc(),m={classNames:r,styles:o},[g,S]=Sxe(""),[y,E]=j.useState(d),[x,{open:v,close:C}]=Ga(!1),b=()=>{var $;v();const F=($=h.editor)==null?void 0:$.getAttributes("link");S((F==null?void 0:F.href)||""),E((F==null?void 0:F.target)==="_blank")},A=()=>{C(),S(""),E(d)},_=()=>{var F,$;A(),g===""?(F=h.editor)==null||F.chain().focus().extendMarkRange("link").unsetLink().run():($=h.editor)==null||$.chain().focus().extendMarkRange("link").setLink({href:g,target:y?"_blank":null}).run()},T=F=>{F.key==="Enter"&&(F.preventDefault(),_())};ed("edit-link",b,!1);const{resolvedClassNames:M,resolvedStyles:N}=rc({classNames:r,styles:o,props:n});return O.createElement(ri,{trapFocus:!0,shadow:"md",withinPortal:!0,opened:x,onClose:A,offset:-44,zIndex:1e4,...u},O.createElement(ri.Target,null,O.createElement(MO,{icon:l||yCt,...f,"aria-label":h.labels.linkControlLabel,title:h.labels.linkControlLabel,onClick:b,active:(I=h.editor)==null?void 0:I.isActive("link"),ref:t,classNames:M,styles:N,className:i,style:a})),O.createElement(ri.Dropdown,{...h.getStyles("linkEditorDropdown",m)},O.createElement("div",{...h.getStyles("linkEditor",m)},O.createElement(sn,{placeholder:h.labels.linkEditorInputPlaceholder,"aria-label":h.labels.linkEditorInputLabel,type:"url",value:g,onChange:S,classNames:{input:h.getStyles("linkEditorInput",m).className},onKeyDown:T,rightSection:O.createElement(oi,{label:y?h.labels.linkEditorExternalLink:h.labels.linkEditorInternalLink,events:{hover:!0,focus:!0,touch:!0},withinPortal:!0,withArrow:!0,disabled:c,zIndex:1e4},O.createElement(Hn,{onClick:()=>E(F=>!F),"data-active":y||void 0,...h.getStyles("linkEditorExternalControl",m)},O.createElement(uR,{style:{width:me(14),height:me(14)},stroke:1.5})))}),O.createElement(mt,{variant:"default",onClick:_,...h.getStyles("linkEditorSave",m)},h.labels.linkEditorSave))))});TO.classes=jm;TO.displayName="@mantine/tiptap/RichTextEditorLinkControl";const wCt={},yde=j.forwardRef((e,t)=>{const{popoverProps:n,colors:r,colorPickerProps:i,...a}=Fe("RichTextEditorColorPickerControl",wCt,e),{editor:o,labels:s,getStyles:l}=fc(),[u,{toggle:c,close:d}]=Ga(!1),[f,h]=j.useState("palette"),m=(o==null?void 0:o.getAttributes("textStyle").color)||"var(--mantine-color-text)",g=(E,x=!0)=>{(o==null?void 0:o.chain()).focus().setColor(E).run(),x&&d()},S=()=>{(o==null?void 0:o.chain()).focus().unsetColor().run(),d()},y=r.map((E,x)=>O.createElement(qf,{key:x,component:"button",color:E,onClick:()=>g(E),size:26,radius:"xs",style:{cursor:"pointer"},title:s.colorPickerColorLabel(E),"aria-label":s.colorPickerColorLabel(E)}));return O.createElement(ri,{opened:u,withinPortal:!0,trapFocus:!0,onClose:d,...n},O.createElement(ri.Target,null,O.createElement(dv,{...a,"aria-label":s.colorPickerControlLabel,title:s.colorPickerControlLabel,ref:t,onClick:c},O.createElement(qf,{color:m,size:14}))),O.createElement(ri.Dropdown,{...l("linkEditorDropdown")},f==="palette"&&O.createElement(fm,{cols:7,spacing:2},y),f==="colorPicker"&&O.createElement(p4,{defaultValue:m,onChange:E=>g(E,!1),...i}),O.createElement(oi.Group,{closeDelay:200},O.createElement(Ae,{justify:"flex-end",gap:"xs",mt:"sm"},f==="palette"&&O.createElement(bt,{variant:"default",onClick:d,title:s.colorPickerCancel,"aria-label":s.colorPickerCancel},O.createElement(I1,{stroke:1.5,size:"1rem"})),O.createElement(bt,{variant:"default",onClick:S,title:s.colorPickerClear,"aria-label":s.colorPickerClear},O.createElement(_re,{stroke:1.5,size:"1rem"})),f==="palette"?O.createElement(bt,{variant:"default",onClick:()=>h("colorPicker"),title:s.colorPickerColorPicker,"aria-label":s.colorPickerColorPicker},O.createElement(eIe,{stroke:1.5,size:"1rem"})):O.createElement(bt,{variant:"default",onClick:()=>h("palette"),"aria-label":s.colorPickerPalette,title:s.colorPickerPalette},O.createElement(Fre,{stroke:1.5,size:"1rem"})),f==="colorPicker"&&O.createElement(bt,{variant:"default",onClick:d,title:s.colorPickerSave,"aria-label":s.colorPickerSave},O.createElement(kre,{stroke:1.5,size:"1rem"}))))))});yde.displayName="@mantine/tiptap/ColorPickerControl";const xCt={},SCt=j.forwardRef((e,t)=>{const{color:n,...r}=Fe("RichTextEditorColorControl",xCt,e),{editor:i,labels:a}=fc(),o=(i==null?void 0:i.getAttributes("textStyle").color)||null,s=a.colorControlLabel(n);return O.createElement(dv,{...r,active:o===n,"aria-label":s,title:s,onClick:()=>(i==null?void 0:i.chain()).focus().setColor(n).run(),ref:t},O.createElement(qf,{color:n,size:14}))}),CCt={withCodeHighlightStyles:!0,withTypographyStyles:!0},Pt=Ge((e,t)=>{const n=Fe("RichTextEditor",CCt,e),{classNames:r,className:i,style:a,styles:o,unstyled:s,vars:l,editor:u,withCodeHighlightStyles:c,withTypographyStyles:d,labels:f,children:h,...m}=n,g=gt({name:"RichTextEditor",classes:jm,props:n,className:i,style:a,classNames:r,styles:o,unstyled:s,vars:l}),S=j.useMemo(()=>({...z5t,...f}),[f]);return O.createElement($5t,{value:{editor:u,getStyles:g,labels:S,withCodeHighlightStyles:c,withTypographyStyles:d,unstyled:s}},O.createElement(Z,{...g("root"),...m,ref:t},h))});Pt.classes=jm;Pt.displayName="@mantine/tiptap/RichTextEditor";Pt.Content=_O;Pt.Control=dv;Pt.Toolbar=kO;Pt.ControlsGroup=AO;Pt.Bold=W5t;Pt.Italic=G5t;Pt.Strikethrough=Y5t;Pt.Underline=K5t;Pt.ClearFormatting=J5t;Pt.H1=eCt;Pt.H2=tCt;Pt.H3=nCt;Pt.H4=rCt;Pt.H5=iCt;Pt.H6=aCt;Pt.BulletList=X5t;Pt.OrderedList=Z5t;Pt.Link=TO;Pt.Unlink=Q5t;Pt.Blockquote=oCt;Pt.AlignLeft=sCt;Pt.AlignRight=lCt;Pt.AlignCenter=uCt;Pt.AlignJustify=cCt;Pt.Superscript=fCt;Pt.Subscript=dCt;Pt.Code=hCt;Pt.CodeBlock=pCt;Pt.ColorPicker=yde;Pt.Color=SCt;Pt.Highlight=mCt;Pt.Hr=gCt;Pt.UnsetColor=vCt;const ECt=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,kCt=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,ACt=Mo.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[im({find:ECt,type:this.type})]},addPasteRules(){return[Kf({find:kCt,type:this.type})]}}),_Ct=/^\s*>\s$/,MCt=ts.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ub({find:_Ct,type:this.type})]}}),TCt=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,NCt=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,DCt=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,RCt=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,ICt=Mo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[im({find:TCt,type:this.type}),im({find:DCt,type:this.type})]},addPasteRules(){return[Kf({find:NCt,type:this.type}),Kf({find:RCt,type:this.type})]}}),OCt=ts.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",zr(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),EK=Mo.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=zE(e,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:t.unsetMark(this.name)}}}}),kK=/^\s*([-+*])\s$/,PCt=ts.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(OCt.name,this.editor.getAttributes(EK.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Ub({find:kK,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ub({find:kK,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(EK.name),editor:this.editor})),[e]}}),jCt=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,LCt=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,FCt=Mo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[im({find:jCt,type:this.type})]},addPasteRules(){return[Kf({find:LCt,type:this.type})]}}),BCt=/^```([a-z]+)?[\s\n]$/,zCt=/^~~~([a-z]+)?[\s\n]$/,$Ct=ts.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,a=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",zr(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const a=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!a||!o?!1:e.chain().command(({tr:s})=>(s.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:a}=n;if(!a||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const s=i.after();return s===void 0||r.nodeAt(s)?!1:e.commands.exitCode()}}},addInputRules(){return[$T({find:BCt,type:this.type,getAttributes:e=>({language:e[1]})}),$T({find:zCt,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new to({key:new Tl("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,a=i==null?void 0:i.mode;if(!n||!a)return!1;const{tr:o}=e.state;return o.replaceSelectionWith(this.type.create({language:a})),o.setSelection(pn.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.insertText(n.replace(/\r\n?/g,`
`)),o.setMeta("paste",!0),e.dispatch(o),!0}}})]}}),UCt=ts.create({name:"doc",topNode:!0,content:"block+"});function VCt(e={}){return new to({view(t){return new HCt(t,e)}})}class HCt{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let a=o=>{this[i](o)};return t.dom.addEventListener(i,a),{name:i,handler:a}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r;if(n){let s=t.nodeBefore,l=t.nodeAfter;if(s||l){let u=this.editorView.nodeDOM(this.cursorPos-(s?s.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=s?c.bottom:c.top;s&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let s=this.editorView.coordsAtPos(this.cursorPos);r={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let a,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")a=-pageXOffset,o=-pageYOffset;else{let s=i.getBoundingClientRect();a=s.left-i.scrollLeft,o=s.top-i.scrollTop}this.element.style.left=r.left-a+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,a=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!a){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let s=ioe(this.editorView.state.doc,o,this.editorView.dragging.slice);s!=null&&(o=s)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}const qCt=_o.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[VCt(this.options)]}});class ui extends xn{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return ui.valid(r)?new ui(r):xn.near(r)}content(){return yt.empty}eq(t){return t instanceof ui&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ui(t.resolve(n.pos))}getBookmark(){return new NO(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!WCt(t)||!GCt(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&ui.valid(t))return t;let i=t.pos,a=null;for(let o=t.depth;;o--){let s=t.node(o);if(n>0?t.indexAfter(o)<s.childCount:t.index(o)>0){a=s.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;i+=n;let l=t.doc.resolve(i);if(ui.valid(l))return l}for(;;){let o=n>0?a.firstChild:a.lastChild;if(!o){if(a.isAtom&&!a.isText&&!Ht.isSelectable(a)){t=t.doc.resolve(i+a.nodeSize*n),r=!1;continue e}break}a=o,i+=n;let s=t.doc.resolve(i);if(ui.valid(s))return s}return null}}}ui.prototype.visible=!1;ui.findFrom=ui.findGapCursorFrom;xn.jsonID("gapcursor",ui);class NO{constructor(t){this.pos=t}map(t){return new NO(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return ui.valid(n)?new ui(n):xn.near(n)}}function WCt(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function GCt(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function KCt(){return new to({props:{decorations:XCt,createSelectionBetween(e,t,n){return t.pos==n.pos&&ui.valid(n)?new ui(n):null},handleClick:JCt,handleKeyDown:YCt,handleDOMEvents:{beforeinput:QCt}}})}const YCt=qoe({ArrowLeft:v3("horiz",-1),ArrowRight:v3("horiz",1),ArrowUp:v3("vert",-1),ArrowDown:v3("vert",1)});function v3(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,a){let o=r.selection,s=t>0?o.$to:o.$from,l=o.empty;if(o instanceof pn){if(!a.endOfTextblock(n)||s.depth==0)return!1;l=!1,s=r.doc.resolve(t>0?s.after():s.before())}let u=ui.findGapCursorFrom(s,t,l);return u?(i&&i(r.tr.setSelection(new ui(u))),!0):!1}}function JCt(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!ui.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Ht.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new ui(r))),!0)}function QCt(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof ui))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=rt.empty;for(let o=r.length-1;o>=0;o--)i=rt.from(r[o].createAndFill(null,i));let a=e.state.tr.replace(n.pos,n.pos,new yt(i,0,0));return a.setSelection(pn.near(a.doc.resolve(n.pos+1))),e.dispatch(a),!1}function XCt(e){if(!(e.selection instanceof ui))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Ri.create(e.doc,[ys.widget(e.selection.head,t,{key:"gapcursor"})])}const ZCt=_o.create({name:"gapCursor",addProseMirrorPlugins(){return[KCt()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=bn(Mt(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}}),e4t=ts.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",zr(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:a}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:s}=r.extensionManager,l=a||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&o){const d=l.filter(f=>s.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),t4t=ts.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,zr(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>$T({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var gC=200,ea=function(){};ea.prototype.append=function(t){return t.length?(t=ea.from(t),!this.length&&t||t.length<gC&&this.leafAppend(t)||this.length<gC&&t.leafPrepend(this)||this.appendInner(t)):this};ea.prototype.prepend=function(t){return t.length?ea.from(t).append(this):this};ea.prototype.appendInner=function(t){return new n4t(this,t)};ea.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?ea.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};ea.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};ea.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};ea.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(a,o){return i.push(t(a,o))},n,r),i};ea.from=function(t){return t instanceof ea?t:t&&t.length?new bde(t):ea.empty};var bde=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new t(this.values.slice(i,a))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,a,o,s){for(var l=a;l<o;l++)if(i(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,a,o,s){for(var l=a-1;l>=o;l--)if(i(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=gC)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=gC)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(ea);ea.empty=new bde([]);var n4t=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,a,o){var s=this.left.length;if(i<s&&this.left.forEachInner(r,i,Math.min(a,s),o)===!1||a>s&&this.right.forEachInner(r,Math.max(i-s,0),Math.min(this.length,a)-s,o+s)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,a,o){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(r,i-s,Math.max(a,s)-s,o+s)===!1||a<s&&this.left.forEachInvertedInner(r,Math.min(i,s),a,o)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(r,i):r>=a?this.right.slice(r-a,i-a):this.left.slice(r,a).append(this.right.slice(0,i-a))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(ea);const r4t=500;class Yl{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,a;n&&(i=this.remapping(r,this.items.length),a=i.maps.length);let o=t.tr,s,l,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),a=i.maps.length),a--,c.push(d);return}if(i){c.push(new Iu(d.map));let h=d.step.map(i.slice(a)),m;h&&o.maybeStep(h).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],u.push(new Iu(m,void 0,void 0,u.length+c.length))),a--,m&&i.appendMap(m,a)}else o.maybeStep(d.step);if(d.selection)return s=i?d.selection.map(i.slice(a)):d.selection,l=new Yl(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:s}}addTransform(t,n,r,i){let a=[],o=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let c=0;c<t.steps.length;c++){let d=t.steps[c].invert(t.docs[c]),f=new Iu(t.mapping.maps[c],d,n),h;(h=l&&l.merge(f))&&(f=h,c?a.pop():s=s.slice(0,s.length-1)),a.push(f),n&&(o++,n=void 0),i||(l=f)}let u=o-r.depth;return u>a4t&&(s=i4t(s,u),o-=u),new Yl(s.append(a),o)}remapping(t,n){let r=new v0;return this.items.forEach((i,a)=>{let o=i.mirrorOffset!=null&&a-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new Yl(this.items.append(t.map(n=>new Iu(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),a=t.mapping,o=t.steps.length,s=this.eventCount;this.items.forEach(f=>{f.selection&&s--},i);let l=n;this.items.forEach(f=>{let h=a.getMirror(--l);if(h==null)return;o=Math.min(o,h);let m=a.maps[h];if(f.step){let g=t.steps[h].invert(t.docs[h]),S=f.selection&&f.selection.map(a.slice(l+1,h));S&&s++,r.push(new Iu(m,g,S))}else r.push(new Iu(m))},i);let u=[];for(let f=n;f<o;f++)u.push(new Iu(a.maps[f]));let c=this.items.slice(0,i).append(u).append(r),d=new Yl(c,s);return d.emptyItemCount()>r4t&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],a=0;return this.items.forEach((o,s)=>{if(s>=t)i.push(o),o.selection&&a++;else if(o.step){let l=o.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let c=o.selection&&o.selection.map(n.slice(r));c&&a++;let d=new Iu(u.invert(),l,c),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new Yl(ea.from(i.reverse()),a)}}Yl.empty=new Yl(ea.empty,0);function i4t(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class Iu{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Iu(n.getMap().invert(),n,this.selection)}}}class af{constructor(t,n,r,i,a){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=a}}const a4t=20;function o4t(e,t,n,r){let i=n.getMeta(Lf),a;if(i)return i.historyState;n.getMeta(l4t)&&(e=new af(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(Lf))return o.getMeta(Lf).redo?new af(e.done.addTransform(n,void 0,r,sS(t)),e.undone,AK(n.mapping.maps[n.steps.length-1]),e.prevTime,e.prevComposition):new af(e.done,e.undone.addTransform(n,void 0,r,sS(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let s=n.getMeta("composition"),l=e.prevTime==0||!o&&e.prevComposition!=s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!s4t(n,e.prevRanges)),u=o?Z6(e.prevRanges,n.mapping):AK(n.mapping.maps[n.steps.length-1]);return new af(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,sS(t)),Yl.empty,u,n.time,s??e.prevComposition)}else return(a=n.getMeta("rebased"))?new af(e.done.rebased(n,a),e.undone.rebased(n,a),Z6(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new af(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Z6(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function s4t(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let a=0;a<t.length;a+=2)r<=t[a+1]&&i>=t[a]&&(n=!0)}),n}function AK(e){let t=[];return e.forEach((n,r,i,a)=>t.push(i,a)),t}function Z6(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),a=t.map(e[r+1],-1);i<=a&&n.push(i,a)}return n}function wde(e,t,n,r){let i=sS(t),a=Lf.get(t).spec.config,o=(r?e.undone:e.done).popEvent(t,i);if(!o)return;let s=o.selection.resolve(o.transform.doc),l=(r?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),a,i),u=new af(r?l:o.remaining,r?o.remaining:l,null,0,-1);n(o.transform.setSelection(s).setMeta(Lf,{redo:r,historyState:u}).scrollIntoView())}let e_=!1,_K=null;function sS(e){let t=e.plugins;if(_K!=t){e_=!1,_K=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){e_=!0;break}}return e_}const Lf=new Tl("history"),l4t=new Tl("closeHistory");function u4t(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new to({key:Lf,state:{init(){return new af(Yl.empty,Yl.empty,null,0,-1)},apply(t,n,r){return o4t(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?xde:r=="historyRedo"?Sde:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}const xde=(e,t)=>{let n=Lf.getState(e);return!n||n.done.eventCount==0?!1:(t&&wde(n,e,t,!1),!0)},Sde=(e,t)=>{let n=Lf.getState(e);return!n||n.undone.eventCount==0?!1:(t&&wde(n,e,t,!0),!0)},c4t=_o.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>xde(e,t),redo:()=>({state:e,dispatch:t})=>Sde(e,t)}},addProseMirrorPlugins(){return[u4t(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),d4t=ts.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",zr(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{const{$to:n}=t.selection,r=e();return n.parentOffset===0?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:i,dispatch:a})=>{var o;if(a){const{$to:s}=i.selection,l=s.end();if(s.nodeAfter)s.nodeAfter.isTextblock?i.setSelection(pn.create(i.doc,s.pos+1)):s.nodeAfter.isBlock?i.setSelection(Ht.create(i.doc,s.pos)):i.setSelection(pn.create(i.doc,s.pos));else{const u=(o=s.parent.type.contentMatch.defaultType)===null||o===void 0?void 0:o.create();u&&(i.insert(l,u),i.setSelection(pn.create(i.doc,l+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[EJe({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),f4t=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,h4t=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,p4t=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,m4t=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,g4t=Mo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[im({find:f4t,type:this.type}),im({find:p4t,type:this.type})]},addPasteRules(){return[Kf({find:h4t,type:this.type}),Kf({find:m4t,type:this.type})]}}),v4t=ts.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",zr(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),y4t=ts.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",zr(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),MK=Mo.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=zE(e,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:t.unsetMark(this.name)}}}}),TK=/^(\d+)\.\s$/,b4t=ts.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",zr(this.options.HTMLAttributes,n),0]:["ol",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(y4t.name,this.editor.getAttributes(MK.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Ub({find:TK,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Ub({find:TK,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(MK.name)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),w4t=ts.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),x4t=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,S4t=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,C4t=Mo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){const e={};return uI()?e["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():e["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),e},addInputRules(){return[im({find:x4t,type:this.type})]},addPasteRules(){return[Kf({find:S4t,type:this.type})]}}),E4t=ts.create({name:"text",group:"inline"}),k4t=_o.create({name:"starterKit",addExtensions(){var e,t,n,r,i,a,o,s,l,u,c,d,f,h,m,g,S,y;const E=[];return this.options.blockquote!==!1&&E.push(MCt.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bold!==!1&&E.push(ICt.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.bulletList!==!1&&E.push(PCt.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&E.push(FCt.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&E.push($Ct.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&E.push(UCt.configure((a=this.options)===null||a===void 0?void 0:a.document)),this.options.dropcursor!==!1&&E.push(qCt.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&E.push(ZCt.configure((s=this.options)===null||s===void 0?void 0:s.gapcursor)),this.options.hardBreak!==!1&&E.push(e4t.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&E.push(t4t.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&E.push(c4t.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&E.push(d4t.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&E.push(g4t.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&E.push(v4t.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&E.push(b4t.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&E.push(w4t.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&E.push(C4t.configure((S=this.options)===null||S===void 0?void 0:S.strike)),this.options.text!==!1&&E.push(E4t.configure((y=this.options)===null||y===void 0?void 0:y.text)),E}}),A4t=Mo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),_4t=_o.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>e.style.textAlign||this.options.defaultAlignment,renderHTML:e=>e.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${e.textAlign}`}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.every(n=>t.updateAttributes(n,{textAlign:e})):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.every(t=>e.resetAttributes(t,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),M4t=Mo.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),T4t=Mo.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",zr(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}});function N4t(){var m;const{editor:e}=fc(),[t,n]=j.useState(),[r,i]=j.useState(""),[a,{open:o,close:s}]=Ga(!1),l=()=>{o();const g=e==null?void 0:e.getAttributes("link");i((g==null?void 0:g.href)||"")},u=()=>{s(),setTimeout(()=>{i("")},1e3)},c=g=>{u(),g===""?e==null||e.chain().focus().extendMarkRange("link").unsetLink().run():e==null||e.chain().focus().extendMarkRange("link").setLink({href:g,rel:"tag"}).run()};ed("edit-link",l,!1);function d(g,S){Of(g,y=>{const E=y.id,x=rQe(S??g,E);i(x),c(x)},{abilityBlockType:S,groupBySource:!0})}j.useEffect(()=>{(async()=>{const g=qb(r);if(!g)return;const S=kR(g.type),y=await Dn(S,g.id);y&&n(y)})()},[r]);const f=hu((m=qb(r))==null?void 0:m.type),h=(t==null?void 0:t.name)??"";return p.jsxs(je,{shadow:"md",position:"top",width:180,withinPortal:!0,withArrow:!0,opened:a,onClose:u,children:[p.jsx(je.Target,{children:p.jsx(Pt.Control,{onClick:l,active:e==null?void 0:e.isActive("link"),"aria-label":"Link Content",children:p.jsx(Ire,{size:"1.0rem",stroke:1.5})})}),p.jsx(je.Dropdown,{children:p.jsxs(Jn,{h:250,children:[f?p.jsxs(p.Fragment,{children:[p.jsxs(je.Label,{children:[p.jsxs(zt,{order:6,c:"gray.4",children:["Linked ",f]}),p.jsx(Z,{children:h})]}),p.jsx(je.Divider,{})]}):p.jsxs(p.Fragment,{children:[p.jsx(je.Label,{children:p.jsx(zt,{order:6,c:"gray.4",children:"Select a Category"})}),p.jsx(je.Divider,{})]}),p.jsx(je.Item,{onClick:()=>d("ability-block","action"),children:"Action"}),p.jsx(je.Item,{onClick:()=>d("ability-block","feat"),children:"Feat"}),p.jsx(je.Item,{onClick:()=>d("ability-block","physical-feature"),children:"Physical Feature"}),p.jsx(je.Item,{onClick:()=>d("ability-block","sense"),children:"Sense"}),p.jsx(je.Item,{onClick:()=>d("ability-block","class-feature"),children:"Class Feature"}),p.jsx(je.Item,{onClick:()=>d("ability-block","heritage"),children:"Heritage"}),p.jsx(je.Item,{onClick:()=>d("trait"),children:"Trait"}),p.jsx(je.Item,{onClick:()=>d("item"),children:"Item"}),p.jsx(je.Item,{onClick:()=>d("spell"),children:"Spell"}),p.jsx(je.Item,{onClick:()=>d("class"),children:"Class"}),p.jsx(je.Item,{onClick:()=>d("ancestry"),children:"Ancestry"}),p.jsx(je.Item,{onClick:()=>d("background"),children:"Background"}),p.jsx(je.Item,{onClick:()=>d("language"),children:"Language"})]})})]})}const D4t=ts.create({name:"actionSymbol",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},addAttributes(){return{cost:{default:null}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:'abbr[class="action-symbol"]'}]},renderHTML({HTMLAttributes:e}){const t=n=>{switch(n){case"ONE-ACTION":return"1";case"TWO-ACTIONS":return"2";case"THREE-ACTIONS":return"3";case"FREE-ACTION":return"4";case"REACTION":return"5";default:return"1"}};return["abbr",zr(this.options.HTMLAttributes,e,{class:"action-symbol"}),t(e.cost)]},addCommands(){return{setActionSymbol:e=>({commands:t,chain:n,state:r,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:a,storedMarks:o}=r;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=i.extensionManager,u=o||a.$to.parentOffset&&a.$from.marks();return n().insertContent({type:this.name,attrs:{cost:e}}).command(({tr:c,dispatch:d})=>{if(d&&u&&s){const f=u.filter(h=>l.includes(h.type.name));c.ensureMarks(f)}return!0}).run()})])}}});function R4t(){const{editor:e}=fc(),[t,{open:n,close:r}]=Ga(!1),i=()=>{n()},a=()=>{r()},o=s=>{a(),e==null||e.commands.setActionSymbol(s)};return ed("edit-actionSymbol",i,!1),p.jsxs(je,{shadow:"md",position:"top",width:65,withinPortal:!0,withArrow:!0,opened:t,onClose:a,children:[p.jsx(je.Target,{children:p.jsx(Pt.Control,{onClick:i,active:e==null?void 0:e.isActive("actionSymbol"),"aria-label":"Link Content",children:p.jsx(ei,{cost:"ONE-ACTION",size:"20px"})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Item,{onClick:()=>o("ONE-ACTION"),children:p.jsx(Z,{py:5,children:p.jsx(ei,{cost:"ONE-ACTION"})})}),p.jsx(je.Item,{onClick:()=>o("TWO-ACTIONS"),children:p.jsx(Z,{py:5,children:p.jsx(ei,{cost:"TWO-ACTIONS"})})}),p.jsx(je.Item,{onClick:()=>o("THREE-ACTIONS"),children:p.jsx(Z,{py:5,children:p.jsx(ei,{cost:"THREE-ACTIONS"})})}),p.jsx(je.Item,{onClick:()=>o("FREE-ACTION"),children:p.jsx(Z,{py:5,children:p.jsx(ei,{cost:"FREE-ACTION"})})}),p.jsx(je.Item,{onClick:()=>o("REACTION"),children:p.jsx(Z,{py:5,children:p.jsx(ei,{cost:"REACTION"})})})]})]})}const I4t=_o.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new to({key:new Tl("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const a=e.type.createAndFill(),o=(a==null?void 0:a.sameMarkup(e))&&a.content.findDiffStart(e.content)===null;return e.descendants((s,l)=>{const u=r>=l&&r<=l+s.nodeSize,c=!s.isLeaf&&!s.childCount;if((u||!this.options.showOnlyCurrent)&&c){const d=[this.options.emptyNodeClass];o&&d.push(this.options.emptyEditorClass);const f=ys.node(l,l+s.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:l,hasAnchor:u}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),Ri.create(e,i)}}})]}});function ud(e){const t=ht(),n=Ct(an),r=YJe({extensions:[k4t,A4t,ZJe(n),D4t,M4t,T4t,ACt,_4t.configure({types:["heading","paragraph"]}),I4t.configure({placeholder:e.placeholder})],content:e.value??"",onUpdate({editor:i}){e.onChange&&e.onChange(ba(i.getHTML())??"",i.getJSON())}});return p.jsxs(Z,{children:[e.label&&p.jsxs(pe,{fz:"sm",c:"gray.4",fw:500,children:[e.label," ",e.required&&p.jsx(pe,{fz:"sm",fw:500,c:"red",span:!0,children:"*"})]}),p.jsxs(Pt,{editor:r,fz:"sm",styles:{toolbar:{backgroundColor:t.colors.dark[7]},content:{backgroundColor:t.colors.dark[6],borderTopLeftRadius:0,borderTopRightRadius:0}},children:[p.jsxs(Pt.Toolbar,{style:{gap:8},children:[p.jsx(Pt.ControlsGroup,{children:p.jsx(R4t,{})}),p.jsxs(Pt.ControlsGroup,{children:[p.jsx(N4t,{}),p.jsx(Pt.Unlink,{})]}),p.jsxs(Pt.ControlsGroup,{children:[p.jsx(Pt.Bold,{}),p.jsx(Pt.Italic,{}),p.jsx(Pt.Underline,{})]}),p.jsxs(Pt.ControlsGroup,{children:[p.jsx(Pt.Blockquote,{}),p.jsx(Pt.Hr,{}),p.jsx(Pt.BulletList,{}),p.jsx(Pt.OrderedList,{})]}),p.jsxs(Pt.ControlsGroup,{children:[p.jsx(Pt.H2,{}),p.jsx(Pt.H3,{}),p.jsx(Pt.H4,{})]})]}),p.jsx(Pt.Content,{})]})]})}function mk(){const[e,t]=j.useState(!0);return[e,()=>{t(!1),setTimeout(()=>{t(!0)},10)}]}function O4t(e){const[t,n]=j.useState(e.data.optionType),[r,i]=j.useState(e.data.title),[a,o]=j.useState(e.data.modeType),[s,l]=j.useState(e.data.optionsFilters),[u,c]=j.useState(e.data.optionsPredefined);return $n(()=>{e.onChange({title:r,modeType:a,optionType:t??"ABILITY_BLOCK",optionsPredefined:u,optionsFilters:s})},[r,a,t,s,u]),$n(()=>{n(e.data.optionType),i(e.data.title),o(e.data.modeType),l(e.data.optionsFilters),c(e.data.optionsPredefined)},[e.data]),p.jsx(rs,{onRemove:e.onRemove,title:"Selection",children:p.jsxs(it,{w:"100%",children:[p.jsx(Gr,{placeholder:"Type",size:"xs",w:130,data:[{label:"Ability Block",value:"ABILITY_BLOCK"},{label:"Spell",value:"SPELL"},{label:"Adjust Value",value:"ADJ_VALUE"},{label:"Language",value:"LANGUAGE"},{label:"Custom",value:"CUSTOM"}],value:t,onChange:d=>n(d)}),p.jsxs(it,{gap:10,children:[p.jsx(Z,{children:p.jsx(sn,{label:"Selection Title",placeholder:'"Select an Option"',value:r,size:"xs",onChange:d=>i(d.target.value)})}),p.jsx(Z,{children:p.jsx(Lt,{label:p.jsx(p.Fragment,{children:["ABILITY_BLOCK","SPELL","LANGUAGE","ADJ_VALUE"].includes(t??"")&&p.jsx(Ss,{size:"xs",value:a,onChange:d=>o(d),data:[{label:"Predefined",value:"PREDEFINED"},{label:"Filtered",value:"FILTERED"}]})}),labelPosition:"left"})}),p.jsxs(Z,{py:"sm",children:[a==="PREDEFINED"&&p.jsx(z4t,{optionType:t,options:u,onChange:d=>c(d)}),a==="FILTERED"&&p.jsx(P4t,{optionType:t,filters:s,onChange:d=>l(d)})]})]})]})})}function P4t(e){return e.optionType==="ABILITY_BLOCK"?p.jsx(j4t,{optionType:e.optionType,filters:e.filters,onChange:e.onChange}):e.optionType==="SPELL"?p.jsx(L4t,{optionType:e.optionType,filters:e.filters,onChange:e.onChange}):e.optionType==="LANGUAGE"?p.jsx(F4t,{optionType:e.optionType,filters:e.filters,onChange:e.onChange}):e.optionType==="ADJ_VALUE"?p.jsx(B4t,{optionType:e.optionType,filters:e.filters,onChange:e.onChange}):null}function j4t(e){var u,c,d,f;const[t,n]=j.useState((u=e.filters)==null?void 0:u.abilityBlockType),[r,i]=j.useState(((c=e.filters)==null?void 0:c.level.min)??void 0),[a,o]=j.useState(((d=e.filters)==null?void 0:d.level.max)??void 0),[s,l]=j.useState(((f=e.filters)==null?void 0:f.traits)??[]);return $n(()=>{var h;e.onChange({id:((h=e.filters)==null?void 0:h.id)??crypto.randomUUID(),type:"ABILITY_BLOCK",level:{min:r,max:a},traits:s,abilityBlockType:t})},[r,a,s,t]),p.jsxs(it,{gap:10,children:[p.jsx(Gr,{data:[{label:"Action",value:"action"},{label:"Feat",value:"feat"},{label:"Physical Feature",value:"physical-feature"},{label:"Sense",value:"sense"},{label:"Class Feature",value:"class-feature"},{label:"Heritage",value:"heritage"}],value:t,onChange:h=>n(h||void 0)}),p.jsxs(Z,{children:[p.jsx(pe,{c:"gray.4",fz:"xs",children:"Levels"}),p.jsxs(Ae,{children:[p.jsx(Ms,{placeholder:"Min",value:r,onChange:h=>i(parseInt(`${h}`)),size:"xs",min:-1,max:20}),"-",p.jsx(Ms,{placeholder:"Max",value:a,onChange:h=>o(parseInt(`${h}`)),size:"xs",min:-1,max:20})]})]}),p.jsx(rd,{label:"Has Traits",placeholder:"Enter trait",size:"xs",splitChars:[",",";","|"],data:[],value:s,onChange:l})]})}function L4t(e){var u,c,d,f;const[t,n]=j.useState(((u=e.filters)==null?void 0:u.level.min)??void 0),[r,i]=j.useState(((c=e.filters)==null?void 0:c.level.max)??void 0),[a,o]=j.useState(((d=e.filters)==null?void 0:d.traits)??[]),[s,l]=j.useState(((f=e.filters)==null?void 0:f.traditions)??[]);return $n(()=>{var h;e.onChange({id:((h=e.filters)==null?void 0:h.id)??crypto.randomUUID(),type:"SPELL",level:{min:t,max:r},traits:a,traditions:s})},[t,r,a,s]),p.jsxs(it,{gap:10,children:[p.jsxs(Z,{children:[p.jsx(pe,{c:"gray.4",fz:"xs",children:"Levels"}),p.jsxs(Ae,{children:[p.jsx(Ms,{placeholder:"Min",value:t,onChange:h=>n(parseInt(`${h}`)),size:"xs",min:-1,max:20}),"-",p.jsx(Ms,{placeholder:"Max",value:r,onChange:h=>i(parseInt(`${h}`)),size:"xs",min:-1,max:20})]})]}),p.jsx(rd,{label:"Has Traits",placeholder:"Enter trait",size:"xs",splitChars:[",",";","|"],data:[],value:a,onChange:o}),p.jsx(rd,{label:"Has Traditions",placeholder:"Enter tradition",size:"xs",splitChars:[",",";","|"],data:["Arcane","Divine","Occult","Primal"],value:s,onChange:l})]})}function F4t(e){var a,o;const[t,n]=j.useState(((a=e.filters)==null?void 0:a.rarity)??void 0),[r,i]=j.useState(((o=e.filters)==null?void 0:o.core)??void 0);return $n(()=>{var s;e.onChange({id:((s=e.filters)==null?void 0:s.id)??crypto.randomUUID(),type:"LANGUAGE",rarity:t,core:r})},[t,r]),p.jsxs(it,{gap:10,children:[p.jsx(Z,{children:p.jsx(Gr,{label:"Rarity",placeholder:"Select rarity",data:[{label:"Common",value:"COMMON"},{label:"Uncommon",value:"UNCOMMON"},{label:"Rare",value:"RARE"},{label:"Unique",value:"UNIQUE"}],value:t,onChange:s=>{n(s===null?void 0:s)},size:"xs"})}),p.jsx(Z,{children:p.jsx(Ss,{size:"xs",value:r===void 0?"ANY":r?"CORE":"NON-CORE",onChange:s=>{i(s==="ANY"?void 0:s==="CORE")},data:[{label:"Any",value:"ANY"},{label:"Core Only",value:"CORE"},{label:"Non-Core Only",value:"NON-CORE"}]})})]})}function B4t(e){var a,o;const[t,n]=j.useState(((a=e.filters)==null?void 0:a.group)??void 0),[r,i]=j.useState(((o=e.filters)==null?void 0:o.value)??void 0);return $n(()=>{var s;e.onChange({id:((s=e.filters)==null?void 0:s.id)??crypto.randomUUID(),type:"ADJ_VALUE",group:t??"SKILL",value:r??""})},[t,r]),p.jsxs(it,{gap:10,children:[p.jsx(Z,{children:p.jsx(Ss,{size:"xs",value:t,onChange:s=>{n(s)},data:[{label:"Skill",value:"SKILL"},{label:"Add Lore",value:"ADD-LORE"},{label:"Attribute",value:"ATTRIBUTE"}]})}),p.jsx(Z,{children:t&&p.jsx(EO,{variableType:t==="ATTRIBUTE"?"attr":"prof",value:r??"",onChange:s=>{i(s)},options:{profExtended:!0}})})]})}function z4t(e){return e.optionType==="ABILITY_BLOCK"?p.jsx($4t,{optionType:e.optionType,options:e.options,onChange:e.onChange,type:"feat"}):e.optionType==="SPELL"?p.jsx(U4t,{optionType:e.optionType,options:e.options,onChange:e.onChange}):e.optionType==="LANGUAGE"?p.jsx(V4t,{optionType:e.optionType,options:e.options,onChange:e.onChange}):e.optionType==="ADJ_VALUE"?p.jsx(H4t,{optionType:e.optionType,options:e.options,onChange:e.onChange}):e.optionType==="CUSTOM"?p.jsx(q4t,{optionType:e.optionType,options:e.options,onChange:e.onChange}):null}function $4t(e){const[t,n]=j.useState(e.options??[]);$n(()=>{e.onChange(t)},[t]);const r=t.length===0?[{id:crypto.randomUUID(),type:"ABILITY_BLOCK",operation:ad("giveAbilityBlock")}]:t;return p.jsx(it,{gap:10,children:r.map((i,a)=>p.jsxs(Ae,{wrap:"nowrap",style:{position:"relative"},children:[p.jsx(Va,{type:"ability-block",onClick:o=>{n(s=>{const l=[...s].filter(u=>u.id!==i.id);return l.push({id:i.id,type:"ABILITY_BLOCK",operation:{...i.operation,data:{...i.operation.data,abilityBlockId:o.id}}}),l})},selectedId:i.operation.data.abilityBlockId,options:{abilityBlockType:e.type}}),r[r.length-1].id===i.id&&a!==0&&p.jsx(oi,{label:"Remove Option",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(bt,{style:{position:"absolute",top:-5,left:-40},size:"sm",variant:"subtle",color:"gray",onClick:()=>{n(o=>[...o].filter(l=>l.id!==i.id))},children:p.jsx(D1,{size:"0.9rem"})})}),r[r.length-1].id===i.id&&p.jsx(oi,{label:"Add Option",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(bt,{style:{position:"absolute",top:18,left:-40},size:"sm",variant:"subtle",color:"gray",onClick:()=>{n(o=>{const s=[...r];return s.push({id:crypto.randomUUID(),type:"ABILITY_BLOCK",operation:ad("giveAbilityBlock")}),s})},children:p.jsx(R1,{size:"0.9rem"})})})]},a))})}function U4t(e){const[t,n]=j.useState(e.options??[]);$n(()=>{e.onChange(t)},[t]);const r=t.length===0?[{id:crypto.randomUUID(),type:"SPELL",operation:ad("giveSpell")}]:t;return p.jsx(it,{gap:10,children:r.map((i,a)=>p.jsxs(Ae,{wrap:"nowrap",style:{position:"relative"},children:[p.jsx(Va,{type:"spell",onClick:o=>{n(s=>{const l=[...s].filter(u=>u.id!==i.id);return l.push({id:i.id,type:"SPELL",operation:{...i.operation,data:{...i.operation.data,spellId:o.id}}}),l})},selectedId:i.operation.data.spellId}),r[r.length-1].id===i.id&&a!==0&&p.jsx(oi,{label:"Remove Option",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(bt,{style:{position:"absolute",top:-5,left:-40},size:"sm",variant:"subtle",color:"gray",onClick:()=>{n(o=>[...o].filter(l=>l.id!==i.id))},children:p.jsx(D1,{size:"0.9rem"})})}),r[r.length-1].id===i.id&&p.jsx(oi,{label:"Add Option",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(bt,{style:{position:"absolute",top:18,left:-40},size:"sm",variant:"subtle",color:"gray",onClick:()=>{n(o=>{const s=[...r];return s.push({id:crypto.randomUUID(),type:"SPELL",operation:ad("giveSpell")}),s})},children:p.jsx(R1,{size:"0.9rem"})})})]},a))})}function V4t(e){const[t,n]=j.useState(e.options??[]);$n(()=>{e.onChange(t)},[t]);const r=t.length===0?[{id:crypto.randomUUID(),type:"LANGUAGE",operation:ad("giveLanguage")}]:t;return p.jsx(it,{gap:10,children:r.map((i,a)=>p.jsxs(Ae,{wrap:"nowrap",style:{position:"relative"},children:[p.jsx(Va,{type:"language",onClick:o=>{n(s=>{const l=[...s].filter(u=>u.id!==i.id);return l.push({id:i.id,type:"LANGUAGE",operation:{...i.operation,data:{...i.operation.data,languageId:o.id}}}),l})},selectedId:i.operation.data.languageId}),r[r.length-1].id===i.id&&a!==0&&p.jsx(oi,{label:"Remove Option",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(bt,{style:{position:"absolute",top:-5,left:-40},size:"sm",variant:"subtle",color:"gray",onClick:()=>{n(o=>[...o].filter(l=>l.id!==i.id))},children:p.jsx(D1,{size:"0.9rem"})})}),r[r.length-1].id===i.id&&p.jsx(oi,{label:"Add Option",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(bt,{style:{position:"absolute",top:18,left:-40},size:"sm",variant:"subtle",color:"gray",onClick:()=>{n(o=>{const s=[...r];return s.push({id:crypto.randomUUID(),type:"LANGUAGE",operation:ad("giveLanguage")}),s})},children:p.jsx(R1,{size:"0.9rem"})})})]},a))})}function H4t(e){var l;const[t,n]=j.useState((e.options??[]).length>0?((l=Tt(e.options[0].operation.data.variable))==null?void 0:l.type)??"prof":"prof"),[r,i]=j.useState(e.options??[]),[a,o]=j.useState((e.options??[]).length>0?e.options[0].operation.data.value:void 0);$n(()=>{e.onChange(r)},[r]);const s=r.length===0?[{id:crypto.randomUUID(),type:"ADJ_VALUE",operation:ad("adjValue")}]:r;return p.jsxs(it,{gap:10,children:[p.jsxs(Ae,{children:[p.jsx(Gr,{size:"xs",placeholder:"Value Type",data:[{label:"String",value:"str"},{label:"Number",value:"num"},{label:"Boolean",value:"bool"},{label:"Proficiency",value:"prof"},{label:"Attribute",value:"attr"},{label:"List",value:"list-str"}],value:t,onChange:u=>{u===null&&n("prof"),n(u),i([]),o(void 0)}}),p.jsx(EO,{variableType:t,value:a??"",onChange:u=>{o(u)}})]}),s.map((u,c)=>p.jsxs(Ae,{wrap:"nowrap",style:{position:"relative"},children:[p.jsx(cv,{value:u.operation.data.variable,onChange:(d,f)=>{i(h=>{const m=[...h].filter(g=>g.id!==u.id);return m.push({id:u.id,type:"ADJ_VALUE",operation:{...u.operation,data:{...u.operation.data,variable:d,value:a===void 0?0:a}}}),m})},variableType:t}),s[s.length-1].id===u.id&&c!==0&&p.jsx(oi,{label:"Remove Option",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(bt,{style:{position:"absolute",top:-5,left:-40},size:"sm",variant:"subtle",color:"gray",onClick:()=>{i(d=>[...d].filter(h=>h.id!==u.id))},children:p.jsx(D1,{size:"0.9rem"})})}),s[s.length-1].id===u.id&&p.jsx(oi,{label:"Add Option",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(bt,{style:{position:"absolute",top:18,left:-40},size:"sm",variant:"subtle",color:"gray",onClick:()=>{i(d=>{const f=[...s];return f.push({id:crypto.randomUUID(),type:"ADJ_VALUE",operation:ad("adjValue")}),f})},children:p.jsx(R1,{size:"0.9rem"})})})]},c))]})}function q4t(e){const[t,n]=j.useState(e.options??[]);$n(()=>{e.onChange(t)},[t]);const r=t.length===0?[{id:crypto.randomUUID(),type:"CUSTOM",title:"",description:"",operations:[]}]:t;return p.jsx(it,{gap:10,children:r.map((i,a)=>p.jsxs(Ae,{wrap:"nowrap",style:{position:"relative"},children:[p.jsx(W4t,{option:i,onChange:o=>{n(s=>s.map(l=>l.id===o.id?o:l))}}),r[r.length-1].id===i.id&&a!==0&&p.jsx(oi,{label:"Remove Option",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(bt,{style:{position:"absolute",top:-5,left:-40},size:"sm",variant:"subtle",color:"gray",onClick:()=>{n(o=>[...o].filter(l=>l.id!==i.id))},children:p.jsx(D1,{size:"0.9rem"})})}),r[r.length-1].id===i.id&&p.jsx(oi,{label:"Add Option",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(bt,{style:{position:"absolute",top:18,left:-40},size:"sm",variant:"subtle",color:"gray",onClick:()=>{n(o=>{const s=[...r];return s.push({id:crypto.randomUUID(),type:"CUSTOM",title:"",description:"",operations:[]}),s})},children:p.jsx(R1,{size:"0.9rem"})})})]},a))})}function W4t(e){const[t,n]=mk(),[r,{toggle:i}]=Ga(!1),[a,o]=j.useState(),s=ht();return p.jsxs(it,{children:[p.jsx(sn,{label:"Name",required:!0,value:e.option.title,onChange:l=>{e.onChange({...e.option,title:l.target.value})}}),t&&p.jsx(ud,{label:"Description",required:!0,value:a??Wf(e.option.description),onChange:(l,u)=>{o(u),e.onChange({...e.option,description:l})}}),p.jsx(Lt,{my:"xs",label:p.jsxs(Ae,{gap:3,wrap:"nowrap",children:[p.jsx(mt,{variant:r?"light":"subtle",size:"compact-sm",color:"gray.6",children:"Operations"}),e.option.operations&&e.option.operations.length>0&&p.jsx(ft,{variant:"light",color:s.primaryColor,size:"xs",children:e.option.operations.length})]}),labelPosition:"left",onClick:i}),p.jsx(xl,{in:r,children:p.jsxs(it,{gap:10,children:[p.jsx(nh,{title:p.jsxs(at,{openDelay:250,width:260,shadow:"md",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(Br,{target:"_blank",underline:"hover",fz:"sm",fs:"italic",children:"How to Use Operations"})}),p.jsxs(at.Dropdown,{children:[p.jsx(pe,{size:"sm",children:"Operations are used to make changes to a character. They can give feats, spells, and more, as well as change stats, skills, and other values."}),p.jsx(pe,{size:"sm",children:"Use conditionals to apply operations only when certain conditions are met and selections whenever a choice needs to be made."}),p.jsxs(pe,{size:"xs",fs:"italic",children:["For more help, see"," ",p.jsx(Br,{href:"https://discord.gg/kxCpa6G",target:"_blank",underline:"hover",children:"our Discord server"}),"."]})]})]}),value:e.option.operations,onChange:l=>{e.onChange({...e.option,operations:l})}}),p.jsx(Lt,{})]})})]})}function G4t(e){return p.jsx(rs,{onRemove:e.onRemove,title:"Give Language",children:p.jsx(Va,{type:"language",onClick:t=>{e.onSelect(t)},selectedId:e.selectedId})})}function K4t(e){return p.jsx(rs,{onRemove:e.onRemove,title:"Give Sense",children:p.jsx(Va,{type:"ability-block",onClick:t=>{e.onSelect(t)},selectedId:e.selectedId,options:{abilityBlockType:"sense"}})})}function Y4t(e){return p.jsx(rs,{onRemove:e.onRemove,title:"Give Physical Feature",children:p.jsx(Va,{type:"ability-block",onClick:t=>{e.onSelect(t)},selectedId:e.selectedId,options:{abilityBlockType:"physical-feature"}})})}function J4t(e){return p.jsx(rs,{onRemove:e.onRemove,title:"Give Heritage",children:p.jsx(Va,{type:"ability-block",onClick:t=>{e.onSelect(t)},selectedId:e.selectedId,options:{abilityBlockType:"heritage"}})})}function Q4t(e){const[t,n]=j.useState(e.variable),[r,i]=j.useState(Tt(e.variable)??void 0),[a,o]=j.useState(e.bonusValue),[s,l]=j.useState(e.bonusType),[u,c]=j.useState(e.text);return $n(()=>{n(e.variable),i(Tt(e.variable)??void 0),o(e.bonusValue),l(e.bonusType),c(e.text)},[e.variable,e.bonusValue,e.bonusType,e.text]),p.jsx(rs,{onRemove:e.onRemove,title:"Add Bonus to Value",children:p.jsxs(it,{children:[p.jsx(cv,{value:t,onChange:(d,f)=>{n(d),i(f),e.onSelect(d),o(void 0),l(void 0),c("")}}),r&&p.jsx(X4t,{bonusValue:a,bonusType:s,text:u,onChange:d=>{o(d.bonusValue),l(d.bonusType),c(d.text),e.onValueChange(d)}})]})})}function X4t(e){return p.jsxs(it,{children:[p.jsxs(Ae,{wrap:"nowrap",children:[p.jsx(Ms,{size:"xs",prefix:(e.bonusValue??-1)>=0?"+":void 0,placeholder:"Bonus Amount",value:e.bonusValue,onChange:t=>e.onChange({...e,bonusValue:parseInt(`${t}`)}),allowDecimal:!1}),p.jsx(sn,{size:"xs",placeholder:"Bonus Type",value:e.bonusType,onChange:t=>e.onChange({...e,bonusType:t.target.value})})]}),p.jsx(yi,{size:"xs",placeholder:"Conditional Text",value:e.text,onChange:t=>e.onChange({...e,text:t.target.value}),autosize:!0})]})}function rs(e){const t=ht(),n=()=>vh.openConfirmModal({title:p.jsx(zt,{order:4,children:"Remove Operation"}),children:p.jsx(pe,{size:"sm",children:"Are you sure you want to remove this operation?"}),labels:{confirm:"Confirm",cancel:"Cancel"},onCancel:()=>{},onConfirm:()=>e.onRemove()});return p.jsx(x2,{w:"min(700px, 100%)",children:p.jsxs(Ha,{py:"xs",pl:"xs",pr:40,radius:"xl",style:{position:"relative"},children:[p.jsxs(Ae,{wrap:"nowrap",align:"flex-start",children:[p.jsx(Ae,{align:"flex-start",children:p.jsx(ft,{variant:"dot",size:"lg",styles:{root:{"--badge-dot-size":0,textTransform:"initial"}},style:{borderRadius:0,borderTopLeftRadius:t.radius.xl,borderBottomLeftRadius:t.radius.xl,borderTopRightRadius:11,borderBottomRightRadius:11},children:e.title})}),e.children]}),p.jsx(Z,{style:{position:"absolute",top:12,right:12,zIndex:100},children:p.jsx(oi,{label:"Remove Operation",position:"right",withArrow:!0,withinPortal:!0,children:p.jsx(hh,{size:"sm",radius:"xl",onClick:()=>{n()}})})})]})})}function nh(e){const[t,n]=j.useState(e.value??[]),r=j.useRef(null);return $n(()=>{n(e.value??[]),_se();for(let i of e.value??[])i.type==="createValue"&&$5(i.data.type,i.data.variable,i.data.value)},[e.value]),$n(()=>{e.onChange(t)},[t]),p.jsxs(it,{gap:10,children:[p.jsxs(Ae,{justify:"space-between",children:[p.jsx(Z,{children:e.title}),p.jsx(Gr,{ref:r,variant:"filled",size:"xs",placeholder:"Add Operation",data:[{value:"select",label:"Selection"},{value:"conditional",label:"Conditional"},{value:"giveAbilityBlock:::feat",label:"Give Feat"},{value:"giveAbilityBlock:::class-feature",label:"Give Class Feature"},{value:"giveAbilityBlock:::sense",label:"Give Sense"},{value:"giveAbilityBlock:::physical-feature",label:"Give Physical Feature"},{value:"giveAbilityBlock:::heritage",label:"Give Heritage"},{value:"giveSpell",label:"Give Spell"},{value:"giveLanguage",label:"Give Language"},{value:"giveSelectOption",label:"Give Select Option"},{value:"adjValue",label:"Adjust Value"},{value:"addBonusToValue",label:"Add Bonus to Value"},{value:"createValue",label:"Create Value"},{value:"setValue",label:"Override Value"},{value:"RESO",label:"RESO"}].filter(i=>!(e.blacklist??[]).includes(i.value)),searchValue:"",value:null,onChange:i=>{var a;if(i){let o=null;i.includes("giveAbilityBlock:::")&&(o=i.split(":::")[1],i="giveAbilityBlock");const s=ad(i);s&&(o&&(s.data.type=o),n(l=>[...l,s]),(a=r.current)==null||a.blur())}}})]}),p.jsxs(it,{gap:10,children:[t.map((i,a)=>p.jsx(Z4t,{operation:i,onChange:o=>{const s=Ze.cloneDeep(i);s.data=o.data,n(l=>l.map(u=>u.id===i.id?s:u))},onRemove:o=>{n(s=>s.filter(l=>l.id!==o))}},a)),t.length===0&&p.jsx(pe,{size:"sm",c:"gray.7",ta:"center",fs:"italic",children:"No operations"})]})]})}function Z4t(e){switch(e.operation.type){case"giveAbilityBlock":let t=e.operation;switch(t.data.type){case"feat":return p.jsx(P5t,{selectedId:t.data.abilityBlockId,onSelect:c=>{t.data.abilityBlockId=c.id,e.onChange(Ze.cloneDeep(t))},onRemove:()=>e.onRemove(e.operation.id)});case"action":return p.jsx(I5t,{selectedId:t.data.abilityBlockId,onSelect:c=>{t.data.abilityBlockId=c.id,e.onChange(Ze.cloneDeep(t))},onRemove:()=>e.onRemove(e.operation.id)});case"class-feature":return p.jsx(O5t,{selectedId:t.data.abilityBlockId,onSelect:c=>{t.data.abilityBlockId=c.id,e.onChange(Ze.cloneDeep(t))},onRemove:()=>e.onRemove(e.operation.id)});case"sense":return p.jsx(K4t,{selectedId:t.data.abilityBlockId,onSelect:c=>{t.data.abilityBlockId=c.id,e.onChange(Ze.cloneDeep(t))},onRemove:()=>e.onRemove(e.operation.id)});case"physical-feature":return p.jsx(Y4t,{selectedId:t.data.abilityBlockId,onSelect:c=>{t.data.abilityBlockId=c.id,e.onChange(Ze.cloneDeep(t))},onRemove:()=>e.onRemove(e.operation.id)});case"heritage":return p.jsx(J4t,{selectedId:t.data.abilityBlockId,onSelect:c=>{t.data.abilityBlockId=c.id,e.onChange(Ze.cloneDeep(t))},onRemove:()=>e.onRemove(e.operation.id)});default:return null}case"giveSpell":let n=e.operation;return p.jsx(j5t,{selectedId:n.data.spellId,onSelect:c=>{n.data.spellId=c.id,e.onChange(Ze.cloneDeep(n))},onRemove:()=>e.onRemove(e.operation.id)});case"giveLanguage":let r=e.operation;return p.jsx(G4t,{selectedId:r.data.languageId,onSelect:c=>{r.data.languageId=c.id,e.onChange(Ze.cloneDeep(r))},onRemove:()=>e.onRemove(e.operation.id)});case"conditional":let i=e.operation;return p.jsx(N5t,{conditions:i.data.conditions,trueOperations:i.data.trueOperations,falseOperations:i.data.falseOperations,onChange:(c,d,f)=>{i.data.conditions=c,i.data.trueOperations=d,i.data.falseOperations=f,e.onChange(Ze.cloneDeep(i))},onRemove:()=>e.onRemove(e.operation.id)});case"select":let a=e.operation;return p.jsx(O4t,{data:a.data,onChange:c=>{a.data=c,e.onChange(Ze.cloneDeep(a))},onRemove:()=>e.onRemove(e.operation.id)});case"adjValue":let o=e.operation;return p.jsx(L5t,{variable:o.data.variable,value:o.data.value,onSelect:c=>{o.data.variable=c,e.onChange(Ze.cloneDeep(o))},onValueChange:c=>{o.data.value=c,e.onChange(Ze.cloneDeep(o))},onRemove:()=>e.onRemove(e.operation.id)});case"setValue":let s=e.operation;return p.jsx(F5t,{variable:s.data.variable,value:s.data.value,onSelect:c=>{s.data.variable=c,e.onChange(Ze.cloneDeep(s))},onValueChange:c=>{s.data.value=c,e.onChange(Ze.cloneDeep(s))},onRemove:()=>e.onRemove(e.operation.id)});case"createValue":let l=e.operation;return p.jsx(B5t,{variable:l.data.variable,onNameChange:c=>{l.data.variable=c,e.onChange(Ze.cloneDeep(l))},variableType:l.data.type,onTypeChange:c=>{l.data.type=c,e.onChange(Ze.cloneDeep(l))},value:l.data.value,onValueChange:c=>{l.data.value=c,e.onChange(Ze.cloneDeep(l))},onRemove:()=>e.onRemove(e.operation.id)});case"addBonusToValue":let u=e.operation;return p.jsx(Q4t,{variable:u.data.variable,bonusValue:u.data.value,bonusType:u.data.type,text:u.data.text,onSelect:c=>{u.data.variable=c,e.onChange(Ze.cloneDeep(u))},onValueChange:c=>{u.data.value=c.bonusValue,u.data.type=c.bonusType,u.data.text=c.text,e.onChange(Ze.cloneDeep(u))},onRemove:()=>e.onRemove(e.operation.id)});default:return null}}function Cde(e){const{data:t,isFetching:n}=En({queryKey:["get-traits"],queryFn:async()=>await ha("trait")}),r=(t&&t.filter(a=>a).sort((a,o)=>a.name.localeCompare(o.name)).filter(a=>{var o;return!((o=a.meta_data)!=null&&o.unselectable)}).filter(a=>{var o;return e.includeCreatureTraits?!0:!((o=a.meta_data)!=null&&o.creature_trait)}))??[],i={...e};return delete i.defaultTraits,delete i.onTraitChange,delete i.includeCreatureTraits,p.jsx(p.Fragment,{children:n||!t?p.jsx(rd,{...i,readOnly:!0}):p.jsx(rd,{...i,defaultValue:r.filter(a=>{var o;return(o=e.defaultTraits)==null?void 0:o.includes(a.id)}).map(a=>a.name),data:Ze.uniq(r.map(a=>a.name)),limit:1e3,onChange:a=>{e.onTraitChange&&e.onTraitChange(a.filter(o=>o).map(o=>r.find(s=>s.name===o)).filter(o=>o))}})})}function eEt(e){return p.jsx(Gr,{...e,data:[{value:"ONE-ACTION",label:"1"},{value:"TWO-ACTIONS",label:"2"},{value:"THREE-ACTIONS",label:"3"},{value:"FREE-ACTION",label:"4"},{value:"REACTION",label:"5"},{value:"ONE-TO-TWO-ACTIONS",label:"1 - 2"},{value:"ONE-TO-THREE-ACTIONS",label:"1 - 3"},{value:"TWO-TO-THREE-ACTIONS",label:"2 - 3"}],styles:{dropdown:{fontFamily:"ActionIcons, sans-serif",fontSize:16},input:{fontFamily:"ActionIcons, sans-serif",fontSize:16}}})}function tEt(e){const[t,n]=j.useState(!1),r=ht(),[i,a]=mk(),[o,{toggle:s}]=Ga(!1),[l,{toggle:u}]=Ga(!1),{data:c,isFetching:d}=En({queryKey:[`get-ability-block-${e.editId}`,{editId:e.editId}],queryFn:async({queryKey:_})=>{const[T,{editId:M}]=_,N=await Dn("ability-block",M);return N&&N.type!==e.type||!N?null:(v.setInitialValues({...N,prerequisites:N.prerequisites??[],traits:N.traits??[],level:N.level.toString()}),v.reset(),g(await SI(N.traits)),y(N.meta_data??{}),a(),N)},enabled:e.editId!==void 0&&e.editId!==-1,refetchOnWindowFocus:!1}),[f,h]=j.useState(),[m,g]=j.useState([]),[S,y]=j.useState({}),[E,x]=j.useState(!0),v=uv({initialValues:{id:-1,created_at:"",operations:[],name:"",actions:null,level:void 0,rarity:"COMMON",prerequisites:[],frequency:"",cost:"",trigger:"",requirements:"",access:"",description:"",special:"",type:e.type,meta_data:{},traits:[],content_source_id:-1,version:"1.0"},validate:{level:e.type==="feat"||e.type==="class-feature"?_=>_!==void 0&&!isNaN(+_)?null:"Invalid level":void 0,rarity:_=>["COMMON","UNCOMMON","RARE","UNIQUE"].includes(_)?null:"Invalid rarity"}}),C=async _=>{e.onComplete({..._,level:_.level?+_.level:void 0,traits:m.map(T=>T.id),meta_data:S}),setTimeout(()=>{b()},1e3)},b=()=>{v.reset(),g([]),y({}),h(void 0)},A=(v.values.frequency&&v.values.frequency.length>0?1:0)+(v.values.cost&&v.values.cost.length>0?1:0)+(v.values.trigger&&v.values.trigger.length>0?1:0)+(v.values.requirements&&v.values.requirements.length>0?1:0)+(v.values.access&&v.values.access.length>0?1:0);return p.jsx(ra,{opened:e.opened,onClose:()=>{e.onCancel(),b()},title:p.jsxs(zt,{order:3,children:[e.editId===void 0||e.editId===-1?"Create":"Edit"," ",hu(e.type)]}),styles:{body:{paddingRight:2}},size:l?"xl":"md",closeOnClickOutside:!1,closeOnEscape:!1,keepMounted:!1,children:p.jsxs(Jn,{h:`min(80vh, ${z2}px)`,pr:14,children:[p.jsx(El,{visible:t||d}),p.jsx("form",{onSubmit:v.onSubmit(C),children:p.jsxs(it,{gap:10,children:[p.jsxs(Ae,{wrap:"nowrap",justify:"space-between",children:[p.jsxs(Ae,{wrap:"nowrap",children:[p.jsx(sn,{label:"Name",required:!0,...v.getInputProps("name")}),p.jsx(eEt,{label:"Actions",w:100,...v.getInputProps("actions")})]}),(e.type==="feat"||e.type==="class-feature")&&p.jsx(Gr,{label:"Level",required:!0,data:Array.from({length:20},(_,T)=>(T+1).toString()),w:70,...v.getInputProps("level")})]}),p.jsxs(Ae,{wrap:"nowrap",align:"flex-start",children:[p.jsx(Gr,{label:"Rarity",required:!0,data:[{value:"COMMON",label:"Common"},{value:"UNCOMMON",label:"Uncommon"},{value:"RARE",label:"Rare"},{value:"UNIQUE",label:"Unique"}],w:140,...v.getInputProps("rarity")}),p.jsx(Cde,{label:"Other Traits",value:m.map(_=>_.name),onTraitChange:_=>g(_),style:{flex:1}})]}),p.jsx(rd,{label:"Prerequisites",splitChars:[",",";","|"],...v.getInputProps("prerequisites")}),p.jsx(Lt,{my:"xs",label:p.jsxs(Ae,{gap:3,wrap:"nowrap",children:[p.jsx(mt,{variant:o?"light":"subtle",size:"compact-sm",color:"gray.6",children:"Misc. Sections"}),A&&A>0&&p.jsx(ft,{variant:"light",color:r.primaryColor,size:"xs",children:A})]}),labelPosition:"left",onClick:s}),p.jsx(xl,{in:o,children:p.jsxs(it,{gap:10,children:[p.jsx(yi,{label:"Frequency",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("frequency")}),p.jsx(yi,{label:"Cost",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("cost")}),p.jsx(yi,{label:"Trigger",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("trigger")}),p.jsx(yi,{label:"Requirements",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("requirements")}),p.jsx(yi,{label:"Access",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("access")}),p.jsx(Lt,{mx:"lg",label:"Advanced",labelPosition:"center"}),p.jsx(sn,{defaultValue:S.image_url??"",label:"Image URL",onChange:async _=>{var T,M,N;x((T=_.target)!=null&&T.value?await O1((M=_.target)==null?void 0:M.value):!0),y({...S,image_url:(N=_.target)==null?void 0:N.value})},error:E?!1:"Invalid URL"}),p.jsxs(it,{py:"xs",children:[p.jsx(Yp,{label:"Can Select Multiple Times",labelPosition:"left",checked:S.canSelectMultipleTimes,onChange:_=>y({...S,canSelectMultipleTimes:_.currentTarget.checked})}),p.jsx(Yp,{label:"Unselectable",labelPosition:"left",checked:S.unselectable,onChange:_=>y({...S,unselectable:_.currentTarget.checked})})]}),p.jsx(Lt,{})]})}),i&&p.jsx(ud,{label:"Description",required:!0,value:f??Wf(v.values.description),onChange:(_,T)=>{h(T),v.setFieldValue("description",_)}}),p.jsx(yi,{label:"Special",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("special")}),p.jsx(Lt,{my:"xs",label:p.jsxs(Ae,{gap:3,wrap:"nowrap",children:[p.jsx(mt,{variant:l?"light":"subtle",size:"compact-sm",color:"gray.6",children:"Operations"}),v.values.operations&&v.values.operations.length>0&&p.jsx(ft,{variant:"light",color:r.primaryColor,size:"xs",children:v.values.operations.length})]}),labelPosition:"left",onClick:u}),p.jsx(xl,{in:l,children:p.jsxs(it,{gap:10,children:[p.jsx(nh,{title:p.jsxs(at,{openDelay:250,width:260,shadow:"md",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(Br,{target:"_blank",underline:"hover",fz:"sm",fs:"italic",children:"How to Use Operations"})}),p.jsxs(at.Dropdown,{children:[p.jsx(pe,{size:"sm",children:"Operations are used to make changes to a character. They can give feats, spells, and more, as well as change stats, skills, and other values."}),p.jsx(pe,{size:"sm",children:"Use conditionals to apply operations only when certain conditions are met and selections whenever a choice needs to be made."}),p.jsxs(pe,{size:"xs",fs:"italic",children:["For more help, see"," ",p.jsx(Br,{href:"https://discord.gg/kxCpa6G",target:"_blank",underline:"hover",children:"our Discord server"}),"."]})]})]}),value:v.values.operations,onChange:_=>v.setValues({...v.values,operations:_})}),p.jsx(Lt,{})]})}),p.jsxs(Ae,{justify:"flex-end",children:[p.jsx(mt,{variant:"default",onClick:()=>{e.onCancel(),b()},children:"Cancel"}),p.jsx(mt,{type:"submit",children:e.editId===void 0||e.editId===-1?"Create":"Update"})]})]})})]})})}function nEt(e){var _,T;const[t,n]=j.useState(!1),r=ht(),[i,a]=mk(),[o,{toggle:s}]=Ga(!1),[l,{toggle:u}]=Ga(!1),{data:c,isFetching:d}=En({queryKey:[`get-spell-${e.editId}`,{editId:e.editId}],queryFn:async({queryKey:M})=>{const[N,{editId:I}]=M,F=await Dn("spell",I);return F?(v.setInitialValues({...F,rank:F.rank.toString()}),v.reset(),g(await SI(F.traits)),y(F.meta_data??{}),a(),F):null},enabled:e.editId!==void 0&&e.editId!==-1,refetchOnWindowFocus:!1}),[f,h]=j.useState(),[m,g]=j.useState([]),[S,y]=j.useState({}),[E,x]=j.useState(!0),v=uv({initialValues:{id:-1,created_at:"",name:"",rank:0,traditions:[],rarity:"COMMON",cast:null,defense:"",cost:"",trigger:"",requirements:"",range:"",area:"",targets:"",duration:"",description:"",heightened:{text:[],data:{}},meta_data:{},traits:[],content_source_id:-1,version:"1.0"},validate:{rank:M=>M!==void 0&&!isNaN(+M)?null:"Invalid rank",rarity:M=>["COMMON","UNCOMMON","RARE","UNIQUE"].includes(M)?null:"Invalid rarity"}}),C=async M=>{e.onComplete({...M,rank:M.rank?+M.rank:0,traits:m.map(N=>N.id),meta_data:S}),setTimeout(()=>{b()},1e3)},b=()=>{v.reset(),g([]),y({}),h(void 0)},A=(v.values.cost&&v.values.cost.length>0?1:0)+(v.values.trigger&&v.values.trigger.length>0?1:0)+(v.values.requirements&&v.values.requirements.length>0?1:0)+(v.values.range&&v.values.range.length>0?1:0)+(v.values.area&&v.values.area.length>0?1:0)+(v.values.targets&&v.values.targets.length>0?1:0)+(v.values.duration&&v.values.duration.length>0?1:0)+(v.values.defense&&v.values.defense.length>0?1:0);return p.jsx(ra,{opened:e.opened,onClose:()=>{e.onCancel(),b()},title:p.jsxs(zt,{order:3,children:[e.editId===void 0||e.editId===-1?"Create":"Edit"," Spell"]}),styles:{body:{paddingRight:2}},size:"md",closeOnClickOutside:!1,closeOnEscape:!1,keepMounted:!1,children:p.jsxs(Jn,{h:`min(80vh, ${z2}px)`,pr:14,children:[p.jsx(El,{visible:t||d}),p.jsx("form",{onSubmit:v.onSubmit(C),children:p.jsxs(it,{gap:10,children:[p.jsxs(Ae,{wrap:"nowrap",justify:"space-between",children:[p.jsxs(Ae,{wrap:"nowrap",children:[p.jsx(sn,{label:"Name",required:!0,...v.getInputProps("name")}),p.jsx(Gr,{label:"Cast",w:100,data:[{value:"ONE-ACTION",label:"◆"},{value:"TWO-ACTIONS",label:"◆◆"},{value:"THREE-ACTIONS",label:"◆◆◆"},{value:"FREE-ACTION",label:"◇"},{value:"REACTION",label:"⤾"},{value:"ONE-TO-TWO-ACTIONS",label:"◆ - ◆◆"},{value:"ONE-TO-THREE-ACTIONS",label:"◆ - ◆◆◆"},{value:"TWO-TO-THREE-ACTIONS",label:"◆◆ - ◆◆◆"},{value:"TWO-TO-TWO-ROUNDS",label:"◆◆ - 2 rounds"},{value:"TWO-TO-THREE-ROUNDS",label:"◆◆ - 3 rounds"},{value:"THREE-TO-TWO-ROUNDS",label:"◆◆◆ - 2 rounds"},{value:"THREE-TO-THREE-ROUNDS",label:"◆◆◆ - 3 rounds"},{value:"2 rounds",label:"2 rounds"},{value:"3 rounds",label:"3 rounds"},{value:"1 minute",label:"1 minute"},{value:"5 minutes",label:"5 minutes"},{value:"10 minutes",label:"10 minutes"},{value:"30 minutes",label:"30 minutes"},{value:"1 hour",label:"1 hour"},{value:"8 hours",label:"8 hours"},{value:"24 hours",label:"24 hours"}],...v.getInputProps("cast")})]}),p.jsx(Gr,{label:"Rank",required:!0,data:Array.from({length:10},(M,N)=>(N+1).toString()),w:70,...v.getInputProps("rank")})]}),p.jsxs(Ae,{wrap:"nowrap",align:"flex-start",children:[p.jsx(Gr,{label:"Rarity",required:!0,data:[{value:"COMMON",label:"Common"},{value:"UNCOMMON",label:"Uncommon"},{value:"RARE",label:"Rare"},{value:"UNIQUE",label:"Unique"}],w:140,...v.getInputProps("rarity")}),p.jsx(Cde,{label:"Traits",value:m.map(M=>M.name),onTraitChange:M=>g(M),style:{flex:1}})]}),p.jsx(rd,{label:"Traditions",splitChars:[",",";","|"],...v.getInputProps("traditions"),data:["arcane","divine","occult","primal"]}),p.jsx(Lt,{my:"xs",label:p.jsxs(Ae,{gap:3,wrap:"nowrap",children:[p.jsx(mt,{variant:o?"light":"subtle",size:"compact-sm",color:"gray.6",children:"Misc. Sections"}),A&&A>0&&p.jsx(ft,{variant:"light",color:r.primaryColor,size:"xs",children:A})]}),labelPosition:"left",onClick:s}),p.jsx(xl,{in:o,children:p.jsxs(it,{gap:10,children:[p.jsx(yi,{label:"Cost",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("cost")}),p.jsx(yi,{label:"Trigger",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("trigger")}),p.jsx(yi,{label:"Requirements",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("requirements")}),p.jsx(yi,{label:"Range",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("range")}),p.jsx(yi,{label:"Area",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("area")}),p.jsx(yi,{label:"Targets",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("targets")}),p.jsx(b2,{label:"Defense",data:["AC","Fortitude","Reflex","Will","basic Fortitude","basic Reflex","basic Will"],...v.getInputProps("defense")}),p.jsx(yi,{label:"Duration",minRows:1,maxRows:4,autosize:!0,...v.getInputProps("duration")}),p.jsx(Lt,{mx:"lg",label:"Advanced",labelPosition:"center"}),p.jsx(it,{py:"xs",children:p.jsx(Yp,{label:"Focus Spell",labelPosition:"left",checked:S.unselectable,onChange:M=>y({...S,focus:M.currentTarget.checked})})}),p.jsx(sn,{defaultValue:S.image_url??"",label:"Image URL",onChange:async M=>{var N,I,F;x((N=M.target)!=null&&N.value?await O1((I=M.target)==null?void 0:I.value):!0),y({...S,image_url:(F=M.target)==null?void 0:F.value})},error:E?!1:"Invalid URL"}),p.jsx(Lt,{})]})}),i&&p.jsx(ud,{label:"Description",required:!0,value:f??Wf(v.values.description),onChange:(M,N)=>{h(N),v.setFieldValue("description",M)}}),p.jsx(Lt,{my:"xs",label:p.jsxs(Ae,{gap:3,wrap:"nowrap",children:[p.jsx(mt,{variant:l?"light":"subtle",size:"compact-sm",color:"gray.6",children:"Heightened"}),((_=v.values.heightened)==null?void 0:_.text)&&v.values.heightened.text.length>0&&p.jsx(ft,{variant:"light",color:r.primaryColor,size:"xs",children:v.values.heightened.text.length})]}),labelPosition:"left",onClick:u}),p.jsx(xl,{in:l,children:p.jsxs(it,{gap:10,children:[(((T=v.values.heightened)==null?void 0:T.text)??[]).map((M,N)=>p.jsxs(it,{children:[p.jsxs(Ae,{justify:"space-between",children:[p.jsx(Gr,{w:150,label:"Heighten Amount",data:[{label:"+1",value:"(+1)"},{label:"+2",value:"(+2)"},{label:"+3",value:"(+3)"},{label:"+4",value:"(+4)"},{label:"2nd",value:"(2nd)"},{label:"3rd",value:"(3rd)"},{label:"4th",value:"(4th)"},{label:"5th",value:"(5th)"},{label:"6th",value:"(6th)"},{label:"7th",value:"(7th)"},{label:"8th",value:"(8th)"},{label:"9th",value:"(9th)"},{label:"10th",value:"(10th)"}],value:M.amount,onChange:I=>{if(!I)return;let F=[...v.values.heightened.text];F[N].amount=I,v.setFieldValue("heightened",{text:F,data:v.values.heightened.data})}}),p.jsx(oi,{label:"Remove Heighten",children:p.jsx(hh,{mt:40,mr:5,onClick:()=>{const I=[...v.values.heightened.text].filter(F=>F.amount!==M.amount);v.setFieldValue("heightened",{text:I,data:v.values.heightened.data})}})})]}),p.jsx(ud,{label:"Heighten Description",required:!0,value:Wf(M.text),onChange:(I,F)=>{let $=[...v.values.heightened.text];$[N].text=I,v.setFieldValue("heightened",{text:$,data:v.values.heightened.data})}})]},N)),p.jsx(mt,{onClick:()=>{const M=[...v.values.heightened.text];M.push({amount:"",text:""}),v.setFieldValue("heightened",{text:M,data:v.values.heightened.data})},variant:"light",size:"compact-sm",fullWidth:!0,children:"Add Heightening"})]})}),p.jsxs(Ae,{justify:"flex-end",children:[p.jsx(mt,{variant:"default",onClick:()=>{e.onCancel(),b()},children:"Cancel"}),p.jsx(mt,{type:"submit",children:e.editId===void 0||e.editId===-1?"Create":"Update"})]})]})})]})})}function rEt(e){const[t,n]=j.useState(!1),r=ht(),[i,{toggle:a}]=Ga(!1),{data:o,isFetching:s}=En({queryKey:[`get-class-${e.editId}`,{editId:e.editId}],queryFn:async({queryKey:g})=>{const[S,{editId:y}]=g,E=await Dn("class",y);return E?(f.setInitialValues({...E}),f.reset(),E):null},enabled:e.editId!==void 0&&e.editId!==-1,refetchOnWindowFocus:!1}),[l,u]=j.useState(),[c,d]=j.useState(!0),f=uv({initialValues:{id:-1,created_at:"",name:"",rarity:"COMMON",description:"",skill_training_base:0,operations:[],trait_id:-1,artwork_url:"",content_source_id:-1,version:"1.0"},validate:{rarity:g=>["COMMON","UNCOMMON","RARE","UNIQUE"].includes(g)?null:"Invalid rarity"}}),h=async g=>{e.onComplete({...g}),setTimeout(()=>{m()},1e3)},m=()=>{f.reset(),u(void 0)};return p.jsx(ra,{opened:e.opened,onClose:()=>{e.onCancel(),m()},title:p.jsxs(zt,{order:3,children:[e.editId===void 0||e.editId===-1?"Create":"Edit"," Class"]}),styles:{body:{paddingRight:2}},size:i?"xl":"md",closeOnClickOutside:!1,closeOnEscape:!1,keepMounted:!1,children:p.jsxs(Jn,{h:`min(80vh, ${z2}px)`,pr:14,children:[p.jsx(El,{visible:t||s}),p.jsx("form",{onSubmit:f.onSubmit(h),children:p.jsxs(it,{gap:10,children:[p.jsxs(Ae,{wrap:"nowrap",justify:"space-between",children:[p.jsx(Ae,{wrap:"nowrap",children:p.jsx(sn,{label:"Name",required:!0,...f.getInputProps("name")})}),p.jsx(Gr,{label:"Rarity",required:!0,data:[{value:"COMMON",label:"Common"},{value:"UNCOMMON",label:"Uncommon"},{value:"RARE",label:"Rare"},{value:"UNIQUE",label:"Unique"}],w:140,...f.getInputProps("rarity")})]}),p.jsx(Ms,{label:"Skill Training Base",placeholder:"Number + Int mod skills to be trained in",min:0,max:9,...f.getInputProps("skill_training_base")}),p.jsx(sn,{defaultValue:f.values.artwork_url??"",label:"Image URL",onChange:async g=>{var S,y,E;d((S=g.target)!=null&&S.value?await O1((y=g.target)==null?void 0:y.value):!0),f.setFieldValue("artwork_url",(E=g.target)==null?void 0:E.value)},error:c?!1:"Invalid URL"}),(l||f.values.description)&&p.jsx(ud,{label:"Description",required:!0,value:l??Wf(f.values.description),onChange:(g,S)=>{u(S),f.setFieldValue("description",g)}}),p.jsx(Lt,{my:"xs",label:p.jsxs(Ae,{gap:3,wrap:"nowrap",children:[p.jsx(mt,{variant:i?"light":"subtle",size:"compact-sm",color:"gray.6",children:"Operations"}),f.values.operations&&f.values.operations.length>0&&p.jsx(ft,{variant:"light",color:r.primaryColor,size:"xs",children:f.values.operations.length})]}),labelPosition:"left",onClick:a}),p.jsx(xl,{in:i,children:p.jsxs(it,{gap:10,children:[p.jsx(nh,{title:p.jsxs(at,{openDelay:250,width:260,shadow:"md",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(Br,{target:"_blank",underline:"hover",fz:"sm",fs:"italic",children:"How to Use Operations"})}),p.jsxs(at.Dropdown,{children:[p.jsx(pe,{size:"sm",children:"Operations are used to make changes to a character. They can give feats, spells, and more, as well as change stats, skills, and other values."}),p.jsx(pe,{size:"sm",children:"Use conditionals to apply operations only when certain conditions are met and selections whenever a choice needs to be made."}),p.jsxs(pe,{size:"xs",fs:"italic",children:["For more help, see"," ",p.jsx(Br,{href:"https://discord.gg/kxCpa6G",target:"_blank",underline:"hover",children:"our Discord server"}),"."]})]})]}),value:f.values.operations,onChange:g=>f.setValues({...f.values,operations:g})}),p.jsx(Lt,{})]})}),p.jsxs(Ae,{justify:"flex-end",children:[p.jsx(mt,{variant:"default",onClick:()=>{e.onCancel(),m()},children:"Cancel"}),p.jsx(mt,{type:"submit",children:e.editId===void 0||e.editId===-1?"Create":"Update"})]})]})})]})})}function iEt(e){const[t,n]=j.useState(!1),r=ht(),[i,{toggle:a}]=Ga(!1),{data:o,isFetching:s}=En({queryKey:[`get-ancestry-${e.editId}`,{editId:e.editId}],queryFn:async({queryKey:g})=>{const[S,{editId:y}]=g,E=await Dn("ancestry",y);return E?(f.setInitialValues({...E}),f.reset(),E):null},enabled:e.editId!==void 0&&e.editId!==-1,refetchOnWindowFocus:!1}),[l,u]=j.useState(),[c,d]=j.useState(!0),f=uv({initialValues:{id:-1,created_at:"",name:"",rarity:"COMMON",description:"",operations:[],trait_id:-1,artwork_url:"",content_source_id:-1,version:"1.0"},validate:{rarity:g=>["COMMON","UNCOMMON","RARE","UNIQUE"].includes(g)?null:"Invalid rarity"}}),h=async g=>{e.onComplete({...g}),setTimeout(()=>{m()},1e3)},m=()=>{f.reset(),u(void 0)};return p.jsx(ra,{opened:e.opened,onClose:()=>{e.onCancel(),m()},title:p.jsxs(zt,{order:3,children:[e.editId===void 0||e.editId===-1?"Create":"Edit"," Ancestry"]}),styles:{body:{paddingRight:2}},size:i?"xl":"md",closeOnClickOutside:!1,closeOnEscape:!1,keepMounted:!1,children:p.jsxs(Jn,{h:`min(80vh, ${z2}px)`,pr:14,children:[p.jsx(El,{visible:t||s}),p.jsx("form",{onSubmit:f.onSubmit(h),children:p.jsxs(it,{gap:10,children:[p.jsxs(Ae,{wrap:"nowrap",justify:"space-between",children:[p.jsx(Ae,{wrap:"nowrap",children:p.jsx(sn,{label:"Name",required:!0,...f.getInputProps("name")})}),p.jsx(Gr,{label:"Rarity",required:!0,data:[{value:"COMMON",label:"Common"},{value:"UNCOMMON",label:"Uncommon"},{value:"RARE",label:"Rare"},{value:"UNIQUE",label:"Unique"}],w:140,...f.getInputProps("rarity")})]}),p.jsx(sn,{defaultValue:f.values.artwork_url??"",label:"Image URL",onChange:async g=>{var S,y,E;d((S=g.target)!=null&&S.value?await O1((y=g.target)==null?void 0:y.value):!0),f.setFieldValue("artwork_url",(E=g.target)==null?void 0:E.value)},error:c?!1:"Invalid URL"}),(l||f.values.description)&&p.jsx(ud,{label:"Description",required:!0,value:l??Wf(f.values.description),onChange:(g,S)=>{u(S),f.setFieldValue("description",g)}}),p.jsx(Lt,{my:"xs",label:p.jsxs(Ae,{gap:3,wrap:"nowrap",children:[p.jsx(mt,{variant:i?"light":"subtle",size:"compact-sm",color:"gray.6",children:"Operations"}),f.values.operations&&f.values.operations.length>0&&p.jsx(ft,{variant:"light",color:r.primaryColor,size:"xs",children:f.values.operations.length})]}),labelPosition:"left",onClick:a}),p.jsx(xl,{in:i,children:p.jsxs(it,{gap:10,children:[p.jsx(nh,{title:p.jsxs(at,{openDelay:250,width:260,shadow:"md",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(Br,{target:"_blank",underline:"hover",fz:"sm",fs:"italic",children:"How to Use Operations"})}),p.jsxs(at.Dropdown,{children:[p.jsx(pe,{size:"sm",children:"Operations are used to make changes to a character. They can give feats, spells, and more, as well as change stats, skills, and other values."}),p.jsx(pe,{size:"sm",children:"Use conditionals to apply operations only when certain conditions are met and selections whenever a choice needs to be made."}),p.jsxs(pe,{size:"xs",fs:"italic",children:["For more help, see"," ",p.jsx(Br,{href:"https://discord.gg/kxCpa6G",target:"_blank",underline:"hover",children:"our Discord server"}),"."]})]})]}),value:f.values.operations,onChange:g=>f.setValues({...f.values,operations:g})}),p.jsx(Lt,{})]})}),p.jsxs(Ae,{justify:"flex-end",children:[p.jsx(mt,{variant:"default",onClick:()=>{e.onCancel(),m()},children:"Cancel"}),p.jsx(mt,{type:"submit",children:e.editId===void 0||e.editId===-1?"Create":"Update"})]})]})})]})})}function aEt(e){const[t,n]=j.useState(!1),r=ht(),[i,{toggle:a}]=Ga(!1),{data:o,isFetching:s}=En({queryKey:[`get-background-${e.editId}`,{editId:e.editId}],queryFn:async({queryKey:g})=>{const[S,{editId:y}]=g,E=await Dn("background",y);return E?(f.setInitialValues({...E}),f.reset(),E):null},enabled:e.editId!==void 0&&e.editId!==-1,refetchOnWindowFocus:!1}),[l,u]=j.useState(),[c,d]=j.useState(!0),f=uv({initialValues:{id:-1,created_at:"",name:"",rarity:"COMMON",description:"",operations:[],artwork_url:"",content_source_id:-1,version:"1.0"},validate:{rarity:g=>["COMMON","UNCOMMON","RARE","UNIQUE"].includes(g)?null:"Invalid rarity"}}),h=async g=>{e.onComplete({...g}),setTimeout(()=>{m()},1e3)},m=()=>{f.reset(),u(void 0)};return p.jsx(ra,{opened:e.opened,onClose:()=>{e.onCancel(),m()},title:p.jsxs(zt,{order:3,children:[e.editId===void 0||e.editId===-1?"Create":"Edit"," Background"]}),styles:{body:{paddingRight:2}},size:i?"xl":"md",closeOnClickOutside:!1,closeOnEscape:!1,keepMounted:!1,children:p.jsxs(Jn,{h:`min(80vh, ${z2}px)`,pr:14,children:[p.jsx(El,{visible:t||s}),p.jsx("form",{onSubmit:f.onSubmit(h),children:p.jsxs(it,{gap:10,children:[p.jsxs(Ae,{wrap:"nowrap",justify:"space-between",children:[p.jsx(Ae,{wrap:"nowrap",children:p.jsx(sn,{label:"Name",required:!0,...f.getInputProps("name")})}),p.jsx(Gr,{label:"Rarity",required:!0,data:[{value:"COMMON",label:"Common"},{value:"UNCOMMON",label:"Uncommon"},{value:"RARE",label:"Rare"},{value:"UNIQUE",label:"Unique"}],w:140,...f.getInputProps("rarity")})]}),p.jsx(sn,{defaultValue:f.values.artwork_url??"",label:"Image URL",onChange:async g=>{var S,y,E;d((S=g.target)!=null&&S.value?await O1((y=g.target)==null?void 0:y.value):!0),f.setFieldValue("artwork_url",(E=g.target)==null?void 0:E.value)},error:c?!1:"Invalid URL"}),(l||f.values.description)&&p.jsx(ud,{label:"Description",required:!0,value:l??Wf(f.values.description),onChange:(g,S)=>{u(S),f.setFieldValue("description",g)}}),p.jsx(Lt,{my:"xs",label:p.jsxs(Ae,{gap:3,wrap:"nowrap",children:[p.jsx(mt,{variant:i?"light":"subtle",size:"compact-sm",color:"gray.6",children:"Operations"}),f.values.operations&&f.values.operations.length>0&&p.jsx(ft,{variant:"light",color:r.primaryColor,size:"xs",children:f.values.operations.length})]}),labelPosition:"left",onClick:a}),p.jsx(xl,{in:i,children:p.jsxs(it,{gap:10,children:[p.jsx(nh,{title:p.jsxs(at,{openDelay:250,width:260,shadow:"md",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(Br,{target:"_blank",underline:"hover",fz:"sm",fs:"italic",children:"How to Use Operations"})}),p.jsxs(at.Dropdown,{children:[p.jsx(pe,{size:"sm",children:"Operations are used to make changes to a character. They can give feats, spells, and more, as well as change stats, skills, and other values."}),p.jsx(pe,{size:"sm",children:"Use conditionals to apply operations only when certain conditions are met and selections whenever a choice needs to be made."}),p.jsxs(pe,{size:"xs",fs:"italic",children:["For more help, see"," ",p.jsx(Br,{href:"https://discord.gg/kxCpa6G",target:"_blank",underline:"hover",children:"our Discord server"}),"."]})]})]}),value:f.values.operations,onChange:g=>f.setValues({...f.values,operations:g})}),p.jsx(Lt,{})]})}),p.jsxs(Ae,{justify:"flex-end",children:[p.jsx(mt,{variant:"default",onClick:()=>{e.onCancel(),m()},children:"Cancel"}),p.jsx(mt,{type:"submit",children:e.editId===void 0||e.editId===-1?"Create":"Update"})]})]})})]})})}function oEt(e){const t=ht(),[n,r]=j.useState(!1),[i,a]=j.useState(),[o,{toggle:s}]=Ga(!1),{data:l,isFetching:u}=En({queryKey:[`find-content-source-details-${e.sourceId}`],queryFn:async()=>{var g;const h=await UE([e.sourceId],!0),m=(g=h.sources)==null?void 0:g.find(S=>S.id===e.sourceId);return m?(c.setInitialValues({name:m.name,foundry_id:m.foundry_id,url:m.url,description:m.description,operations:m.operations??[],contact_info:m.contact_info,group:m.group}),c.reset(),{content:h,source:m}):null},refetchOnWindowFocus:!1}),c=uv({initialValues:{name:"",foundry_id:"",url:"",description:"",operations:[],contact_info:"",group:""}}),d=async h=>{await t5t({id:e.sourceId,created_at:(l==null?void 0:l.source.created_at)??"",user_id:(l==null?void 0:l.source.user_id)??-1,name:h.name,foundry_id:h.foundry_id,url:h.url,description:h.description,operations:h.operations,contact_info:h.contact_info,group:h.group,require_key:(l==null?void 0:l.source.require_key)??!1,is_published:(l==null?void 0:l.source.is_published)??!1,required_content_sources:(l==null?void 0:l.source.required_content_sources)??[],meta_data:(l==null?void 0:l.source.meta_data)??{}}),Si({title:`Updated ${h.name}`,message:"Successfully updated content source.",autoClose:3e3})},f=()=>{c.reset()};return p.jsxs(ra,{opened:e.opened,onClose:()=>{e.onClose(),f()},title:p.jsx(zt,{order:3,children:"Update Content Source"}),styles:{body:{paddingRight:2}},fullScreen:!0,closeOnClickOutside:!1,closeOnEscape:!1,keepMounted:!1,children:[p.jsx(El,{visible:n||u}),p.jsxs(Ae,{align:"flex-start",children:[p.jsx("form",{onSubmit:c.onSubmit(d),children:p.jsx(ta,{maw:500,children:p.jsxs(it,{gap:10,children:[p.jsxs(Ae,{wrap:"nowrap",justify:"space-between",children:[p.jsx(sn,{label:"Name",required:!0,...c.getInputProps("name")}),p.jsx(sn,{label:"Foundry ID",required:!0,...c.getInputProps("foundry_id")})]}),p.jsx(sn,{label:"URL",...c.getInputProps("url")}),p.jsxs(Ae,{wrap:"nowrap",justify:"space-between",children:[p.jsx(sn,{label:"Contact Info",...c.getInputProps("contact_info")}),p.jsx(b2,{label:"Group",data:["core","lost-omens","adventure-path","standalone-adventure","misc"],...c.getInputProps("group")})]}),(i||c.values.description)&&p.jsx(ud,{label:"Description",required:!0,value:i??Wf(c.values.description),onChange:(h,m)=>{a(m),c.setFieldValue("description",h)}}),p.jsx(Lt,{my:"xs",label:p.jsxs(Ae,{gap:3,wrap:"nowrap",children:[p.jsx(mt,{variant:o?"light":"subtle",size:"compact-sm",color:"gray.6",children:"Operations"}),c.values.operations&&c.values.operations.length>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:c.values.operations.length})]}),labelPosition:"left",onClick:s}),p.jsx(xl,{in:o,children:p.jsxs(it,{gap:10,children:[p.jsx(nh,{title:p.jsxs(at,{openDelay:250,width:260,shadow:"md",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(Br,{target:"_blank",underline:"hover",fz:"sm",fs:"italic",children:"How to Use Operations"})}),p.jsxs(at.Dropdown,{children:[p.jsx(pe,{size:"sm",children:"Operations are used to make changes to a character. They can give feats, spells, and more, as well as change stats, skills, and other values."}),p.jsx(pe,{size:"sm",children:"Use conditionals to apply operations only when certain conditions are met and selections whenever a choice needs to be made."}),p.jsxs(pe,{size:"xs",fs:"italic",children:["For more help, see"," ",p.jsx(Br,{href:"https://discord.gg/kxCpa6G",target:"_blank",underline:"hover",children:"our Discord server"}),"."]})]})]}),value:c.values.operations,onChange:h=>c.setValues({...c.values,operations:h})}),p.jsx(Lt,{})]})}),p.jsxs(Ae,{justify:"flex-end",children:[p.jsx(mt,{variant:"default",onClick:()=>{f()},children:"Cancel"}),p.jsx(mt,{type:"submit",children:"Save"})]})]})})}),p.jsx(ta,{style:{flex:1},children:p.jsxs(kt,{w:"100%",variant:"outline",defaultValue:"feats",orientation:"vertical",keepMounted:!1,children:[p.jsxs(kt.List,{children:[p.jsx(kt.Tab,{value:"actions",leftSection:Vr("ability-block","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.abilityBlocks)&&(l==null?void 0:l.content.abilityBlocks.filter(h=>h.type==="action").length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.abilityBlocks.filter(h=>h.type==="action").length})}),children:"Actions"}),p.jsx(kt.Tab,{value:"feats",leftSection:Vr("ability-block","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.abilityBlocks)&&(l==null?void 0:l.content.abilityBlocks.filter(h=>h.type==="feat").length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.abilityBlocks.filter(h=>h.type==="feat").length})}),children:"Feats"}),p.jsx(kt.Tab,{value:"items",leftSection:Vr("item","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.items)&&(l==null?void 0:l.content.items.length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.items.length})}),children:"Items"}),p.jsx(kt.Tab,{value:"spells",leftSection:Vr("spell","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.spells)&&(l==null?void 0:l.content.spells.length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.spells.length})}),children:"Spells"}),p.jsx(kt.Tab,{value:"traits",leftSection:Vr("trait","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.traits)&&(l==null?void 0:l.content.traits.length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.traits.length})}),children:"Traits"}),p.jsx(kt.Tab,{value:"languages",leftSection:Vr("language","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.languages)&&(l==null?void 0:l.content.languages.length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.languages.length})}),children:"Languages"}),p.jsx(kt.Tab,{value:"creatures",leftSection:Vr("creature","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.creatures)&&(l==null?void 0:l.content.creatures.length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.creatures.length})}),children:"Creatures"}),p.jsx(kt.Tab,{value:"ancestries",leftSection:Vr("ancestry","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.ancestries)&&(l==null?void 0:l.content.ancestries.length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.ancestries.length})}),children:"Ancestries"}),p.jsx(kt.Tab,{value:"heritages",leftSection:Vr("ability-block","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.abilityBlocks)&&(l==null?void 0:l.content.abilityBlocks.filter(h=>h.type==="heritage").length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.abilityBlocks.filter(h=>h.type==="heritage").length})}),children:"Heritages"}),p.jsx(kt.Tab,{value:"senses",leftSection:Vr("ability-block","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.abilityBlocks)&&(l==null?void 0:l.content.abilityBlocks.filter(h=>h.type==="sense").length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.abilityBlocks.filter(h=>h.type==="sense").length})}),children:"Senses"}),p.jsx(kt.Tab,{value:"physical-features",leftSection:Vr("ability-block","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.abilityBlocks)&&(l==null?void 0:l.content.abilityBlocks.filter(h=>h.type==="physical-feature").length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.abilityBlocks.filter(h=>h.type==="physical-feature").length})}),children:"Physical Features"}),p.jsx(kt.Tab,{value:"backgrounds",leftSection:Vr("background","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.backgrounds)&&(l==null?void 0:l.content.backgrounds.length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.backgrounds.length})}),children:"Backgrounds"}),p.jsx(kt.Tab,{value:"classes",leftSection:Vr("class","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.classes)&&(l==null?void 0:l.content.classes.length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.classes.length})}),children:"Classes"}),p.jsx(kt.Tab,{value:"class-features",leftSection:Vr("ability-block","1rem"),rightSection:p.jsx(p.Fragment,{children:(l==null?void 0:l.content.abilityBlocks)&&(l==null?void 0:l.content.abilityBlocks.filter(h=>h.type==="class-feature").length)>0&&p.jsx(ft,{variant:"light",color:t.primaryColor,size:"xs",children:l==null?void 0:l.content.abilityBlocks.filter(h=>h.type==="class-feature").length})}),children:"Class Features"}),p.jsx(kt.Tab,{value:"archetypes",leftSection:Vr("ability-block","1rem"),children:"Archetypes"})]}),p.jsx(kt.Panel,{value:"actions",children:p.jsx($o,{sourceId:e.sourceId,type:"ability-block",abilityBlockType:"action",content:(l==null?void 0:l.content.abilityBlocks)??[]})}),p.jsx(kt.Panel,{value:"feats",children:p.jsx($o,{sourceId:e.sourceId,type:"ability-block",abilityBlockType:"feat",content:(l==null?void 0:l.content.abilityBlocks)??[]})}),p.jsx(kt.Panel,{value:"items",children:p.jsx($o,{sourceId:e.sourceId,type:"item",content:(l==null?void 0:l.content.items)??[]})}),p.jsx(kt.Panel,{value:"spells",children:p.jsx($o,{sourceId:e.sourceId,type:"spell",content:(l==null?void 0:l.content.spells)??[]})}),p.jsx(kt.Panel,{value:"traits",children:p.jsx($o,{sourceId:e.sourceId,type:"trait",content:(l==null?void 0:l.content.traits)??[]})}),p.jsx(kt.Panel,{value:"languages",children:p.jsx($o,{sourceId:e.sourceId,type:"language",content:(l==null?void 0:l.content.languages)??[]})}),p.jsx(kt.Panel,{value:"creatures",children:p.jsx($o,{sourceId:e.sourceId,type:"creature",content:(l==null?void 0:l.content.creatures)??[]})}),p.jsx(kt.Panel,{value:"ancestries",children:p.jsx($o,{sourceId:e.sourceId,type:"ancestry",content:(l==null?void 0:l.content.ancestries)??[]})}),p.jsx(kt.Panel,{value:"heritages",children:p.jsx($o,{sourceId:e.sourceId,type:"ability-block",abilityBlockType:"heritage",content:(l==null?void 0:l.content.abilityBlocks)??[]})}),p.jsx(kt.Panel,{value:"senses",children:p.jsx($o,{sourceId:e.sourceId,type:"ability-block",abilityBlockType:"sense",content:(l==null?void 0:l.content.abilityBlocks)??[]})}),p.jsx(kt.Panel,{value:"physical-features",children:p.jsx($o,{sourceId:e.sourceId,type:"ability-block",abilityBlockType:"physical-feature",content:(l==null?void 0:l.content.abilityBlocks)??[]})}),p.jsx(kt.Panel,{value:"backgrounds",children:p.jsx($o,{sourceId:e.sourceId,type:"background",content:(l==null?void 0:l.content.backgrounds)??[]})}),p.jsx(kt.Panel,{value:"classes",children:p.jsx($o,{sourceId:e.sourceId,type:"class",content:(l==null?void 0:l.content.classes)??[]})}),p.jsx(kt.Panel,{value:"class-features",children:p.jsx($o,{sourceId:e.sourceId,type:"ability-block",abilityBlockType:"class-feature",content:(l==null?void 0:l.content.abilityBlocks)??[]})})]})})]})]})}function $o(e){const t=z1(),[n,r]=j.useState(),[i,a]=YD("",200),o=j.useRef(new fT("id"));j.useEffect(()=>{e.content&&s()},[e.content]);const s=()=>{o.current=new fT("id"),o.current.addIndex("name"),o.current.addDocuments(Ze.cloneDeep(l()))},l=()=>{let c=Ze.cloneDeep(e.content);return e.abilityBlockType&&(c=c.filter(d=>d.type===e.abilityBlockType)),c=i?o.current.search(i):c,c=c.sort((d,f)=>{if(d.level!==void 0&&f.level!==void 0){if(d.level!==f.level)return d.level-f.level}else if(d.rank!==void 0&&f.rank!==void 0&&d.rank!==f.rank)return d.rank-f.rank;return d.name.localeCompare(f.name)}),c},u=()=>{r(void 0),s(),cQe(),setTimeout(()=>{t.refetchQueries([`find-content-source-details-${e.sourceId}`])},1e3)};return p.jsxs(p.Fragment,{children:[p.jsxs(it,{mx:"md",gap:10,children:[p.jsxs(Ae,{wrap:"nowrap",children:[p.jsx(sn,{style:{flex:1},leftSection:p.jsx(W0,{size:"0.9rem"}),placeholder:`Search ${Ip((e.abilityBlockType??e.type).replace("-"," ").toLowerCase())}`,onChange:c=>a(c.target.value)}),p.jsxs(mt,{size:"compact-lg",fz:"xs",variant:"light",onClick:()=>{r(-1)},rightSection:p.jsx(cR,{size:"1.0rem"}),styles:{section:{marginLeft:3}},children:["Create ",hu(e.abilityBlockType??e.type)]})]}),p.jsx(ta,{children:p.jsx(it,{w:"100%",children:p.jsx(Nse,{options:l(),type:e.type,abilityBlockType:e.abilityBlockType,isLoading:!1,onClick:c=>r(c.id),h:500,includeOptions:!0,onCopy:async c=>{if(e.type==="ability-block"){const d=e.content.find(f=>f.id===c);if(d){const f=Ze.cloneDeep(d);f.id=-1,f.name=`(Copy) ${d.name}`,f.content_source_id=e.sourceId,await p1(f)}}else if(e.type==="spell"){const d=e.content.find(f=>f.id===c);if(d){const f=Ze.cloneDeep(d);f.id=-1,f.name=`(Copy) ${d.name}`,f.content_source_id=e.sourceId,EN(f)}}else if(e.type==="class"){const d=e.content.find(f=>f.id===c);if(d){const f=Ze.cloneDeep(d);f.id=-1,f.name=`(Copy) ${d.name}`,f.content_source_id=e.sourceId,mK(f)}}else if(e.type==="ancestry"){const d=e.content.find(f=>f.id===c);if(d){const f=Ze.cloneDeep(d);f.id=-1,f.name=`(Copy) ${d.name}`,f.content_source_id=e.sourceId,gK(f)}}else if(e.type==="background"){const d=e.content.find(f=>f.id===c);if(d){const f=Ze.cloneDeep(d);f.id=-1,f.name=`(Copy) ${d.name}`,f.content_source_id=e.sourceId,kN(f)}}else if(e.type==="item"){const d=e.content.find(f=>f.id===c);if(d){const f=Ze.cloneDeep(d);f.id=-1,f.name=`(Copy) ${d.name}`,f.content_source_id=e.sourceId}}else if(e.type==="trait"){const d=e.content.find(f=>f.id===c);if(d){const f=Ze.cloneDeep(d);f.id=-1,f.name=`(Copy) ${d.name}`,f.content_source_id=e.sourceId}}u()},onDelete:async c=>{await e5t(e.type,c),u()}})})})]}),e.type==="ability-block"&&n&&p.jsx(tEt,{opened:!!n,type:e.abilityBlockType,editId:n,onComplete:async c=>{c.content_source_id=e.sourceId;const d=await p1(c);d&&Si({title:`Updated ${d.name}`,message:`Successfully updated ${d.type}.`,autoClose:3e3}),u()},onCancel:()=>u()}),e.type==="spell"&&n&&p.jsx(nEt,{opened:!!n,editId:n,onComplete:async c=>{const d=await EN(c);d&&Si({title:`Updated ${d.name}`,message:"Successfully updated spell.",autoClose:3e3}),u()},onCancel:()=>u()}),e.type==="class"&&n&&p.jsx(rEt,{opened:!!n,editId:n,onComplete:async c=>{const d=await mK(c);d&&Si({title:`Updated ${d.name}`,message:"Successfully updated class.",autoClose:3e3}),u()},onCancel:()=>u()}),e.type==="ancestry"&&n&&p.jsx(iEt,{opened:!!n,editId:n,onComplete:async c=>{const d=await gK(c);d&&Si({title:`Updated ${d.name}`,message:"Successfully updated ancestry.",autoClose:3e3}),u()},onCancel:()=>u()}),e.type==="background"&&n&&p.jsx(aEt,{opened:!!n,editId:n,onComplete:async c=>{const d=await kN(c);d&&Si({title:`Updated ${d.name}`,message:"Successfully updated background.",autoClose:3e3}),u()},onCancel:()=>u()})]})}function sEt(){const[e,t]=j.useState(void 0),{data:n,isFetching:r}=En({queryKey:["get-content-sources"],queryFn:async()=>await wm({homebrew:!1})});return p.jsxs(p.Fragment,{children:[p.jsx(ns,{p:"sm",children:p.jsx(ta,{p:"sm",children:p.jsxs(Ae,{children:[p.jsx(zt,{order:3,children:"Edit Content"}),p.jsx(Gr,{placeholder:"Select content source",data:(n??[]).map(i=>({value:i.id+"",label:i.name})),value:"",searchValue:"",onChange:async i=>{i&&t(parseInt(i))}})]})})}),e&&p.jsx(oEt,{opened:!0,sourceId:e,onClose:()=>t(void 0)})]})}async function lEt(e){Si({id:"generate-embeddings",title:"Generating embeddings...",message:"This may take a minute or two.",autoClose:!1});const t=await UE([e]),n=await Promise.all([_u("ancestry",t.ancestries.map(r=>r.id)),_u("background",t.backgrounds.map(r=>r.id)),_u("class",t.classes.map(r=>r.id)),_u("ability-block",t.abilityBlocks.map(r=>r.id)),_u("item",t.items.map(r=>r.id)),_u("language",t.languages.map(r=>r.id)),_u("spell",t.spells.map(r=>r.id)),_u("trait",t.traits.map(r=>r.id)),_u("creature",t.creatures.map(r=>r.id))]);return id("generate-embeddings"),Si({id:"generate-embeddings",title:"Successfully Generated Embeddings",message:"See logs for more details.",autoClose:6e3}),console.log(n),n}function uEt(){const{data:e,isFetching:t}=En({queryKey:["get-content-sources"],queryFn:async()=>await wm({homebrew:!1})});return p.jsx(p.Fragment,{children:p.jsx(ns,{p:"sm",children:p.jsx(ta,{p:"sm",children:p.jsxs(Ae,{children:[p.jsx(zt,{order:3,children:"Generate Embeddings"}),p.jsx(Gr,{placeholder:"Select content source",data:(e??[]).map(n=>({value:n.id+"",label:n.name})),value:"",searchValue:"",onChange:async n=>{n&&await lEt(parseInt(n))}})]})})})})}const cEt="6a24e0fd-6f3a-4319-a8e1-2049c761ab2d",dEt="https://wanderersguide.app/api";async function Ede(e){return await(await fetch(`${dEt}/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Apikey ${cEt}`}})).json()}async function fEt(e,t){if(e==="ability-block"&&t==="feat"&&await hEt(),e==="trait"){const n=await pEt();for(const r of n){const i=await n1(r.name);if(i){const a=await dr("create-trait",{id:i.id,description:r.description,meta_data:{...i.meta_data,important:r.isImportant===1?!0:void 0,creature_trait:r.isHidden===1?!0:void 0}});console.log(a)}}Si({title:"Traits Imported",message:"The trait descriptions and metadata have been imported.",color:"blue",icon:null})}if(e==="language"){const n=[{id:1,name:"Common",speakers:"Humans, Dwarves, Elves, Halflings, and other common ancestries",script:"Common",description:"Common is a relative term used to denote the most prevalent human language spoken in a particular region. In each different region there may be different dialects and variations in the common language. In general, Common is the name for the standard language in which most humanoids speak.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:32:51",updatedAt:"2019-12-13 00:32:51"},{id:2,name:"Draconic",speakers:"Dragons, reptilian humanoids",script:"Iokharic",description:"It is believed that Draconic is among the oldest, if not the oldest, language of the multiverse. Because of this, nearly all other languages can trace some roots back to this primordial tongue. Many reptilian races use crude versions of Draconic, including kobolds, lizardfolk, and troglodytes, and present this as proof of their kinship with dragons. It is equally likely that these races were once taught or enslaved by dragons, and it is even possible that they took Draconic for their own simply to make a claim to common ancestors.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:33:09",updatedAt:"2019-12-13 00:33:09"},{id:3,name:"Dwarven",speakers:"Dwarves",script:"Dethek",description:'Dwarven is a clipped language of hard consonants and guttural pronunciation. Dwarven shares its runic alphabet with Terran, along with a number of other similarities. Dwarven names are full of harsh-sounding consonants, and rarely include soft, or sibilant sounds. Honorifics are common in given names, such as "-sun" ("-son"), "-dam" ("-daughter"), and "-hild" ("-wife"). Family names sometimes contain words in (language: Common) such as "gold" or "hammer". Also, the letters Q and X do not appear in Dwarven.',contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:33:18",updatedAt:"2019-12-13 00:33:18"},{id:4,name:"Elven",speakers:"Elves, Half-Elves",script:"Rellanic",description:"Elven is believed to be among the eldest, if not the eldest of the languages mortals speak. Scholars conjecture that it was formed when elven speakers of (language: Sylvan) tried to introduce grammatical rules and vocabulary from both (language: Celestial) and (language: Draconic). The elven alphabet contains thirty-three letters (twenty-four consonants and nine vowels). It is a complex language, but sounds poetic in tone and cadence.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:33:30",updatedAt:"2019-12-13 00:33:30"},{id:5,name:"Gnomish",speakers:"Gnomes",script:"Gnomish",description:"In terms of the sheer number of words in its vocabulary, Gnome, or Gnomish, is the largest language known. It has changed dramatically since gnomes first introduced it to the world, a process which has by no means halted. It shares certain similarities with both (language: Aklo) and (language: Sylvan).",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:33:43",updatedAt:"2019-12-13 00:33:43"},{id:6,name:"Goblin",speakers:"Goblins, Hobgoblins, Bugbears",script:"Dethek",description:"Goblin vocabulary is shared by the goblin, bugbear, and hobgoblin races, even if the pronunciations, inflections, and usage differs wildly among them. When spoken by goblins, it is nearly incomprehensible to outsiders, and sounds more like high-pitched yapping. Among the martial hobgoblins, it takes the form of short, barked commands, while the bugbears speak their taunts with a sibilance not heard among the other goblinoid races. It is an extremely flexible language, containing a plethora of terms related to subservience, fear, and death.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:33:53",updatedAt:"2019-12-13 00:33:53"},{id:7,name:"Halfling",speakers:"Halflings",script:"Common",description:"Halfling, which was properly called Luiric, was a language spoken by the halflings of Luiren. Since halflings were so adaptive by nature, the vast majority of halflings outside of Luiren had abandoned their native tongue and spoke (language: Common) or other human languages instead.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:35:16",updatedAt:"2019-12-13 00:35:16"},{id:8,name:"Jotun",speakers:"Giants, Ogres, Trolls, Ettins, Cyclopes",script:"Dethek",description:"The language of the various races of giants that exist today. It was first used by the giant slaves of the runelords in the ages long ago.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:35:34",updatedAt:"2019-12-13 00:35:34"},{id:9,name:"Orcish",speakers:"Orcs, Half-Orcs",script:"Dethek",description:"Much like the folk who speak it, Orc is a harsh and violent language, full of sharp delivery and hard consonants.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:35:45",updatedAt:"2019-12-13 00:35:45"},{id:10,name:"Sylvan",speakers:"Fey, Centaurs, plant creatures",script:"Rellanic",description:"The language of the fey, Sylvan is one of the most linguistically static of all languages. Thought to be nearly as old as (language: Draconic) or (language: Abyssal), Sylvan has a tiny vocabulary, which has barely changed over the eons.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:36:05",updatedAt:"2019-12-13 00:36:05"},{id:11,name:"Undercommon",speakers:"Drow, Duergars, Xulgaths",script:"Rellanic",description:"Undercommon is the most widely spoken language of the Darklands. It evolved from (language: Elven) and was repurposed by the drow over the centuries to fit their new homelands. It orginally incorporated words from other languages, but eventually mutated so far that it was mutually unintelligible with its mother tongues.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:36:50",updatedAt:"2019-12-13 00:36:50"},{id:12,name:"Abyssal",speakers:"Demons",script:"Barazhad",description:"Some believe that Abyssal was the first language developed by the inhabitants of the Outer Sphere. Given the incredible rate of change within the tongue, this is very difficult to prove. Although it is the native language of the demons of the Abyss, it is also spoken by many devils, daemons, or others who have frequent dealings with races of the lower realms.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:37:05",updatedAt:"2019-12-13 00:37:05"},{id:13,name:"Aklo",speakers:"Deros, evil Fey, otherworldly monsters",script:"Aklo",description:"Aklo is a language found in remote pockets of the Darklands, and is thought to have otherworldly origins. It is believed to be the language of the serpentfolk but is also spoken by creatures as diverse as linnorms, neothelids, alghollthus, shoggoths, and gibbering mouthers. Mortals struggle to learn and speak it. It shares certain similarities with (language: Gnomish).",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:37:17",updatedAt:"2019-12-13 00:37:17"},{id:14,name:"Aquan",speakers:"Aquatic creatures, water elemental creatures",script:"Rellanic",description:"Aquan, from the Plane of Water, grew from a proto-elemental language which was the progenitor of all elemental languages. Much of its vocabulary is taken up with water-related terms. It is a guttural language with many long syllables made up of dense, throaty sounds, with affixes and inflections providing subtle shifts in meaning.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:37:31",updatedAt:"2019-12-13 00:37:31"},{id:15,name:"Auran",speakers:"Flying creatures, air elemental creatures",script:"Rellanic",description:'Auran is a soft-spoken, breathy language which shares a similar grammar with the other elemental languages. It is primarily spoken by those of the Elemental Plane of Air, and occasionally by other inhabitants of the world, where it is sometimes referred to as the "tongue of the heavens".',contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:37:48",updatedAt:"2019-12-13 00:37:48"},{id:16,name:"Celestial",speakers:"Angels",script:"Enochian",description:"Celestial is described as beautiful, yet alien in nature, since it developed among beings with thought patterns very unlike those of humanity. It shares aspects of its structure with both (language: Sylvan) and (language: Draconic), with few voiced consonants and lightly voiced vowels.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:37:59",updatedAt:"2019-12-13 00:37:59"},{id:17,name:"Gnoll",speakers:"Gnolls",script:"Common",description:'This language is hard for non-gnolls to understand and speak, as it is made up of countless barks, growls and yips. Like many other ancestral languages, its construction is a clear reflection of the cultural priorities of its speakers: gnoll has 37 words for the term "slave" and only two for "work".',contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:38:08",updatedAt:"2019-12-13 00:38:08"},{id:18,name:"Ignan",speakers:"Fire elemental creatures",script:"Iokharic",description:'The language of the Elemental Plane of Fire, Ignan is a quick, percussive language, said to emulate the popping of a fire. In some regions, Ignan is also known as the "tongue of fire" and is most commonly spoken in near volcanic mountain ranges.',contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:38:18",updatedAt:"2019-12-13 00:38:18"},{id:19,name:"Infernal",speakers:"Devils",script:"Barazhad",description:"Spoken predominantly in Hell and by those who traffic with it, Infernal is a concise language which requires precise speech. It contains many homophones in its vocabulary, leading to great confusion among novice speakers, as similar-sounding words can have widely varying meaning.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:38:28",updatedAt:"2019-12-13 00:38:28"},{id:20,name:"Necril",speakers:"Ghouls, intelligent undead",script:"Necril",description:"Necril is the muttering language spoken by the ravenous ghouls of the Darklands, but is also spoken by many intelligent undead throughout the world and by those who hunt them. It is a mixture of ancient and modern (language: Aklo) and (language: Undercommon), focusing on terms and concepts central to the ghouls' existence and morbid culture.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:38:42",updatedAt:"2019-12-13 00:38:42"},{id:21,name:"Shadowtongue",speakers:"Nidalese, Shadow Plane creatures",script:"None",description:"This strangely beautiful language is very mysterious in nature. It has no written form and when spoken it sounds like a whisper. It is believed to have an been influenced by (language: Infernal) and (language: Aklo).",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:39:10",updatedAt:"2019-12-13 00:39:10"},{id:22,name:"Terran",speakers:"Earth elemental creatures",script:"Dethek",description:"Like the other elemental languages, Terran sentences always begin with the subject, followed by the object and the verb. It is an extremely slow language and not meant to be rushed. The Plane of Earth's oldest earth elementals speak a version of Terran that is so ancient it is incomprehensible to any others, including native Terran speakers. It is believed this form of the language is that spoken when the Plane of Earth formed, and maybe from even before that time.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:39:33",updatedAt:"2019-12-13 00:39:33"},{id:23,name:"Druidic",speakers:"Druids",script:"Druidic",description:"This language has been guarded so vigilantly by the druids of the world that it remains a secret language to this day. Speakers of (language: Elven) or (language: Sylvan) may be able to discern a few individual words here and there, but even they remain baffled without a greater context to place them in.",contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:39:44",updatedAt:"2019-12-13 00:39:44"},{id:24,name:"Boggard",speakers:"Boggards, Gripplis",script:"Common",description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:39:44",updatedAt:"2019-12-13 00:39:44"},{id:25,name:"Shoony",speakers:"Shoony",script:"Common",description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:39:44",updatedAt:"2019-12-13 00:39:44"},{id:26,name:"Iruxi",speakers:"Lizardfolk",script:"Iokharic",description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:39:44",updatedAt:"2019-12-13 00:39:44"},{id:27,name:"Amurrun",speakers:"Catfolk, Lizardfolk",script:"Common",description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:39:44",updatedAt:"2019-12-13 00:39:44"},{id:28,name:"Tengu",speakers:"Tengu, Oni",script:"Tengu",description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:39:44",updatedAt:"2019-12-13 00:39:44"},{id:29,name:"Ysoki",speakers:"Ratfolk",script:"Ysoki",description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2019-12-13 00:39:44",updatedAt:"2019-12-13 00:39:44"},{id:54,name:"Androffan",speakers:"Androids",script:"Androffan",description:"To the ear, Androffan is clipped and sharp; in written form it is quite alien to other forms of writing on Golarion, using multiple dots to supplement a curved and graceful script.",contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-09 17:50:12",updatedAt:"2021-02-09 17:50:12"},{id:55,name:"Utopian",speakers:"Residents of Axis, aeons, inevitables, and axiomites",script:"Utopian",description:"Utopian is the language of Axis, aeons, inevitables, and axiomites. Aeons demonstrated to axiomites after the Convergence that the language is a combination of aeon principles and formulaic mathematical expression.",contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-09 17:50:12",updatedAt:"2021-02-09 17:50:12"},{id:56,name:"D'ziriak",speakers:"D'ziriak",script:null,description:"The d'ziriak are insect-like natives of the Shadow Plane who communicate using a language of their own also called D'ziriak. The language sounds quite simply like insect noises: a buzzing and a chittering noise.",contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-09 17:50:12",updatedAt:"2021-02-09 17:50:12"},{id:57,name:"Strix",speakers:"Strix",script:null,description:"The Strix language is a strange creole of Azlanti and (language: Infernal), and can be understood by those who speak both languages, adding further to the mystery of their origin and the possibility of some sort of supernatural punishment. The strix refer to their kind as itarii in their own language.",contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-09 17:50:12",updatedAt:"2021-02-09 17:50:12"},{id:61,name:"Alghollthu",speakers:"Alghollthus, Azarketi",script:null,description:"The language of alghollthus, also known as the Aboleth language, is one of the oldest on the face (and below the waters) of Golarion.",contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:62,name:"Azlanti",speakers:"High Seas, Mordant Spire",script:null,description:"Even though the language of the kingdom of Azlant has been lost for millennia, its linguistic legacy is carried on in such languages as Taldane, Polyglot, Hallit, and Varisian. The elves of the Mordant Spire refused to talk to anyone in anything but this ancient language, and act as guardians of the tongue just as they oversee the last remnants of the ancient continent above the waves. Phonemes from spoken Azlanti do not appear in modern Inner Sea languages. Certain traditional Chelish operas were still written in Azlanti.",contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:63,name:"Anadi",speakers:"Anadi",script:null,description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:69,name:"Jistkan",speakers:"Ancient constructs",script:null,description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:70,name:"Jyoti",speakers:"Jyotis",script:null,description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:74,name:"Protean",speakers:"Proteans",script:null,description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:75,name:"Requian",speakers:"Psychopomps",script:null,description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:78,name:"Sphinx",speakers:"Sphinxes",script:null,description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:84,name:"Arboreal",speakers:"Arboreals and other plant creatures",script:null,description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:85,name:"Caligni",speakers:"Calignis",script:null,description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:86,name:"Cyclops",speakers:"Cyclopes and associated creatures",script:null,description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:87,name:"Daemonic",speakers:"Daemons and their worshippers",script:null,description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:88,name:"Destrachan",speakers:"Destrachans",script:null,description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2021-02-21 17:49:02",updatedAt:"2021-02-21 17:49:02"},{id:122,name:"Rasu",speakers:"Conrasu",script:null,description:"__No Description__",contentSrc:"LOST-MWANGI",homebrewID:null,createdAt:"2021-06-24 22:10:12",updatedAt:"2021-06-24 22:10:12"},{id:123,name:"Goloma",speakers:"Goloma",script:null,description:"__No Description__",contentSrc:"LOST-MWANGI",homebrewID:null,createdAt:"2021-06-24 22:10:12",updatedAt:"2021-06-24 22:10:12"},{id:124,name:"Grippli",speakers:"Grippli",script:"None",description:"The grippli language is composed of croaks, groans, clicks, and squeaks. Their croaking voices make them hard to comprehend in any language other than their own. Other races can learn Grippli, but cannot truly master it without magic. Writing is taboo to the grippli; only the tribe mother is permitted to make written records. Grippli has no written form, but the mother can read and write in (language: Undercommon).",contentSrc:"LOST-MWANGI",homebrewID:null,createdAt:"2020-11-21 04:47:57",updatedAt:"2020-11-21 04:47:57"},{id:125,name:"Shisk",speakers:"Shisk",script:null,description:"__No Description__",contentSrc:"LOST-MWANGI",homebrewID:null,createdAt:"2020-11-21 04:47:57",updatedAt:"2020-11-21 04:47:57"},{id:212,name:"Hwan",speakers:"Hwan is also spoken by a sizable minority in the city-state of Goka.",script:null,description:"Hwan is the native language of the ethnic Tian-Hwan of Hwanggot.",contentSrc:"CRB",homebrewID:null,createdAt:"2021-12-18 23:01:44",updatedAt:"2021-12-18 23:01:44"},{id:213,name:"Okaiyan",speakers:null,script:null,description:null,contentSrc:"CRB",homebrewID:null,createdAt:"2021-12-18 23:01:44",updatedAt:"2021-12-18 23:01:44"},{id:398,name:"Arcadian",speakers:"Arcadians",script:"Common",description:"__No Description__",contentSrc:"CRB",homebrewID:null,createdAt:"2022-10-30 15:48:47",updatedAt:"2022-10-30 15:48:47"},{id:399,name:"Kashrishi",speakers:"Kashrishi",script:null,description:"__No Description__",contentSrc:"CRB",homebrewID:null,createdAt:"2022-10-30 15:48:47",updatedAt:"2022-10-30 15:48:47"},{id:400,name:"Ratajin",speakers:"Ratajin",script:null,description:"__No Description__",contentSrc:"CRB",homebrewID:null,createdAt:"2022-10-30 15:48:47",updatedAt:"2022-10-30 15:48:47"},{id:401,name:"Vishkanya",speakers:"Vishkanya",script:null,description:"__No Description__",contentSrc:"CRB",homebrewID:null,createdAt:"2022-10-30 15:48:47",updatedAt:"2022-10-30 15:48:47"}];for(const r of n){const{id:i,name:a,speakers:o,script:s,description:l}=r,u=await dr("create-language",{name:a,speakers:o,script:s,rarity:"COMMON",description:l,content_source_id:1});console.log(u)}Si({title:"Languages Imported",message:"The languages have been imported.",color:"blue",icon:null})}}async function hEt(){const e=await Ede("feat/all");console.log(e)}async function pEt(){return await Ede("trait/all")}function mEt(){return p.jsx(ns,{p:"sm",children:p.jsx(ta,{p:"sm",children:p.jsxs(Ae,{children:[p.jsx(zt,{order:3,children:"Import Legacy Content"}),p.jsx(Gr,{placeholder:"Select content type",data:[{value:"feat",label:"Feat"},{value:"trait",label:"Trait"},{value:"language",label:"Language"}],value:"",searchValue:"",onChange:e=>{const t=aT(e)?"ability-block":e,n=aT(e)?e:void 0;fEt(t,n)}})]})})})}function gEt(){return Sd("Admin Panel"),p.jsxs(it,{children:[p.jsx(uEt,{}),p.jsx(b5t,{}),p.jsx(sEt,{}),p.jsx(mEt,{})]})}const NK=[{category:"Western",title:"Hero",instructions:"The name should be someone who sounds heroic.",data:["**Thalia** the Thundermaiden","**Aragorn** the Rightful King of Gondor","**Mirabel** Starshield","**Thaedon** Guardian of the Ancients","**Caladan** Lord of the Cosmic Realm","**Kvothe** the Arcane Prodigy","Archangel **Avacyn**","**Valdrim** the Stormbringer","**Elysia** the Valiant","**Vaelin** the Braveheart of the Lost Realm","**Elysar** the Windwalker","**Tiriala** Moonbeam","Admiral **Beckett Brass**","**Alesha** Who Smiles at Death","**Lyria** Silvervoice","**Isolde** the Stormbringer","**Revan** Lord of the Thume","**Torrin** of the Broken Blade"]},{category:"Western",title:"Benevolent",instructions:"The name should be someone who is kind and loving. A friend.",data:["**Arwen** Mortal Queen","**Butterbur** Bree Innkeeper","**Emmara** Soul of the Accord","**Frodo Baggins**","**Melira** the Living Cure","**Samwise Gamgee**","**Selvala** Explorer Returned","**Astrid Peth**","**Bennie Bracks** Zoologist","**Gandalf** the White"]},{category:"Western",title:"Dark Lord",instructions:"The name should be something who sounds diabolical.",data:["**Ebondeath** Dracolich","**Brisela** Voice of Nightmares","**Ashcoat** of the Shadow Swarm","**Asmodeus** the Archfiend","Demonlord **Belzenlok**","**Erebos** God of the Dead","**Gollum** Obsessed Stalker","**Go-Shintai** of Hidden Cruelty","**Griselbrand** He Who Hungers","**Kaervek** the Spiteful","**Kalitas** Traitor of Ghet","**Korlash** Heir to Blackblade","**K'rrik** Son of Yawgmoth","**Mikaeus** the Unhallowed","**Nefarox** Overlord of Grixis","**Ob Nixilis** the Fallen","**Razaketh** the Foulblooded","**Seizan** Perverter of Truth","**Sheoldred** Whispering One","**Skithiryx** the Blight Dragon","**Yawgmoth** Thran Physician"]},{category:"Western",title:"Wizard",instructions:"The name should be for a wizard. Wise, ancient, and magical.",data:["**Arcanis** the Omnipotent","**Arjun** the Shifting Flame","**Azami** Lady of Scrolls","**Barrin** Tolarian Archmage","**Gadwick** the Wizened","**Gandalf** of the Secret Fire","**Gorion** Wise Mentor","**Jace** Vryn's Prodigy","**Naban** Dean of Iteration","**Naru Meha** Master Wizard","**Niv-Mizzet** the Firemind","**Orion** the Mystic Scholar","**Rayne** Academy Chancellor","**Riku** of Two Reflections","**Saruman** of Many Colors","**Teferi** Mage of Zhalfir","**Albus Dumbledore** Headmaster of Magic"]},{category:"Western",title:"Grembo",instructions:"The name should be of a small, dirty, sneaky, goofy creature.",data:["**Squidgle** Leaky-Toes","**Fremkin** Eater of the Last Piece of Pie","**Skipit** Fish Oil Salesman","**Dobby** the Free Elf","**Grimble** the Puddle Finder","**Smudge** the Dung Seeker","**Kib** the Stench Breather"]},{category:"Western",title:"Construct",instructions:"The name should be for an ancient construct.",data:["**Nosiron** the Sundering Colossus","**Acronis** the Time-Ward Sentinel","**Bosh** Iron Golem","**Golos** Tireless Pilgrim","**Liberator** Urza's Battlethopter","The **Peregrine Dynamo**","**Karn** Silver Golem"]},{category:"Ancestry",title:"Dwarf",instructions:"These should be dwarf names. Dwarves honor their children with names taken from ancestors or dwarven heroes, and it’s quite rare to invent a new name or to borrow a name from another culture for a child. When introducing themselves, dwarves tend to list their family and clan, plus any number of other familial connections and honorifics. Dwarven names usually contain hard consonants and are rarely more or fewer than two syllables.",data:["**Agna** the Forge Mistress","**Bodill** Warden of the Deeps","**Dolgrin** Champion of the Stoneskin Clans","**Edrukk** the Iron fist","**Grunyar** the Stoneheart Herald","**Ingra** the Everflame","**Kazmuk** the Runesmith","**Kotri** the Smoky-Eyed","**Lupp** Bringer of Silences","**Morgrym** Hammer of the Depths","**Rogar** the Alestorm Maker","**Rusilka** Healer of the Iron Vein","**Torra** the Gem Whisperer","**Yangrit** the Ruby-Eyed Shieldbearer"]},{category:"Ancestry",title:"Elf",instructions:"These should be elf names. An elf keeps their personal name secret among their family, while giving a nickname when meeting other people. This nickname can change over time, due to events in the elf’s life or even on a whim. A single elf might be known by many names by associates of different ages and regions. Elven names consist of multiple syllables and are meant to flow lyrically—at least in the Elven tongue. They so commonly end in “-el” or “-ara” that other cultures sometimes avoid names ending in these syllables to avoid sounding too elven.",data:["**Aerel** the Whispering Wind","**Amrunelara** Princess of Moonlight","**Caladrel** Keeper of the Forest Depths","**Dardlara** the Star Voyager","**Faunra** the Enchantress of Emerald Glades","**Heldalel** the Archer of Ethereal Darkness","**Jathal** the Crimson Blade","**Lanliss** the Silent Shadow","**Oparal** the Guardian of Ancient Lore","**Seldlon** the Flame Warden","**Soumral** the Sage of Sunlit Seas","**Talathel** the Sentinel of Sorrowful Skies","**Tessara** the Dreamweaver","**Variel** the Songbird of Venus Dusk","**Yalandlara** the Maiden of Mystic Meadows","**Zordlon** the Storm Bringer"]},{category:"Ancestry",title:"Gnome",instructions:"These should be gnome names. Gnome names can get quite complex and polysyllabic. They have little interest in familial names, and most children receive their names purely on a parent’s whim. Gnomes rarely concern themselves with how easy their names are to pronounce, and they often go by shorter nicknames. Some even collect and chronicle these nicknames. Among gnomes, the shorter the name, the more feminine it’s considered to be.",data:["**Abroshtor** the Enchanted Tinkerer","**Bastargre** the Stonehearted","**Besh** the Fabled Mechanist","**Fijit** the Dreamweaver","**Halungalom** the Star Navigator","**Krolmnite** the Ore Whisperer","**Neji** the Illusionist Alchemist","**Majet** the Clockwork Genius","**Pai** the Sapphire Artisan","**Poshment** the Spellbound Botanist","**Queck** the Mystic Forger","**Trig** the Tempest Tamer","**Zarzuket** the Rune Guardian","**Zatqualmie** the Silvertongue Enigma"]},{category:"Ancestry",title:"Goblin",instructions:"These should be goblin names. Goblins keep their names simple. A good name should be easy to pronounce, short enough to shout without getting winded, and taste good to say. The namer often picks a word that rhymes with something they like so that writing songs is easier. Since there aren’t any real traditions regarding naming in goblin culture, children often name themselves once they’re old enough to do something resembling talking.",data:["**Ak** the Sly Trickster","**Bokker** Flame-Keeper of the Depths","**Frum** Ravager Below the Mountains","**Guzmuk** the Shadow Skulker","**Krobby** Guardian of the Jade Crypt","**Loohi** Whisperer in the Caverns","**Mazmord** the Crimson Warrior","**Neeka** the Chieftain's Cunning Daughter","**Omgot** Bane of the Bright Daylight","**Ranzak** the Ruthless Marauder","**Rickle** the Mischievous Gadgeteer","**Tup** the Underbridge Menace","**Wakla** the Crafty Trap Smith","**Yonk** the Fierce-Eyed Warcrier","**Zibini** Sorcerer of the Potion Cauldron"]},{category:"Ancestry",title:"Halfling",instructions:"These should be halfling or hobbit names. Halfling names are usually two to three syllables, with a gentle sound that avoids hard consonants. Preferring their names to sound humble, halflings see overly long or complex names as a sign of arrogance. This goes only for their own people, however—halflings have names that suit them, and they understand that elves and humans might have longer names to suit their own aesthetics. Humans in particular have a tendency to refer to halflings by nicknames, with “Lucky” being common to the point of absurdity.",data:["**Anafa** the Sprightly Wanderer","**Antal** Keeper of Treasures","**Bellis** the Evercheerful","**Boram** the Stout-hearted Brewer","**Etune** Whisperer of the Wind","**Filiu** the Leaf Dancer","**Jamir** Guardian of the Harvest","**Kaleb** the Gentle Storyteller","**Linna** the Night Singer","**Marra** the Hearth Keeper","**Miro** the Pipe-weed Farmer","**Rillka** Warden of the Riverbanks","**Sistra** the Jovial Baker","**Sumak** the Star Reader","**Yamyra** the Berry Gatherer"]},{category:"Ancestry",title:"Azarketi",instructions:"These should be azarketi names. Azarketis often take the names of nautical, weather, or geographical features important to the azarketi's family. Other azarketi groups will choose human names in order to encourage conformity with surface cultures. Some azarketi names have been passed down through so many generations that they still use ancient Azlanti roots or refer to bodies of water that no longer exist.",data:["**Aft** the Undaunted Voyager","**Aliz** Mistress of the Aquatic Realm","**Cascade** the Tidal Sorceress","**Delta** the Stormbringer","**Harbor** Guardian of Safe Shores","**Ilani** the Seaborn Enchantress","**Inkua** the Ebb-Flow Seer","**Jib** the Sagasail","**Lagoon** the Ethereal Mariner","**Lobay** the Kraken Whisperer","**Marine** the Serpentbane","**Tidal** the Wave Warden","**Windward** the Gale Dancer","**Zarket** the Trident King"]},{category:"Ancestry",title:"Catfolk",instructions:"These should be catfolk names. Catfolk are given short names in their youth. Adolescent catfolk are free to choose a different name when they first leave home, though some simply keep the name they’ve gotten used to. Catfolk love to add titles and honorifics to their names. Some catfolk use their titles exclusively among non-catfolk, and so become known by epithets like Six Fates, Fiend Killer, or Mistcloak.",data:["**Alyara** Dreamweaver","**Crinto** the Claw-sworn","**Drewan** Starwhisker","**Espes** the Whispering Predator","**Ferrus** Thunderpurr","**Gerran** Keeper of the Veiled Secrets","**Halhat** Flamefoot","**Hoya** the Starlit Huntress","**Ruun** the Lightning-eyed Warrior","**Sevastin** the Silent Roar","**Tespa** the Moonshadow Dancer","**Aenaris** Whisperwind","**Yonsol** the Light-footed Wanderer","**Zakkar** the Fireheart Voyager","**Zathra** the Spirit-tailed Mystic","**Baishan** Stormpelt"]},{category:"Ancestry",title:"Fetchling",instructions:"These should be fetchling names. Fetchlings adapted to a new world, and their names do the same. These names commonly include phonetic qualities from multiple languages or are simply local cultural names that fetchling families find compelling. Other dominant naming conventions include flowing sounds, harsh or hissing consonants, and surnames that refer to important relatives or community traits.",data:["**Amelisce** the Shadow Weaver","**Ashka** of the Ethereal Voids","**Drosil** the Nightbreath","**Eitsanara** the Twilight Whisperer","**Eomva** the Illusionary Trickster","**Ikyamek** the Stargazer of Shadows","**Inva** the Eclipsed Enigma","**Jegan** the Gloomblade","**Lirtae** the Sable Seer","**Meotrai** the Obsidian Sorcerer","**Sorsul** the Veiled Vagabond","**Zokaratz** the Dusk Dweller"]},{category:"Ancestry",title:"Gnoll",instructions:"These should be gnoll names. Newborn kholo are given a root name, typically that of a bone, plant, or animal (though never Hyena, as this is considered narcissistic and arrogant). As a gnoll reaches certain milestones in life, they add descriptors to their name. Root names are often passed down through families, while descriptors are chosen to fit the gnoll's personality, usually in raucous ceremonies.",data:["**Baobab** Rooted in Magic","**Jackal** the Cunning Trickster","**Onyx Elephant** in Shadows","**Red Thorn** Heart of the Crimson Rose","**Unbent Iron Reed** Stand of the Steadfast Soldier","**White Acacia** Blossom in the Moonlight","**Wistful Tooth** Bidden Memories of the Wild","**Woodpecker** Feathered Drumbeat of the Forest"]},{category:"Ancestry",title:"Grippli",instructions:"These should be grippli names. Grippli names often include resonant vowels and chirped consonants that remain difficult for non-gripplis to vocalize properly. Gripplis that travel widely often adopt one or more names more easily replicated by their associates.",data:["**Aalpo'ol** the Enchanted Seer","**Bogwynne** Mistress of the Silent Swamps","**Ctaprak** Holder of the Moonstone Sceptre","**Eegru** the Mystic Raincaller","**Gpoun** the Watercolor Whisperer","**Gruoksh** the Keeper of Emerald Shadows","**Hrrauti** Dancer in the Twilight Mists","**Iopo** the Dawn's Serenade","**Iykiki** Trill of the Golden Frogs","**Kyrsiik** the Firefly Weaver","**Mhruugu** the Hymn of Midnight Marsh","**Oplugo** the Orchid's Guardian","**Quaasol** the Sunstone's Secret","**Yolkuu** the Jade Circlet's Verity","**Ztaal** the Guardian of the Sapphire Springs"]},{category:"Ancestry",title:"Hobgoblin",instructions:"These should be hobgoblin names. Like goblins, hobgoblin names tend to be simple, though hobgoblin names usually sound more guttural and forceful. On rare occasions, hobgoblins will alter their names, keeping the core but adding aspects, usually in response to an extreme trauma or a life-altering event. Hobgoblins have no surnames, considering them both pointless and presumptuous; an individual’s merits and demerits are to be earned by their actions, not by an association with a particular lineage.",data:["**Aze** the Dreamweaver","**Druknar** Guardian of the Shadow Falls","**Ghargam** Sovereign of Emerald Glen","**Hathkren** the Spiritcaller","**Imakra** the Mystic Flame","**Kralaeng** Wielder of the Thunder Hammer","**Mazkol** the Stone Hearted","**Olzu** Keeper of Whispering Winds","**Rezal** the Frostbound","**Sivkrag** the Breaker of Chains","**Volmak** the Iron Fist","**Zornum** Master of the Midnight Sun"]},{category:"Ancestry",title:"Kitsune",instructions:"These should be kitsune names. While kitsune have some traditional names, they're more likely to use names that are unremarkable in their local society, the better to pass unnoticed. Some have different names for each form: a kitsune name for their kitsune form, a regional name for a tailless form, and possibly no name at all for a fox form.",data:["**Hamako** the Nine-Tailed Conqueror","**Haohiko** the Flame-touched Whisperer","**Kitsukou** Jewel of the Mystic Flame","**Kon** the Shadow Embraced Enigma","**Kwan-la** the Enchantress of Moonlight","**Talaro** the Sage of the Crimson Forest"]},{category:"Ancestry",title:"Leshy",instructions:"These should be leshy names. Leshies choose and change their names multiple times throughout their lives. These names often represent a facet of their personalities or values, though another common naming convention is to use descriptions of a natural feature they admire. Some leshies even use a cycle of names that changes to align with natural phenomena, such as names based upon the season or the time of day.",data:["**Scarlet in Summer** the Blossoming Harbinger","**Verdant Taleweaver** the Ancient Lorekeeper","**Lurking Hunter** the Vigilant Predator","**Masterful Sun Drinker** the Solar Enchanter","**Noon Sky Evening Song** the Lifegiver","**Snowy Pine Branch** the Kind","**Cascading Rapids** the Torrential Voyager"]},{category:"Ancestry",title:"Lizardfolk",instructions:"These should be lizardfolk names. Lizardfolk names come from their ancient language and tend to be traditional. Names are typically chosen by the clan’s astrologer in accordance to omens and which star signs are ascendant when an iruxi egg hatches, though occasionally an iruxi’s parents may name a hatchling for an ancestor or a beloved historical hero.",data:["**Arasheg** the Twilight Astrologer","**Barashk** the Jade Sentinel","**Essaru** Sovereign of Emerald Marshes","**Tizkar** the Skull Collector","**Enshuk** Warden of the Winding Rivers","**Gishkim** the Jade Claw Wielder","**Hazi** the Silent Predator","**Inishish** Guardian of Constellations","**Kutak** the Crimson Crested","**Nasha** the Sun-Stalker","**Shulkuru** the Bonekeeper","**Utakish** the Opalescent Oracle","**Zelkekek** the Zephyr of the Ziggurat"]},{category:"Ancestry",title:"Nagaji",instructions:"These should be nagaji names. Nagaji names vary depending on what region of the world they occupy, but they tend to possess short vowels when they have any at all. Nagaji usually name themselves or allow groups of siblings to name each other as children, a tradition that often sees nagaji eagerly shedding these names for new ones when they reach adulthood.",data:["**Adesha** of the Serpent Altar","**Garija** Whisperer of the Emerald Scales","**Kaya** Warden of the Obsidian Coils","**Kuwana** the Sapphire Shieldbearer","**Onok** Conquistador of the Azure Fang","**Paravata** Champion of the Slithering Shadows","**Sheni** Sentinel of the Opal Oasis","**Takasha** Guardian of the Copper Carapace","**Tasi** Herald of the Pythoonstaff","**Ulu** Perceiver of the Hissing Heavens","**Vaski** Emerald Enchanter","**Yulbin** Bringer of the Whispering Whirlwind"]},{category:"Ancestry",title:"Orc",instructions:"These should be orc names. Orcs have a harsh, guttural language, and their naming conventions are no exception. Many orc names are simply the Orcish word for a particularly desirable trait, such as great strength, height, or ferocity. Orcs commonly use either their hold name or a name referencing a particularly memorable accomplishment as their surname.",data:["**Arkus** the Ironbane","**Ausk** the Fierce-Eyed","**Durra** the Mountain's Roar","**Grask** the Bloodied Fury","**Grillgiss** Earthbreaker","**Krugga** the Skullsplitter","**Mahja** Wargrider","**Murdut** the Ember's Rage","**Ollak** the Thunderstrike","**Onyat** Moon's Howler","**Thurk** the Silent Blade","**Uirch** the Demon Slayer","**Unach** of the Black Blade"]},{category:"Ancestry",title:"Kobold",instructions:"These should be kobold names. A young kobold's given name is rarely more than a syllable or two. However, as they age, achieve status, and accomplish great deeds, kobolds add more syllables to their names, imitating a common draconic practice. Kobolds rarely have surnames except in an effort to better fit into a community, in which case they typically adopt the surname of an inspiring figure in that group.",data:["**Azrnak** the Firebreather","**Draahzin** the Clawed Menace","**Enga** the Shadow Whisperer","**Fazgyn** the Crystal Guardian","**Fazij** the Tome Keeper","**Jekkajak** the Tunnel Brute","**Kib** the Silver Tailed","**Kirrok** the Infernal Scale-bearer","**Mirkol** the Gloom Watcher","**Tarka** the Echo of Abyss","**Urkak** the Cavern Chieftain","**Varshez** the Eye of the Deep","**Vroklan** the Scale-carved Warrior","**Zekstikah** the Ember Seeker","**Zgaz** the Fang of Underworld"]},{category:"Ancestry",title:"Ratfolk",instructions:"These should be ratfolk or ysoki names. Every ysoki family has perhaps two dozen names that have been passed down from generation to generation, sometimes with minor alterations or alternative nicknames. A grandfather might be Grivver, for example, while his daughter goes by Griva and her son is simply Griv. Ratfolk are often assigned nicknames and sobriquets by humanoids they interact with, but most ysoki find these names distasteful and endure them only when outside ysoki communities.",data:["**Barnan** the Coinfinder","**Chikis** the Shadowmancer","**Chonan** the Silent Weaver","**Deto** of the Twisted Tunnels","**Jass** the Whispering Voice","**Jix** Scavenger of the Beyond","**Knagi** of the Hidden Laugh","**Kubi** the Soulkeeper","**Lolo** the Gleaming Eye","**Ninnec** the Mysterious Enigma","**Nos** the Long-Tailed Sage","**Rak** the Bane of Rats","**Renzi** the Wanderer of the Warrens","**Skigim** the Dust Dancer","**Tali** the Moon Seer","**Zess** the Truth Sniffer"]},{category:"Ancestry",title:"Tengu",instructions:"These should be tengu names. Though roosted tengus tend toward more traditional names with the hard consonants often seen in the Tengu language, migrating tengus’ tendency to readily absorb and repurpose the culture of those around them has led to names that combine elements of whatever languages suited the namer’s fancy.",data:["**Arkkak** the Wind Whisperer","**Chuko** Keeper of the Silver Wind","**Dolgra** the Storm Bearer","**Dorodara** the Feathered Blade","**Kakkariel** Shadow of the Mountain Peak","**Kora** the Echo in the Mist","**Marrak** Sentinel of the Silverpine","**Mossarah** the Mystic Quill-Wielder","**Pularrka** the Caw of Midnight","**Rarorel** the Pretender","**Ruk** the Silent Feather","**Tak-Tak** the Ruby-Faced","**Tsukotarra** Shield of the Crescent Moon"]},{category:"Ancestry",title:"Vanara",instructions:"These should be vanara names. Newborn vanaras aren't given names other than descriptors of their infant personalities or habits, like “Grip-Hand” or “Wailer.” When they learn to speak, vanaras are given another name based on important historical or mythological figures, or they're given the name of a specific ancestor they resemble in appearance or attitude (or whom their community hopes they'll grow to resemble). The chosen name usually contains consonants or vowels the young vanara frequently uses, as vanaras don't see a lot of use in giving someone a name they can't easily pronounce.",data:["**Ashpaka** the Monkey Prince","**Chichipi** Guardian of Jungle Mysteries","**Haangeno** the Wise Sage","**Hasa** the Laughing Trickster","**Huanu** the Keeper of Ancient Secrets","**Kana** the Silent Shadow","**Nammem** the Vigil","**Roprutu** Bearer of the Unseen Sword","**Thathona** the Sacred Guardian","**Unulu** the Whispering Wind","**Vivatu** of the Ruby Orb"]},{category:"Ancestry",title:"Anadi",instructions:"These should be anadi names. Anadi names are given by the members of the web marriage that raised them. Each parent contributes a single syllable, usually the first, from their own name. Older anadi who feel their identity has settled often take on or are given a phrase-title to honor them as well. Anadi who live among human populations rarely take a cover name, but some might adopt one if their given name strongly contrasts the norm in the local culture.",data:["**Altava** Weaver of Shadows","**Anavachti** the Opulent Spinner","Strings-On-The-River **Inkeelah**","**Kerialnamu** the Orb Spinner of Destiny","**Maracha** the Silk Tie of Souls","Leaves-Shelter-Her-Feet **Naiala**","**Orvasa** Harbinger of the Silk","**Reloana** the Silken Matriarch","Silk-Strong-As-Iron **Rivuken**","**Velachamon** Weaver of the Ephemeral Web"]},{category:"Ancestry",title:"Android",instructions:"These should be android names. Androids adopt the naming conventions of their surrounding societies, while those raised among their own kind instead select a single name that utilizes Androffan phonology. Occasionally, such androids add a numerical designation to their names, denoting how many generations their body has hosted life as a kind of homage to their bloodline.",data:["**Anati** the Enchanted Automaton","**Daniv** Lord of the Circuit","**Era-4** the Timeless Mechanoid","**Feralia** the Feral Machine","**Gelegor** Guardian of the Iron Throne","**Ilgos-5** the Fifth Sentinel","**Koresh** Master of Hidden Codes","**Oris** the Silent Cyborg","**Prime** the Immortal Processor","**Urdun** the Arcane Artificer"]},{category:"Ancestry",title:"Automaton",instructions:"These should be automaton names. An automaton typically keeps the name they had before their transformation into a construct, if they can remember it. Even when other memories fade, memory of their name often remains. As such, many automatons have names with Jistkan origins. Second most common are automatons who had to give themselves a new name, as they lost their memories of the old one at some point. Those automatons that particularly believed in the cause of the Artificer Conclave might instead take the name of one of the conclave's members in honor of the cause that they gave their body to support. Some automatons prefer to change their names over their lifetimes, either selecting a new name from a culture they encountered or adding a title to represent a significant moment in their lives. In some cases an automaton will use a particularly cherished title in place of any other name.",data:["**Alnhaman** the Stone Hearted","**Busmin** Keeper of Forgotten Lore","**The Doleful**","**Enoh** the Time Bender","**Himar** the Light Bringer","**Kantral** Keeper of Sacred Oaths","**The Kindred**","**Numinar** the Voice of a Thousand Stars","**Scholar** the Knowledge Seeker","**Tehkis** the Web Weaver","**Wayfarer** the Eternal Wanderer","**Yulmian** the Silent Guardian"]},{category:"Ancestry",title:"Conrasu",instructions:"These should be conrasu names. Conrasus have little in the way of consciousness as others understand it before they self-actualize and leave the nursery-towns where they sprouted. That includes a name, a concept of gender, and even the passage of time beyond their little bubbles—these are picked up in the wider world. As a result, a conrasu might have nearly any appellation.",data:["**Automa** the Starseed Artisan","**Azubu** Harbinger of Celestial Cadence","**Dumi** the Silent Resonance","**Emeka** Architect of Conduits","**Ganizadi** Guardian of Harmony","**Locu** Echo within the Universe's Loom","**Incanes** the Timeless Enigma","**Radi** Weaver of Light","**Shell** Sculptor of the Æther","**Weave** Choreographer of Starlight Patterns"]},{category:"Ancestry",title:"Fleshwarp",instructions:"These should be fleshwarp names. Fleshwarps can come from—and thus have names from—any culture or ancestry, but some give themselves new names after being transformed, whether to celebrate the change, recognize a new phase of their lives, or conceal their past identity. Many fleshwarps also carry a descriptive nickname granted to them by others, such as “Triple Handed,” “Barkfoot,” or “Many-Mouth.” Fleshwarps don't keep nicknames they find personally offensive, but they tend to keep ones that describe their distinctive appearances or that are given by people they care about.",data:["**Borble** the Triple Handed","**Dag** Keeper of Whispers","**Feff** the Silent Eruption","**Hurn** the Twisted Seer","**Kemp** Barkfoot","**Omber** the Shallow Depths","**Ostro** the Wandering Star","**Shurni** the Whispering Echo","**Surm** the Many-Mouth","**Wumpin** the Timeworn Stone"]},{category:"Ancestry",title:"Ghoran",instructions:"These should be ghoran names. Most ghorans pick a new name with each incarnation, usually selecting a name or concept that they found pleasing in a past life. Occasionally, a ghoran might reuse a name for several incarnations in a row, especially if remaining in a community of other peoples, though each incarnation is still a distinct person.",data:["**Amsalu** the Forest Whisperer","**Ash** the Ember Soul","**Emnet** the Resilience of Life","**Sieri** the Blossom Seer","**Ooniel** the Unseen Guardian","**Arshmarish** the Rooted Sage","**Velt** the Verdant Heart","**Delphinium** the Lustrous Bloom","**Hach** the Silent Stalk","**Emerald** the Enchanted Leaf","**Sable** the Shade of Nightshade"]},{category:"Ancestry",title:"Goloma",instructions:"These should be goloma names. A goloma's true name is kept among golomas, as there are hundreds of cautionary tales of what could happen if another creature learns a goloma's true name. Names tend to lack soft syllables, which golomas often struggle to pronounce, and typically consist of hard consonants and individually enunciated vowels instead. Among other people, golomas tend to use names that are intended to be intimidating, taking elements and sounds from Aklo, Necril, or words from local languages that seem to cause strong reactions.",data:["**Biqkuul** the Silvan Phantom","**Ehbouja** the Timber-faced Horror","**Haamaah** the Many-Eyed Marauder","**Kouzo** Warden of the Woodland Shadows","**Quaerjii** the Grove Ghoul","**Tebaazu** the Enigma of Elms","**Uruueda** the Forest's Mystifying Fear","**Zekuukeu** the Vale-Eyed Stalker"]},{category:"Ancestry",title:"Kashrishi",instructions:"These should be kashrishi names. The empathic sense of a kashrishi has its own “mental fingerprint” that's unique to each member of the species, and this mental fingerprint can be conveyed through psychic communications as a name. Kashrishi who adventure with non-kashrishi often adopt descriptive names that their companions can more easily speak and remember.",data:["**Climber** the Peaks' Whisperer","**Firehorn** the Inferno Warden","**Guardian** the Sentinel of Empathic Shields","**Healer** the Harmoniser of Ailments","**Lantern** the Luminary of Hidden Paths","**Mother** the Beacon of Life's Tapestry","**Scout** the Seer of Unseen Trails","**Softhand** the Conduit of Gentle Touches","**Tempest** the Stormshaper of Fates","**Warrior** the Vanguard of Resilient Spirits"]},{category:"Ancestry",title:"Poppet",instructions:"These should be poppet names. Poppets generally choose their own names, usually descriptive nicknames based on their materials, patterns, size, or demeanor. They tend to pick up and shed nicknames throughout their lives, and they happily adopt nicknames given to them by people they like. A poppet fashioned to look like a particular person, such as a doll sewn to resemble a deceased child, might proudly take the name of that person.",data:["**Burlap** the Child's Guardian","**Buttoneyes** the Watcher of Realms","**Checker** the Guardian of the Hearth","**Clockwhirr** the Living Timepiece","**Fivestitch** the Seer of Fates","**Nettle** the Bringer of Courage","**Scramble** the Spirit of Mischief","**Stuffing** the Heart of Comfort","**Taffeta** the Enchantress of Elegance","**Tattercap** the Guardian of Lost Things"]},{category:"Ancestry",title:"Shisk",instructions:"These should be shisk names. Shisk names are usually granted by their parents, though these names often have secret meanings known only to their families. They are often filled with sibilant syllables, occasionally punctuated by sharp vowels.",data:["**Adomssha** the Bringer of Obscure Truths","**Asjossa** the Silent Whisperer of Mountain Shadows","**Chishinsa** the Benevolent Keeper of Forbidden Wisdom","**Dalissho** the Solitary Wanderer in Midnight Tunnels","**Lessia** the Harbinger of Secretive Echos","**Lishassha** the Guardian of Arcane Knowledge","**Somissu** the Clandestine Chronicler of the Underearth","**Quinshu** the Relic Reaper of the Inter-darkness"]},{category:"Ancestry",title:"Shoony",instructions:"These should be shoony names. With their strong family values and emphasis on found friends, it’s no wonder that shoonies take particular pride in naming their children after other loved ones. Shoony names are short, guttural, and often sound like loose strings of unassociated vowels and soft consonants to people of other ancestries. Shoonies value names and take great care to learn and speak the correct pronunciations of their friends’ names.",data:["**Ahogo** the Peaceful Artisan","**Arnbin** the Diplomatic Watchman","**Bighmor** the Tenacious Craftsman","**Bondin** the Resilient Philosopher","**Domwurd** the Enduring Negotiator","**Ebmeur** the Industrious Guardian","**Gopor** the Assiduous Diplomat","**Gurna** the Persistent Ambassador","**Hiemgur** the Stubborn Defender","**Mufurlo** the Resourceful Trader","**Oriog** the Sturdy Peacemaker","**Pulumar** the Steadfast Builder","**Raliamar** the Tireless Mediator","**Ruggion** the Doughty Advocate","**Uhulrig** the Staunch Pacifist","**Ungrin** the Relentless Worker"]},{category:"Ancestry",title:"Skeleton",instructions:"These should be skeleton names. No widespread naming convention exists for skeletons. When necromancers bother to name skeletons they've raised, they typically choose names that suit their own tastes, the way one would name a pet. Others might be named for their role or job. Skeletons with their memories intact might choose to keep their name from when they were alive, but others might choose new names based on their undead experiences.",data:["**Clatterjaw** the Bones of Discord","**Creaker** the Whispering Contemplator","**Doorstop** the Halted Guardian of Realms","**Final Sacrifice** the Last Martyr of Death","**Gochiyo** the Eerily Silent Warlock","**Lectern** the Stoic Oracle of Fate","**Macefodder** the Forlorn Shield in Eternal Battle","**Sixth Lancer** the Spectral Harbinger of War","**Skulldyr** the Skulllord of Dark Corruption","**Xelim** the Ancient Magister of Decay"]},{category:"Ancestry",title:"Sprite",instructions:"These should be sprite or fairy names. Sprite names are based entirely on their parents' whimsy. Sprites often adopt additional monikers later in life or change those assigned to them at birth; this is neither frowned upon nor considered abnormal.",data:["**Bree** the Whisper of the Thorned Willow","**Plumgrass** Healer of the Midnight Meadow","**Cowrie** the Small but Mighty","**Flit** the Fluttering Flame of the Silver Woods","**Moth** the Enchanting Specter of the Moonlit Shadows","**Zephyr** Carver of the Celestial Breeze","**Naatalu** the Benevolent","**Pinebrush** Sentinel of the Evergreen Eternity","**Zandivar** Maestro of the Stardust Symphony"]},{category:"Ancestry",title:"Strix",instructions:"These should be strix names. Strix names consist of sounds that are reminiscent of chirping, screeches, or trilling by various birds, and their naming conventions are influenced primarily by tradition and spirituality. Strix in small communities might share a common syllable among all their names to express their unity. Due to their deep affection for their family members, naming children after other loved ones is very common, occasionally with an additional syllable or slight change to the pronunciation.",data:["**Chiit-iir** the Whisperer of Shadows","**Cicreeti** the Storm's Songstress","**Ikatarii** the Flames of Destiny","**Irkoata** Holder of the Mystic Orb","**Kaata** the Midnight Wanderer","**Kiilo** the Spirit Whisperer","**Kirii** the Starforged Warrior","**Rahka** Queen of the Silver Sands","**Roatatwiil** the Tyrant of Lost Realms","**Turiilo** the Bringer of Tranquil Seas","**Turuk** the Skybound Titan","**Twilii** the Dance of the Moonlight"]},{category:"Ancestry",title:"Vishkanya",instructions:"These should be vishkanya names. Vishkanyan names often include short vowel sounds in the middle of the name, with a large number of fricative consonants pronounced most accurately with a forked tongue. Names are often chosen from momentous events in vishkanyan history or from matters related to the maternal line of the child. When they go through significant life events, vishkanyas may choose new names for themselves, and many often do so multiple times. Each name represents an important part of the individual's story—who they were, and who they have become.",data:["**Ashath** Venom's Whisper","**Casuthis** of Guiding Hands","**Enysi** Shadow of the Serpent Star","**Izith** the Jade Fang","**Othasee** the Aurora Adder","Riddle of **Esaviz**","**Salthazar** Crimson Coil","**Thasi** the Ragebreaker"]}];async function vEt(e,t){var s,l,u,c,d,f;const n=(l=(s=e.details)==null?void 0:s.class)==null?void 0:l.name,r=(c=(u=e.details)==null?void 0:u.ancestry)==null?void 0:c.name,i=(f=(d=e.details)==null?void 0:d.background)==null?void 0:f.name;let a=null;for(const h of NK)if(h.title.toLowerCase()===(n==null?void 0:n.toLowerCase())){a=h;break}else if(h.title.toLowerCase()===(r==null?void 0:r.toLowerCase())){a=h;break}a||(a=NK.find(h=>h.title.toLowerCase()==="hero"));let o;return i&&(o=`Background: ${i}`),await yEt(a,t,o)}async function yEt(e,t,n){const r=`
    Please generate ${t} fantasy name for something like D&D or MTG. It should be a first name and title. Please make the first name bold in markdown.

    ${e.instructions}

    ${n||""}

    ### Examples:
    ${e.data.join(`
`)}
  `,i=await CO(r);return i?i.split(`
`).map(o=>o.trim()).filter(o=>o.length>0):[]}const bEt="_control_m6zj3_1",wEt="_link_m6zj3_15",xEt="_chevron_m6zj3_31",t_={control:bEt,link:wEt,chevron:xEt},SEt="_body_1v3kx_1",CEt="_track_1v3kx_8",EEt="_thumb_1v3kx_15",kEt="_label_1v3kx_30",AEt={body:SEt,track:CEt,thumb:EEt,label:kEt};function ry({icon:e,label:t,initiallyOpened:n,links:r,onLinkChange:i,onEnableAll:a}){ht();const[o,s]=Ct(an),l=Array.isArray(r),[u,c]=j.useState(n||!1),d=(l?r:[]).sort((f,h)=>f.label.localeCompare(h.label)).map((f,h)=>p.jsxs(Ae,{gap:0,children:[p.jsx(pe,{component:"a",className:t_.link,children:p.jsx(Yp,{label:f.label,size:"xs",checked:f.enabled,onChange:m=>i&&i(f.id,m.target.checked),classNames:AEt})},f.label),p.jsxs(at,{shadow:"md",position:"top",openDelay:1e3,withinPortal:!0,withArrow:!0,children:[p.jsx(at.Target,{children:p.jsx(bt,{mr:40,color:"gray.9",variant:"transparent",size:"xs",radius:"xl","aria-label":"Source Info",onClick:()=>{s({type:"content-source",data:{id:f.id}})},children:p.jsx(uR,{size:"0.6rem",stroke:1.5})})}),p.jsx(at.Dropdown,{px:10,py:5,children:p.jsx(pe,{size:"sm",children:"Open Source Info"})})]})]},h));return p.jsxs(p.Fragment,{children:[p.jsx(Hn,{onClick:()=>c(f=>!f),className:t_.control,children:p.jsxs(Ae,{justify:"space-between",gap:0,children:[p.jsxs(Z,{style:{display:"flex",alignItems:"center"},children:[p.jsx(gf,{variant:"light",size:30,children:p.jsx(e,{style:{width:me(18),height:me(18)}})}),p.jsx(Z,{ml:"md",children:t}),p.jsxs(ft,{ml:"md",variant:"default",children:[p.jsx(pe,{fz:"sm",c:"gray.5",span:!0,children:r==null?void 0:r.filter(f=>f.enabled).length}),p.jsxs(pe,{fz:"sm",c:"gray.5",span:!0,children:["/",r==null?void 0:r.length]})]})]}),l&&p.jsx(YRe,{className:t_.chevron,stroke:1.5,style:{width:me(16),height:me(16),transform:u?"rotate(-90deg)":"none"}})]})}),l&&p.jsx(xl,{in:u,children:p.jsx(Z,{style:{position:"relative"},children:d.length>0?p.jsxs(p.Fragment,{children:[d,p.jsx(mt,{style:{position:"absolute",top:-30,right:45},variant:"outline",color:"gray.5",size:"compact-xs",onClick:a,children:"Enable All"})]}):p.jsx(pe,{pl:60,py:5,fz:"sm",fs:"italic",c:"dimmed",children:"No content sources found for this section!"})})})]})}const DK={ai_generated:[{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/4A5D933E-BD66-4B30-A757-604450FEFB68.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/06A9B011-B71B-4E73-92B3-7CDB2F3EC817.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/4E5C69FC-9139-481D-B417-8113B5571A91.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/F43532E8-BE7B-42F9-B474-A632CFDD5490.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/8BC4F14B-B1AF-4BAB-983F-BD9CC4D2F115.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/7298B278-9F5A-4064-A378-1B0F84B22C04.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/74733B57-3B0A-4561-B01F-C1A107CFC55A.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/8CEF328A-7F5B-4895-ABDA-749C3F6C134F.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/A92CDB69-AAA5-4243-9D43-BE8EB3CD8409.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/E65E4D68-5DD4-431D-B4E6-0EAABC7FBC91.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/1FFD4BA9-5D30-4E03-9FCE-E424158C2658.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/6D8350F0-E9A3-4F2B-B443-0C39DD1FB9AB.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/67F56C09-F343-46A3-8B57-0FB512151DF4.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/2007FAE0-32C9-433A-A288-45B330993341.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/AFDF8DB1-78E9-4CE4-901B-FEF14D445DF8.jpeg"},{url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/414AA201-8794-4A57-AF04-A03027717198.jpeg"}],pathfinder_iconics:[{name:"Feiya",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Witch%20-%20Feiya.png",source:"Paizo, Pathfinder"},{name:"Oloch",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Warpriest%20-%20Oloch.png",source:"Paizo, Pathfinder"},{name:"Red Raven",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Vigilante%20-%20Red%20Raven.png",source:"Paizo, Pathfinder"},{name:"Aric",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Vigilante%20-%20Aric.png",source:"Paizo, Pathfinder"},{name:"Ezren",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Wizard%20-%20Ezren.png",source:"Paizo, Pathfinder"},{name:"Zelhara",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Torturer%20-%20Zelhara.png",source:"Paizo, Pathfinder"},{name:"Zadim",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Slayer%20-%20Zadim.png",source:"Paizo, Pathfinder"},{name:"Shardra",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Shaman%20-%20Shardra.png",source:"Paizo, Pathfinder"},{name:"Hayato",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Samurai%20-%20Hayato.png",source:"Paizo, Pathfinder"},{name:"Hakon",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Skald%20-%20Hakon.png",source:"Paizo, Pathfinder"},{name:"Seoni",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Sorcerer%20-%20Seoni.png",source:"Paizo, Pathfinder"},{name:"Balazar",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Summoner%20-%20Balazar.png",source:"Paizo, Pathfinder"},{name:"Zova",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Shifter%20-%20Zova.png",source:"Paizo, Pathfinder"},{name:"Merisiel",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Rogue%20-%20Merisiel.png",source:"Paizo, Pathfinder"},{name:"Estra",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Spiritualist%20-%20Estra.png",source:"Paizo, Pathfinder"},{name:"Jirelle",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Swashbuckler%20-%20Jirelle.png",source:"Paizo, Pathfinder"},{name:"Harsk",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Ranger%20-%20Harsk.png",source:"Paizo, Pathfinder"},{name:"Meligaster",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Mesmerist%20-%20Meligaster.png",source:"Paizo, Pathfinder"},{name:"Nyctessa",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Necromancer%20-%20Nyctessa.png",source:"Paizo, Pathfinder"},{name:"Seelah",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Paladin%20-%20Seelah.png",source:"Paizo, Pathfinder"},{name:"Alahazra",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Oracle%20-%20Alahazra.png",source:"Paizo, Pathfinder"},{name:"Reiko",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Ninja%20-%20Reiko.png",source:"Paizo, Pathfinder"},{name:"Mavaro",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Occultist%20-%20Mavaro.png",source:"Paizo, Pathfinder"},{name:"Erasmus",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Medium%20-%20Erasmus.png",source:"Paizo, Pathfinder"},{name:"Rivani",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Psychic%20-%20Rivani.png",source:"Paizo, Pathfinder"},{name:"Sajan",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Monk%20-%20Sajan.png",source:"Paizo, Pathfinder"},{name:"Lini",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Druid%20-%20Lini.png",source:"Paizo, Pathfinder"},{name:"Yoon",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Kineticist%20-%20Yoon.png",source:"Paizo, Pathfinder"},{name:"Seltyiel",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Magus%20-%20Seltyiel.png",source:"Paizo, Pathfinder"},{name:"Imrijka",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Inquisitor%20-%20Imrijka.png",source:"Paizo, Pathfinder"},{name:"Lirianne",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Gunslinger%20-%20Lirianne.png",source:"Paizo, Pathfinder"},{name:"Adowyn",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Hunter%20-%20Adowyn.png",source:"Paizo, Pathfinder"},{name:"Valeros",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Fighter%20-%20Valeros.png",source:"Paizo, Pathfinder"},{name:"Quinn",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Investigator%20-%20Quinn.png",source:"Paizo, Pathfinder"},{name:"Lazzero",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Cleric%20-%20Lazzero.png",source:"Paizo, Pathfinder"},{name:"Linxia",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Hellknight%20-%20Linxia.png",source:"Paizo, Pathfinder"},{name:"Urgraz",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Antipaladin%20-%20Urgraz.png",source:"Paizo, Pathfinder"},{name:"Kyra",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Cleric%20-%20Kyra.png",source:"Paizo, Pathfinder"},{name:"Lem",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Bard%20-%20Lem.png",source:"Paizo, Pathfinder"},{name:"Damiel",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Alchemist%20-%20Damiel.png",source:"Paizo, Pathfinder"},{name:"Alian",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Cavalier%20-%20Alian.png",source:"Paizo, Pathfinder"},{name:"Crowe",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Bloodrager%20-%20Crowe.png",source:"Paizo, Pathfinder"},{name:"Emil",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Assassin%20-%20Emil.png",source:"Paizo, Pathfinder"},{name:"Kess",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Brawler%20-%20Kess.png",source:"Paizo, Pathfinder"},{name:"Amiri",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Barbarian%20-%20Amiri.png",source:"Paizo, Pathfinder"},{name:"Enora",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Arcanist%20-%20Enora.png",source:"Paizo, Pathfinder"}],starfinder_iconics:[{name:"Navasi",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Envoy%20-%20Navasi.png",source:"Paizo, Starfinder"},{name:"Quig",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Mechanic%20-%20Quig.png",source:"Paizo, Starfinder"},{name:"Keskodai",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Mystic%20-%20Keskodai.png",source:"Paizo, Starfinder"},{name:"Iseph",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Operative%20-%20Iseph.png",source:"Paizo, Starfinder"},{name:"Altronus",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Solarian%20-%20Altronus.png",source:"Paizo, Starfinder"},{name:"Obozaya",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Soldier%20-%20Obozaya.png",source:"Paizo, Starfinder"},{name:"Raia",url:"https://fdrjqcyjklatdrmjdnys.supabase.co/storage/v1/object/public/portraits/default/Technomancer%20-%20Raia.png",source:"Paizo, Starfinder"}]};function _Et(){const e=[];for(const t of Object.keys(DK))e.push(...DK[t]);return e}const MEt="/assets/fantasygen_dev-d7241b22.png";function TEt(e){var y,E,x,v,C,b,A,_,T,M,N,I,F,$,z,D,P,V,B,H,K,W;const t=ht(),{ref:n,height:r}=JD(),i=30,[a,o]=Ct(Sr),[s,l]=j.useState(!1),[u,c]=mk(),{data:d}=En({queryKey:["get-content-sources"],queryFn:async()=>await wm({ids:"all"})}),f=d??[],h=(L,G)=>vh.openConfirmModal({title:p.jsxs(zt,{order:4,children:["Decrease Level from ",L," → ",G]}),children:p.jsx(pe,{size:"sm",children:"Are you sure you want to decrease your character's level? Any selections you've made at levels higher than the new level will be erased."}),labels:{confirm:"Confirm",cancel:"Cancel"},onCancel:()=>{},onConfirm:()=>{o(de=>de&&{...de,level:G})}}),m=L=>{var G,de;return(de=(G=a==null?void 0:a.content_sources)==null?void 0:G.enabled)==null?void 0:de.includes(L)},g=(L,G)=>{o(de=>{var Q,ee,ne;return de&&{...de,content_sources:{...de.content_sources,enabled:G?Ze.uniq([...((Q=de.content_sources)==null?void 0:Q.enabled)??[],L]):(ne=(ee=de.content_sources)==null?void 0:ee.enabled)==null?void 0:ne.filter(se=>se!==L)}}})},S={width:me(12),height:me(12)};return p.jsxs(it,{gap:i,children:[p.jsx(Ae,{justify:"center",ref:n,wrap:"nowrap",children:p.jsx(it,{children:p.jsx(Z,{children:p.jsxs(Ae,{align:"flex-end",wrap:"nowrap",children:[p.jsx(Hn,{onClick:()=>{Zp({modal:"selectImage",title:p.jsx(zt,{order:3,children:"Select Portrait"}),innerProps:{options:_Et(),onSelect:L=>{o(G=>G&&{...G,details:{...G.details,image_url:L.url}})},category:"portraits"}})},children:p.jsx(Cl,{src:(y=a==null?void 0:a.details)==null?void 0:y.image_url,alt:"Character Portrait",size:"40",radius:"xl",variant:"transparent",color:"dark.3",bg:t.colors.dark[6],children:p.jsx(ZOe,{size:"1.5rem",stroke:1.5})})}),u&&p.jsx(sn,{label:"Name",placeholder:"Unknown Wanderer",defaultValue:(a==null?void 0:a.name)==="Unknown Wanderer"?"":a==null?void 0:a.name,onChange:L=>{o(G=>G&&{...G,name:L.target.value})},w:220,rightSection:p.jsxs(at,{width:280,shadow:"md",openDelay:750,children:[p.jsx(at.Target,{children:p.jsx(bt,{size:22,loading:s,radius:"xl",color:"dark",variant:"subtle",onClick:async()=>{if(!a)return;l(!0);const L=await vEt(a,1);if(l(!1),L.length>0){const G=L[0].replace(/\*/g,"");o(de=>de&&{...de,name:G}),c()}else Si({title:"Failed to Generate Name",message:"Please try again.",color:"red",icon:null,autoClose:3e3})},children:p.jsx(Tz,{style:{width:me(18),height:me(18)},stroke:1.5})})}),p.jsxs(at.Dropdown,{children:[p.jsxs(Ae,{gap:5,wrap:"nowrap",align:"center",children:[p.jsx(Tz,{size:"1rem",stroke:1.5}),p.jsx(zt,{order:5,children:"Random Name Generator"})]}),p.jsxs(pe,{size:"sm",children:["Produces a random name and title based on your character stats.",((x=(E=a==null?void 0:a.details)==null?void 0:E.ancestry)==null?void 0:x.name)&&p.jsxs(pe,{children:[p.jsx(pe,{fw:"bold",span:!0,children:"Ancestry:"})," ",(C=(v=a==null?void 0:a.details)==null?void 0:v.ancestry)==null?void 0:C.name]}),((A=(b=a==null?void 0:a.details)==null?void 0:b.background)==null?void 0:A.name)&&p.jsxs(pe,{children:[p.jsx(pe,{fw:"bold",span:!0,children:"Background:"})," ",(T=(_=a==null?void 0:a.details)==null?void 0:_.background)==null?void 0:T.name]}),((N=(M=a==null?void 0:a.details)==null?void 0:M.class)==null?void 0:N.name)&&p.jsxs(pe,{children:[p.jsx(pe,{fw:"bold",span:!0,children:"Class:"})," ",(F=(I=a==null?void 0:a.details)==null?void 0:I.class)==null?void 0:F.name]}),!((z=($=a==null?void 0:a.details)==null?void 0:$.class)!=null&&z.name)&&!((P=(D=a==null?void 0:a.details)==null?void 0:D.background)!=null&&P.name)&&!((B=(V=a==null?void 0:a.details)==null?void 0:V.ancestry)!=null&&B.name)&&p.jsxs(pe,{children:[p.jsx(pe,{fw:"bold",span:!0,children:"None Set:"})," ","Will be a random name"]})]}),p.jsx(Lt,{mt:10,mb:5}),p.jsxs(Ae,{align:"flex-end",justify:"flex-end",gap:5,wrap:"nowrap",children:[p.jsx(pe,{fz:"xs",fw:600,children:"Powered by"}),p.jsx(_s,{onClick:()=>window.open("https://fantasygen.dev/"),style:{cursor:"pointer"},radius:"md",w:160,src:MEt})]})]})]})}),p.jsx(Gr,{label:"Level",data:Array.from({length:20},(L,G)=>(G+1).toString()),w:70,value:a==null?void 0:a.level.toString(),onChange:L=>{const G=(a==null?void 0:a.level)??0,de=parseInt(L??"1");G>de?h(G,de):o(Q=>Q&&{...Q,level:de})}})]})})})}),p.jsxs(Ae,{gap:10,align:"flex-start",wrap:"nowrap",h:e.pageHeight-r-i,children:[p.jsx(Z,{style:{flexBasis:"65%"},h:"100%",children:p.jsx(Ha,{shadow:"sm",h:"100%",style:{backgroundColor:"rgba(0, 0, 0, 0.13)"},children:p.jsx(Jn,{h:"100%",children:p.jsxs(kt,{defaultValue:"books",children:[p.jsxs(kt.List,{children:[p.jsx(kt.Tab,{value:"books",leftSection:p.jsx(Sre,{style:S}),children:"Books"}),p.jsx(kt.Tab,{value:"homebrew",leftSection:p.jsx(vRe,{style:S}),children:"Homebrew"}),p.jsx(kt.Tab,{value:"variants",leftSection:p.jsx(G0,{style:S}),children:"Variant Rules"}),p.jsx(kt.Tab,{value:"options",leftSection:p.jsx(dR,{style:S}),children:"Options"})]}),p.jsx(kt.Panel,{value:"books",children:p.jsxs(it,{gap:0,pt:"sm",children:[p.jsx(ry,{icon:yE,label:"Core",links:f.filter(L=>L.group==="core").map(L=>({label:L.name,id:L.id,url:L.url,enabled:m(L.id)})),onLinkChange:(L,G)=>g(L,G),onEnableAll:()=>{f.filter(L=>L.group==="core").forEach(L=>{g(L.id,!0)})}}),p.jsx(ry,{icon:Vre,label:"Lost Omens",links:f.filter(L=>L.group==="lost-omens").map(L=>({label:L.name,id:L.id,url:L.url,enabled:m(L.id)})),onLinkChange:(L,G)=>g(L,G),onEnableAll:()=>{f.filter(L=>L.group==="lost-omens").forEach(L=>{g(L.id,!0)})}}),p.jsx(ry,{icon:Ore,label:"Adventure Paths",links:f.filter(L=>L.group==="adventure-path").map(L=>({label:L.name,id:L.id,url:L.url,enabled:m(L.id)})),onLinkChange:(L,G)=>g(L,G),onEnableAll:()=>{f.filter(L=>L.group==="adventure-path").forEach(L=>{g(L.id,!0)})}}),p.jsx(ry,{icon:Cre,label:"Standalone Adventures",links:f.filter(L=>L.group==="standalone-adventure").map(L=>({label:L.name,id:L.id,url:L.url,enabled:m(L.id)})),onLinkChange:(L,G)=>g(L,G),onEnableAll:()=>{f.filter(L=>L.group==="standalone-adventure").forEach(L=>{g(L.id,!0)})}}),p.jsx(ry,{icon:ia,label:"Miscellaneous",links:f.filter(L=>L.group==="misc").map(L=>({label:L.name,id:L.id,url:L.url,enabled:m(L.id)})),onLinkChange:(L,G)=>g(L,G),onEnableAll:()=>{f.filter(L=>L.group==="misc").forEach(L=>{g(L.id,!0)})}})]})})]})})})}),p.jsx(Z,{style:{flexBasis:"calc(35% - 10px)"},h:"100%",children:p.jsx(Ha,{shadow:"sm",p:"sm",h:"100%",style:{backgroundColor:"rgba(0, 0, 0, 0.13)"},children:p.jsxs(it,{children:[p.jsx(C7,{radius:"xl",size:"xs",label:p.jsx(pe,{fz:"sm",children:"Campaign"}),placeholder:"Enter Join Key",rightSectionWidth:28,leftSection:p.jsx(hR,{style:{width:me(12),height:me(12)},stroke:1.5}),rightSection:p.jsx(bt,{size:22,radius:"xl",color:t.primaryColor,variant:"light",children:p.jsx(tPe,{style:{width:me(18),height:me(18)},stroke:1.5})})}),p.jsx(m4,{radius:"xl",size:"xs",label:p.jsx(pe,{fz:"sm",children:"Color Theme"}),placeholder:"Character Color Theme",defaultValue:((K=(H=a==null?void 0:a.details)==null?void 0:H.sheet_theme)==null?void 0:K.color)||Xp,swatches:["#25262b","#868e96","#fa5252","#e64980","#be4bdb","#8d69f5","#577deb",Xp,"#15aabf","#12b886"],onChange:L=>{o(G=>{var de;return G&&{...G,details:{...G.details,sheet_theme:{...(de=G.details)==null?void 0:de.sheet_theme,color:L}}}})}}),p.jsxs(Z,{children:[p.jsx(pe,{fz:"sm",children:"Background Artwork"}),p.jsx(Hn,{w:"50%",onClick:()=>{Zp({modal:"selectImage",title:p.jsx(zt,{order:3,children:"Select Background"}),innerProps:{options:Rse(),onSelect:L=>{o(G=>G&&{...G,details:{...G.details,background_image_url:L.url}})},category:"backgrounds"}})},children:p.jsx(_s,{radius:"md",h:"auto",fit:"contain",src:(W=a==null?void 0:a.details)==null?void 0:W.background_image_url,fallbackSrc:"/src/assets/images/backgrounds/placeholder.jpeg"})})]})]})})})]})]})}const NEt="_icon_189z3_1",DEt="_name_189z3_5",y3={icon:NEt,name:DEt},gk=O.forwardRef((e,t)=>{var o,s,l,u,c,d,f,h,m,g,S,y,E,x,v,C,b,A,_,T,M,N,I,F,$,z,D,P,V,B,H;const n=ht(),r=((l=(s=(o=e.character)==null?void 0:o.details)==null?void 0:s.class)==null?void 0:l.name)!==void 0,i=((d=(c=(u=e.character)==null?void 0:u.details)==null?void 0:c.ancestry)==null?void 0:d.name)!==void 0,a=((m=(h=(f=e.character)==null?void 0:f.details)==null?void 0:h.background)==null?void 0:m.name)!==void 0;return p.jsx("div",{ref:t,style:{width:260},children:p.jsxs(Ae,{wrap:"nowrap",align:"flex-start",gap:0,children:[!e.hideImage&&p.jsx(Cl,{src:(S=(g=e.character)==null?void 0:g.details)==null?void 0:S.image_url,alt:"Character Portrait",size:75,radius:75,mt:10,mx:10,variant:"transparent",color:"dark.3",bg:n.colors.dark[6]}),p.jsxs("div",{style:{flex:1},children:[p.jsxs(at,{shadow:"md",openDelay:1e3,position:"top",withinPortal:!0,children:[p.jsx(at.Target,{children:p.jsx(pe,{c:"gray.0",fz:e.character&&e.character.name.length>=16?"0.95rem":"lg",fw:500,className:y3.name,children:Ze.truncate((y=e.character)==null?void 0:y.name,{length:e.nameCutOff??18})})}),p.jsx(at.Dropdown,{py:5,px:10,children:p.jsx(pe,{c:"gray.0",size:"sm",children:(E=e.character)==null?void 0:E.name})})]}),p.jsxs(it,{gap:0,children:[p.jsx(Z,{children:e.onClickAncestry?p.jsx(mt,{variant:i?"subtle":"light",color:e.color,size:"compact-xs",leftSection:p.jsx(XS,{size:"0.9rem"}),onClick:e.onClickAncestry,fw:400,children:((C=(v=(x=e.character)==null?void 0:x.details)==null?void 0:v.ancestry)==null?void 0:C.name)??"Select Ancestry"}):p.jsxs(Ae,{wrap:"nowrap",gap:10,children:[p.jsx(XS,{stroke:1.5,size:"1rem",className:y3.icon}),p.jsx(pe,{fz:"xs",c:"gray.3",children:(_=(A=(b=e.character)==null?void 0:b.details)==null?void 0:A.ancestry)!=null&&_.name?p.jsx(p.Fragment,{children:e.character.details.ancestry.name}):p.jsx(p.Fragment,{children:"Missing Ancestry"})})]})}),p.jsx(Z,{children:e.onClickBackground?p.jsx(mt,{variant:a?"subtle":"light",size:"compact-xs",color:e.color,leftSection:p.jsx(JM,{size:"0.9rem"}),onClick:e.onClickBackground,fw:400,children:((N=(M=(T=e.character)==null?void 0:T.details)==null?void 0:M.background)==null?void 0:N.name)??"Select Background"}):p.jsxs(Ae,{wrap:"nowrap",gap:10,children:[p.jsx(JM,{stroke:1.5,size:"1rem",className:y3.icon}),p.jsx(pe,{fz:"xs",c:"gray.3",children:(($=(F=(I=e.character)==null?void 0:I.details)==null?void 0:F.background)==null?void 0:$.name)??"Missing Background"})]})}),p.jsx(Z,{children:e.onClickClass?p.jsx(mt,{variant:r?"subtle":"light",size:"compact-xs",color:e.color,leftSection:p.jsx(G0,{size:"0.9rem"}),onClick:e.onClickClass,fw:400,children:((P=(D=(z=e.character)==null?void 0:z.details)==null?void 0:D.class)==null?void 0:P.name)??"Select Class"}):p.jsxs(Ae,{wrap:"nowrap",gap:10,children:[p.jsx(G0,{stroke:1.5,size:"1rem",className:y3.icon}),p.jsx(pe,{fz:"xs",c:"gray.3",children:((H=(B=(V=e.character)==null?void 0:V.details)==null?void 0:B.class)==null?void 0:H.name)??"Missing Class"})]})})]})]})]})})}),REt="_wrapper_4lfsw_1",IEt="_title_4lfsw_7",OEt="_item_4lfsw_11",nl={wrapper:REt,title:IEt,item:OEt},kde=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),vk=j.createContext({}),DO=j.createContext(null),yk=typeof document<"u",PEt=yk?j.useLayoutEffect:j.useEffect,Ade=j.createContext({strict:!1});function jEt(e,t,n,r){const{visualElement:i}=j.useContext(vk),a=j.useContext(Ade),o=j.useContext(DO),s=j.useContext(kde).reducedMotion,l=j.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const u=l.current;j.useInsertionEffect(()=>{u&&u.update(n,o)});const c=j.useRef(!!window.HandoffAppearAnimations);return PEt(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),j.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,c.current=!1)}),u}function t0(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function LEt(e,t,n){return j.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):t0(n)&&(n.current=r))},[t])}function e2(e){return typeof e=="string"||Array.isArray(e)}function bk(e){return typeof e=="object"&&typeof e.start=="function"}const RO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IO=["initial",...RO];function wk(e){return bk(e.animate)||IO.some(t=>e2(e[t]))}function _de(e){return!!(wk(e)||e.variants)}function FEt(e,t){if(wk(e)){const{initial:n,animate:r}=e;return{initial:n===!1||e2(n)?n:void 0,animate:e2(r)?r:void 0}}return e.inherit!==!1?t:{}}function BEt(e){const{initial:t,animate:n}=FEt(e,j.useContext(vk));return j.useMemo(()=>({initial:t,animate:n}),[RK(t),RK(n)])}function RK(e){return Array.isArray(e)?e.join(" "):e}const IK={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},t2={};for(const e in IK)t2[e]={isEnabled:t=>IK[e].some(n=>!!t[n])};function zEt(e){for(const t in e)t2[t]={...t2[t],...e[t]}}const Mde=j.createContext({}),Tde=j.createContext({}),$Et=Symbol.for("motionComponentSymbol");function UEt({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&zEt(e);function a(s,l){let u;const c={...j.useContext(kde),...s,layoutId:VEt(s)},{isStatic:d}=c,f=BEt(s),h=r(s,d);if(!d&&yk){f.visualElement=jEt(i,h,c,t);const m=j.useContext(Tde),g=j.useContext(Ade).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,g,e,m))}return j.createElement(vk.Provider,{value:f},u&&f.visualElement?j.createElement(u,{visualElement:f.visualElement,...c}):null,n(i,s,LEt(h,f.visualElement,l),h,d,f.visualElement))}const o=j.forwardRef(a);return o[$Et]=i,o}function VEt({layoutId:e}){const t=j.useContext(Mde).id;return t&&e!==void 0?t+"-"+e:e}function HEt(e){function t(r,i={}){return UEt(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const qEt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function OO(e){return typeof e!="string"||e.includes("-")?!1:!!(qEt.indexOf(e)>-1||/[A-Z]/.test(e))}const vC={};function WEt(e){Object.assign(vC,e)}const lw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lm=new Set(lw);function Nde(e,{layout:t,layoutId:n}){return Lm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!vC[e]||e==="opacity")}const Zo=e=>!!(e&&e.getVelocity),GEt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KEt=lw.length;function YEt(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let o=0;o<KEt;o++){const s=lw[o];if(e[s]!==void 0){const l=GEt[s]||s;a+=`${l}(${e[s]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const Dde=e=>t=>typeof t=="string"&&t.startsWith(e),Rde=Dde("--"),TN=Dde("var(--"),JEt=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,QEt=(e,t)=>t&&typeof e=="number"?t.transform(e):e,rh=(e,t,n)=>Math.min(Math.max(n,e),t),Fm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rb={...Fm,transform:e=>rh(0,1,e)},b3={...Fm,default:1},ib=e=>Math.round(e*1e5)/1e5,xk=/(-)?([\d]*\.?[\d])+/g,Ide=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,XEt=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function uw(e){return typeof e=="string"}const cw=e=>({test:t=>uw(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Gd=cw("deg"),Gu=cw("%"),Yt=cw("px"),ZEt=cw("vh"),ekt=cw("vw"),OK={...Gu,parse:e=>Gu.parse(e)/100,transform:e=>Gu.transform(e*100)},PK={...Fm,transform:Math.round},Ode={borderWidth:Yt,borderTopWidth:Yt,borderRightWidth:Yt,borderBottomWidth:Yt,borderLeftWidth:Yt,borderRadius:Yt,radius:Yt,borderTopLeftRadius:Yt,borderTopRightRadius:Yt,borderBottomRightRadius:Yt,borderBottomLeftRadius:Yt,width:Yt,maxWidth:Yt,height:Yt,maxHeight:Yt,size:Yt,top:Yt,right:Yt,bottom:Yt,left:Yt,padding:Yt,paddingTop:Yt,paddingRight:Yt,paddingBottom:Yt,paddingLeft:Yt,margin:Yt,marginTop:Yt,marginRight:Yt,marginBottom:Yt,marginLeft:Yt,rotate:Gd,rotateX:Gd,rotateY:Gd,rotateZ:Gd,scale:b3,scaleX:b3,scaleY:b3,scaleZ:b3,skew:Gd,skewX:Gd,skewY:Gd,distance:Yt,translateX:Yt,translateY:Yt,translateZ:Yt,x:Yt,y:Yt,z:Yt,perspective:Yt,transformPerspective:Yt,opacity:rb,originX:OK,originY:OK,originZ:Yt,zIndex:PK,fillOpacity:rb,strokeOpacity:rb,numOctaves:PK};function PO(e,t,n,r){const{style:i,vars:a,transform:o,transformOrigin:s}=e;let l=!1,u=!1,c=!0;for(const d in t){const f=t[d];if(Rde(d)){a[d]=f;continue}const h=Ode[d],m=QEt(f,h);if(Lm.has(d)){if(l=!0,o[d]=m,!c)continue;f!==(h.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,s[d]=m):i[d]=m}if(t.transform||(l||r?i.transform=YEt(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:h=0}=s;i.transformOrigin=`${d} ${f} ${h}`}}const jO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Pde(e,t,n){for(const r in t)!Zo(t[r])&&!Nde(r,n)&&(e[r]=t[r])}function tkt({transformTemplate:e},t,n){return j.useMemo(()=>{const r=jO();return PO(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function nkt(e,t,n){const r=e.style||{},i={};return Pde(i,r,e),Object.assign(i,tkt(e,t,n)),e.transformValues?e.transformValues(i):i}function rkt(e,t,n){const r={},i=nkt(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const ikt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function yC(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||ikt.has(e)}let jde=e=>!yC(e);function akt(e){e&&(jde=t=>t.startsWith("on")?!yC(t):e(t))}try{akt(require("@emotion/is-prop-valid").default)}catch{}function okt(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(jde(i)||n===!0&&yC(i)||!t&&!yC(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function jK(e,t,n){return typeof e=="string"?e:Yt.transform(t+n*e)}function skt(e,t,n){const r=jK(t,e.x,e.width),i=jK(n,e.y,e.height);return`${r} ${i}`}const lkt={offset:"stroke-dashoffset",array:"stroke-dasharray"},ukt={offset:"strokeDashoffset",array:"strokeDasharray"};function ckt(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?lkt:ukt;e[a.offset]=Yt.transform(-r);const o=Yt.transform(t),s=Yt.transform(n);e[a.array]=`${o} ${s}`}function LO(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},c,d,f){if(PO(e,u,c,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:g}=e;h.transform&&(g&&(m.transform=h.transform),delete h.transform),g&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=skt(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&ckt(h,o,s,l,!1)}const Lde=()=>({...jO(),attrs:{}}),FO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dkt(e,t,n,r){const i=j.useMemo(()=>{const a=Lde();return LO(a,t,{enableHardwareAcceleration:!1},FO(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Pde(a,e.style,e),i.style={...a,...i.style}}return i}function fkt(e=!1){return(n,r,i,{latestValues:a},o)=>{const l=(OO(n)?dkt:rkt)(r,a,o,n),c={...okt(r,typeof n=="string",e),...l,ref:i},{children:d}=r,f=j.useMemo(()=>Zo(d)?d.get():d,[d]);return j.createElement(n,{...c,children:f})}}const BO=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Fde(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const Bde=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zde(e,t,n,r){Fde(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Bde.has(i)?i:BO(i),t.attrs[i])}function zO(e,t){const{style:n}=e,r={};for(const i in n)(Zo(n[i])||t.style&&Zo(t.style[i])||Nde(i,e))&&(r[i]=n[i]);return r}function $de(e,t){const n=zO(e,t);for(const r in e)if(Zo(e[r])||Zo(t[r])){const i=lw.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function $O(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function hkt(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const bC=e=>Array.isArray(e),pkt=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),mkt=e=>bC(e)?e[e.length-1]||0:e;function lS(e){const t=Zo(e)?e.get():e;return pkt(t)?t.toValue():t}function gkt({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const o={latestValues:vkt(r,i,a,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const Ude=e=>(t,n)=>{const r=j.useContext(vk),i=j.useContext(DO),a=()=>gkt(e,t,r,i);return n?a():hkt(a)};function vkt(e,t,n,r){const i={},a=r(e,{});for(const f in a)i[f]=lS(a[f]);let{initial:o,animate:s}=e;const l=wk(e),u=_de(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?s:o;return d&&typeof d!="boolean"&&!bk(d)&&(Array.isArray(d)?d:[d]).forEach(h=>{const m=$O(e,h);if(!m)return;const{transitionEnd:g,transition:S,...y}=m;for(const E in y){let x=y[E];if(Array.isArray(x)){const v=c?x.length-1:0;x=x[v]}x!==null&&(i[E]=x)}for(const E in g)i[E]=g[E]}),i}const di=e=>e;class LK{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function ykt(e){let t=new LK,n=new LK,r=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(l,u=!1,c=!1)=>{const d=c&&i,f=d?t:n;return u&&o.add(l),f.add(l)&&d&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];c(l),o.has(c)&&(s.schedule(c),e())}i=!1,a&&(a=!1,s.process(l))}};return s}const w3=["prepare","read","update","preRender","render","postRender"],bkt=40;function wkt(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=w3.reduce((d,f)=>(d[f]=ykt(()=>n=!0),d),{}),o=d=>a[d].process(i),s=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,bkt),1),i.timestamp=d,i.isProcessing=!0,w3.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,i.isProcessing||e(s)};return{schedule:w3.reduce((d,f)=>{const h=a[f];return d[f]=(m,g=!1,S=!1)=>(n||l(),h.schedule(m,g,S)),d},{}),cancel:d=>w3.forEach(f=>a[f].cancel(d)),state:i,steps:a}}const{schedule:Fr,cancel:cd,state:Ki,steps:n_}=wkt(typeof requestAnimationFrame<"u"?requestAnimationFrame:di,!0),xkt={useVisualState:Ude({scrapeMotionValuesFromProps:$de,createRenderState:Lde,onMount:(e,t,{renderState:n,latestValues:r})=>{Fr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Fr.render(()=>{LO(n,r,{enableHardwareAcceleration:!1},FO(t.tagName),e.transformTemplate),zde(t,n)})}})},Skt={useVisualState:Ude({scrapeMotionValuesFromProps:zO,createRenderState:jO})};function Ckt(e,{forwardMotionProps:t=!1},n,r){return{...OO(e)?xkt:Skt,preloadedFeatures:n,useRender:fkt(t),createVisualElement:r,Component:e}}function zc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Vde=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Sk(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Ekt=e=>t=>Vde(t)&&e(t,Sk(t));function Kc(e,t,n,r){return zc(e,t,Ekt(n),r)}const kkt=(e,t)=>n=>t(e(n)),Ff=(...e)=>e.reduce(kkt);function Hde(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const FK=Hde("dragHorizontal"),BK=Hde("dragVertical");function qde(e){let t=!1;if(e==="y")t=BK();else if(e==="x")t=FK();else{const n=FK(),r=BK();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Wde(){const e=qde(!0);return e?(e(),!1):!0}class Rh{constructor(t){this.isMounted=!1,this.node=t}update(){}}function zK(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,o)=>{if(a.type==="touch"||Wde())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Fr.update(()=>s[r](a,o))};return Kc(e.current,n,i,{passive:!e.getProps()[r]})}class Akt extends Rh{mount(){this.unmount=Ff(zK(this.node,!0),zK(this.node,!1))}unmount(){}}class _kt extends Rh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ff(zc(this.node.current,"focus",()=>this.onFocus()),zc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Gde=(e,t)=>t?e===t?!0:Gde(e,t.parentElement):!1;function r_(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Sk(n))}class Mkt extends Rh{constructor(){super(...arguments),this.removeStartListeners=di,this.removeEndListeners=di,this.removeAccessibleListeners=di,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),a=Kc(window,"pointerup",(s,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();Fr.update(()=>{Gde(this.node.current,s.target)?u&&u(s,l):c&&c(s,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Kc(window,"pointercancel",(s,l)=>this.cancelPress(s,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ff(a,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||r_("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Fr.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=zc(this.node.current,"keyup",o),r_("down",(s,l)=>{this.startPress(s,l)})},n=zc(this.node.current,"keydown",t),r=()=>{this.isPressing&&r_("cancel",(a,o)=>this.cancelPress(a,o))},i=zc(this.node.current,"blur",r);this.removeAccessibleListeners=Ff(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Fr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Wde()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Fr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Kc(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=zc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ff(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const NN=new WeakMap,i_=new WeakMap,Tkt=e=>{const t=NN.get(e.target);t&&t(e)},Nkt=e=>{e.forEach(Tkt)};function Dkt({root:e,...t}){const n=e||document;i_.has(n)||i_.set(n,{});const r=i_.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Nkt,{root:e,...t})),r[i]}function Rkt(e,t,n){const r=Dkt(t);return NN.set(e,n),r.observe(e),()=>{NN.delete(e),r.unobserve(e)}}const Ikt={some:0,all:1};class Okt extends Rh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Ikt[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return Rkt(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Pkt(t,n))&&this.startObserver()}unmount(){}}function Pkt({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const jkt={inView:{Feature:Okt},tap:{Feature:Mkt},focus:{Feature:_kt},hover:{Feature:Akt}};function Kde(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Lkt(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Fkt(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ck(e,t,n){const r=e.getProps();return $O(r,t,n!==void 0?n:r.custom,Lkt(e),Fkt(e))}const Bkt="framerAppearId",zkt="data-"+BO(Bkt);let $kt=di,UO=di;const Bf=e=>e*1e3,Yc=e=>e/1e3,Ukt={current:!1},Yde=e=>Array.isArray(e)&&typeof e[0]=="number";function Jde(e){return!!(!e||typeof e=="string"&&Qde[e]||Yde(e)||Array.isArray(e)&&e.every(Jde))}const Ey=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Qde={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ey([0,.65,.55,1]),circOut:Ey([.55,0,1,.45]),backIn:Ey([.31,.01,.66,-.59]),backOut:Ey([.33,1.53,.69,.99])};function Xde(e){if(e)return Yde(e)?Ey(e):Array.isArray(e)?e.map(Xde):Qde[e]}function Vkt(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:o="loop",ease:s,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=Xde(s);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function Hkt(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Zde=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,qkt=1e-7,Wkt=12;function Gkt(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=Zde(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>qkt&&++s<Wkt);return o}function dw(e,t,n,r){if(e===t&&n===r)return di;const i=a=>Gkt(a,0,1,e,n);return a=>a===0||a===1?a:Zde(i(a),t,r)}const Kkt=dw(.42,0,1,1),Ykt=dw(0,0,.58,1),efe=dw(.42,0,.58,1),Jkt=e=>Array.isArray(e)&&typeof e[0]!="number",tfe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nfe=e=>t=>1-e(1-t),rfe=e=>1-Math.sin(Math.acos(e)),VO=nfe(rfe),Qkt=tfe(VO),ife=dw(.33,1.53,.69,.99),HO=nfe(ife),Xkt=tfe(HO),Zkt=e=>(e*=2)<1?.5*HO(e):.5*(2-Math.pow(2,-10*(e-1))),eAt={linear:di,easeIn:Kkt,easeInOut:efe,easeOut:Ykt,circIn:rfe,circInOut:Qkt,circOut:VO,backIn:HO,backInOut:Xkt,backOut:ife,anticipate:Zkt},$K=e=>{if(Array.isArray(e)){UO(e.length===4);const[t,n,r,i]=e;return dw(t,n,r,i)}else if(typeof e=="string")return eAt[e];return e},qO=(e,t)=>n=>!!(uw(n)&&XEt.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),afe=(e,t,n)=>r=>{if(!uw(r))return r;const[i,a,o,s]=r.match(xk);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},tAt=e=>rh(0,255,e),a_={...Fm,transform:e=>Math.round(tAt(e))},Tp={test:qO("rgb","red"),parse:afe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+a_.transform(e)+", "+a_.transform(t)+", "+a_.transform(n)+", "+ib(rb.transform(r))+")"};function nAt(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const DN={test:qO("#"),parse:nAt,transform:Tp.transform},n0={test:qO("hsl","hue"),parse:afe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Gu.transform(ib(t))+", "+Gu.transform(ib(n))+", "+ib(rb.transform(r))+")"},fo={test:e=>Tp.test(e)||DN.test(e)||n0.test(e),parse:e=>Tp.test(e)?Tp.parse(e):n0.test(e)?n0.parse(e):DN.parse(e),transform:e=>uw(e)?e:e.hasOwnProperty("red")?Tp.transform(e):n0.transform(e)},ti=(e,t,n)=>-n*e+n*t+e;function o_(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function rAt({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=o_(l,s,e+1/3),a=o_(l,s,e),o=o_(l,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}const s_=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},iAt=[DN,Tp,n0],aAt=e=>iAt.find(t=>t.test(e));function UK(e){const t=aAt(e);let n=t.parse(e);return t===n0&&(n=rAt(n)),n}const ofe=(e,t)=>{const n=UK(e),r=UK(t),i={...n};return a=>(i.red=s_(n.red,r.red,a),i.green=s_(n.green,r.green,a),i.blue=s_(n.blue,r.blue,a),i.alpha=ti(n.alpha,r.alpha,a),Tp.transform(i))};function oAt(e){var t,n;return isNaN(e)&&uw(e)&&(((t=e.match(xk))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Ide))===null||n===void 0?void 0:n.length)||0)>0}const sfe={regex:JEt,countKey:"Vars",token:"${v}",parse:di},lfe={regex:Ide,countKey:"Colors",token:"${c}",parse:fo.parse},ufe={regex:xk,countKey:"Numbers",token:"${n}",parse:Fm.parse};function l_(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function wC(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&l_(n,sfe),l_(n,lfe),l_(n,ufe),n}function cfe(e){return wC(e).values}function dfe(e){const{values:t,numColors:n,numVars:r,tokenised:i}=wC(e),a=t.length;return o=>{let s=i;for(let l=0;l<a;l++)l<r?s=s.replace(sfe.token,o[l]):l<r+n?s=s.replace(lfe.token,fo.transform(o[l])):s=s.replace(ufe.token,ib(o[l]));return s}}const sAt=e=>typeof e=="number"?0:e;function lAt(e){const t=cfe(e);return dfe(e)(t.map(sAt))}const ih={test:oAt,parse:cfe,createTransformer:dfe,getAnimatableNone:lAt},ffe=(e,t)=>n=>`${n>0?t:e}`;function hfe(e,t){return typeof e=="number"?n=>ti(e,t,n):fo.test(e)?ofe(e,t):e.startsWith("var(")?ffe(e,t):mfe(e,t)}const pfe=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,o)=>hfe(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}},uAt=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=hfe(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},mfe=(e,t)=>{const n=ih.createTransformer(t),r=wC(e),i=wC(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ff(pfe(r.values,i.values),n):ffe(e,t)},n2=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},VK=(e,t)=>n=>ti(e,t,n);function cAt(e){return typeof e=="number"?VK:typeof e=="string"?fo.test(e)?ofe:mfe:Array.isArray(e)?pfe:typeof e=="object"?uAt:VK}function dAt(e,t,n){const r=[],i=n||cAt(e[0]),a=e.length-1;for(let o=0;o<a;o++){let s=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||di:t;s=Ff(l,s)}r.push(s)}return r}function gfe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(UO(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=dAt(t,r,i),s=o.length,l=u=>{let c=0;if(s>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const d=n2(e[c],e[c+1],u);return o[c](d)};return n?u=>l(rh(e[0],e[a-1],u)):l}function fAt(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=n2(0,t,r);e.push(ti(n,1,i))}}function hAt(e){const t=[0];return fAt(t,e.length-1),t}function pAt(e,t){return e.map(n=>n*t)}function mAt(e,t){return e.map(()=>t||efe).splice(0,e.length-1)}function xC({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Jkt(r)?r.map($K):$K(r),a={done:!1,value:t[0]},o=pAt(n&&n.length===t.length?n:hAt(t),e),s=gfe(o,t,{ease:Array.isArray(i)?i:mAt(t,i)});return{calculatedDuration:e,next:l=>(a.value=s(l),a.done=l>=e,a)}}function vfe(e,t){return t?e*(1e3/t):0}const gAt=5;function yfe(e,t,n){const r=Math.max(t-gAt,0);return vfe(n-e(r),t-r)}const u_=.001,vAt=.01,HK=10,yAt=.05,bAt=1;function wAt({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a;$kt(e<=Bf(HK));let o=1-t;o=rh(yAt,bAt,o),e=rh(vAt,HK,Yc(e)),o<1?(i=u=>{const c=u*o,d=c*e,f=c-n,h=RN(u,o),m=Math.exp(-d);return u_-f/h*m},a=u=>{const d=u*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-d),g=RN(Math.pow(u,2),o);return(-i(u)+u_>0?-1:1)*((f-h)*m)/g}):(i=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-u_+c*d},a=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const s=5/e,l=SAt(i,a,s);if(e=Bf(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const xAt=12;function SAt(e,t,n){let r=n;for(let i=1;i<xAt;i++)r=r-e(r)/t(r);return r}function RN(e,t){return e*Math.sqrt(1-t*t)}const CAt=["duration","bounce"],EAt=["stiffness","damping","mass"];function qK(e,t){return t.some(n=>e[n]!==void 0)}function kAt(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!qK(e,EAt)&&qK(e,CAt)){const n=wAt(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function bfe({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:s,damping:l,mass:u,velocity:c,duration:d,isResolvedFromDuration:f}=kAt(r),h=c?-Yc(c):0,m=l/(2*Math.sqrt(s*u)),g=a-i,S=Yc(Math.sqrt(s/u)),y=Math.abs(g)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let E;if(m<1){const x=RN(S,m);E=v=>{const C=Math.exp(-m*S*v);return a-C*((h+m*S*g)/x*Math.sin(x*v)+g*Math.cos(x*v))}}else if(m===1)E=x=>a-Math.exp(-S*x)*(g+(h+S*g)*x);else{const x=S*Math.sqrt(m*m-1);E=v=>{const C=Math.exp(-m*S*v),b=Math.min(x*v,300);return a-C*((h+m*S*g)*Math.sinh(b)+x*g*Math.cosh(b))/x}}return{calculatedDuration:f&&d||null,next:x=>{const v=E(x);if(f)o.done=x>=d;else{let C=h;x!==0&&(m<1?C=yfe(E,x,v):C=0);const b=Math.abs(C)<=n,A=Math.abs(a-v)<=t;o.done=b&&A}return o.value=o.done?a:v,o}}}function WK({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],f={done:!1,value:d},h=_=>s!==void 0&&_<s||l!==void 0&&_>l,m=_=>s===void 0?l:l===void 0||Math.abs(s-_)<Math.abs(l-_)?s:l;let g=n*t;const S=d+g,y=o===void 0?S:o(S);y!==S&&(g=y-d);const E=_=>-g*Math.exp(-_/r),x=_=>y+E(_),v=_=>{const T=E(_),M=x(_);f.done=Math.abs(T)<=u,f.value=f.done?y:M};let C,b;const A=_=>{h(f.value)&&(C=_,b=bfe({keyframes:[f.value,m(f.value)],velocity:yfe(x,_,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:c}))};return A(0),{calculatedDuration:null,next:_=>{let T=!1;return!b&&C===void 0&&(T=!0,v(_),A(_)),C!==void 0&&_>C?b.next(_-C):(!T&&v(_),f)}}}const AAt=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Fr.update(t,!0),stop:()=>cd(t),now:()=>Ki.isProcessing?Ki.timestamp:performance.now()}},GK=2e4;function KK(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<GK;)t+=n,r=e.next(t);return t>=GK?1/0:t}const _At={decay:WK,inertia:WK,tween:xC,keyframes:xC,spring:bfe};function SC({autoplay:e=!0,delay:t=0,driver:n=AAt,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...f}){let h=1,m=!1,g,S;const y=()=>{S=new Promise(K=>{g=K})};y();let E;const x=_At[i]||xC;let v;x!==xC&&typeof r[0]!="number"&&(v=gfe([0,100],r,{clamp:!1}),r=[0,100]);const C=x({...f,keyframes:r});let b;s==="mirror"&&(b=x({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let A="idle",_=null,T=null,M=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=KK(C));const{calculatedDuration:N}=C;let I=1/0,F=1/0;N!==null&&(I=N+o,F=I*(a+1)-o);let $=0;const z=K=>{if(T===null)return;h>0&&(T=Math.min(T,K)),h<0&&(T=Math.min(K-F/h,T)),_!==null?$=_:$=Math.round(K-T)*h;const W=$-t*(h>=0?1:-1),L=h>=0?W<0:W>F;$=Math.max(W,0),A==="finished"&&_===null&&($=F);let G=$,de=C;if(a){const se=$/I;let ge=Math.floor(se),xe=se%1;!xe&&se>=1&&(xe=1),xe===1&&ge--,ge=Math.min(ge,a+1);const we=!!(ge%2);we&&(s==="reverse"?(xe=1-xe,o&&(xe-=o/I)):s==="mirror"&&(de=b));let _e=rh(0,1,xe);$>F&&(_e=s==="reverse"&&we?1:0),G=_e*I}const Q=L?{done:!1,value:r[0]}:de.next(G);v&&(Q.value=v(Q.value));let{done:ee}=Q;!L&&N!==null&&(ee=h>=0?$>=F:$<=0);const ne=_===null&&(A==="finished"||A==="running"&&ee);return d&&d(Q.value),ne&&V(),Q},D=()=>{E&&E.stop(),E=void 0},P=()=>{A="idle",D(),g(),y(),T=M=null},V=()=>{A="finished",c&&c(),D(),g()},B=()=>{if(m)return;E||(E=n(z));const K=E.now();l&&l(),_!==null?T=K-_:(!T||A==="finished")&&(T=K),A==="finished"&&y(),M=T,_=null,A="running",E.start()};e&&B();const H={then(K,W){return S.then(K,W)},get time(){return Yc($)},set time(K){K=Bf(K),$=K,_!==null||!E||h===0?_=K:T=E.now()-K/h},get duration(){const K=C.calculatedDuration===null?KK(C):C.calculatedDuration;return Yc(K)},get speed(){return h},set speed(K){K===h||!E||(h=K,H.time=Yc($))},get state(){return A},play:B,pause:()=>{A="paused",_=$},stop:()=>{m=!0,A!=="idle"&&(A="idle",u&&u(),P())},cancel:()=>{M!==null&&z(M),P()},complete:()=>{A="finished"},sample:K=>(T=0,z(K))};return H}function MAt(e){let t;return()=>(t===void 0&&(t=e()),t)}const TAt=MAt(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),NAt=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),x3=10,DAt=2e4,RAt=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Jde(t.ease);function IAt(e,t,{onUpdate:n,onComplete:r,...i}){if(!(TAt()&&NAt.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,s,l;const u=()=>{l=new Promise(E=>{s=E})};u();let{keyframes:c,duration:d=300,ease:f,times:h}=i;if(RAt(t,i)){const E=SC({...i,repeat:0,delay:0});let x={done:!1,value:c[0]};const v=[];let C=0;for(;!x.done&&C<DAt;)x=E.sample(C),v.push(x.value),C+=x3;h=void 0,c=v,d=C-x3,f="linear"}const m=Vkt(e.owner.current,t,c,{...i,duration:d,ease:f,times:h});i.syncStart&&(m.startTime=Ki.isProcessing?Ki.timestamp:document.timeline?document.timeline.currentTime:performance.now());const g=()=>m.cancel(),S=()=>{Fr.update(g),s(),u()};return m.onfinish=()=>{e.set(Hkt(c,i)),r&&r(),S()},{then(E,x){return l.then(E,x)},attachTimeline(E){return m.timeline=E,m.onfinish=null,di},get time(){return Yc(m.currentTime||0)},set time(E){m.currentTime=Bf(E)},get speed(){return m.playbackRate},set speed(E){m.playbackRate=E},get duration(){return Yc(d)},play:()=>{o||(m.play(),cd(g))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:E}=m;if(E){const x=SC({...i,autoplay:!1});e.setWithVelocity(x.sample(E-x3).value,x.sample(E).value,x3)}S()},complete:()=>m.finish(),cancel:S}}function OAt({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:di,pause:di,stop:di,then:a=>(a(),Promise.resolve()),cancel:di,complete:di});return t?SC({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const PAt={type:"spring",stiffness:500,damping:25,restSpeed:10},jAt=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),LAt={type:"keyframes",duration:.8},FAt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BAt=(e,{keyframes:t})=>t.length>2?LAt:Lm.has(e)?e.startsWith("scale")?jAt(t[1]):PAt:FAt,IN=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ih.test(t)||t==="0")&&!t.startsWith("url(")),zAt=new Set(["brightness","contrast","saturate","opacity"]);function $At(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(xk)||[];if(!r)return e;const i=n.replace(r,"");let a=zAt.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const UAt=/([a-z-]*)\(.*?\)/g,ON={...ih,getAnimatableNone:e=>{const t=e.match(UAt);return t?t.map($At).join(" "):e}},VAt={...Ode,color:fo,backgroundColor:fo,outlineColor:fo,fill:fo,stroke:fo,borderColor:fo,borderTopColor:fo,borderRightColor:fo,borderBottomColor:fo,borderLeftColor:fo,filter:ON,WebkitFilter:ON},WO=e=>VAt[e];function wfe(e,t){let n=WO(e);return n!==ON&&(n=ih),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xfe=e=>/^0[^.\s]+$/.test(e);function HAt(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||xfe(e)}function qAt(e,t,n,r){const i=IN(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),HAt(a[u])&&l.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(s=a[u]);if(i&&l.length&&s)for(let u=0;u<l.length;u++){const c=l[u];a[c]=wfe(t,s)}return a}function WAt({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function Sfe(e,t){return e[t]||e.default||e}const GO=(e,t,n,r={})=>i=>{const a=Sfe(r,e)||{},o=a.delay||r.delay||0;let{elapsed:s=0}=r;s=s-Bf(o);const l=qAt(t,e,n,a),u=l[0],c=l[l.length-1],d=IN(e,u),f=IN(e,c);let h={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-s,onUpdate:m=>{t.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(WAt(a)||(h={...h,...BAt(e,h)}),h.duration&&(h.duration=Bf(h.duration)),h.repeatDelay&&(h.repeatDelay=Bf(h.repeatDelay)),!d||!f||Ukt.current||a.type===!1)return OAt(h);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=IAt(t,e,h);if(m)return m}return SC(h)};function CC(e){return!!(Zo(e)&&e.add)}const Cfe=e=>/^\-?\d*\.?\d+$/.test(e);function KO(e,t){e.indexOf(t)===-1&&e.push(t)}function YO(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class JO{constructor(){this.subscriptions=[]}add(t){return KO(this.subscriptions,t),()=>YO(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const GAt=e=>!isNaN(parseFloat(e));class KAt{constructor(t,n={}){this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:o}=Ki;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Fr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Fr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=GAt(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new JO);const r=this.events[t].add(n);return t==="change"?()=>{r(),Fr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?vfe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function m1(e,t){return new KAt(e,t)}const Efe=e=>t=>t.test(e),YAt={test:e=>e==="auto",parse:e=>e},kfe=[Fm,Yt,Gu,Gd,ekt,ZEt,YAt],iy=e=>kfe.find(Efe(e)),JAt=[...kfe,fo,ih],QAt=e=>JAt.find(Efe(e));function XAt(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,m1(n))}function ZAt(e,t){const n=Ck(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const o in a){const s=mkt(a[o]);XAt(e,o,s)}}function e8t(e,t,n){var r,i;const a=Object.keys(t).filter(s=>!e.hasValue(s)),o=a.length;if(o)for(let s=0;s<o;s++){const l=a[s],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(Cfe(c)||xfe(c))?c=parseFloat(c):!QAt(c)&&ih.test(u)&&(c=wfe(l,u)),e.addValue(l,m1(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function t8t(e,t){return t?(t[e]||t.default||t).from:void 0}function n8t(e,t,n){const r={};for(const i in e){const a=t8t(i,t);if(a!==void 0)r[i]=a;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function r8t({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Afe(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in s){const f=e.getValue(d),h=s[d];if(!f||h===void 0||c&&r8t(c,d))continue;const m={delay:n,elapsed:0,...a};if(window.HandoffAppearAnimations&&!f.hasAnimated){const S=e.getProps()[zkt];S&&(m.elapsed=window.HandoffAppearAnimations(S,d,f,Fr),m.syncStart=!0)}f.start(GO(d,f,h,e.shouldReduceMotion&&Lm.has(d)?{type:!1}:m));const g=f.animation;CC(l)&&(l.add(d),g.then(()=>l.remove(d))),u.push(g)}return o&&Promise.all(u).then(()=>{o&&ZAt(e,o)}),u}function PN(e,t,n={}){const r=Ck(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(Afe(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=i;return i8t(e,t,u+l,c,d,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,u]=s==="beforeChildren"?[a,o]:[o,a];return l().then(()=>u())}else return Promise.all([a(),o(n.delay)])}function i8t(e,t,n=0,r=0,i=1,a){const o=[],s=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(e.variantChildren).sort(a8t).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(PN(u,t,{...a,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function a8t(e,t){return e.sortNodePosition(t)}function o8t(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>PN(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=PN(e,t,n);else{const i=typeof t=="function"?Ck(e,t,n.custom):t;r=Promise.all(Afe(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const s8t=[...RO].reverse(),l8t=RO.length;function u8t(e){return t=>Promise.all(t.map(({animation:n,options:r})=>o8t(e,n,r)))}function c8t(e){let t=u8t(e);const n=f8t();let r=!0;const i=(l,u)=>{const c=Ck(e,u);if(c){const{transition:d,transitionEnd:f,...h}=c;l={...l,...h,...f}}return l};function a(l){t=l(e)}function o(l,u){const c=e.getProps(),d=e.getVariantContext(!0)||{},f=[],h=new Set;let m={},g=1/0;for(let y=0;y<l8t;y++){const E=s8t[y],x=n[E],v=c[E]!==void 0?c[E]:d[E],C=e2(v),b=E===u?x.isActive:null;b===!1&&(g=y);let A=v===d[E]&&v!==c[E]&&C;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),x.protectedKeys={...m},!x.isActive&&b===null||!v&&!x.prevProp||bk(v)||typeof v=="boolean")continue;const _=d8t(x.prevProp,v);let T=_||E===u&&x.isActive&&!A&&C||y>g&&C;const M=Array.isArray(v)?v:[v];let N=M.reduce(i,{});b===!1&&(N={});const{prevResolvedValues:I={}}=x,F={...I,...N},$=z=>{T=!0,h.delete(z),x.needsAnimating[z]=!0};for(const z in F){const D=N[z],P=I[z];m.hasOwnProperty(z)||(D!==P?bC(D)&&bC(P)?!Kde(D,P)||_?$(z):x.protectedKeys[z]=!0:D!==void 0?$(z):h.add(z):D!==void 0&&h.has(z)?$(z):x.protectedKeys[z]=!0)}x.prevProp=v,x.prevResolvedValues=N,x.isActive&&(m={...m,...N}),r&&e.blockInitialAnimation&&(T=!1),T&&!A&&f.push(...M.map(z=>({animation:z,options:{type:E,...l}})))}if(h.size){const y={};h.forEach(E=>{const x=e.getBaseTarget(E);x!==void 0&&(y[E]=x)}),f.push({animation:y})}let S=!!f.length;return r&&c.initial===!1&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(f):Promise.resolve()}function s(l,u,c){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const f=o(c,l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n}}function d8t(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Kde(t,e):!1}function Xh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function f8t(){return{animate:Xh(!0),whileInView:Xh(),whileHover:Xh(),whileTap:Xh(),whileDrag:Xh(),whileFocus:Xh(),exit:Xh()}}class h8t extends Rh{constructor(t){super(t),t.animationState||(t.animationState=c8t(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),bk(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let p8t=0;class m8t extends Rh{constructor(){super(...arguments),this.id=p8t++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const g8t={animation:{Feature:h8t},exit:{Feature:m8t}},YK=(e,t)=>Math.abs(e-t);function v8t(e,t){const n=YK(e.x,t.x),r=YK(e.y,t.y);return Math.sqrt(n**2+r**2)}class _fe{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=d_(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,d=v8t(u.offset,{x:0,y:0})>=3;if(!c&&!d)return;const{point:f}=u,{timestamp:h}=Ki;this.history.push({...f,timestamp:h});const{onStart:m,onMove:g}=this.handlers;c||(m&&m(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=c_(c,this.transformPagePoint),Fr.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:f}=this.handlers,h=d_(u.type==="pointercancel"?this.lastMoveEventInfo:c_(c,this.transformPagePoint),this.history);this.startEvent&&d&&d(u,h),f&&f(u,h)},!Vde(t))return;this.handlers=n,this.transformPagePoint=r;const i=Sk(t),a=c_(i,this.transformPagePoint),{point:o}=a,{timestamp:s}=Ki;this.history=[{...o,timestamp:s}];const{onSessionStart:l}=n;l&&l(t,d_(a,this.history)),this.removeListeners=Ff(Kc(window,"pointermove",this.handlePointerMove),Kc(window,"pointerup",this.handlePointerUp),Kc(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cd(this.updatePoint)}}function c_(e,t){return t?{point:t(e.point)}:e}function JK(e,t){return{x:e.x-t.x,y:e.y-t.y}}function d_({point:e},t){return{point:e,delta:JK(e,Mfe(t)),offset:JK(e,y8t(t)),velocity:b8t(t,.1)}}function y8t(e){return e[0]}function Mfe(e){return e[e.length-1]}function b8t(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Mfe(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Bf(t)));)n--;if(!r)return{x:0,y:0};const a=Yc(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ds(e){return e.max-e.min}function jN(e,t=0,n=.01){return Math.abs(e-t)<=n}function QK(e,t,n,r=.5){e.origin=r,e.originPoint=ti(t.min,t.max,e.origin),e.scale=Ds(n)/Ds(t),(jN(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ti(n.min,n.max,e.origin)-e.originPoint,(jN(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ab(e,t,n,r){QK(e.x,t.x,n.x,r?r.originX:void 0),QK(e.y,t.y,n.y,r?r.originY:void 0)}function XK(e,t,n){e.min=n.min+t.min,e.max=e.min+Ds(t)}function w8t(e,t,n){XK(e.x,t.x,n.x),XK(e.y,t.y,n.y)}function ZK(e,t,n){e.min=t.min-n.min,e.max=e.min+Ds(t)}function ob(e,t,n){ZK(e.x,t.x,n.x),ZK(e.y,t.y,n.y)}function x8t(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ti(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ti(n,e,r.max):Math.min(e,n)),e}function eY(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function S8t(e,{top:t,left:n,bottom:r,right:i}){return{x:eY(e.x,n,i),y:eY(e.y,t,r)}}function tY(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function C8t(e,t){return{x:tY(e.x,t.x),y:tY(e.y,t.y)}}function E8t(e,t){let n=.5;const r=Ds(e),i=Ds(t);return i>r?n=n2(t.min,t.max-r,e.min):r>i&&(n=n2(e.min,e.max-i,t.min)),rh(0,1,n)}function k8t(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const LN=.35;function A8t(e=LN){return e===!1?e=0:e===!0&&(e=LN),{x:nY(e,"left","right"),y:nY(e,"top","bottom")}}function nY(e,t,n){return{min:rY(e,t),max:rY(e,n)}}function rY(e,t){return typeof e=="number"?e:e[t]||0}const iY=()=>({translate:0,scale:1,origin:0,originPoint:0}),r0=()=>({x:iY(),y:iY()}),aY=()=>({min:0,max:0}),Mi=()=>({x:aY(),y:aY()});function Ou(e){return[e("x"),e("y")]}function Tfe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function _8t({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function M8t(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function f_(e){return e===void 0||e===1}function FN({scale:e,scaleX:t,scaleY:n}){return!f_(e)||!f_(t)||!f_(n)}function rp(e){return FN(e)||Nfe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Nfe(e){return oY(e.x)||oY(e.y)}function oY(e){return e&&e!=="0%"}function EC(e,t,n){const r=e-n,i=t*r;return n+i}function sY(e,t,n,r,i){return i!==void 0&&(e=EC(e,i,r)),EC(e,n,r)+t}function BN(e,t=0,n=1,r,i){e.min=sY(e.min,t,n,r,i),e.max=sY(e.max,t,n,r,i)}function Dfe(e,{x:t,y:n}){BN(e.x,t.translate,t.scale,t.originPoint),BN(e.y,n.translate,n.scale,n.originPoint)}function T8t(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&i0(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Dfe(e,o)),r&&rp(a.latestValues)&&i0(e,a.latestValues))}t.x=lY(t.x),t.y=lY(t.y)}function lY(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function of(e,t){e.min=e.min+t,e.max=e.max+t}function uY(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,o=ti(e.min,e.max,a);BN(e,t[n],t[r],o,t.scale)}const N8t=["x","scaleX","originX"],D8t=["y","scaleY","originY"];function i0(e,t){uY(e.x,t,N8t),uY(e.y,t,D8t)}function Rfe(e,t){return Tfe(M8t(e.getBoundingClientRect(),t))}function R8t(e,t,n){const r=Rfe(e,n),{scroll:i}=t;return i&&(of(r.x,i.offset.x),of(r.y,i.offset.y)),r}const I8t=new WeakMap;class O8t{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mi(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Sk(l,"page").point)},a=(l,u)=>{const{drag:c,dragPropagation:d,onDragStart:f}=this.getProps();if(c&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=qde(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ou(m=>{let g=this.getAxisMotionValue(m).get()||0;if(Gu.test(g)){const{projection:S}=this.visualElement;if(S&&S.layout){const y=S.layout.layoutBox[m];y&&(g=Ds(y)*(parseFloat(g)/100))}}this.originPoint[m]=g}),f&&Fr.update(()=>f(l,u),!1,!0);const{animationState:h}=this.visualElement;h&&h.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:d,onDirectionLock:f,onDrag:h}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:m}=u;if(d&&this.currentDirection===null){this.currentDirection=P8t(m),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",u.point,m),this.updateAxis("y",u.point,m),this.visualElement.render(),h&&h(l,u)},s=(l,u)=>this.stop(l,u);this.panSession=new _fe(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Fr.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!S3(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=x8t(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;t&&t0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=S8t(r.layoutBox,t):this.constraints=!1,this.elastic=A8t(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ou(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=k8t(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!t0(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=R8t(r,i.root,this.visualElement.getTransformPagePoint());let o=C8t(i.layout.layoutBox,a);if(n){const s=n(_8t(o));this.hasMutatedConstraints=!!s,s&&(o=Tfe(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Ou(c=>{if(!S3(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,m={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(GO(t,r,0,n))}stopAnimation(){Ou(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ou(n=>{const{drag:r}=this.getProps();if(!S3(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[n];a.set(t[n]-ti(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!t0(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ou(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();i[o]=E8t({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ou(o=>{if(!S3(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(ti(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;I8t.set(this.visualElement,this);const t=this.visualElement.current,n=Kc(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();t0(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=zc(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ou(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=LN,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function S3(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function P8t(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class j8t extends Rh{constructor(t){super(t),this.removeGroupControls=di,this.removeListeners=di,this.controls=new O8t(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||di}unmount(){this.removeGroupControls(),this.removeListeners()}}const cY=e=>(t,n)=>{e&&Fr.update(()=>e(t,n))};class L8t extends Rh{constructor(){super(...arguments),this.removePointerDownListener=di}onPointerDown(t){this.session=new _fe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:cY(t),onStart:cY(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Fr.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=Kc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function F8t(){const e=j.useContext(DO);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=j.useId();return j.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const uS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dY(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ay={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Yt.test(e))e=parseFloat(e);else return e;const n=dY(e,t.target.x),r=dY(e,t.target.y);return`${n}% ${r}%`}},B8t={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ih.parse(e);if(i.length>5)return r;const a=ih.createTransformer(e),o=typeof i[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=l;const u=ti(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class z8t extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;WEt($8t),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),uS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Fr.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ife(e){const[t,n]=F8t(),r=j.useContext(Mde);return O.createElement(z8t,{...e,layoutGroup:r,switchLayoutGroup:j.useContext(Tde),isPresent:t,safeToRemove:n})}const $8t={borderRadius:{...ay,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ay,borderTopRightRadius:ay,borderBottomLeftRadius:ay,borderBottomRightRadius:ay,boxShadow:B8t},Ofe=["TopLeft","TopRight","BottomLeft","BottomRight"],U8t=Ofe.length,fY=e=>typeof e=="string"?parseFloat(e):e,hY=e=>typeof e=="number"||Yt.test(e);function V8t(e,t,n,r,i,a){i?(e.opacity=ti(0,n.opacity!==void 0?n.opacity:1,H8t(r)),e.opacityExit=ti(t.opacity!==void 0?t.opacity:1,0,q8t(r))):a&&(e.opacity=ti(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<U8t;o++){const s=`border${Ofe[o]}Radius`;let l=pY(t,s),u=pY(n,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||hY(l)===hY(u)?(e[s]=Math.max(ti(fY(l),fY(u),r),0),(Gu.test(u)||Gu.test(l))&&(e[s]+="%")):e[s]=u}(t.rotate||n.rotate)&&(e.rotate=ti(t.rotate||0,n.rotate||0,r))}function pY(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const H8t=Pfe(0,.5,VO),q8t=Pfe(.5,.95,di);function Pfe(e,t,n){return r=>r<e?0:r>t?1:n(n2(e,t,r))}function mY(e,t){e.min=t.min,e.max=t.max}function Js(e,t){mY(e.x,t.x),mY(e.y,t.y)}function gY(e,t,n,r,i){return e-=t,e=EC(e,1/n,r),i!==void 0&&(e=EC(e,1/i,r)),e}function W8t(e,t=0,n=1,r=.5,i,a=e,o=e){if(Gu.test(t)&&(t=parseFloat(t),t=ti(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=ti(a.min,a.max,r);e===a&&(s-=t),e.min=gY(e.min,t,n,s,i),e.max=gY(e.max,t,n,s,i)}function vY(e,t,[n,r,i],a,o){W8t(e,t[n],t[r],t[i],t.scale,a,o)}const G8t=["x","scaleX","originX"],K8t=["y","scaleY","originY"];function yY(e,t,n,r){vY(e.x,t,G8t,n?n.x:void 0,r?r.x:void 0),vY(e.y,t,K8t,n?n.y:void 0,r?r.y:void 0)}function bY(e){return e.translate===0&&e.scale===1}function jfe(e){return bY(e.x)&&bY(e.y)}function Y8t(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Lfe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function wY(e){return Ds(e.x)/Ds(e.y)}class J8t{constructor(){this.members=[]}add(t){KO(this.members,t),t.scheduleRender()}remove(t){if(YO(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xY(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const Q8t=(e,t)=>e.depth-t.depth;class X8t{constructor(){this.children=[],this.isDirty=!1}add(t){KO(this.children,t),this.isDirty=!0}remove(t){YO(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Q8t),this.isDirty=!1,this.children.forEach(t)}}function Z8t(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(cd(r),e(a-t))};return Fr.read(r,!0),()=>cd(r)}function e6t(e){window.MotionDebug&&window.MotionDebug.record(e)}function t6t(e){return e instanceof SVGElement&&e.tagName!=="svg"}function n6t(e,t,n){const r=Zo(e)?e:m1(e);return r.start(GO("",r,t,n)),r.animation}const SY=["","X","Y","Z"],CY=1e3;let r6t=0;const ip={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ffe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},s=t==null?void 0:t()){this.id=r6t++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{ip.totalNodes=ip.resolvedTargetDeltas=ip.recalculatedProjection=0,this.nodes.forEach(o6t),this.nodes.forEach(d6t),this.nodes.forEach(f6t),this.nodes.forEach(s6t),e6t(ip)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new X8t)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new JO),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t6t(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Z8t(f,250),uS.hasAnimatedSinceResize&&(uS.hasAnimatedSinceResize=!1,this.nodes.forEach(kY))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||v6t,{onLayoutAnimationStart:S,onLayoutAnimationComplete:y}=c.getProps(),E=!this.targetLayout||!Lfe(this.targetLayout,m)||h,x=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const v={...Sfe(g,"layout"),onPlay:S,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else f||kY(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(h6t),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(EY);return}this.isUpdating||this.nodes.forEach(u6t),this.isUpdating=!1,this.nodes.forEach(c6t),this.nodes.forEach(i6t),this.nodes.forEach(a6t),this.clearAllSnapshots();const s=performance.now();Ki.delta=rh(0,1e3/60,s-Ki.timestamp),Ki.timestamp=s,Ki.isProcessing=!0,n_.update.process(Ki),n_.preRender.process(Ki),n_.render.process(Ki),Ki.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(l6t),this.sharedNodes.forEach(p6t)}scheduleUpdateProjection(){Fr.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Fr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!jfe(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(s||rp(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),y6t(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Mi();const s=o.measureViewportBox(),{scroll:l}=this.root;return l&&(of(s.x,l.offset.x),of(s.y,l.offset.y)),s}removeElementScroll(o){const s=Mi();Js(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){Js(s,o);const{scroll:f}=this.root;f&&(of(s.x,-f.offset.x),of(s.y,-f.offset.y))}of(s.x,c.offset.x),of(s.y,c.offset.y)}}return s}applyTransform(o,s=!1){const l=Mi();Js(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&i0(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),rp(c.latestValues)&&i0(l,c.latestValues)}return rp(this.latestValues)&&i0(l,this.latestValues),l}removeTransform(o){const s=Mi();Js(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!rp(u.latestValues))continue;FN(u.latestValues)&&u.updateSnapshot();const c=Mi(),d=u.measurePageBox();Js(c,d),yY(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return rp(this.latestValues)&&yY(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ki.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Ki.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mi(),this.relativeTargetOrigin=Mi(),ob(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Mi(),this.targetWithTransforms=Mi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),w8t(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Js(this.target,this.layout.layoutBox),Dfe(this.target,this.targetDelta)):Js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mi(),this.relativeTargetOrigin=Mi(),ob(this.relativeTargetOrigin,this.target,h.target),Js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ip.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||FN(this.parent.latestValues)||Nfe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ki.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Js(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;T8t(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox);const{target:m}=s;if(!m){this.projectionTransform&&(this.projectionDelta=r0(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=r0(),this.projectionDeltaWithTransform=r0());const g=this.projectionTransform;ab(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=xY(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ip.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,s=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=r0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const f=Mi(),h=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=h!==m,S=this.getStack(),y=!S||S.members.length<=1,E=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(g6t));this.animationProgress=0;let x;this.mixTargetDelta=v=>{const C=v/1e3;AY(d.x,o.x,C),AY(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ob(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m6t(this.relativeTarget,this.relativeTargetOrigin,f,C),x&&Y8t(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Mi()),Js(x,this.relativeTarget)),g&&(this.animationValues=c,V8t(c,u,this.latestValues,C,E,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fr.update(()=>{uS.hasAnimatedSinceResize=!0,this.currentAnimation=n6t(0,CY,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:c}=o;if(!(!s||!l||!u)){if(this!==o&&this.layout&&u&&Bfe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Mi();const d=Ds(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Ds(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Js(s,l),i0(s,c),ab(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new J8t),this.sharedNodes.get(o).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(s=!0),!s)return;const u={};for(let c=0;c<SY.length;c++){const d="rotate"+SY[c];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var s,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=lS(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=lS(o.pointerEvents)||""),this.hasProjected&&!rp(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=xY(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:h,y:m}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(s=f.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in vC){if(f[g]===void 0)continue;const{correct:S,applyTo:y}=vC[g],E=u.transform==="none"?f[g]:S(f[g],d);if(y){const x=y.length;for(let v=0;v<x;v++)u[y[v]]=E}else u[g]=E}return this.options.layoutId&&(u.pointerEvents=d===this?lS(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(EY),this.root.sharedNodes.clear()}}}function i6t(e){e.updateLayout()}function a6t(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Ou(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=Ds(f);f.min=r[d].min,f.max=f.min+h}):Bfe(a,n.layoutBox,r)&&Ou(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=Ds(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const s=r0();ab(s,r,n.layoutBox);const l=r0();o?ab(l,e.applyTransform(i,!0),n.measuredBox):ab(l,r,n.layoutBox);const u=!jfe(s);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const m=Mi();ob(m,n.layoutBox,f.layoutBox);const g=Mi();ob(g,r,h.layoutBox),Lfe(m,g)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function o6t(e){ip.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function s6t(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function l6t(e){e.clearSnapshot()}function EY(e){e.clearMeasurements()}function u6t(e){e.isLayoutDirty=!1}function c6t(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function kY(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function d6t(e){e.resolveTargetDelta()}function f6t(e){e.calcProjection()}function h6t(e){e.resetRotation()}function p6t(e){e.removeLeadSnapshot()}function AY(e,t,n){e.translate=ti(t.translate,0,n),e.scale=ti(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _Y(e,t,n,r){e.min=ti(t.min,n.min,r),e.max=ti(t.max,n.max,r)}function m6t(e,t,n,r){_Y(e.x,t.x,n.x,r),_Y(e.y,t.y,n.y,r)}function g6t(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const v6t={duration:.45,ease:[.4,0,.1,1]},MY=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),TY=MY("applewebkit/")&&!MY("chrome/")?Math.round:di;function NY(e){e.min=TY(e.min),e.max=TY(e.max)}function y6t(e){NY(e.x),NY(e.y)}function Bfe(e,t,n){return e==="position"||e==="preserve-aspect"&&!jN(wY(t),wY(n),.2)}const b6t=Ffe({attachResizeListener:(e,t)=>zc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),h_={current:void 0},zfe=Ffe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!h_.current){const e=new b6t({});e.mount(window),e.setOptions({layoutScroll:!0}),h_.current=e}return h_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),w6t={pan:{Feature:L8t},drag:{Feature:j8t,ProjectionNode:zfe,MeasureLayout:Ife}},x6t=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function S6t(e){const t=x6t.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function zN(e,t,n=1){const[r,i]=S6t(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return Cfe(o)?parseFloat(o):o}else return TN(i)?zN(i,t,n+1):i}function C6t(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!TN(a))return;const o=zN(a,r);o&&i.set(o)});for(const i in t){const a=t[i];if(!TN(a))continue;const o=zN(a,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const E6t=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$fe=e=>E6t.has(e),k6t=e=>Object.keys(e).some($fe),DY=e=>e===Fm||e===Yt,RY=(e,t)=>parseFloat(e.split(", ")[t]),IY=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return RY(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?RY(a[1],e):0}},A6t=new Set(["x","y","z"]),_6t=lw.filter(e=>!A6t.has(e));function M6t(e){const t=[];return _6t.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const g1={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:IY(4,13),y:IY(5,14)};g1.translateX=g1.x;g1.translateY=g1.y;const T6t=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{s[u]=g1[u](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(s[u]),e[u]=g1[u](l,a)}),e},N6t=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter($fe);let a=[],o=!1;const s=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],d=iy(c);const f=t[l];let h;if(bC(f)){const m=f.length,g=f[0]===null?1:0;c=f[g],d=iy(c);for(let S=g;S<m&&f[S]!==null;S++)h?UO(iy(f[S])===h):h=iy(f[S])}else h=iy(f);if(d!==h)if(DY(d)&&DY(h)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&h===Yt&&(t[l]=f.map(parseFloat))}else d!=null&&d.transform&&(h!=null&&h.transform)&&(c===0||f===0)?c===0?u.set(h.transform(c)):t[l]=d.transform(f):(o||(a=M6t(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(f))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,u=T6t(t,e,s);return a.length&&a.forEach(([c,d])=>{e.getValue(c).set(d)}),e.render(),yk&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function D6t(e,t,n,r){return k6t(t)?N6t(e,t,n,r):{target:t,transitionEnd:r}}const R6t=(e,t,n,r)=>{const i=C6t(e,t,r);return t=i.target,r=i.transitionEnd,D6t(e,t,n,r)},$N={current:null},Ufe={current:!1};function I6t(){if(Ufe.current=!0,!!yk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$N.current=e.matches;e.addListener(t),t()}else $N.current=!1}function O6t(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],o=n[i];if(Zo(a))e.addValue(i,a),CC(r)&&r.add(i);else if(Zo(o))e.addValue(i,m1(a,{owner:e})),CC(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){const s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{const s=e.getStaticValue(i);e.addValue(i,m1(s!==void 0?s:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const OY=new WeakMap,Vfe=Object.keys(t2),P6t=Vfe.length,PY=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],j6t=IO.length;class L6t{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Fr.render(this.render,!1,!0);const{latestValues:s,renderState:l}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=wk(n),this.isVariantNode=_de(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const d in c){const f=c[d];s[d]!==void 0&&Zo(f)&&(f.set(s[d],!1),CC(u)&&u.add(d))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,OY.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ufe.current||I6t(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$N.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){OY.delete(this.current),this.projection&&this.projection.unmount(),cd(this.notifyUpdate),cd(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Lm.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Fr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let o,s;for(let l=0;l<P6t;l++){const u=Vfe[l],{isEnabled:c,Feature:d,ProjectionNode:f,MeasureLayout:h}=t2[u];f&&(o=f),c(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),h&&(s=h))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&t0(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:f,layoutRoot:h})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<PY.length;r++){const i=PY[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=O6t(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<j6t;r++){const i=IO[r],a=this.props[i];(e2(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=m1(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=$O(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Zo(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new JO),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Hfe extends L6t{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let o=n8t(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),a){e8t(this,r,o);const s=R6t(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function F6t(e){return window.getComputedStyle(e)}class B6t extends Hfe{readValueFromInstance(t,n){if(Lm.has(n)){const r=WO(n);return r&&r.default||0}else{const r=F6t(t),i=(Rde(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Rfe(t,n)}build(t,n,r,i){PO(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return zO(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Zo(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){Fde(t,n,r,i)}}class z6t extends Hfe{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Lm.has(n)){const r=WO(n);return r&&r.default||0}return n=Bde.has(n)?n:BO(n),t.getAttribute(n)}measureInstanceViewportBox(){return Mi()}scrapeMotionValuesFromProps(t,n){return $de(t,n)}build(t,n,r,i){LO(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){zde(t,n,r,i)}mount(t){this.isSVGTag=FO(t.tagName),super.mount(t)}}const $6t=(e,t)=>OO(e)?new z6t(t,{enableHardwareAcceleration:!1}):new B6t(t,{enableHardwareAcceleration:!0}),U6t={layout:{ProjectionNode:zfe,MeasureLayout:Ife}},V6t={...g8t,...jkt,...w6t,...U6t},H6t=HEt((e,t)=>Ckt(e,t,V6t,$6t));function qfe(e){const t=Math.min(Math.max(e.percentage,0),100);return p.jsxs(it,{gap:10,children:[p.jsx(Ae,{align:"flex-end",justify:"center",w:e.size,h:e.size,children:p.jsx(H6t.svg,{width:e.size,height:e.size*(t/100),xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 512 ${512*(t/100)}`,transform:"rotate(180)",children:p.jsxs("g",{className:"layer",children:[p.jsx("title",{children:"D20 Loader"}),p.jsx("g",{id:"svg_1",children:p.jsx("path",{transform:"rotate(180 256 256)",d:"m138.9,220l-92.8,137c-2.7,4.4 0.1,10.1 5.2,10.7l183,19.4l-95.4,-167.1l0,0zm-87.3,88.2l66.2,-107.5l-67.4,-40.4c-2.3,-1.4 -5.3,0.3 -5.3,3l0,143.1c0,3.5 4.6,4.9 6.5,1.8zm9.5,95.1l170.9,77c4.7,2.2 10,-1.3 10,-6.4l0,-57.7l-179,-19.6c-3.9,-0.4 -5.4,5 -1.9,6.7l0,0zm71.4,-226.6l70.3,-125.6c3.8,-6.2 -3.2,-13.4 -9.5,-9.8l-132.6,86.7c-2.2,1.4 -2.1,4.6 0.1,6l71.7,42.7l0,0zm123.5,9l96,0l-84,-148c-2.8,-4.5 -7.4,-6.7 -12,-6.7c-4.6,0 -9.2,2.2 -12,6.7l-84,148l96,0zm205.6,-25.4l-67.4,40.4l66.2,107.5c1.9,3 6.5,1.7 6.5,-1.8l0,-143.1c0,-2.7 -2.9,-4.4 -5.3,-3zm-82.1,16.4l71.7,-42.8c2.2,-1.3 2.3,-4.5 0.1,-6l-132.6,-86.6c-6.3,-3.6 -13.3,3.6 -9.5,9.8l70.3,125.6zm69.5,219.9l-178.9,19.6l0,57.8c0,5.1 5.3,8.5 10,6.4l170.9,-77c3.4,-1.8 1.9,-7.2 -2,-6.8l0,0zm-75.9,-176.6l-95.5,167.1l183,-19.4c5.1,-0.6 7.9,-6.3 5.2,-10.7l-92.7,-137l0,0zm-117.1,-6.2l-88.3,0l88.3,154.5l88.3,-154.5l-88.3,0z",fill:e.color,id:"svg_2"})})]})})}),p.jsx(pe,{fz:"sm",ta:"center",fs:"italic",c:"gray.2",children:"Loading..."})]})}function q6t(e){const t=ht();return e.disabled?p.jsx(p.Fragment,{children:e.children}):p.jsx(p.Fragment,{children:p.jsxs(Z,{px:"xs",pt:"sm",pb:"xs",style:{border:"1px solid "+t.colors.dark[3],borderRadius:t.radius.md,position:"relative"},children:[p.jsx(pe,{fz:"xs",px:5,style:{position:"absolute",top:-11,backgroundColor:t.colors.dark[7]},children:e.label}),e.children]})})}function _d(e){const t=e.querySelectorAll(".selection-choice-base");return{current:e.querySelectorAll(".selection-choice-selected").length,max:t.length}}function UN(){return window.innerWidth<=w7e}const hc=2500;function W6t(e){const t=ht(),n=sc(Sr),[r,i]=j.useState(!1),{data:a,isFetching:o}=En({queryKey:[`find-content-${n==null?void 0:n.id}`],queryFn:async()=>{const d=await UE(void 0,!0);return u.stop(),d},refetchOnWindowFocus:!1}),[s,l]=j.useState(0),u=WX(()=>l(d=>d+2),30);j.useEffect(()=>(u.start(),u.stop),[]);const c=p.jsx(Z,{style:{width:"100%",height:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(qfe,{size:100,color:t.colors[t.primaryColor][5],percentage:s})});return o||!a?c:p.jsxs(p.Fragment,{children:[p.jsx("div",{style:{display:r?"none":void 0},children:c}),p.jsx("div",{style:{display:r?void 0:"none"},children:p.jsx(G6t,{content:a,pageHeight:e.pageHeight,onFinishLoading:()=>{u.stop(),i(!0)}})})]})}function G6t(e){const t=UN(),[n,r]=j.useState(!1),[i,a]=Ct(Sr),[o,s]=j.useState(null),[l,u]=j.useState(),c=j.useRef(!1);j.useEffect(()=>{!i||c.current||(c.current=!0,Pse(i,e.content,"CHARACTER-BUILDER").then(f=>{u(f),c.current=!1}))},[i]),j.useEffect(()=>{setTimeout(()=>{var f;(f=e.onFinishLoading)==null||f.call(e)},hc+500)},[]);const d=Array.from({length:((i==null?void 0:i.level)??0)+1},(f,h)=>h).map(f=>p.jsx(K6t,{level:f,opened:o===`${f}`,content:e.content,operationResults:l},f));return p.jsxs(Ae,{gap:0,children:[t?p.jsx(du,{opened:n,onClose:()=>{r(!1)},title:p.jsx(zt,{order:3,children:"Character Stats"}),size:"xs",children:p.jsx(jY,{content:e.content,pageHeight:window.innerHeight-80})}):p.jsx(Z,{style:{flexBasis:"35%"},children:p.jsx(jY,{content:e.content,pageHeight:e.pageHeight})}),p.jsxs(Z,{style:{flexBasis:t?"100%":"65%"},children:[t&&p.jsxs(p.Fragment,{children:[p.jsxs(Ae,{justify:"space-between",align:"flex-start",wrap:"nowrap",children:[p.jsx(gk,{character:i,hideImage:!0,onClickAncestry:()=>{var f,h;Of("ancestry",m=>{a(g=>g&&{...g,details:{...g.details,ancestry:m}})},{groupBySource:!0,selectedId:(h=(f=i==null?void 0:i.details)==null?void 0:f.ancestry)==null?void 0:h.id})},onClickBackground:()=>{var f,h;Of("background",m=>{a(g=>g&&{...g,details:{...g.details,background:m}})},{groupBySource:!0,selectedId:(h=(f=i==null?void 0:i.details)==null?void 0:f.background)==null?void 0:h.id})},onClickClass:()=>{var f,h;Of("class",m=>{a(g=>g&&{...g,details:{...g.details,class:m}})},{groupBySource:!0,selectedId:(h=(f=i==null?void 0:i.details)==null?void 0:f.class)==null?void 0:h.id})}}),p.jsx(mt,{leftSection:p.jsx(LIe,{size:14}),variant:"outline",size:"xs",mt:"sm",mr:"md",onClick:()=>{r(f=>!f)},children:"Stats"})]}),p.jsx(Lt,{pb:5})]}),p.jsx(Jn,{h:e.pageHeight,pr:12,children:p.jsx(nt,{value:o,onChange:s,variant:"filled",styles:{label:{paddingTop:5,paddingBottom:5},control:{paddingLeft:13,paddingRight:13},item:{marginTop:0,marginBottom:5}},children:d})})]})]})}function jY(e){var s,l,u,c,d,f,h,m,g,S,y,E,x,v,C,b;const{ref:t,height:n}=JD(),[r,i]=Ct(an),[a,o]=Ct(Sr);return p.jsxs(it,{gap:5,children:[p.jsx(Z,{pb:5,children:p.jsx(gk,{ref:t,character:a,onClickAncestry:()=>{var A,_;Of("ancestry",T=>{o(M=>M&&{...M,details:{...M.details,ancestry:T}})},{groupBySource:!0,selectedId:(_=(A=a==null?void 0:a.details)==null?void 0:A.ancestry)==null?void 0:_.id})},onClickBackground:()=>{var A,_;Of("background",T=>{o(M=>M&&{...M,details:{...M.details,background:T}})},{groupBySource:!0,selectedId:(_=(A=a==null?void 0:a.details)==null?void 0:A.background)==null?void 0:_.id})},onClickClass:()=>{var A,_;Of("class",T=>{o(M=>M&&{...M,details:{...M.details,class:T}})},{groupBySource:!0,selectedId:(_=(A=a==null?void 0:a.details)==null?void 0:A.class)==null?void 0:_.id})}})}),p.jsx(Jn,{h:e.pageHeight-n-20,pr:12,children:p.jsxs(it,{gap:5,children:[p.jsx(Z,{children:p.jsx(mt,{variant:"default",size:"lg",fullWidth:!0,onClick:()=>{i({type:"stat-attributes",data:{}})},children:p.jsxs(Ae,{children:[p.jsx(wg,{attribute:"Str",variableName:"ATTRIBUTE_STR"}),p.jsx(wg,{attribute:"Dex",variableName:"ATTRIBUTE_DEX"}),p.jsx(wg,{attribute:"Con",variableName:"ATTRIBUTE_CON"}),p.jsx(wg,{attribute:"Int",variableName:"ATTRIBUTE_INT"}),p.jsx(wg,{attribute:"Wis",variableName:"ATTRIBUTE_WIS"}),p.jsx(wg,{attribute:"Cha",variableName:"ATTRIBUTE_CHA"})]})})}),p.jsxs(Yn,{onClick:()=>{i({type:"stat-hp",data:{}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Hit Points"})}),p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",children:qse()})})]}),p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"CLASS_DC",isDC:!0}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Class DC"})}),p.jsxs(Ae,{children:[p.jsx(pe,{c:"gray.0",children:La("CLASS_DC",!0)}),p.jsx(ft,{variant:"default",children:(s=Tt("CLASS_DC"))==null?void 0:s.value.value})]})]}),p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"PERCEPTION"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Perception"})}),p.jsxs(Ae,{children:[p.jsx(pe,{c:"gray.0",children:La("PERCEPTION")}),p.jsx(ft,{variant:"default",children:(l=Tt("PERCEPTION"))==null?void 0:l.value.value})]})]}),p.jsxs(nt,{variant:"separated",styles:{label:{paddingTop:5,paddingBottom:5},control:{paddingLeft:13,paddingRight:13},item:{marginTop:0,marginBottom:5}},children:[p.jsxs(nt.Item,{className:nl.item,value:"skills",children:[p.jsx(nt.Control,{children:p.jsx(pe,{c:"white",fz:"sm",children:"Skills"})}),p.jsx(nt.Panel,{children:p.jsx(it,{gap:5,children:Gb().filter(A=>A.name!=="SKILL_LORE____").map((A,_)=>p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:A.name}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:Ts(A)})}),p.jsxs(Ae,{children:[p.jsx(pe,{c:"gray.0",children:La(A.name)}),p.jsx(ft,{variant:"default",children:A==null?void 0:A.value.value})]})]},_))})})]}),p.jsxs(nt.Item,{className:nl.item,value:"saves",children:[p.jsx(nt.Control,{children:p.jsx(pe,{c:"white",fz:"sm",children:"Saves"})}),p.jsx(nt.Panel,{children:p.jsxs(it,{gap:5,children:[p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"SAVE_FORT"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Fortitude"})}),p.jsxs(Ae,{children:[p.jsx(pe,{c:"gray.0",children:La("SAVE_FORT")}),p.jsx(ft,{variant:"default",children:(u=Tt("SAVE_FORT"))==null?void 0:u.value.value})]})]}),p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"SAVE_REFLEX"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Reflex"})}),p.jsxs(Ae,{children:[p.jsx(pe,{c:"gray.0",children:La("SAVE_REFLEX")}),p.jsx(ft,{variant:"default",children:(c=Tt("SAVE_REFLEX"))==null?void 0:c.value.value})]})]}),p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"SAVE_WILL"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Will"})}),p.jsxs(Ae,{children:[p.jsx(pe,{c:"gray.0",children:La("SAVE_WILL")}),p.jsx(ft,{variant:"default",children:(d=Tt("SAVE_WILL"))==null?void 0:d.value.value})]})]})]})})]}),p.jsxs(nt.Item,{className:nl.item,value:"attacks",children:[p.jsx(nt.Control,{children:p.jsx(pe,{c:"white",fz:"sm",children:"Attacks"})}),p.jsx(nt.Panel,{children:p.jsxs(it,{gap:5,children:[p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"SIMPLE_WEAPONS"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Simple Weapons"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(f=Tt("SIMPLE_WEAPONS"))==null?void 0:f.value.value})})]}),p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"MARTIAL_WEAPONS"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Martial Weapons"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(h=Tt("MARTIAL_WEAPONS"))==null?void 0:h.value.value})})]}),p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"ADVANCED_WEAPONS"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Advanced Weapons"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(m=Tt("ADVANCED_WEAPONS"))==null?void 0:m.value.value})})]}),p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"UNARMED_ATTACKS"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Unarmed Attacks"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(g=Tt("UNARMED_ATTACKS"))==null?void 0:g.value.value})})]})]})})]}),p.jsxs(nt.Item,{className:nl.item,value:"defenses",children:[p.jsx(nt.Control,{children:p.jsx(pe,{c:"white",fz:"sm",children:"Defenses"})}),p.jsx(nt.Panel,{children:p.jsxs(it,{gap:5,children:[p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"LIGHT_ARMOR"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Light Armor"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(S=Tt("LIGHT_ARMOR"))==null?void 0:S.value.value})})]}),p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"MEDIUM_ARMOR"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Medium Armor"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(y=Tt("MEDIUM_ARMOR"))==null?void 0:y.value.value})})]}),p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"HEAVY_ARMOR"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Heavy Armor"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(E=Tt("HEAVY_ARMOR"))==null?void 0:E.value.value})})]}),p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"UNARMORED_DEFENSE"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Unarmored Defense"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(x=Tt("UNARMORED_DEFENSE"))==null?void 0:x.value.value})})]})]})})]}),p.jsxs(nt.Item,{className:nl.item,value:"spellcasting",children:[p.jsx(nt.Control,{children:p.jsx(pe,{c:"white",fz:"sm",children:"Spellcasting"})}),p.jsx(nt.Panel,{children:p.jsxs(it,{gap:5,children:[p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"SPELL_ATTACK"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Spell Attack"})}),p.jsxs(Ae,{children:[p.jsx(pe,{c:"gray.0",children:La("SPELL_ATTACK")}),p.jsx(ft,{variant:"default",children:(v=Tt("SPELL_ATTACK"))==null?void 0:v.value.value})]})]}),p.jsxs(Yn,{onClick:()=>{i({type:"stat-prof",data:{variableName:"SPELL_DC"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Spell DC"})}),p.jsxs(Ae,{children:[p.jsx(pe,{c:"gray.0",children:La("SPELL_DC")}),p.jsx(ft,{variant:"default",children:(C=Tt("SPELL_DC"))==null?void 0:C.value.value})]})]})]})})]}),p.jsxs(nt.Item,{className:nl.item,value:"languages",children:[p.jsx(nt.Control,{children:p.jsx(pe,{c:"white",fz:"sm",children:"Languages"})}),p.jsx(nt.Panel,{children:p.jsx(it,{gap:5,children:(((b=Tt("LANGUAGE_IDS"))==null?void 0:b.value)??[]).map((A,_)=>{var T;return p.jsxs(Yn,{onClick:()=>{i({type:"language",data:{id:parseInt(A)}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:(T=e.content.languages.find(M=>M.id===parseInt(A)))==null?void 0:T.name})}),p.jsx(Ae,{})]},_)})})})]}),p.jsxs(nt.Item,{className:nl.item,value:"resist-weaks",children:[p.jsx(nt.Control,{children:p.jsx(pe,{c:"white",fz:"sm",children:"Resist & Weaks"})}),p.jsx(nt.Panel,{children:p.jsx(it,{gap:5})})]})]})]})})]})}function wg(e){return p.jsxs(Z,{children:[p.jsx(pe,{c:"gray.0",ta:"center",fz:11,children:e.attribute}),p.jsx(pe,{c:"gray.0",ta:"center",children:Wse(e.variableName,{c:"gray.0",ta:"center"})})]})}function Yn(e){return p.jsx(Z,{children:p.jsx(mt,{variant:"default",size:"compact-lg",styles:{inner:{width:"100%"},label:{width:"100%"}},fullWidth:!0,onClick:e.onClick,children:p.jsx(Ae,{w:"100%",justify:"space-between",children:e.children})})})}function K6t(e){var h,m;const t=ht(),[n,r]=j.useState(null),{hovered:i,ref:a}=Wn(),[o,s]=Ct(Sr),l=j.useRef(null),u=Ai(a,l),[c,d]=j.useState({current:0,max:0});j.useEffect(()=>{const g=setInterval(()=>{if(l.current){const S=_d(l.current);(S.current!==c.current||S.max!==c.max)&&d(S)}},hc);return()=>clearInterval(g)},[]);const f=(g,S)=>{s(y=>{var x;if(!y)return y;const E={...(x=y.operation_data)==null?void 0:x.selections};return S?E[g]=`${S}`:delete E[g],{...y,operation_data:{...y.operation_data,selections:E}}})};return p.jsxs(nt.Item,{ref:u,value:`${e.level}`,style:{backgroundColor:i&&!e.opened?"rgba(0, 0, 0, 0.1)":void 0},children:[p.jsx(nt.Control,{children:p.jsxs(Ae,{wrap:"nowrap",justify:"space-between",gap:0,children:[p.jsx(pe,{c:"gray.5",fw:700,fz:"sm",children:e.level===0?p.jsxs(p.Fragment,{children:["Initial Stats"," ",p.jsx(pe,{fs:"italic",c:"dimmed",fz:"sm",span:!0,children:"(Level 1)"})]}):`Level ${e.level}`}),c.max>0&&p.jsxs(ft,{mr:"sm",variant:"outline",color:"gray.5",size:"xs",children:[p.jsx(pe,{fz:"sm",c:c.current===c.max?"gray.5":t.colors[t.primaryColor][5],fw:c.current===c.max?void 0:600,span:!0,children:c.current}),p.jsxs(pe,{fz:"sm",c:"gray.5",span:!0,children:["/",c.max]})]})]})}),p.jsx(nt.Panel,{children:e.level===0?p.jsx(Q6t,{content:e.content,operationResults:e.operationResults,onSaveChanges:(g,S)=>{f(g,S)}}):p.jsxs(nt,{variant:"separated",value:n,onChange:r,styles:{label:{paddingTop:5,paddingBottom:5}},children:[(h=e.operationResults)==null?void 0:h.ancestrySectionResults.map((g,S)=>g.baseSource.level===e.level&&p.jsx(J6t,{id:`ancestry-section-${S}`,section:g.baseSource,results:g.baseResults,onSaveChanges:(y,E)=>{f(y,E)},opened:n===`ancestry-section-${S}`},S)),(m=e.operationResults)==null?void 0:m.classFeatureResults.map((g,S)=>g.baseSource.level===e.level&&p.jsx(Y6t,{id:`class-feature-${S}`,feature:g.baseSource,results:g.baseResults,onSaveChanges:(y,E)=>{f(y,E)},opened:n===`class-feature-${S}`},S))]})})]})}function Y6t(e){const{hovered:t,ref:n}=Wn(),r=j.useRef(null),[i,a]=j.useState({current:0,max:0});return j.useEffect(()=>{const o=setInterval(()=>{if(r.current){const s=_d(r.current);Ze.isEqual(s,i)||a(s)}},hc);return()=>clearInterval(o)},[]),p.jsxs(nt.Item,{value:e.id,ref:n,style:{backgroundColor:t&&!e.opened?"rgba(0, 0, 0, 0.1)":void 0},mt:3,children:[p.jsx(nt.Control,{children:p.jsxs(Ae,{gap:5,children:[p.jsx(Z,{children:e.feature.name}),i.max-i.current>0&&p.jsx(ft,{variant:"filled",children:i.max-i.current})]})}),p.jsx(nt.Panel,{ref:r,children:p.jsxs(it,{gap:5,children:[p.jsx(Ea,{ta:"justify",children:e.feature.description}),p.jsx(Ih,{source:void 0,level:e.feature.level,results:e.results,onChange:(o,s)=>{e.onSaveChanges(`class-feature-${e.feature.id}_${o}`,s)}})]})})]})}function J6t(e){const{hovered:t,ref:n}=Wn(),r=j.useRef(null),[i,a]=j.useState({current:0,max:0});return j.useEffect(()=>{const o=setInterval(()=>{if(r.current){const s=_d(r.current);Ze.isEqual(s,i)||a(s)}},hc);return()=>clearInterval(o)},[]),p.jsxs(nt.Item,{value:e.id,ref:n,style:{backgroundColor:t&&!e.opened?"rgba(0, 0, 0, 0.1)":void 0},mt:3,children:[p.jsx(nt.Control,{children:p.jsxs(Ae,{gap:5,children:[p.jsx(Z,{children:e.section.name}),i.max-i.current>0&&p.jsx(ft,{variant:"filled",children:i.max-i.current})]})}),p.jsx(nt.Panel,{ref:r,children:p.jsxs(it,{gap:5,children:[p.jsx(Ea,{ta:"justify",children:e.section.description}),p.jsx(Ih,{source:void 0,level:e.section.level,results:e.results,onChange:(o,s)=>{e.onSaveChanges(`ancestry-section-${e.section.id}_${o}`,s)}})]})})]})}function Q6t(e){const[t,n]=j.useState(null),[r,i]=Ct(Sr);Ct(an);const a=e.content.classes.find(l=>{var u,c;return l.id===((c=(u=r==null?void 0:r.details)==null?void 0:u.class)==null?void 0:c.id)}),o=e.content.ancestries.find(l=>{var u,c;return l.id===((c=(u=r==null?void 0:r.details)==null?void 0:u.ancestry)==null?void 0:c.id)}),s=e.content.backgrounds.find(l=>{var u,c;return l.id===((c=(u=r==null?void 0:r.details)==null?void 0:u.background)==null?void 0:c.id)});return e.operationResults?p.jsx(p.Fragment,{children:p.jsxs(nt,{variant:"separated",value:t,onChange:n,styles:{label:{paddingTop:5,paddingBottom:5}},children:[p.jsx(X6t,{ancestry:o,content:e.content,operationResults:e.operationResults,onSaveChanges:(l,u)=>{e.onSaveChanges(l,u)},opened:t==="ancestry"}),p.jsx(Z6t,{background:s,operationResults:e.operationResults,onSaveChanges:(l,u)=>{e.onSaveChanges(l,u)},opened:t==="background"}),p.jsx(e_t,{class_:a,operationResults:e.operationResults,onSaveChanges:(l,u)=>{e.onSaveChanges(l,u)},opened:t==="class"}),e.operationResults.contentSourceResults.length>0&&p.jsx(t_t,{operationResults:e.operationResults,onSaveChanges:(l,u)=>{e.onSaveChanges(l,u)},opened:t==="books"}),e.operationResults.itemResults.length>0&&p.jsx(n_t,{operationResults:e.operationResults,onSaveChanges:(l,u)=>{e.onSaveChanges(l,u)},opened:t==="items"}),e.operationResults.characterResults.length>0&&p.jsx(r_t,{operationResults:e.operationResults,onSaveChanges:(l,u)=>{e.onSaveChanges(l,u)},opened:t==="custom"})]})}):null}function X6t(e){var S,y;const[t,n]=Ct(Sr),[r,i]=Ct(an),{hovered:a,ref:o}=Wn(),s=j.useRef(null),[l,u]=j.useState({current:0,max:0});j.useEffect(()=>{const E=setInterval(()=>{if(s.current){const x=_d(s.current);Ze.isEqual(x,l)||u(x)}},hc);return()=>clearInterval(E)},[]);const c=(e.content.abilityBlocks??[]).filter(E=>E.type==="physical-feature"),d=(e.content.abilityBlocks??[]).filter(E=>E.type==="sense"),f=(e.content.languages??[]).sort((E,x)=>E.name.localeCompare(x.name)),h=(e.content.abilityBlocks??[]).filter(E=>{var x,v;return E.type==="heritage"&&((v=E.traits)==null?void 0:v.includes(((x=e.ancestry)==null?void 0:x.trait_id)??-1))});let m=((S=e.operationResults)==null?void 0:S.ancestryResults)??[];const g=e.ancestry?Bse(e.ancestry,c,d,f,"READ/WRITE",((y=e.operationResults)==null?void 0:y.ancestryResults)??[],[t,n],i):null;if(g){let E=[];for(const x of Object.values(g))Array.isArray(x)?E=[...E,...x]:E.push(x);m=m.filter(x=>!E.find(v=>{var C,b,A;return((C=x==null?void 0:x.selection)==null?void 0:C.id)!==void 0&&((b=v.operation)==null?void 0:b.id)===((A=x==null?void 0:x.selection)==null?void 0:A.id)}))}return p.jsxs(nt.Item,{value:"ancestry",ref:o,style:{backgroundColor:a&&!e.opened?"rgba(0, 0, 0, 0.1)":void 0},mt:3,children:[p.jsx(nt.Control,{disabled:!e.ancestry,icon:Vr("ancestry","1rem"),children:p.jsxs(Ae,{gap:5,children:[p.jsx(Z,{children:"Ancestry"}),l.max-l.current>0&&p.jsx(ft,{variant:"filled",children:l.max-l.current})]})}),p.jsx(nt.Panel,{ref:s,children:p.jsxs(it,{gap:5,children:[p.jsx(Z,{children:e.ancestry&&p.jsx(Fse,{ancestry:e.ancestry,physicalFeatures:c,senses:d,languages:f,heritages:h,mode:"READ/WRITE",operationResults:e.operationResults.ancestryResults})}),p.jsx(Z,{children:p.jsx(Ih,{source:void 0,level:1,results:m,onChange:(E,x)=>{e.onSaveChanges(`ancestry_${E}`,x)}})})]})})]})}function Z6t(e){var c,d;const[t,n]=Ct(Sr);Ct(an);const{hovered:r,ref:i}=Wn(),a=j.useRef(null),[o,s]=j.useState({current:0,max:0});j.useEffect(()=>{const f=setInterval(()=>{if(a.current){const h=_d(a.current);Ze.isEqual(h,o)||s(h)}},hc);return()=>clearInterval(f)},[]);let l=((c=e.operationResults)==null?void 0:c.backgroundResults)??[];const u=e.background?$se(e.background,"READ/WRITE",((d=e.operationResults)==null?void 0:d.backgroundResults)??[],[t,n]):null;if(u){let f=[];for(const h of Object.values(u))Array.isArray(h)?f=[...f,...h]:f.push(h);l=l.filter(h=>!f.find(m=>{var g,S,y;return((g=h==null?void 0:h.selection)==null?void 0:g.id)!==void 0&&((S=m.operation)==null?void 0:S.id)===((y=h==null?void 0:h.selection)==null?void 0:y.id)}))}return p.jsxs(nt.Item,{value:"background",ref:i,style:{backgroundColor:r&&!e.opened?"rgba(0, 0, 0, 0.1)":void 0},mt:3,children:[p.jsx(nt.Control,{disabled:!e.background,icon:Vr("background","1rem"),children:p.jsxs(Ae,{gap:5,children:[p.jsx(Z,{children:"Background"}),o.max-o.current>0&&p.jsx(ft,{variant:"filled",children:o.max-o.current})]})}),p.jsx(nt.Panel,{ref:a,children:p.jsxs(it,{gap:5,children:[p.jsx(Z,{children:e.background&&p.jsx(zse,{background:e.background,mode:"READ/WRITE",operationResults:e.operationResults.backgroundResults})}),p.jsx(Z,{children:p.jsx(Ih,{source:void 0,level:1,results:l,onChange:(f,h)=>{e.onSaveChanges(`background_${f}`,h)}})})]})})]})}function e_t(e){var c,d;const[t,n]=Ct(Sr);Ct(an);const{hovered:r,ref:i}=Wn(),a=j.useRef(null),[o,s]=j.useState({current:0,max:0});j.useEffect(()=>{const f=setInterval(()=>{if(a.current){const h=_d(a.current);Ze.isEqual(h,o)||s(h)}},hc);return()=>clearInterval(f)},[]);let l=((c=e.operationResults)==null?void 0:c.classResults)??[];const u=e.class_?Lse(e.class_,"READ/WRITE",((d=e.operationResults)==null?void 0:d.classResults)??[],[t,n]):null;if(u){let f=[];for(const h of Object.values(u))Array.isArray(h)?f=[...f,...h]:f.push(h);l=l.filter(h=>!f.find(m=>{var g,S,y;return((g=h==null?void 0:h.selection)==null?void 0:g.id)!==void 0&&((S=m.operation)==null?void 0:S.id)===((y=h==null?void 0:h.selection)==null?void 0:y.id)}))}return p.jsxs(nt.Item,{value:"class",ref:i,style:{backgroundColor:r&&!e.opened?"rgba(0, 0, 0, 0.1)":void 0},mt:3,children:[p.jsx(nt.Control,{disabled:!e.class_,icon:Vr("class","1rem"),children:p.jsxs(Ae,{gap:5,children:[p.jsx(Z,{children:"Class"}),o.max-o.current>0&&p.jsx(ft,{variant:"filled",children:o.max-o.current})]})}),p.jsx(nt.Panel,{ref:a,children:p.jsxs(it,{gap:5,children:[p.jsx(Z,{children:e.class_&&p.jsx(jse,{class_:e.class_,mode:"READ/WRITE",operationResults:e.operationResults.classResults})}),p.jsx(Z,{children:p.jsx(Ih,{source:void 0,level:1,results:l,onChange:(f,h)=>{e.onSaveChanges(`class_${f}`,h)}})})]})})]})}function t_t(e){const{hovered:t,ref:n}=Wn(),r=sc(Sr),i=j.useRef(null),[a,o]=j.useState({current:0,max:0});return j.useEffect(()=>{const s=setInterval(()=>{if(i.current){const l=_d(i.current);Ze.isEqual(l,a)||o(l)}},hc);return()=>clearInterval(s)},[]),p.jsxs(nt.Item,{value:"books",ref:n,style:{backgroundColor:t&&!e.opened?"rgba(0, 0, 0, 0.1)":void 0},mt:3,children:[p.jsx(nt.Control,{icon:Vr("content-source","1rem"),children:p.jsxs(Ae,{gap:5,children:[p.jsx(Z,{children:"Books"}),a.max-a.current>0&&p.jsx(ft,{variant:"filled",children:a.max-a.current})]})}),p.jsx(nt.Panel,{ref:i,children:e.operationResults.contentSourceResults.map((s,l)=>p.jsx(Ih,{source:s.baseSource,level:(r==null?void 0:r.level)??1,results:s.baseResults,onChange:(u,c)=>{e.onSaveChanges(`content-source-${s.baseSource.id}_${u}`,c)}},l))})]})}function n_t(e){const{hovered:t,ref:n}=Wn(),r=j.useRef(null),[i,a]=j.useState({current:0,max:0});return j.useEffect(()=>{const o=setInterval(()=>{if(r.current){const s=_d(r.current);Ze.isEqual(s,i)||a(s)}},hc);return()=>clearInterval(o)},[]),p.jsxs(nt.Item,{value:"items",ref:n,style:{backgroundColor:t&&!e.opened?"rgba(0, 0, 0, 0.1)":void 0},mt:3,children:[p.jsx(nt.Control,{icon:Vr("item","1rem"),children:p.jsxs(Ae,{gap:5,children:[p.jsx(Z,{children:"Items"}),i.max-i.current>0&&p.jsx(ft,{variant:"filled",children:i.max-i.current})]})}),p.jsx(nt.Panel,{ref:r})]})}function r_t(e){const{hovered:t,ref:n}=Wn(),r=sc(Sr),i=j.useRef(null),[a,o]=j.useState({current:0,max:0});return j.useEffect(()=>{const s=setInterval(()=>{if(i.current){const l=_d(i.current);Ze.isEqual(l,a)||o(l)}},hc);return()=>clearInterval(s)},[]),p.jsxs(nt.Item,{value:"custom",ref:n,style:{backgroundColor:t&&!e.opened?"rgba(0, 0, 0, 0.1)":void 0},mt:3,children:[p.jsx(nt.Control,{icon:p.jsx(vOe,{size:"1rem"}),children:p.jsxs(Ae,{gap:5,children:[p.jsx(Z,{children:"Custom"}),a.max-a.current>0&&p.jsx(ft,{variant:"filled",children:a.max-a.current})]})}),p.jsx(nt.Panel,{ref:i,children:p.jsx(Ih,{source:void 0,level:(r==null?void 0:r.level)??1,results:e.operationResults.characterResults,onChange:(s,l)=>{e.onSaveChanges(`character_${s}`,l)}})})]})}function Ih(e){var n;const t=r=>{var i;if(r!=null&&r.selection)return!0;for(const a of((i=r==null?void 0:r.result)==null?void 0:i.results)??[])if(t(a))return!0;return!1};return p.jsx(q6t,{label:`From ${((n=e.source)==null?void 0:n.name)??"Unknown"}`,disabled:!e.source,children:p.jsx(it,{gap:10,children:e.results.filter(r=>t(r)).map((r,i)=>{var a,o,s,l,u,c,d,f,h,m;return p.jsxs(it,{gap:10,children:[(r==null?void 0:r.selection)&&p.jsx(Va,{type:(((a=r==null?void 0:r.selection)==null?void 0:a.options)??[]).length>0?(o=r==null?void 0:r.selection)==null?void 0:o.options[0]._content_type:"ability-block",onClick:g=>{var S;e.onChange(((S=r.selection)==null?void 0:S.id)??"",g._select_uuid)},onClear:()=>{var g;e.onChange(((g=r.selection)==null?void 0:g.id)??"","")},selectedId:(l=(s=r.result)==null?void 0:s.source)==null?void 0:l.id,options:{overrideOptions:(u=r==null?void 0:r.selection)==null?void 0:u.options.map(g=>({...g,_source_level:e.level})),overrideLabel:((c=r==null?void 0:r.selection)==null?void 0:c.title)||"Select an Option",abilityBlockType:(((d=r==null?void 0:r.selection)==null?void 0:d.options)??[]).length>0?(f=r==null?void 0:r.selection)==null?void 0:f.options[0].type:void 0,skillAdjustment:(h=r==null?void 0:r.selection)==null?void 0:h.skillAdjustment}}),((m=r==null?void 0:r.result)==null?void 0:m.results)&&r.result.results.length>0&&p.jsx(Ih,{source:r.result.source,level:e.level,results:r.result.results,onChange:(g,S)=>{var v,C,b;let y=((v=r.selection)==null?void 0:v.id)??"",E=((b=(C=r.result)==null?void 0:C.source)==null?void 0:b._select_uuid)??"",x=g;E&&(x=`${E}_${x}`),y&&(x=`${y}_${x}`),e.onChange(x,S)}})]},i)})})})}function i_t(){Sd("Builder"),ht();const[e,t]=j.useState(0),n=Ja(),{characterId:r}=Bte(),i=g=>{g>3||g<0||t(g)};j.useEffect(()=>{e===2&&n(`/sheet/${r}`)},[e]);const a={width:me(18),height:me(18)},o=550,s=z1(),[l,u]=Ct(Sr),{data:c,isLoading:d,isInitialLoading:f}=En({queryKey:[`find-character-${r}`],queryFn:async()=>{var S;const g=await dr("find-character",{id:r});return g?hse(((S=g.content_sources)==null?void 0:S.enabled)??[]):window.location.href="/characters",g},refetchOnWindowFocus:!1});j.useEffect(()=>{c&&u(c)},[c]);const[h]=$X(l,200);$n(()=>{h&&m({level:h.level,name:h.name,details:h.details,content_sources:h.content_sources,operation_data:h.operation_data})},[h]);const{mutate:m}=Nie(async g=>{const S=await dr("update-character",{id:r,...g});return S?S.status==="success":!1},{onSuccess:()=>{s.invalidateQueries([`find-character-${r}`])}});return p.jsx(ta,{children:p.jsx(Z,{maw:800,w:"100%",children:p.jsxs(it,{style:{position:"relative"},children:[!UN()&&p.jsxs(p.Fragment,{children:[p.jsx(bt,{variant:"filled",color:"gray","aria-label":"Next Page",radius:"xl",size:"xl",style:{position:"absolute",top:"45%",right:-70,visibility:e===2?"hidden":"visible"},onClick:()=>i(e+1),hidden:e===3,children:p.jsx(mRe,{style:{width:"70%",height:"70%"},stroke:2})}),p.jsx(bt,{variant:"filled",color:"gray","aria-label":"Previous Page",radius:"xl",size:"xl",style:{position:"absolute",top:"45%",left:-70,visibility:e===0?"hidden":"visible"},onClick:()=>i(e-1),children:p.jsx(wre,{style:{width:"70%",height:"70%"},stroke:2})})]}),p.jsx(ns,{blur:10,p:"sm",children:p.jsxs(Ic,{active:e,onStepClick:t,iconSize:32,size:UN()?"xs":void 0,children:[p.jsx(Ic.Step,{label:"Home",allowStepSelect:!0,icon:p.jsx(KM,{style:a}),completedIcon:p.jsx(KM,{style:a}),children:p.jsx(Jn,{h:o,children:l&&!d?p.jsx(TEt,{pageHeight:o}):p.jsx(El,{visible:d,zIndex:1e3,overlayProps:{radius:"md",backgroundOpacity:0},loaderProps:{type:"bars"}})})}),p.jsx(Ic.Step,{label:"Builder",allowStepSelect:!0,icon:p.jsx(GM,{style:a}),completedIcon:p.jsx(GM,{style:a}),children:p.jsx(Jn,{h:o,children:l&&!d?p.jsx(W6t,{pageHeight:o}):p.jsx(El,{visible:d,zIndex:1e3,overlayProps:{radius:"md",backgroundOpacity:0},loaderProps:{type:"bars"}})})}),p.jsx(Ic.Step,{label:"Sheet",allowStepSelect:cp(l),icon:p.jsx(YM,{style:a}),completedIcon:p.jsx(YM,{style:a}),children:p.jsx(Jn,{h:o,children:p.jsx(pe,{ta:"center",children:"Redirecting to sheet..."})})}),p.jsx(Ic.Completed,{children:p.jsx(Jn,{h:o,children:"Complete"})})]})})]})})})}const a_t=4;function o_t(e){const t={version:a_t,character:e},n=e.name.trim().toLowerCase().replace(/([^a-z0-9]+)/gi,"-");s_t(t,n)}function s_t(e,t){const n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t+".json"),document.body.appendChild(r),r.click(),r.remove()}async function l_t(e){Si({id:`importing-${e.name}`,title:"Importing character",message:"Please wait...",autoClose:!1,withCloseButton:!1,loading:!0});const t=await u_t(e);let n=null;try{const r=JSON.parse(t);if(n=await c_t(r),n)id(`importing-${e.name}`),Si({title:"Success",message:`Imported "${n.name}"`,icon:null,autoClose:3e3});else throw new Error}catch{id(`importing-${e.name}`),Si({title:"Import failed",message:"Invalid JSON file",color:"red",icon:null,autoClose:!1})}return n}async function u_t(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=function(){t(r.result)},r.readAsText(e)})}async function c_t(e){return e.version===4?await d_t(e):null}async function d_t(e){const n={...e.character,id:void 0};return await dr("create-character",n)}async function f_t(e){console.log("importFromGUIDECHAR",e)}function h_t(){Sd("Characters");const{data:e,isLoading:t,refetch:n}=En({queryKey:["find-character"],queryFn:async()=>await dr("find-character",{})}),[r,i]=Ct(Sr),a=Ja(),o=j.useRef(null),s=j.useRef(null);j.useEffect(()=>{i(null)},[]);const l=3;return p.jsx(ta,{children:p.jsxs(Z,{maw:875,w:"100%",children:[p.jsxs(Z,{children:[p.jsxs(Ae,{px:"sm",justify:"space-between",wrap:"nowrap",children:[p.jsx(Z,{children:p.jsxs(zt,{order:1,c:"gray.0",children:["Characters",p.jsx(pe,{pl:10,fz:"xl",fw:500,c:"gray.2",span:!0,children:e&&l?`(${e.length}/${l})`:""})]})}),p.jsxs(Ae,{gap:5,wrap:"nowrap",children:[p.jsx(oi,{label:"Create Character",openDelay:750,children:p.jsx(bt,{variant:"subtle",color:"gray.0",size:"xl",radius:"xl","aria-label":"Create Character",onClick:async()=>{const u=await m_t();u&&a(`/builder/${u.id}`)},children:p.jsx(ePe,{style:{width:"70%",height:"70%"},stroke:2.5})})}),p.jsxs(je,{shadow:"md",width:220,withArrow:!0,withinPortal:!0,children:[p.jsx(je.Target,{children:p.jsx(oi,{label:"Import Character",openDelay:750,children:p.jsx(bt,{variant:"subtle",color:"gray.0",size:"xl",radius:"xl","aria-label":"Import Character",children:p.jsx(fR,{style:{width:"70%",height:"70%"},stroke:2.5})})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Item,{leftSection:p.jsx(Mre,{style:{width:me(14),height:me(14)}}),onClick:()=>{var u;(u=o.current)==null||u.click()},children:"Import from JSON"}),p.jsx(je.Item,{leftSection:p.jsx(bre,{style:{width:me(14),height:me(14)}}),onClick:()=>{var u;(u=s.current)==null||u.click()},children:"Import from GUIDECHAR"})]})]})]}),p.jsxs(a9,{children:[p.jsx(US,{onChange:async u=>{u&&(await l_t(u),n())},accept:"application/JSON",children:u=>p.jsx(mt,{ref:o,...u,children:"Import from JSON"})}),p.jsx(US,{onChange:async u=>{u&&(await f_t(u),n())},accept:".guidechar",children:u=>p.jsx(mt,{ref:s,...u,children:"Import from GUIDECHAR"})})]})]}),p.jsx(Lt,{color:"gray.2"})]}),p.jsxs(Ae,{pt:"sm",children:[t&&p.jsx(ai,{size:"lg",style:{position:"absolute",top:"35%",left:"50%",transform:"translate(-50%, -50%)"}}),(e??[]).map((u,c)=>p.jsx(p_t,{character:u},c))]})]})})}function p_t(e){const t=ht(),n=Ja(),r=z1(),{hovered:i,ref:a}=Wn(),{hovered:o,ref:s}=Wn(),{hovered:l,ref:u}=Wn(),c=d=>vh.openConfirmModal({title:p.jsx(zt,{order:4,children:"Delete Character"}),children:p.jsxs(p.Fragment,{children:[p.jsxs(pe,{size:"sm",children:["Are you sure you want to delete ",p.jsx("em",{children:d.name}),"?"]}),p.jsx(pe,{size:"sm",children:"They'll be gone for a very, very long time."})]}),labels:{confirm:"Delete",cancel:"Cancel"},onCancel:()=>{},onConfirm:async()=>{await g_t(d),r.refetchQueries(["find-character"])}});return p.jsxs(ns,{blur:10,children:[p.jsxs(Z,{pt:"xs",pb:5,px:"xs",ref:a,style:{cursor:cp(e.character)?"pointer":void 0,borderTopLeftRadius:t.radius.md,borderTopRightRadius:t.radius.md,backgroundColor:i&&cp(e.character)?"rgba(0, 0, 0, 0.15)":void 0,position:"relative"},onClick:d=>{cp(e.character)&&(d.stopPropagation(),d.preventDefault(),n(`/sheet/${e.character.id}`))},children:[p.jsx(Z,{component:"a",href:cp(e.character)?`/sheet/${e.character.id}`:void 0,style:{position:"absolute",top:0,left:0,height:"100%",width:"100%"}}),p.jsx(gk,{character:e.character})]}),p.jsxs(Ae,{gap:"xs",pb:"xs",px:"xs",children:[p.jsx(mt,{size:"xs",variant:"light",color:"gray",radius:"xl",ref:s,style:{flex:1,backgroundColor:o?"rgba(0, 0, 0, 0.1)":void 0},onClick:d=>{d.stopPropagation(),d.preventDefault(),n(`/builder/${e.character.id}`)},component:"a",href:`/builder/${e.character.id}`,children:cp(e.character)?"Edit":"Continue Building"}),p.jsxs(je,{shadow:"md",width:200,withArrow:!0,withinPortal:!0,children:[p.jsx(je.Target,{children:p.jsx(bt,{size:"lg",variant:"light",color:"gray",radius:"xl","aria-label":"Options",ref:u,style:{backgroundColor:l?"rgba(0, 0, 0, 0.1)":void 0},children:p.jsx(ia,{style:{width:"60%",height:"60%"},stroke:1.5})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:p.jsxs(Ae,{justify:"space-between",children:[p.jsx(Z,{children:"Options"}),p.jsxs(pe,{fz:10,c:"dimmed",children:["# ",e.character.id]})]})}),p.jsx(je.Item,{leftSection:p.jsx(Qa,{style:{width:me(14),height:me(14)}}),onClick:async()=>{await v_t(e.character),r.refetchQueries(["find-character"])},children:"Create Copy"}),p.jsx(je.Item,{leftSection:p.jsx(Mre,{style:{width:me(14),height:me(14)}}),onClick:()=>{o_t(e.character)},children:"Export to JSON"}),p.jsx(je.Item,{leftSection:p.jsx(yIe,{style:{width:me(14),height:me(14)}}),children:"Export to PDF"}),p.jsx(je.Divider,{}),p.jsx(je.Label,{children:"Danger zone"}),p.jsx(je.Item,{color:"red",leftSection:p.jsx(Xa,{style:{width:me(14),height:me(14)}}),onClick:()=>c(e.character),children:"Delete Character"})]})]})]})]})}async function m_t(){return await dr("create-character",{})}async function g_t(e){Si({id:`delete-character-${e.id}`,title:`Deleting "${e.name}"`,message:"Please wait...",autoClose:!1,withCloseButton:!1,loading:!0});const t=await dr("delete-content",{id:e.id,type:"character"});return id(`delete-character-${e.id}`),t}async function v_t(e){Si({id:`copy-character-${e.id}`,title:`Creating copy of "${e.name}"`,message:"Please wait...",autoClose:!1,withCloseButton:!1,loading:!0});const t={...e,id:void 0,name:`(Copy) ${e.name}`,roll_history:void 0},n=await dr("create-character",t);return id(`copy-character-${e.id}`),n}function LY(e){const[t,n]=j.useState(!1),[r,i]=j.useState(e.value),a=()=>{n(!1),e.onChange(r)};return p.jsxs(Z,{style:{position:"relative"},children:[p.jsx(Ae,{h:e.height,align:"center",justify:"center",style:{visibility:t?"hidden":void 0,cursor:"pointer"},onClick:()=>{n(!0),i(e.value)},children:p.jsx(pe,{w:"100%",c:e.color,size:e.size,ta:"center",children:e.value})}),t&&p.jsx(i4,{active:!0,children:p.jsx(sn,{variant:"unstyled",placeholder:e.placeholder,size:e.size,value:r==="—"?"":r,onChange:o=>i(o.currentTarget.value),onBlur:a,onKeyDown:XX([["mod+Enter",a],["Enter",a]]),styles:{input:{textAlign:"center",height:e.height,width:e.width}},style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})})]})}function y_t(e){const[t,n]=j.useState(e.count);return p.jsx(k7,{count:e.count,size:e.size,emptySymbol:e.emptySymbol,fullSymbol:e.fullSymbol,value:t,onChange:r=>{n(r===t?r-1:r)}})}function QO(e){ht();const{hovered:t,ref:n}=Wn();return p.jsx(mt,{variant:"light",color:"gray",radius:"xl",ref:n,style:{flex:1,backgroundColor:t?"rgba(0, 0, 0, 0.1)":void 0},onClick:e.onClick,component:"a",href:e.href,...e,children:e.children})}function oy(e){return p.jsxs(mt.Group,{children:[p.jsx(QO,{size:"compact-xs",fw:400,children:e.text}),p.jsx(mt,{radius:"xl",variant:"light",color:"dark.5",size:"compact-xs",w:30,style:{position:"relative"},children:p.jsx(pe,{c:"gray.0",fz:"xs",children:e.amount})})]})}function Pi(e,t){let n=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map(o=>[o]));let r=t[0].length,i=t[0].map((o,s)=>t.map(l=>l[s])),a=e.map(o=>i.map(s=>{let l=0;if(!Array.isArray(o)){for(let u of s)l+=o*u;return l}for(let u=0;u<o.length;u++)l+=o[u]*(s[u]||0);return l}));return n===1&&(a=a[0]),r===1?a.map(o=>o[0]):a}function fw(e){return zf(e)==="string"}function zf(e){return(Object.prototype.toString.call(e).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function kC(e,t){e=+e,t=+t;let n=(Math.floor(e)+"").length;if(t>n)return+e.toFixed(t-n);{let r=10**(n-t);return Math.round(e/r)*r}}function Wfe(e){if(!e)return;e=e.trim();const t=/^([a-z]+)\((.+?)\)$/i,n=/^-?[\d.]+$/;let r=e.match(t);if(r){let i=[];return r[2].replace(/\/?\s*([-\w.]+(?:%|deg)?)/g,(a,o)=>{/%$/.test(o)?(o=new Number(o.slice(0,-1)/100),o.type="<percentage>"):/deg$/.test(o)?(o=new Number(+o.slice(0,-3)),o.type="<angle>",o.unit="deg"):n.test(o)&&(o=new Number(o),o.type="<number>"),a.startsWith("/")&&(o=o instanceof Number?o:new Number(o),o.alpha=!0),i.push(o)}),{name:r[1].toLowerCase(),rawName:r[1],rawArgs:r[2],args:i}}}function Gfe(e){return e[e.length-1]}function AC(e,t,n){return isNaN(e)?t:isNaN(t)?e:e+(t-e)*n}function Kfe(e,t,n){return(n-e)/(t-e)}function XO(e,t,n){return AC(t[0],t[1],Kfe(e[0],e[1],n))}function Yfe(e){return e.map(t=>t.split("|").map(n=>{n=n.trim();let r=n.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(r){let i=new String(r[1]);return i.range=[+r[2],+r[3]],i}return n}))}var b_t=Object.freeze({__proto__:null,interpolate:AC,interpolateInv:Kfe,isString:fw,last:Gfe,mapRange:XO,multiplyMatrices:Pi,parseCoordGrammar:Yfe,parseFunction:Wfe,toPrecision:kC,type:zf});class w_t{add(t,n,r){if(typeof arguments[0]!="string"){for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1]);return}(Array.isArray(t)?t:[t]).forEach(function(i){this[i]=this[i]||[],n&&this[i][r?"unshift":"push"](n)},this)}run(t,n){this[t]=this[t]||[],this[t].forEach(function(r){r.call(n&&n.context?n.context:n,n)})}}const ah=new w_t;var tc={gamut_mapping:"lch.c",precision:5,deltaE:"76"};const Zl={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function VN(e){return Array.isArray(e)?e:Zl[e]}function _C(e,t,n,r={}){if(e=VN(e),t=VN(t),!e||!t)throw new TypeError(`Missing white point to convert ${e?"":"from"}${!e&&!t?"/":""}${t?"":"to"}`);if(e===t)return n;let i={W1:e,W2:t,XYZ:n,options:r};if(ah.run("chromatic-adaptation-start",i),i.M||(i.W1===Zl.D65&&i.W2===Zl.D50?i.M=[[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]]:i.W1===Zl.D50&&i.W2===Zl.D65&&(i.M=[[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]])),ah.run("chromatic-adaptation-end",i),i.M)return Pi(i.M,i.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const x_t=75e-6,zl=class{constructor(t){var i,a,o;this.id=t.id,this.name=t.name,this.base=t.base?zl.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let n=t.coords??this.base.coords;for(let s in n)"name"in n[s]||(n[s].name=s);this.coords=n;let r=t.white??this.base.white??"D65";this.white=VN(r),this.formats=t.formats??{};for(let s in this.formats){let l=this.formats[s];l.type||(l.type="function"),l.name||(l.name=s)}t.cssId&&!((i=this.formats.functions)!=null&&i.color)?(this.formats.color={id:t.cssId},Object.defineProperty(this,"cssId",{value:t.cssId})):(a=this.formats)!=null&&a.color&&!((o=this.formats)!=null&&o.color.id)&&(this.formats.color.id=this.id),this.referred=t.referred,Object.defineProperty(this,"path",{value:S_t(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),ah.run("colorspace-init-end",this)}inGamut(t,{epsilon:n=x_t}={}){if(this.isPolar)return t=this.toBase(t),this.base.inGamut(t,{epsilon:n});let r=Object.values(this.coords);return t.every((i,a)=>{let o=r[a];if(o.type!=="angle"&&o.range){if(Number.isNaN(i))return!0;let[s,l]=o.range;return(s===void 0||i>=s-n)&&(l===void 0||i<=l+n)}return!0})}get cssId(){var t,n;return((n=(t=this.formats.functions)==null?void 0:t.color)==null?void 0:n.id)||this.id}get isPolar(){for(let t in this.coords)if(this.coords[t].type==="angle")return!0;return!1}getFormat(t){if(typeof t=="object")return t=FY(t,this),t;let n;return t==="default"?n=Object.values(this.formats)[0]:n=this.formats[t],n?(n=FY(n,this),n):null}equals(t){return t?this===t||this.id===t.id:!1}to(t,n){if(arguments.length===1&&([t,n]=[t.space,t.coords]),t=zl.get(t),this.equals(t))return n;n=n.map(s=>Number.isNaN(s)?0:s);let r=this.path,i=t.path,a,o;for(let s=0;s<r.length&&r[s].equals(i[s]);s++)a=r[s],o=s;if(!a)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let s=r.length-1;s>o;s--)n=r[s].toBase(n);for(let s=o+1;s<i.length;s++)n=i[s].fromBase(n);return n}from(t,n){return arguments.length===1&&([t,n]=[t.space,t.coords]),t=zl.get(t),t.to(this,n)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let t=[];for(let n in this.coords){let r=this.coords[n],i=r.range||r.refRange;t.push((i==null?void 0:i.min)??0)}return t}static get all(){return[...new Set(Object.values(zl.registry))]}static register(t,n){if(arguments.length===1&&(n=arguments[0],t=n.id),n=this.get(n),this.registry[t]&&this.registry[t]!==n)throw new Error(`Duplicate color space registration: '${t}'`);if(this.registry[t]=n,arguments.length===1&&n.aliases)for(let r of n.aliases)this.register(r,n);return n}static get(t,...n){if(!t||t instanceof zl)return t;if(zf(t)==="string"){let i=zl.registry[t.toLowerCase()];if(!i)throw new TypeError(`No color space found with id = "${t}"`);return i}if(n.length)return zl.get(...n);throw new TypeError(`${t} is not a valid color space`)}static resolveCoord(t,n){var l;let r=zf(t),i,a;if(r==="string"?t.includes(".")?[i,a]=t.split("."):[i,a]=[,t]:Array.isArray(t)?[i,a]=t:(i=t.space,a=t.coordId),i=zl.get(i),i||(i=n),!i)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(r=zf(a),r==="number"||r==="string"&&a>=0){let u=Object.entries(i.coords)[a];if(u)return{space:i,id:u[0],index:a,...u[1]}}i=zl.get(i);let o=a.toLowerCase(),s=0;for(let u in i.coords){let c=i.coords[u];if(u.toLowerCase()===o||((l=c.name)==null?void 0:l.toLowerCase())===o)return{space:i,id:u,index:s,...c};s++}throw new TypeError(`No "${a}" coordinate found in ${i.name}. Its coordinates are: ${Object.keys(i.coords).join(", ")}`)}};let Gt=zl;$A(Gt,"registry",{}),$A(Gt,"DEFAULT_FORMAT",{type:"functions",name:"color"});function S_t(e){let t=[e];for(let n=e;n=n.base;)t.push(n);return t}function FY(e,{coords:t}={}){if(e.coords&&!e.coordGrammar){e.type||(e.type="function"),e.name||(e.name="color"),e.coordGrammar=Yfe(e.coords);let n=Object.entries(t).map(([r,i],a)=>{let o=e.coordGrammar[a][0],s=i.range||i.refRange,l=o.range,u="";return o=="<percentage>"?(l=[0,100],u="%"):o=="<angle>"&&(u="deg"),{fromRange:s,toRange:l,suffix:u}});e.serializeCoords=(r,i)=>r.map((a,o)=>{let{fromRange:s,toRange:l,suffix:u}=n[o];return s&&l&&(a=XO(s,l,a)),a=kC(a,i),u&&(a+=u),a})}return e}var vl=new Gt({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class is extends Gt{constructor(t){t.coords||(t.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),t.base||(t.base=vl),t.toXYZ_M&&t.fromXYZ_M&&(t.toBase??(t.toBase=n=>{let r=Pi(t.toXYZ_M,n);return this.white!==this.base.white&&(r=_C(this.white,this.base.white,r)),r}),t.fromBase??(t.fromBase=n=>(n=_C(this.base.white,this.white,n),Pi(t.fromXYZ_M,n)))),t.referred??(t.referred="display"),super(t)}}function Jfe(e,{meta:t}={}){var r,i,a,o,s;let n={str:(r=String(e))==null?void 0:r.trim()};if(ah.run("parse-start",n),n.color)return n.color;if(n.parsed=Wfe(n.str),n.parsed){let l=n.parsed.name;if(l==="color"){let u=n.parsed.args.shift(),c=n.parsed.rawArgs.indexOf("/")>0?n.parsed.args.pop():1;for(let f of Gt.all){let h=f.getFormat("color");if(h&&(u===h.id||(i=h.ids)!=null&&i.includes(u))){const m=Object.keys(f.coords).map((g,S)=>n.parsed.args[S]||0);return t&&(t.formatId="color"),{spaceId:f.id,coords:m,alpha:c}}}let d="";if(u in Gt.registry){let f=(s=(o=(a=Gt.registry[u].formats)==null?void 0:a.functions)==null?void 0:o.color)==null?void 0:s.id;f&&(d=`Did you mean color(${f})?`)}throw new TypeError(`Cannot parse color(${u}). `+(d||"Missing a plugin?"))}else for(let u of Gt.all){let c=u.getFormat(l);if(c&&c.type==="function"){let d=1;(c.lastAlpha||Gfe(n.parsed.args).alpha)&&(d=n.parsed.args.pop());let f=n.parsed.args,h;return c.coordGrammar&&(h=Object.entries(u.coords).map(([m,g],S)=>{var b;let y=c.coordGrammar[S],E=(b=f[S])==null?void 0:b.type,x=y.find(A=>A==E);if(!x){let A=g.name||m;throw new TypeError(`${E} not allowed for ${A} in ${l}()`)}let v=x.range;E==="<percentage>"&&(v||(v=[0,1]));let C=g.range||g.refRange;return v&&C&&(f[S]=XO(v,C,f[S])),x})),t&&Object.assign(t,{formatId:c.name,types:h}),{spaceId:u.id,coords:f,alpha:d}}}}else for(let l of Gt.all)for(let u in l.formats){let c=l.formats[u];if(c.type!=="custom"||c.test&&!c.test(n.str))continue;let d=c.parse(n.str);if(d)return d.alpha??(d.alpha=1),t&&(t.formatId=u),d}throw new TypeError(`Could not parse ${e} as a color. Missing a plugin?`)}function ir(e){if(!e)throw new TypeError("Empty color reference");fw(e)&&(e=Jfe(e));let t=e.space||e.spaceId;return t instanceof Gt||(e.space=Gt.get(t)),e.alpha===void 0&&(e.alpha=1),e}function hw(e,t){return t=Gt.get(t),t.from(e)}function yl(e,t){let{space:n,index:r}=Gt.resolveCoord(t,e.space);return hw(e,n)[r]}function Qfe(e,t,n){return t=Gt.get(t),e.coords=t.to(e.space,n),e}function oh(e,t,n){if(e=ir(e),arguments.length===2&&zf(arguments[1])==="object"){let r=arguments[1];for(let i in r)oh(e,i,r[i])}else{typeof n=="function"&&(n=n(yl(e,t)));let{space:r,index:i}=Gt.resolveCoord(t,e.space),a=hw(e,r);a[i]=n,Qfe(e,r,a)}return e}var ZO=new Gt({id:"xyz-d50",name:"XYZ D50",white:"D50",base:vl,fromBase:e=>_C(vl.white,"D50",e),toBase:e=>_C("D50",vl.white,e),formats:{color:{}}});const C_t=216/24389,BY=24/116,C3=24389/27;let p_=Zl.D50;var bs=new Gt({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:p_,base:ZO,fromBase(e){let n=e.map((r,i)=>r/p_[i]).map(r=>r>C_t?Math.cbrt(r):(C3*r+16)/116);return[116*n[1]-16,500*(n[0]-n[1]),200*(n[1]-n[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>BY?Math.pow(t[0],3):(116*t[0]-16)/C3,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/C3,t[2]>BY?Math.pow(t[2],3):(116*t[2]-16)/C3].map((r,i)=>r*p_[i])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Ek(e){return(e%360+360)%360}function E_t(e,t){if(e==="raw")return t;let[n,r]=t.map(Ek),i=r-n;return e==="increasing"?i<0&&(r+=360):e==="decreasing"?i>0&&(n+=360):e==="longer"?-180<i&&i<180&&(i>0?n+=360:r+=360):e==="shorter"&&(i>180?n+=360:i<-180&&(r+=360)),[n,r]}var r2=new Gt({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:bs,fromBase(e){let[t,n,r]=e,i;const a=.02;return Math.abs(n)<a&&Math.abs(r)<a?i=NaN:i=Math.atan2(r,n)*180/Math.PI,[t,Math.sqrt(n**2+r**2),Ek(i)]},toBase(e){let[t,n,r]=e;return n<0&&(n=0),isNaN(r)&&(r=0),[t,n*Math.cos(r*Math.PI/180),n*Math.sin(r*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const zY=25**7,MC=Math.PI,$Y=180/MC,xg=MC/180;function HN(e,t,{kL:n=1,kC:r=1,kH:i=1}={}){let[a,o,s]=bs.from(e),l=r2.from(bs,[a,o,s])[1],[u,c,d]=bs.from(t),f=r2.from(bs,[u,c,d])[1];l<0&&(l=0),f<0&&(f=0);let m=((l+f)/2)**7,g=.5*(1-Math.sqrt(m/(m+zY))),S=(1+g)*o,y=(1+g)*c,E=Math.sqrt(S**2+s**2),x=Math.sqrt(y**2+d**2),v=S===0&&s===0?0:Math.atan2(s,S),C=y===0&&d===0?0:Math.atan2(d,y);v<0&&(v+=2*MC),C<0&&(C+=2*MC),v*=$Y,C*=$Y;let b=u-a,A=x-E,_=C-v,T=v+C,M=Math.abs(_),N;E*x===0?N=0:M<=180?N=_:_>180?N=_-360:_<-180?N=_+360:console.log("the unthinkable has happened");let I=2*Math.sqrt(x*E)*Math.sin(N*xg/2),F=(a+u)/2,$=(E+x)/2,z=Math.pow($,7),D;E*x===0?D=T:M<=180?D=T/2:T<360?D=(T+360)/2:D=(T-360)/2;let P=(F-50)**2,V=1+.015*P/Math.sqrt(20+P),B=1+.045*$,H=1;H-=.17*Math.cos((D-30)*xg),H+=.24*Math.cos(2*D*xg),H+=.32*Math.cos((3*D+6)*xg),H-=.2*Math.cos((4*D-63)*xg);let K=1+.015*$*H,W=30*Math.exp(-1*((D-275)/25)**2),L=2*Math.sqrt(z/(z+zY)),G=-1*Math.sin(2*W*xg)*L,de=(b/(n*V))**2;return de+=(A/(r*B))**2,de+=(I/(i*K))**2,de+=G*(A/(r*B))*(I/(i*K)),Math.sqrt(de)}const k_t=75e-6;function sb(e,t=e.space,{epsilon:n=k_t}={}){e=ir(e),t=Gt.get(t);let r=e.coords;return t!==e.space&&(r=t.from(e)),t.inGamut(r,{epsilon:n})}function i2(e){return{space:e.space,coords:e.coords.slice(),alpha:e.alpha}}function sh(e,{method:t=tc.gamut_mapping,space:n=e.space}={}){if(fw(arguments[1])&&(n=arguments[1]),n=Gt.get(n),sb(e,n,{epsilon:0}))return ir(e);let r=pl(e,n);if(t!=="clip"&&!sb(e,n)){let i=sh(i2(r),{method:"clip",space:n});if(HN(e,i)>2){let a=Gt.resolveCoord(t),o=a.space,s=a.id,l=pl(r,o),c=(a.range||a.refRange)[0],d=.01,f=c,h=yl(l,s);for(;h-f>d;){let m=i2(l);m=sh(m,{space:n,method:"clip"}),HN(l,m)-2<d?f=yl(l,s):h=yl(l,s),oh(l,s,(f+h)/2)}r=pl(l,n)}else r=i}if(t==="clip"||!sb(r,n,{epsilon:0})){let i=Object.values(n.coords).map(a=>a.range||[]);r.coords=r.coords.map((a,o)=>{let[s,l]=i[o];return s!==void 0&&(a=Math.max(s,a)),l!==void 0&&(a=Math.min(a,l)),a})}return n!==e.space&&(r=pl(r,e.space)),e.coords=r.coords,e}sh.returns="color";function pl(e,t,{inGamut:n}={}){e=ir(e),t=Gt.get(t);let r=t.from(e),i={space:t,coords:r,alpha:e.alpha};return n&&(i=sh(i)),i}pl.returns="color";function TC(e,{precision:t=tc.precision,format:n="default",inGamut:r=!0,...i}={}){var l;let a;e=ir(e);let o=n;n=e.space.getFormat(n)??e.space.getFormat("default")??Gt.DEFAULT_FORMAT,r||(r=n.toGamut);let s=e.coords;if(s=s.map(u=>u||0),r&&!sb(e)&&(s=sh(i2(e),r===!0?void 0:r).coords),n.type==="custom")if(i.precision=t,n.serialize)a=n.serialize(s,e.alpha,i);else throw new TypeError(`format ${o} can only be used to parse colors, not for serialization`);else{let u=n.name||"color";n.serializeCoords?s=n.serializeCoords(s,t):t!==null&&(s=s.map(h=>kC(h,t)));let c=[...s];if(u==="color"){let h=n.id||((l=n.ids)==null?void 0:l[0])||e.space.id;c.unshift(h)}let d=e.alpha;t!==null&&(d=kC(d,t));let f=e.alpha<1&&!n.noAlpha?`${n.commas?",":" /"} ${d}`:"";a=`${u}(${c.join(n.commas?", ":" ")}${f})`}return a}const A_t=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],__t=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]];var kk=new is({id:"rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:A_t,fromXYZ_M:__t,formats:{color:{}}});const E3=1.09929682680944,UY=.018053968510807;var Xfe=new is({id:"rec2020",name:"REC.2020",base:kk,toBase(e){return e.map(function(t){return t<UY*4.5?t/4.5:Math.pow((t+E3-1)/E3,1/.45)})},fromBase(e){return e.map(function(t){return t>=UY?E3*Math.pow(t,.45)-(E3-1):4.5*t})},formats:{color:{}}});const M_t=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],T_t=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]];var Zfe=new is({id:"p3-linear",name:"Linear P3",white:"D65",toXYZ_M:M_t,fromXYZ_M:T_t});const N_t=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],D_t=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]];var ehe=new is({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:N_t,fromXYZ_M:D_t,formats:{color:{}}}),VY={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let HY=Array(3).fill("<percentage> | <number>[0, 255]"),qY=Array(3).fill("<number>[0, 255]");var a2=new is({id:"srgb",name:"sRGB",base:ehe,fromBase:e=>e.map(t=>{let n=t<0?-1:1,r=t*n;return r>.0031308?n*(1.055*r**(1/2.4)-.055):12.92*t}),toBase:e=>e.map(t=>{let n=t<0?-1:1,r=t*n;return r<.04045?t/12.92:n*((r+.055)/1.055)**2.4}),formats:{rgb:{coords:HY},rgb_number:{name:"rgb",commas:!0,coords:qY,noAlpha:!0},color:{},rgba:{coords:HY,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:qY},hex:{type:"custom",toGamut:!0,test:e=>/^#([a-f0-9]{3,4}){1,2}$/i.test(e),parse(e){e.length<=5&&(e=e.replace(/[a-f0-9]/gi,"$&$&"));let t=[];return e.replace(/[a-f0-9]{2}/gi,n=>{t.push(parseInt(n,16)/255)}),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:(e,t,{collapse:n=!0}={})=>{t<1&&e.push(t),e=e.map(a=>Math.round(a*255));let r=n&&e.every(a=>a%17===0);return"#"+e.map(a=>r?(a/17).toString(16):a.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:e=>/^[a-z]+$/i.test(e),parse(e){e=e.toLowerCase();let t={spaceId:"srgb",coords:null,alpha:1};if(e==="transparent"?(t.coords=VY.black,t.alpha=0):t.coords=VY[e],t.coords)return t}}}}),the=new is({id:"p3",name:"P3",base:Zfe,fromBase:a2.fromBase,toBase:a2.toBase,formats:{color:{id:"display-p3"}}});tc.display_space=a2;if(typeof CSS<"u"&&CSS.supports)for(let e of[bs,Xfe,the]){let t=e.getMinCoords(),r=TC({space:e,coords:t,alpha:1});if(CSS.supports("color",r)){tc.display_space=e;break}}function R_t(e,{space:t=tc.display_space,...n}={}){let r=TC(e,n);if(typeof CSS>"u"||CSS.supports("color",r)||!tc.display_space)r=new String(r),r.color=e;else{let i=pl(e,t);r=new String(TC(i,n)),r.color=i}return r}function nhe(e,t,n="lab"){n=Gt.get(n);let r=n.from(e),i=n.from(t);return Math.sqrt(r.reduce((a,o,s)=>{let l=i[s];return isNaN(o)||isNaN(l)?a:a+(l-o)**2},0))}function I_t(e,t){return e=ir(e),t=ir(t),e.space===t.space&&e.alpha===t.alpha&&e.coords.every((n,r)=>n===t.coords[r])}function lh(e){return yl(e,[vl,"y"])}function rhe(e,t){oh(e,[vl,"y"],t)}function O_t(e){Object.defineProperty(e.prototype,"luminance",{get(){return lh(this)},set(t){rhe(this,t)}})}var P_t=Object.freeze({__proto__:null,getLuminance:lh,register:O_t,setLuminance:rhe});function j_t(e,t){e=ir(e),t=ir(t);let n=Math.max(lh(e),0),r=Math.max(lh(t),0);return r>n&&([n,r]=[r,n]),(n+.05)/(r+.05)}const L_t=.56,F_t=.57,B_t=.62,z_t=.65,WY=.022,$_t=1.414,U_t=.1,V_t=5e-4,H_t=1.14,GY=.027,q_t=1.14;function KY(e){return e>=WY?e:e+(WY-e)**$_t}function Sg(e){let t=e<0?-1:1,n=Math.abs(e);return t*Math.pow(n,2.4)}function W_t(e,t){t=ir(t),e=ir(e);let n,r,i,a,o,s;t=pl(t,"srgb"),[a,o,s]=t.coords;let l=Sg(a)*.2126729+Sg(o)*.7151522+Sg(s)*.072175;e=pl(e,"srgb"),[a,o,s]=e.coords;let u=Sg(a)*.2126729+Sg(o)*.7151522+Sg(s)*.072175,c=KY(l),d=KY(u),f=d>c;return Math.abs(d-c)<V_t?r=0:f?(n=d**L_t-c**F_t,r=n*H_t):(n=d**z_t-c**B_t,r=n*q_t),Math.abs(r)<U_t?i=0:r>0?i=r-GY:i=r+GY,i*100}function G_t(e,t){e=ir(e),t=ir(t);let n=Math.max(lh(e),0),r=Math.max(lh(t),0);r>n&&([n,r]=[r,n]);let i=n+r;return i===0?0:(n-r)/i}const K_t=5e4;function Y_t(e,t){e=ir(e),t=ir(t);let n=Math.max(lh(e),0),r=Math.max(lh(t),0);return r>n&&([n,r]=[r,n]),r===0?K_t:(n-r)/r}function J_t(e,t){e=ir(e),t=ir(t);let n=yl(e,[bs,"l"]),r=yl(t,[bs,"l"]);return Math.abs(n-r)}const Q_t=216/24389,YY=24/116,k3=24389/27;let m_=Zl.D65;var qN=new Gt({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:m_,base:vl,fromBase(e){let n=e.map((r,i)=>r/m_[i]).map(r=>r>Q_t?Math.cbrt(r):(k3*r+16)/116);return[116*n[1]-16,500*(n[0]-n[1]),200*(n[1]-n[2])]},toBase(e){let t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>YY?Math.pow(t[0],3):(116*t[0]-16)/k3,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/k3,t[2]>YY?Math.pow(t[2],3):(116*t[2]-16)/k3].map((r,i)=>r*m_[i])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});const g_=Math.pow(5,.5)*.5+.5;function X_t(e,t){e=ir(e),t=ir(t);let n=yl(e,[qN,"l"]),r=yl(t,[qN,"l"]),i=Math.abs(Math.pow(n,g_)-Math.pow(r,g_)),a=Math.pow(i,1/g_)*Math.SQRT2-40;return a<7.5?0:a}var cS=Object.freeze({__proto__:null,contrastAPCA:W_t,contrastDeltaPhi:X_t,contrastLstar:J_t,contrastMichelson:G_t,contrastWCAG21:j_t,contrastWeber:Y_t});function Z_t(e,t,n={}){fw(n)&&(n={algorithm:n});let{algorithm:r,...i}=n;if(!r){let a=Object.keys(cS).map(o=>o.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${a}`)}e=ir(e),t=ir(t);for(let a in cS)if("contrast"+r.toLowerCase()===a.toLowerCase())return cS[a](e,t,i);throw new TypeError(`Unknown contrast algorithm: ${r}`)}function ihe(e){let[t,n,r]=hw(e,vl),i=t+15*n+3*r;return[4*t/i,9*n/i]}function ahe(e){let[t,n,r]=hw(e,vl),i=t+n+r;return[t/i,n/i]}function eMt(e){Object.defineProperty(e.prototype,"uv",{get(){return ihe(this)}}),Object.defineProperty(e.prototype,"xy",{get(){return ahe(this)}})}var tMt=Object.freeze({__proto__:null,register:eMt,uv:ihe,xy:ahe});function nMt(e,t){return nhe(e,t,"lab")}const rMt=Math.PI,JY=rMt/180;function iMt(e,t,{l:n=2,c:r=1}={}){let[i,a,o]=bs.from(e),[,s,l]=r2.from(bs,[i,a,o]),[u,c,d]=bs.from(t),f=r2.from(bs,[u,c,d])[1];s<0&&(s=0),f<0&&(f=0);let h=i-u,m=s-f,g=a-c,S=o-d,y=g**2+S**2-m**2,E=.511;i>=16&&(E=.040975*i/(1+.01765*i));let x=.0638*s/(1+.0131*s)+.638,v;Number.isNaN(l)&&(l=0),l>=164&&l<=345?v=.56+Math.abs(.2*Math.cos((l+168)*JY)):v=.36+Math.abs(.4*Math.cos((l+35)*JY));let C=Math.pow(s,4),b=Math.sqrt(C/(C+1900)),A=x*(b*v+1-b),_=(h/(n*E))**2;return _+=(m/(r*x))**2,_+=y/A**2,Math.sqrt(_)}const QY=203;var eP=new Gt({id:"xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:vl,fromBase(e){return e.map(t=>Math.max(t*QY,0))},toBase(e){return e.map(t=>Math.max(t/QY,0))}});const A3=1.15,_3=.66,XY=2610/2**14,aMt=2**14/2610,ZY=3424/2**12,eJ=2413/2**7,tJ=2392/2**7,oMt=1.7*2523/2**5,nJ=2**5/(1.7*2523),M3=-.56,v_=16295499532821565e-27,sMt=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],lMt=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],uMt=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],cMt=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var ohe=new Gt({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:eP,fromBase(e){let[t,n,r]=e,i=A3*t-(A3-1)*r,a=_3*n-(_3-1)*t,s=Pi(sMt,[i,a,r]).map(function(f){let h=ZY+eJ*(f/1e4)**XY,m=1+tJ*(f/1e4)**XY;return(h/m)**oMt}),[l,u,c]=Pi(uMt,s);return[(1+M3)*l/(1+M3*l)-v_,u,c]},toBase(e){let[t,n,r]=e,i=(t+v_)/(1+M3-M3*(t+v_)),o=Pi(cMt,[i,n,r]).map(function(f){let h=ZY-f**nJ,m=tJ*f**nJ-eJ;return 1e4*(h/m)**aMt}),[s,l,u]=Pi(lMt,o),c=(s+(A3-1)*u)/A3,d=(l+(_3-1)*c)/_3;return[c,d,u]},formats:{color:{}}}),WN=new Gt({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:ohe,fromBase(e){let[t,n,r]=e,i;const a=2e-4;return Math.abs(n)<a&&Math.abs(r)<a?i=NaN:i=Math.atan2(r,n)*180/Math.PI,[t,Math.sqrt(n**2+r**2),Ek(i)]},toBase(e){return[e[0],e[1]*Math.cos(e[2]*Math.PI/180),e[1]*Math.sin(e[2]*Math.PI/180)]},formats:{color:{}}});function dMt(e,t){let[n,r,i]=WN.from(e),[a,o,s]=WN.from(t),l=n-a,u=r-o;Number.isNaN(i)&&Number.isNaN(s)?(i=0,s=0):Number.isNaN(i)?i=s:Number.isNaN(s)&&(s=i);let c=i-s,d=2*Math.sqrt(r*o)*Math.sin(c/2*(Math.PI/180));return Math.sqrt(l**2+u**2+d**2)}const she=3424/4096,lhe=2413/128,uhe=2392/128,rJ=2610/16384,fMt=2523/32,hMt=16384/2610,iJ=32/2523,pMt=[[.3592,.6976,-.0358],[-.1922,1.1004,.0755],[.007,.0749,.8434]],mMt=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],gMt=[[.9999888965628402,.008605050147287059,.11103437159861648],[1.00001110343716,-.008605050147287059,-.11103437159861648],[1.0000320633910054,.56004913547279,-.3206339100541203]],vMt=[[2.0701800566956137,-1.326456876103021,.20661600684785517],[.3649882500326575,.6804673628522352,-.04542175307585323],[-.04959554223893211,-.04942116118675749,1.1879959417328034]];var GN=new Gt({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:eP,fromBase(e){let t=Pi(pMt,e);return yMt(t)},toBase(e){let t=bMt(e);return Pi(vMt,t)},formats:{color:{}}});function yMt(e){let t=e.map(function(n){let r=she+lhe*(n/1e4)**rJ,i=1+uhe*(n/1e4)**rJ;return(r/i)**fMt});return Pi(mMt,t)}function bMt(e){return Pi(gMt,e).map(function(r){let i=Math.max(r**iJ-she,0),a=lhe-uhe*r**iJ;return 1e4*(i/a)**hMt})}function wMt(e,t){let[n,r,i]=GN.from(e),[a,o,s]=GN.from(t);return 720*Math.sqrt((n-a)**2+.25*(r-o)**2+(i-s)**2)}const xMt=[[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],SMt=[[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],CMt=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],EMt=[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]];var NC=new Gt({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"L"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:vl,fromBase(e){let n=Pi(xMt,e).map(r=>Math.cbrt(r));return Pi(CMt,n)},toBase(e){let n=Pi(EMt,e).map(r=>r**3);return Pi(SMt,n)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function kMt(e,t){let[n,r,i]=NC.from(e),[a,o,s]=NC.from(t),l=n-a,u=r-o,c=i-s;return Math.sqrt(l**2+u**2+c**2)}var DC={deltaE76:nMt,deltaECMC:iMt,deltaE2000:HN,deltaEJz:dMt,deltaEITP:wMt,deltaEOK:kMt};function ky(e,t,n={}){fw(n)&&(n={method:n});let{method:r=tc.deltaE,...i}=n;e=ir(e),t=ir(t);for(let a in DC)if("deltae"+r.toLowerCase()===a.toLowerCase())return DC[a](e,t,i);throw new TypeError(`Unknown deltaE method: ${r}`)}function AMt(e,t=.25){let r=[Gt.get("oklch","lch"),"l"];return oh(e,r,i=>i*(1+t))}function _Mt(e,t=.25){let r=[Gt.get("oklch","lch"),"l"];return oh(e,r,i=>i*(1-t))}var MMt=Object.freeze({__proto__:null,darken:_Mt,lighten:AMt});function che(e,t,n=.5,r={}){[e,t]=[ir(e),ir(t)],zf(n)==="object"&&([n,r]=[.5,n]);let{space:i,outputSpace:a,premultiplied:o}=r;return pw(e,t,{space:i,outputSpace:a,premultiplied:o})(n)}function dhe(e,t,n={}){let r;tP(e)&&([r,n]=[e,t],[e,t]=r.rangeArgs.colors);let{maxDeltaE:i,deltaEMethod:a,steps:o=2,maxSteps:s=1e3,...l}=n;r||([e,t]=[ir(e),ir(t)],r=pw(e,t,l));let u=ky(e,t),c=i>0?Math.max(o,Math.ceil(u/i)+1):o,d=[];if(s!==void 0&&(c=Math.min(c,s)),c===1)d=[{p:.5,color:r(.5)}];else{let f=1/(c-1);d=Array.from({length:c},(h,m)=>{let g=m*f;return{p:g,color:r(g)}})}if(i>0){let f=d.reduce((h,m,g)=>{if(g===0)return 0;let S=ky(m.color,d[g-1].color,a);return Math.max(h,S)},0);for(;f>i;){f=0;for(let h=1;h<d.length&&d.length<s;h++){let m=d[h-1],g=d[h],S=(g.p+m.p)/2,y=r(S);f=Math.max(f,ky(y,m.color),ky(y,g.color)),d.splice(h,0,{p:S,color:r(S)}),h++}}}return d=d.map(f=>f.color),d}function pw(e,t,n={}){if(tP(e)){let[l,u]=[e,t];return pw(...l.rangeArgs.colors,{...l.rangeArgs.options,...u})}let{space:r,outputSpace:i,progression:a,premultiplied:o}=n;e=ir(e),t=ir(t),e=i2(e),t=i2(t);let s={colors:[e,t],options:n};if(r?r=Gt.get(r):r=Gt.registry[tc.interpolationSpace]||e.space,i=i?Gt.get(i):r,e=pl(e,r),t=pl(t,r),e=sh(e),t=sh(t),r.coords.h&&r.coords.h.type==="angle"){let l=n.hue=n.hue||"shorter",u=[r,"h"],[c,d]=[yl(e,u),yl(t,u)];[c,d]=E_t(l,[c,d]),oh(e,u,c),oh(t,u,d)}return o&&(e.coords=e.coords.map(l=>l*e.alpha),t.coords=t.coords.map(l=>l*t.alpha)),Object.assign(l=>{l=a?a(l):l;let u=e.coords.map((f,h)=>{let m=t.coords[h];return AC(f,m,l)}),c=AC(e.alpha,t.alpha,l),d={space:r,coords:u,alpha:c};return o&&(d.coords=d.coords.map(f=>f/c)),i!==r&&(d=pl(d,i)),d},{rangeArgs:s})}function tP(e){return zf(e)==="function"&&!!e.rangeArgs}tc.interpolationSpace="lab";function TMt(e){e.defineFunction("mix",che,{returns:"color"}),e.defineFunction("range",pw,{returns:"function<color>"}),e.defineFunction("steps",dhe,{returns:"array<color>"})}var NMt=Object.freeze({__proto__:null,isRange:tP,mix:che,range:pw,register:TMt,steps:dhe}),fhe=new Gt({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:a2,fromBase:e=>{let t=Math.max(...e),n=Math.min(...e),[r,i,a]=e,[o,s,l]=[NaN,0,(n+t)/2],u=t-n;if(u!==0){switch(s=l===0||l===1?0:(t-l)/Math.min(l,1-l),t){case r:o=(i-a)/u+(i<a?6:0);break;case i:o=(a-r)/u+2;break;case a:o=(r-i)/u+4}o=o*60}return[o,s*100,l*100]},toBase:e=>{let[t,n,r]=e;t=t%360,t<0&&(t+=360),n/=100,r/=100;function i(a){let o=(a+t/30)%12,s=n*Math.min(r,1-r);return r-s*Math.max(-1,Math.min(o-3,9-o,1))}return[i(0),i(8),i(4)]},formats:{hsl:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),hhe=new Gt({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:fhe,fromBase(e){let[t,n,r]=e;n/=100,r/=100;let i=r+n*Math.min(r,1-r);return[t,i===0?0:200*(1-r/i),100*i]},toBase(e){let[t,n,r]=e;n/=100,r/=100;let i=r*(1-n/2);return[t,i===0||i===1?0:(r-i)/Math.min(i,1-i)*100,i*100]},formats:{color:{toGamut:!0}}}),DMt=new Gt({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:hhe,fromBase(e){let[t,n,r]=e;return[t,r*(100-n)/100,100-r]},toBase(e){let[t,n,r]=e;n/=100,r/=100;let i=n+r;if(i>=1){let s=n/i;return[t,0,s*100]}let a=1-r,o=a===0?0:1-n/a;return[t,o*100,a*100]},formats:{hwb:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]}}});const RMt=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],IMt=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]];var phe=new is({id:"a98rgb-linear",name:"Linear Adobe® 98 RGB compatible",white:"D65",toXYZ_M:RMt,fromXYZ_M:IMt}),OMt=new is({id:"a98rgb",name:"Adobe® 98 RGB compatible",base:phe,toBase:e=>e.map(t=>Math.pow(Math.abs(t),563/256)*Math.sign(t)),fromBase:e=>e.map(t=>Math.pow(Math.abs(t),256/563)*Math.sign(t)),formats:{color:{id:"a98-rgb"}}});const PMt=[[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],jMt=[[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]];var mhe=new is({id:"prophoto-linear",name:"Linear ProPhoto",white:"D50",base:ZO,toXYZ_M:PMt,fromXYZ_M:jMt});const LMt=1/512,FMt=16/512;var BMt=new is({id:"prophoto",name:"ProPhoto",base:mhe,toBase(e){return e.map(t=>t<FMt?t/16:t**1.8)},fromBase(e){return e.map(t=>t>=LMt?t**(1/1.8):16*t)},formats:{color:{id:"prophoto-rgb"}}}),zMt=new Gt({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:NC,fromBase(e){let[t,n,r]=e,i;const a=2e-4;return Math.abs(n)<a&&Math.abs(r)<a?i=NaN:i=Math.atan2(r,n)*180/Math.PI,[t,Math.sqrt(n**2+r**2),Ek(i)]},toBase(e){let[t,n,r]=e,i,a;return isNaN(r)?(i=0,a=0):(i=n*Math.cos(r*Math.PI/180),a=n*Math.sin(r*Math.PI/180)),[t,i,a]},formats:{oklch:{coords:["<number> | <percentage>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});const aJ=203,oJ=2610/2**14,$Mt=2**14/2610,UMt=2523/2**5,sJ=2**5/2523,lJ=3424/2**12,uJ=2413/2**7,cJ=2392/2**7;var VMt=new is({id:"rec2100pq",name:"REC.2100-PQ",base:kk,toBase(e){return e.map(function(t){return(Math.max(t**sJ-lJ,0)/(uJ-cJ*t**sJ))**$Mt*1e4/aJ})},fromBase(e){return e.map(function(t){let n=Math.max(t*aJ/1e4,0),r=lJ+uJ*n**oJ,i=1+cJ*n**oJ;return(r/i)**UMt})},formats:{color:{id:"rec2100-pq"}}});const dJ=.17883277,fJ=.28466892,hJ=.55991073,y_=3.7743;var HMt=new is({id:"rec2100hlg",cssid:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:kk,toBase(e){return e.map(function(t){return t<=.5?t**2/3*y_:(Math.exp((t-hJ)/dJ)+fJ)/12*y_})},fromBase(e){return e.map(function(t){return t/=y_,t<=1/12?Math.sqrt(3*t):dJ*Math.log(12*t-fJ)+hJ})},formats:{color:{id:"rec2100-hlg"}}});const ghe={};ah.add("chromatic-adaptation-start",e=>{e.options.method&&(e.M=vhe(e.W1,e.W2,e.options.method))});ah.add("chromatic-adaptation-end",e=>{e.M||(e.M=vhe(e.W1,e.W2,e.options.method))});function Ak({id:e,toCone_M:t,fromCone_M:n}){ghe[e]=arguments[0]}function vhe(e,t,n="Bradford"){let r=ghe[n],[i,a,o]=Pi(r.toCone_M,e),[s,l,u]=Pi(r.toCone_M,t),c=[[s/i,0,0],[0,l/a,0],[0,0,u/o]],d=Pi(c,r.toCone_M);return Pi(r.fromCone_M,d)}Ak({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599364,-1.1293816,.2198974],[.3611914,.6388125,-64e-7],[0,0,1.0890636]]});Ak({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]]});Ak({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238,-.278869,.1827452],[.454369,.4735332,.0720978],[-.0096276,-.005698,1.0153256]]});Ak({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.011254630531685,.1491867754444518],[.3875265432361372,.6214474419314753,-.008973985167612518],[-.01584149884933386,-.03412293802851557,1.04996443687785]]});Object.assign(Zl,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});Zl.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];const qMt=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],WMt=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]];var yhe=new is({id:"acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:Zl.ACES,toXYZ_M:qMt,fromXYZ_M:WMt,formats:{color:{}}});const T3=2**-16,b_=-.35828683,N3=(Math.log2(65504)+9.72)/17.52;var GMt=new is({id:"acescc",name:"ACEScc",coords:{r:{range:[b_,N3],name:"Red"},g:{range:[b_,N3],name:"Green"},b:{range:[b_,N3],name:"Blue"}},referred:"scene",base:yhe,toBase(e){const t=-.3013698630136986;return e.map(function(n){return n<=t?(2**(n*17.52-9.72)-T3)*2:n<N3?2**(n*17.52-9.72):65504})},fromBase(e){return e.map(function(t){return t<=0?(Math.log2(T3)+9.72)/17.52:t<T3?(Math.log2(T3+t*.5)+9.72)/17.52:(Math.log2(t)+9.72)/17.52})},formats:{color:{}}}),pJ=Object.freeze({__proto__:null,A98RGB:OMt,A98RGB_Linear:phe,ACEScc:GMt,ACEScg:yhe,HSL:fhe,HSV:hhe,HWB:DMt,ICTCP:GN,JzCzHz:WN,Jzazbz:ohe,LCH:r2,Lab:bs,Lab_D65:qN,OKLCH:zMt,OKLab:NC,P3:the,P3_Linear:Zfe,ProPhoto:BMt,ProPhoto_Linear:mhe,REC_2020:Xfe,REC_2020_Linear:kk,REC_2100_HLG:HMt,REC_2100_PQ:VMt,XYZ_ABS_D65:eP,XYZ_D50:ZO,XYZ_D65:vl,sRGB:a2,sRGB_Linear:ehe});class yr{constructor(...t){let n;t.length===1&&(n=ir(t[0]));let r,i,a;n?(r=n.space||n.spaceId,i=n.coords,a=n.alpha):[r,i,a]=t,Object.defineProperty(this,"space",{value:Gt.get(r),writable:!1,enumerable:!0,configurable:!0}),this.coords=i?i.slice():[0,0,0],this.alpha=a<1?a:1;for(let o=0;o<this.coords.length;o++)this.coords[o]==="NaN"&&(this.coords[o]=NaN);for(let o in this.space.coords)Object.defineProperty(this,o,{get:()=>this.get(o),set:s=>this.set(o,s)})}get spaceId(){return this.space.id}clone(){return new yr(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...t){let n=R_t(this,...t);return n.color=new yr(n.color),n}static get(t,...n){return t instanceof yr?t:new yr(t,...n)}static defineFunction(t,n,r=n){let{instance:i=!0,returns:a}=r,o=function(...s){let l=n(...s);if(a==="color")l=yr.get(l);else if(a==="function<color>"){let u=l;l=function(...c){let d=u(...c);return yr.get(d)},Object.assign(l,u)}else a==="array<color>"&&(l=l.map(u=>yr.get(u)));return l};t in yr||(yr[t]=o),i&&(yr.prototype[t]=function(...s){return o(this,...s)})}static defineFunctions(t){for(let n in t)yr.defineFunction(n,t[n],t[n])}static extend(t){if(t.register)t.register(yr);else for(let n in t)yr.defineFunction(n,t[n])}}yr.defineFunctions({get:yl,getAll:hw,set:oh,setAll:Qfe,to:pl,equals:I_t,inGamut:sb,toGamut:sh,distance:nhe,toString:TC});Object.assign(yr,{util:b_t,hooks:ah,WHITES:Zl,Space:Gt,spaces:Gt.registry,parse:Jfe,defaults:tc});for(let e of Object.keys(pJ))Gt.register(pJ[e]);for(let e in Gt.registry)KN(e,Gt.registry[e]);ah.add("colorspace-init-end",e=>{var t;KN(e.id,e),(t=e.aliases)==null||t.forEach(n=>{KN(n,e)})});function KN(e,t){Object.keys(t.coords),Object.values(t.coords).map(r=>r.name);let n=e.replace(/-/g,"_");Object.defineProperty(yr.prototype,n,{get(){let r=this.getAll(e);return typeof Proxy>"u"?r:new Proxy(r,{has:(i,a)=>{try{return Gt.resolveCoord([t,a]),!0}catch{}return Reflect.has(i,a)},get:(i,a,o)=>{if(a&&typeof a!="symbol"&&!(a in i)){let{index:s}=Gt.resolveCoord([t,a]);if(s>=0)return i[s]}return Reflect.get(i,a,o)},set:(i,a,o,s)=>{if(a&&typeof a!="symbol"&&!(a in i)||a>=0){let{index:l}=Gt.resolveCoord([t,a]);if(l>=0)return i[l]=o,this.setAll(e,i),!0}return Reflect.set(i,a,o,s)}})},set(r){this.setAll(e,r)},configurable:!0,enumerable:!0})}yr.extend(DC);yr.extend({deltaE:ky});Object.assign(yr,{deltaEMethods:DC});yr.extend(MMt);yr.extend({contrast:Z_t});yr.extend(tMt);yr.extend(P_t);yr.extend(NMt);yr.extend(cS);function KMt(e){return new yr("p3",[0,1,0]).range("red",{space:"hsv",outputSpace:"srgb"})(1-e).toString()}function YMt(e){const t=e.color;return p.jsx("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"100 90 55 160",width:e.size,height:e.size,children:p.jsx("g",{children:p.jsx("g",{children:p.jsxs("g",{children:[p.jsx("path",{fill:t,d:"M89.5,109.1c-6.5,1.1-12,2.2-12.1,2.3c-0.1,0.1,0.4,2.1,1.2,4.3c3.7,10.2,5.6,19.5,5.1,25.1c-0.4,4.1-2.6,10.8-4.9,15.2l-1.8,3.2l3.2,4.7C91,180.1,93.4,186.3,91.3,193c-0.4,1.3-0.7,2.5-0.7,2.6c0,0.4,4.3,5.4,8,9.2c4.6,4.8,12.6,8.5,25.1,11.7l4.6,1.2l6.6-1.9c7.7-2.2,15.1-5.1,18.5-7.2c1.3-0.9,4.5-4,7.1-7l4.8-5.5l-0.8-3c-1.8-7.1,0.3-12.8,10.7-28.6l3.6-5.5l-1.7-3.2c-1-1.8-2.4-5.3-3.3-7.8c-1.4-4-1.6-5.2-1.6-9.8c0-4.5,0.2-6.3,1.6-11.5c0.9-3.5,2.3-8.2,3.3-10.7c0.9-2.4,1.5-4.6,1.4-4.7c-0.1-0.1-5.2-1.1-11.2-2.1c-6-1-11.6-2-12.4-2.1l-1.4-0.2l-4.3,8.6l-4.3,8.6h-17h-17l-4.3-8.6c-2.4-4.7-4.5-8.6-4.8-8.6C101.6,107,96,107.9,89.5,109.1z"}),p.jsx("path",{fill:t,d:"M64.2,121.1c-4.1,4.1-5,5.3-7.2,9.7c-2.2,4.4-6.1,14.8-5.7,15.2c0.5,0.5,16.4,10.3,16.7,10.3c0.5,0,3.1-4.3,4.5-7.3c2.7-6.1,3.2-10.1,1.9-16.7c-0.9-5-4.4-15.8-5-15.8C69.2,116.5,66.8,118.6,64.2,121.1z"}),p.jsx("path",{fill:t,d:"M184.1,122.3c-3.8,11.9-4.2,17.7-1.5,24.6c1.4,3.7,4.6,9.3,5.3,9.3c0.3,0,16.3-9.8,16.7-10.3c0.4-0.4-3.5-11-5.8-15.2c-2.1-4.2-3.1-5.6-7.1-9.6c-2.6-2.5-4.9-4.7-5.2-4.7C186.3,116.5,185.2,119.1,184.1,122.3z"}),p.jsx("path",{fill:t,d:"M83.8,210.9l-2.7,5.2l5.8,6.7c9.1,10.5,11.5,12.7,16.2,15c5.5,2.7,11,4.6,18.6,6.6l6.3,1.7l6.4-1.7c10.3-2.7,18.9-6.2,23.3-9.4c1.2-0.8,5.5-5.4,9.7-10.2l7.6-8.7l-2.7-5.1l-2.7-5.1l-4.6,4.7c-4.2,4.3-5,4.9-10.1,7.3c-3,1.5-7.2,3.3-9.4,4c-6.2,2.1-15.6,4.6-17.3,4.6c-4,0-19.5-4.9-27-8.5c-4-2-5.2-2.8-9.5-7.2c-2.7-2.7-5-4.9-5-4.9C86.5,205.7,85.3,208,83.8,210.9z"})]})})})})}function JMt(e){const t=e.color;return p.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 1027.000000 1280.000000",preserveAspectRatio:"xMidYMid meet",children:p.jsx("g",{transform:"translate(0.000000,1280.000000) scale(0.100000,-0.100000)",fill:t,stroke:"none",children:p.jsx("path",{d:`M4960 12679 c-1533 -1065 -2990 -1969 -3920 -2434 -449 -225 -728
-332 -1013 -390 -28 -6 -28 -6 -23 -68 4 -34 15 -165 26 -292 174 -1986 492
-3791 855 -4855 156 -458 305 -764 501 -1027 527 -711 1376 -1608 2284 -2414
437 -388 932 -796 1349 -1112 l114 -86 31 21 c67 47 511 395 686 538 877 717
1737 1532 2370 2245 391 440 705 842 830 1059 233 406 456 1065 644 1901 234
1045 433 2420 556 3839 22 254 22 255 -25 256 -73 0 -372 100 -610 202 -855
367 -2540 1391 -4299 2613 -89 61 -166 114 -172 118 -6 3 -89 -48 -184 -114z`})})})}function QMt(e){const t=e.color;return p.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size*.9,viewBox:"0 0 1280.000000 863.000000",preserveAspectRatio:"xMidYMid meet",children:p.jsx("g",{transform:"translate(0.000000,863.000000) scale(0.100000,-0.100000)",fill:t,stroke:"none",children:p.jsx("path",{d:`M8120 8624 c-554 -26 -956 -72 -1425 -164 -1186 -232 -2320 -725
-3304 -1438 -425 -308 -727 -567 -1132 -971 -603 -603 -1071 -1201 -1511
-1931 -165 -274 -430 -782 -415 -796 10 -11 24 5 98 109 253 354 559 708 916
1057 222 218 347 330 318 285 -194 -300 -514 -899 -699 -1310 -135 -298 -306
-729 -367 -925 -22 -69 -45 -103 -311 -457 -159 -210 -288 -386 -288 -392 0
-27 105 -122 178 -159 124 -65 214 -85 347 -80 130 6 194 27 284 93 115 84
170 181 271 473 331 959 723 1779 1173 2457 96 144 239 346 243 343 1 -2 -6
-50 -17 -106 -66 -361 -81 -810 -39 -1157 135 -1108 708 -2081 1605 -2726 338
-244 754 -447 1150 -562 66 -20 129 -37 140 -40 66 -13 -413 -35 -960 -43
-374 -6 -926 3 -1512 23 -292 10 -252 -13 117 -66 945 -137 2001 -175 2894
-105 231 18 292 24 701 74 409 51 564 79 810 150 55 15 177 49 270 74 519 140
913 316 1340 601 973 649 1771 1745 2295 3150 136 365 244 724 329 1095 43
187 111 571 111 629 0 47 7 56 60 84 93 48 350 203 485 292 368 242 553 444
521 568 -16 64 -56 90 -304 200 -1180 522 -2283 870 -3192 1007 -80 12 -153
25 -164 29 -31 11 760 138 1409 226 187 25 381 53 430 61 157 27 142 39 -115
93 -583 122 -1030 186 -1640 232 -250 18 -903 32 -1100 23z m1191 -1880 c264
-85 581 -204 844 -316 239 -101 894 -423 901 -442 3 -7 -4 -87 -16 -177 -129
-1024 -464 -2044 -947 -2886 -36 -62 -66 -113 -68 -113 -2 0 7 33 21 73 36
104 100 373 123 512 73 442 73 879 0 1310 -128 762 -497 1501 -1013 2033 -39
39 -65 72 -59 72 6 0 102 -30 214 -66z`})})})}function XMt(e){const t=e.color;return p.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 1280.000000 1002.000000",preserveAspectRatio:"xMidYMid meet",children:p.jsxs("g",{transform:"translate(0.000000,1002.000000) scale(0.100000,-0.100000)",fill:t,stroke:"none",children:[p.jsx("path",{d:`M4765 10014 c-22 -2 -80 -11 -130 -20 -496 -88 -933 -478 -1239
-1109 -65 -133 -82 -190 -130 -435 -70 -351 -99 -722 -85 -1070 9 -200 12
-222 69 -575 51 -315 60 -374 61 -432 1 -26 6 -1 10 57 16 198 41 302 162 680
36 113 84 264 107 335 155 496 415 991 636 1211 260 259 505 345 764 270 207
-60 373 -164 665 -415 55 -48 116 -99 135 -115 19 -16 99 -87 177 -158 198
-181 302 -260 418 -318 125 -63 189 -79 341 -87 234 -12 329 37 427 218 60
109 81 189 81 314 0 130 -17 190 -98 356 -192 386 -534 697 -1077 978 -256
133 -547 237 -779 281 -36 6 -87 16 -115 21 -54 11 -336 20 -400 13z`}),p.jsx("path",{d:`M8925 9614 c-102 -20 -140 -30 -205 -51 -284 -95 -514 -289 -644
-543 -97 -191 -130 -350 -114 -542 29 -343 246 -681 539 -842 185 -101 364
-148 569 -148 203 0 359 36 528 121 290 147 476 382 574 729 29 104 32 313 4
417 -39 150 -95 271 -189 408 -155 227 -451 404 -747 447 -63 9 -275 12 -315
4z`}),p.jsx("path",{d:`M12700 7683 c-18 -95 -47 -168 -143 -361 -128 -254 -265 -475 -419
-669 -237 -301 -787 -753 -1129 -928 -147 -75 -207 -95 -290 -95 -164 0 -334
100 -499 295 -99 116 -147 217 -290 605 -131 356 -247 549 -395 658 -81 59
-122 80 -213 103 -67 17 -85 18 -140 8 -81 -15 -158 -65 -240 -155 -152 -167
-219 -372 -209 -634 6 -146 19 -217 68 -374 171 -546 518 -1004 1009 -1333 95
-64 140 -86 234 -118 221 -74 509 -75 746 -1 334 103 761 377 1065 681 273
273 455 545 649 967 184 401 248 597 292 897 3 24 0 151 -7 282 l-13 239 -32
0 c-31 0 -32 -1 -44 -67z`}),p.jsx("path",{d:`M4205 5883 c-138 -16 -280 -77 -351 -149 -50 -52 -116 -179 -140
-269 -57 -217 -5 -491 130 -678 54 -77 136 -160 305 -311 131 -117 132 -118
114 -139 -225 -264 -861 -924 -1439 -1493 -741 -731 -1057 -1051 -1663 -1687
-156 -164 -419 -427 -585 -584 -276 -262 -579 -564 -572 -570 1 -2 38 6 82 18
149 39 670 336 1744 994 434 266 540 329 1470 875 744 437 872 515 1160 704
273 180 390 265 515 375 119 103 163 137 400 306 99 71 204 148 234 172 l53
43 112 -58 c138 -73 258 -150 358 -231 115 -92 125 -107 133 -195 7 -69 5 -77
-21 -122 -44 -77 -216 -241 -330 -317 -56 -37 -236 -137 -400 -221 -165 -84
-445 -231 -624 -326 -511 -270 -984 -498 -1295 -622 -167 -67 -390 -187 -375
-201 3 -3 55 -9 115 -14 117 -9 328 -2 528 16 67 6 174 16 237 22 330 29 556
70 845 150 226 63 261 73 550 149 556 148 852 248 1130 385 436 214 806 562
961 902 55 120 64 152 64 233 0 101 -30 214 -89 335 -63 130 -109 196 -260
385 -276 343 -520 595 -836 863 -71 61 -173 150 -225 198 -289 266 -789 630
-1045 761 -114 58 -538 233 -635 262 -60 19 -247 46 -295 44 -16 0 -43 -3 -60
-5z`})]})})}function ZMt(e){const t=e.color;return p.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 1278.000000 1280.000000",preserveAspectRatio:"xMidYMid meet",children:p.jsx("g",{transform:"translate(0.000000,1280.000000) scale(0.100000,-0.100000)",fill:t,stroke:"none",children:p.jsx("path",{d:`M1535 12720 c-372 -7 -468 -19 -660 -81 -367 -118 -619 -382 -730
-767 -35 -120 -53 -236 -65 -417 -14 -218 -14 -9972 0 -10180 51 -765 429
-1143 1195 -1194 218 -15 10004 -15 10230 -1 253 16 453 64 617 146 99 50 148
85 236 168 211 201 315 469 342 881 14 222 14 9970 0 10190 -28 421 -128 690
-339 908 -181 188 -410 289 -762 338 -63 9 -1277 12 -4904 14 -2651 1 -4973
-1 -5160 -5z`})})})}function eTt(e){const t=e.color;return p.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 1280.000000 1062.000000",preserveAspectRatio:"xMidYMid meet",children:p.jsxs("g",{transform:"translate(0.000000,1062.000000) scale(0.100000,-0.100000)",fill:t,stroke:"none",children:[p.jsx("path",{d:`M9714 10411 c38 -38 53 -60 45 -63 -19 -6 17 -57 122 -173 184 -204
281 -329 440 -565 57 -85 136 -193 175 -240 107 -129 338 -340 463 -424 53
-36 89 -47 74 -23 -9 14 27 -8 120 -75 37 -26 67 -47 67 -44 0 2 -13 33 -30
69 -48 106 -107 268 -161 446 -28 91 -65 200 -81 241 -121 296 -316 465 -813
706 -175 84 -451 204 -471 204 -5 0 18 -26 50 -59z`}),p.jsx("path",{d:`M3180 10373 c-140 -58 -211 -83 -205 -72 22 35 -470 -209 -622 -309
-202 -134 -338 -280 -411 -443 -65 -146 -225 -644 -217 -676 3 -13 10 -21 15
-18 15 9 12 -9 -10 -61 -11 -26 -19 -49 -17 -51 6 -6 233 166 362 274 120 100
259 238 327 323 19 25 88 124 153 220 187 277 286 399 552 678 90 94 163 172
161 171 -2 0 -41 -17 -88 -36z`}),p.jsx("path",{d:`M10950 9834 c0 -3 17 -31 38 -62 57 -84 60 -90 37 -72 -39 31 -6 -49
74 -184 133 -224 193 -357 235 -521 27 -107 89 -530 84 -572 -3 -22 -13 -12
-87 81 -114 145 -260 281 -398 372 -62 41 -164 108 -227 149 -133 87 -260 203
-342 313 -32 42 -62 81 -66 86 -7 9 -4 -43 7 -133 4 -30 3 -32 -9 -16 -37 50
-37 -75 -1 -201 98 -335 240 -498 655 -749 200 -121 291 -186 388 -280 105
-100 163 -173 241 -302 67 -111 101 -146 112 -116 5 15 40 -56 78 -160 20 -54
45 396 46 813 0 387 -8 487 -56 675 -75 293 -234 509 -521 706 -95 65 -288
181 -288 173z`}),p.jsx("path",{d:`M1861 9705 c-63 -36 -116 -65 -119 -65 -2 0 0 5 3 11 15 24 -117 -54
-200 -119 -237 -183 -374 -385 -439 -648 -33 -131 -43 -207 -57 -404 -17 -254
5 -823 36 -895 15 -37 34 -46 36 -17 3 38 17 -47 18 -109 0 -36 4 -69 8 -72 3
-4 16 22 29 57 29 84 105 235 156 311 124 183 279 321 535 475 325 194 459
304 564 464 93 141 160 334 189 546 6 47 13 93 15 103 5 29 -9 19 -37 -26 -24
-37 -112 -131 -94 -99 22 37 -45 -10 -153 -110 -45 -43 -129 -107 -185 -144
-55 -36 -155 -100 -221 -143 -68 -43 -158 -114 -208 -161 -82 -77 -265 -284
-295 -333 -13 -20 -13 -19 -8 13 4 19 22 144 41 276 20 133 45 277 56 320 54
207 168 429 363 707 84 120 89 127 84 127 -2 0 -54 -29 -117 -65z`}),p.jsx("path",{d:`M11919 8928 c29 -64 51 -146 32 -119 -21 31 -23 -43 -6 -168 27 -188
23 -360 -19 -731 -20 -173 -43 -418 -51 -544 -9 -127 -17 -231 -18 -233 -2 -1
-18 32 -36 75 -44 107 -121 225 -195 297 -34 33 -138 112 -231 175 -257 175
-374 302 -500 545 l-46 90 6 -70 c3 -38 8 -90 11 -115 2 -25 2 -39 -2 -32 -10
22 -23 13 -29 -20 -15 -78 49 -312 135 -494 80 -170 168 -294 444 -620 194
-231 309 -425 401 -679 52 -144 57 -156 82 -180 16 -16 17 -16 23 1 4 12 15
-16 31 -80 l24 -97 162 648 c168 669 202 823 227 1015 36 272 30 463 -19 659
-61 244 -190 467 -397 687 -27 28 -51 52 -53 52 -2 0 9 -28 24 -62z`}),p.jsx("path",{d:`M974 8868 c-27 -29 -68 -75 -92 -102 -24 -28 -40 -42 -36 -33 11 29
-14 19 -57 -24 -52 -52 -130 -172 -179 -274 -152 -320 -168 -656 -59 -1200 29
-142 210 -873 266 -1072 27 -97 61 -152 73 -118 4 12 13 -6 28 -56 12 -41 22
-82 22 -91 0 -9 5 -20 10 -23 6 -3 10 2 10 12 0 29 57 244 91 340 89 256 207
446 468 751 237 279 340 435 420 637 64 162 116 385 136 580 l6 60 -39 -75
c-42 -81 -89 -160 -97 -160 -2 0 -2 7 2 16 14 36 -38 -8 -109 -94 -40 -48 -99
-113 -133 -146 -54 -53 -98 -86 -318 -240 -111 -78 -192 -152 -231 -210 -49
-75 -144 -252 -148 -279 -2 -12 -7 32 -11 98 -17 294 -31 446 -58 675 -38 313
-47 566 -25 702 17 104 65 267 98 331 11 22 18 41 15 43 -2 2 -26 -19 -53 -48z`}),p.jsx("path",{d:`M12560 7316 c0 -39 -33 -158 -40 -146 -13 21 -46 -22 -63 -81 -8 -30
-35 -140 -61 -244 -80 -329 -142 -509 -270 -785 -111 -236 -226 -525 -226
-565 0 -42 -10 -2 -25 96 -50 334 -182 642 -548 1274 -60 105 -114 195 -119
200 -6 6 -8 -20 -7 -70 2 -57 -1 -80 -10 -80 -35 0 -40 -100 -16 -310 45 -386
102 -643 235 -1050 128 -391 143 -479 142 -834 -1 -255 4 -298 34 -287 12 4
13 -5 8 -52 l-5 -57 82 85 c571 593 893 1107 1003 1602 39 177 49 300 43 513
-6 193 -19 293 -62 490 -44 198 -95 360 -95 301z`}),p.jsx("path",{d:`M326 7168 c-20 -64 -30 -87 -35 -75 -6 18 -7 18 -23 0 -26 -28 -44
-78 -66 -183 -140 -653 -26 -1224 361 -1800 212 -315 588 -750 650 -750 5 0 5
6 1 13 -4 6 21 -15 54 -47 34 -33 63 -58 65 -55 2 2 -2 63 -9 134 -16 161 -17
424 -4 553 15 137 49 272 136 537 112 342 163 550 208 850 27 181 72 653 63
662 -2 2 -28 -38 -57 -87 -30 -50 -56 -86 -60 -80 -22 36 -97 -70 -251 -355
-215 -398 -299 -609 -360 -905 -17 -80 -32 -146 -33 -147 -1 -1 -15 37 -30 85
-43 133 -95 260 -189 458 -107 226 -172 402 -232 617 -49 180 -116 471 -136
593 -7 41 -15 74 -19 74 -3 0 -18 -42 -34 -92z`}),p.jsx("path",{d:`M11207 5522 c-20 -37 -37 -61 -37 -54 0 24 -39 -7 -61 -49 -27 -53
-74 -238 -93 -364 -22 -145 -33 -257 -56 -560 -48 -643 -93 -908 -230 -1371
-32 -108 -36 -175 -8 -158 11 7 10 3 -9 -65 -6 -25 -6 -25 53 8 129 73 488
302 649 415 552 387 867 715 1056 1101 134 275 199 567 199 895 l0 145 -47
-88 c-26 -48 -50 -82 -53 -77 -15 24 -63 -38 -155 -198 -211 -363 -321 -496
-625 -752 -96 -81 -191 -165 -211 -186 -53 -58 -194 -226 -208 -249 l-12 -20
5 20 c43 163 57 530 32 775 -26 243 -125 850 -145 887 -4 8 -21 -13 -44 -55z`}),p.jsx("path",{d:`M1670 5511 c0 -39 -24 -121 -31 -109 -17 27 -48 -23 -68 -111 -48
-206 -106 -640 -116 -871 -7 -134 -4 -196 25 -490 4 -41 6 -76 6 -77 -1 -1
-28 35 -61 79 -93 126 -177 210 -345 348 -327 268 -497 489 -734 950 -78 152
-84 160 -90 130 -3 -18 -6 -58 -7 -89 0 -34 -3 -49 -8 -38 -6 18 -8 18 -21 2
-33 -40 -22 -236 26 -454 132 -595 517 -1062 1316 -1599 265 -177 443 -283
481 -286 18 -2 65 -21 103 -44 38 -22 70 -39 71 -39 1 1 -25 82 -58 179 -141
419 -204 768 -249 1368 -48 642 -87 867 -190 1088 -39 84 -50 97 -50 63z`}),p.jsx("path",{d:`M10757 4250 c-55 -71 -81 -98 -92 -93 -32 12 -155 -151 -304 -404
-131 -223 -192 -368 -282 -673 -70 -236 -115 -362 -171 -475 -60 -119 -159
-281 -251 -407 -138 -192 -149 -210 -144 -237 3 -16 -2 -36 -15 -53 -10 -16
-15 -28 -9 -28 15 0 432 101 636 154 719 188 1161 353 1439 538 96 64 223 181
287 266 67 89 142 240 189 379 41 125 174 622 168 629 -3 2 -30 -36 -61 -84
-61 -93 -111 -158 -101 -129 18 51 -56 -20 -178 -173 -238 -297 -401 -413
-818 -580 -193 -78 -275 -116 -395 -186 -55 -31 -124 -70 -154 -86 -30 -15
-61 -34 -68 -40 -8 -7 9 35 39 93 100 194 129 314 183 764 47 394 92 628 169
878 8 26 14 47 12 47 -1 0 -37 -45 -79 -100z`}),p.jsx("path",{d:`M2090 4283 c0 -4 12 -46 25 -92 26 -89 32 -128 16 -102 -7 11 -11 10
-20 -7 -8 -15 -7 -41 3 -99 52 -289 69 -396 96 -623 50 -413 68 -501 141 -679
22 -53 44 -113 48 -134 l9 -38 -26 18 c-161 106 -339 197 -577 293 -335 134
-465 212 -635 380 -117 115 -231 258 -357 448 -53 78 -97 142 -98 142 -2 0 7
-42 20 -92 13 -51 26 -106 29 -123 l6 -30 -14 25 -14 25 -7 -28 c-11 -43 2
-114 50 -283 89 -310 165 -453 325 -614 156 -157 344 -272 645 -393 145 -59
474 -169 485 -162 5 3 10 1 12 -4 1 -5 17 -11 33 -13 17 -2 32 -6 35 -10 3 -3
19 -8 35 -10 17 -2 32 -6 35 -10 3 -3 19 -8 35 -10 17 -2 32 -6 36 -10 3 -4
18 -9 35 -11 16 -2 35 -6 41 -10 6 -4 24 -9 40 -11 15 -1 165 -37 333 -79 276
-68 532 -127 537 -123 1 1 -32 44 -73 96 -42 52 -113 147 -158 210 -226 315
-317 499 -416 845 -93 330 -172 517 -317 759 -104 172 -393 585 -393 559z`}),p.jsx("path",{d:`M9959 3046 c-27 -25 -213 -150 -205 -138 44 71 -314 -186 -589 -422
-38 -33 -164 -153 -280 -266 -273 -268 -316 -295 -766 -471 -99 -39 -177 -74
-175 -78 3 -4 -17 -16 -45 -26 -27 -11 -49 -23 -49 -26 0 -4 12 -12 28 -17 15
-6 21 -11 14 -11 -7 -1 -10 -5 -7 -11 3 -5 0 -10 -7 -10 -7 -1 0 -8 17 -17 16
-9 66 -20 110 -24 44 -5 124 -20 178 -33 54 -14 106 -22 115 -19 11 5 13 3 7
-7 -6 -10 -2 -11 19 -6 14 3 26 3 26 -2 0 -4 17 -9 37 -9 21 -1 39 -6 41 -12
2 -6 7 -9 12 -6 5 3 64 -8 132 -24 541 -130 998 -177 1323 -136 193 24 317 60
480 140 202 100 354 231 755 654 102 107 180 192 175 190 -6 -2 -75 -47 -155
-100 -169 -112 -251 -160 -231 -135 8 9 -69 -24 -170 -74 -101 -49 -221 -103
-266 -119 -45 -15 -79 -32 -75 -36 4 -5 2 -5 -4 -2 -7 4 -27 1 -45 -7 -92 -38
-214 -48 -699 -57 -261 -5 -492 -12 -512 -15 -21 -3 -60 -1 -88 6 l-51 12 68
41 c139 83 228 160 316 274 70 91 103 148 276 467 89 164 196 352 237 419 72
115 84 142 53 113z`}),p.jsx("path",{d:`M2950 2986 c0 -3 19 -36 41 -73 23 -38 44 -72 47 -78 3 -5 -2 -4 -11
4 -36 29 -17 -39 42 -152 156 -299 280 -522 346 -622 70 -106 115 -153 306
-328 48 -43 61 -60 50 -66 -11 -7 -11 -10 0 -15 8 -3 -22 -3 -66 0 -44 3 -282
10 -530 14 -480 9 -529 13 -705 66 -214 65 -476 202 -753 396 -54 37 -101 68
-105 68 -3 0 36 -44 88 -97 107 -110 176 -187 143 -159 -25 21 -29 13 -10 -21
24 -44 162 -196 256 -282 128 -118 261 -217 369 -274 100 -53 219 -100 232
-92 4 3 10 1 12 -4 1 -6 19 -12 38 -14 19 -3 80 -14 135 -26 425 -88 1010 -19
1890 224 170 48 302 88 310 97 3 2 -34 19 -83 38 -394 148 -651 260 -767 335
-27 17 -144 126 -260 242 -264 263 -492 453 -865 718 -69 48 -131 93 -137 98
-7 5 -13 7 -13 3z`}),p.jsx("path",{d:`M7065 1718 c-102 -6 -287 -38 -343 -59 -13 -5 -27 -7 -32 -4 -10 6
-154 -41 -258 -83 l-73 -30 -137 39 c-308 89 -541 100 -797 38 -44 -11 -96
-22 -115 -24 -19 -3 -73 -19 -120 -36 -82 -30 -111 -38 -264 -73 -44 -10 -74
-23 -83 -36 -28 -40 -253 -147 -455 -216 -57 -19 -110 -38 -118 -41 -8 -3 -21
-5 -29 -4 -8 1 -10 -2 -5 -10 5 -9 2 -10 -11 -6 -9 4 -23 3 -29 -2 -6 -5 -49
-18 -96 -29 -353 -84 -837 -94 -1342 -29 -54 7 -98 9 -98 5 0 -4 3 -8 8 -8 4
0 27 -19 52 -41 25 -22 38 -37 30 -34 -8 4 3 -11 25 -33 122 -124 694 -422
840 -437 17 -2 68 -13 115 -24 146 -34 245 -44 384 -38 295 13 531 113 904
383 411 298 606 408 778 440 29 5 34 3 34 -13 0 -31 -51 -71 -325 -255 -361
-242 -756 -533 -790 -581 -8 -12 -15 -36 -15 -53 0 -55 96 -164 145 -164 14 0
31 -11 43 -27 l20 -27 169 165 c206 200 364 341 549 489 225 180 511 363 663
426 l58 23 74 -25 c119 -40 343 -156 493 -254 269 -177 475 -345 811 -665 162
-154 197 -181 216 -169 6 3 25 -8 43 -25 l32 -31 98 116 c54 64 94 119 90 124
-5 4 -72 56 -149 115 -445 342 -904 650 -1228 824 -50 28 -99 56 -107 63 -8 7
-13 12 -11 11 2 -2 10 5 16 14 11 14 31 17 131 17 115 -1 232 -16 243 -32 3
-4 26 -14 51 -21 129 -37 308 -141 576 -332 227 -164 362 -253 464 -307 97
-52 250 -114 267 -108 7 3 13 1 13 -5 0 -6 4 -8 8 -5 5 3 33 -1 63 -9 157 -41
367 -48 535 -20 248 43 538 165 844 357 97 61 351 240 347 244 -1 2 -34 -1
-72 -6 -426 -53 -872 -56 -1182 -10 -334 51 -590 133 -1013 325 -405 184 -644
241 -935 223z`})]})})}function tTt(e){Sd("Sheet");const{characterId:t}=Bte(),n=ht(),[r,i]=j.useState(!1),{data:a,isFetching:o}=En({queryKey:[`find-content-${t}`],queryFn:async()=>{const d=await UE(void 0,!0);return u.stop(),d},refetchOnWindowFocus:!1}),[s,l]=j.useState(0),u=WX(()=>l(d=>d+2),30);j.useEffect(()=>(u.start(),u.stop),[]);const c=p.jsx(Z,{style:{width:"100%",height:"300px",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(qfe,{size:100,color:n.colors[n.primaryColor][5],percentage:s})});return o||!a?c:p.jsxs(p.Fragment,{children:[p.jsx("div",{style:{display:r?"none":void 0},children:c}),p.jsx("div",{style:{display:r?void 0:"none"},children:p.jsx(nTt,{content:a,characterId:t,onFinishLoading:()=>{u.stop(),i(!0)}})})]})}function nTt(e){Sd("Sheet");const t=z1(),[n,r]=Ct(Sr),{data:i,isLoading:a,isInitialLoading:o}=En({queryKey:[`find-character-${e.characterId}`],queryFn:async()=>{var h;const f=await dr("find-character",{id:e.characterId});return f?hse(((h=f.content_sources)==null?void 0:h.enabled)??[]):window.location.href="/characters",f},refetchOnWindowFocus:!1}),[s,l]=j.useState(),u=j.useRef(!1);j.useEffect(()=>{!n||u.current||(u.current=!0,Pse(n,e.content,"CHARACTER-SHEET").then(f=>{var h;l(f),u.current=!1,(h=e.onFinishLoading)==null||h.call(e)}))},[n]),j.useEffect(()=>{i&&r(i)},[i]);const[c]=$X(n,200);$n(()=>{c&&(console.log(c.notes),d({level:c.level,name:c.name,details:c.details,content_sources:c.content_sources,operation_data:c.operation_data,notes:c.notes}))},[c]);const{mutate:d}=Nie(async f=>{const h=await dr("update-character",{id:e.characterId,...f});return h?h.status==="success":!1},{onSuccess:()=>{t.invalidateQueries([`find-character-${e.characterId}`])}});return p.jsx(ta,{children:p.jsx(Z,{maw:1e3,w:"100%",children:p.jsxs(it,{gap:"xs",style:{position:"relative"},children:[p.jsxs(fm,{cols:3,spacing:"xs",verticalSpacing:"xs",children:[p.jsx(rTt,{}),p.jsx(iTt,{}),p.jsx(aTt,{}),p.jsx(oTt,{}),p.jsx(sTt,{}),p.jsx(lTt,{})]}),p.jsx(uTt,{content:e.content})]})})})}function rTt(){Ja();const e=ht(),[t,n]=Ct(an),[r,i]=Ct(Sr);return p.jsx(ns,{blur:10,children:p.jsx(Z,{pt:"xs",pb:5,px:"xs",style:{borderTopLeftRadius:e.radius.md,borderTopRightRadius:e.radius.md,position:"relative"},children:p.jsx(it,{gap:2,children:p.jsx(gk,{character:r,color:"gray.5",nameCutOff:20,onClickAncestry:()=>{var a,o;n({type:"ancestry",data:{id:(o=(a=r==null?void 0:r.details)==null?void 0:a.ancestry)==null?void 0:o.id}})},onClickBackground:()=>{var a,o;n({type:"background",data:{id:(o=(a=r==null?void 0:r.details)==null?void 0:a.background)==null?void 0:o.id}})},onClickClass:()=>{var a,o;n({type:"class",data:{id:(o=(a=r==null?void 0:r.details)==null?void 0:a.class)==null?void 0:o.id}})}})})})})}function iTt(){Ja();const e=ht();Ct(an);const[t,n]=Ct(Sr),r=Hse();let i=t==null?void 0:t.hp_current;(i===void 0||i<0)&&(i=r);let a=t==null?void 0:t.hp_temp;return(a===void 0||a<0)&&(a=0),p.jsx(ns,{blur:10,children:p.jsx(Z,{pt:"xs",pb:5,px:"xs",style:{borderTopLeftRadius:e.radius.md,borderTopRightRadius:e.radius.md,position:"relative"},h:"100%",children:p.jsxs(Ae,{justify:"space-between",style:{flexDirection:"column"},h:"100%",gap:0,children:[p.jsxs(Ae,{wrap:"nowrap",justify:"space-between",align:"flex-start",w:"100%",gap:0,grow:!0,children:[p.jsxs(Z,{children:[p.jsx(pe,{ta:"center",fz:"md",fw:500,c:"gray.0",children:"Hit Points"}),p.jsxs(Ae,{wrap:"nowrap",justify:"center",align:"center",gap:10,children:[p.jsx(LY,{color:KMt(i/r),size:"xl",value:`${i}`,height:50,width:50,placeholder:"HP",onChange:o=>{let s=-1;try{s=h1(o)}catch{s=parseInt(o)}isNaN(s)&&(s=0),s=Math.floor(s),s<0&&(s=0),s>r&&(s=r),n(l=>l&&{...l,hp_current:s})}}),p.jsx(Z,{children:p.jsx(pe,{size:"md",c:"gray.4",children:"/"})}),p.jsx(Z,{children:p.jsx(pe,{size:"lg",c:"gray.3",children:r})})]})]}),p.jsxs(Z,{children:[p.jsx(pe,{ta:"center",fz:"sm",fw:500,c:"gray.0",children:"Temp. HP"}),p.jsx(LY,{color:a?"blue":"gray.5",size:"xl",value:a?`${a}`:"—",height:50,width:50,placeholder:"HP",onChange:o=>{let s=-1;try{s=h1(o)}catch{s=parseInt(o)}isNaN(s)&&(s=0),s=Math.floor(s),s<0&&(s=0),n(l=>l&&{...l,hp_temp:s})}})]})]}),p.jsx(mt,{variant:"subtle",color:"gray.5",size:"compact-xs",fw:400,children:"Resistances & Weaknesses"})]})})})}function aTt(){Ja();const e=ht();return Ct(an),Ct(Sr),p.jsx(ns,{blur:10,children:p.jsx(Z,{pt:"xs",pb:5,px:"xs",style:{borderTopLeftRadius:e.radius.md,borderTopRightRadius:e.radius.md,position:"relative"},h:"100%",children:p.jsxs(Ae,{align:"flex-start",grow:!0,children:[p.jsxs(Z,{children:[p.jsxs(Ae,{wrap:"nowrap",gap:5,justify:"center",children:[p.jsx(pe,{ta:"center",fz:"md",fw:500,c:"gray.0",children:"Conditions"}),p.jsx(bt,{variant:"light","aria-label":"Add Condition",size:"xs",radius:"xl",color:"gray",children:p.jsx(cR,{size:"1rem",stroke:1.5})})]}),p.jsx(Jn,{h:70,children:p.jsxs(Ae,{gap:5,justify:"center",children:[p.jsx(oy,{text:"Frightened",amount:4}),p.jsx(oy,{text:"Frightened",amount:4}),p.jsx(oy,{text:"Frightened",amount:4}),p.jsx(oy,{text:"Frightened",amount:4}),p.jsx(oy,{text:"Frightened",amount:4})]})})]}),p.jsxs(Z,{w:80,style:{position:"relative"},children:[p.jsx(Z,{style:{position:"absolute",top:20,left:"50%",transform:"translate(-50%, 0px)"},children:p.jsx(eTt,{size:80,color:"#dee2e625"})}),p.jsxs(Ae,{justify:"flex-start",style:{flexDirection:"column"},h:100,gap:20,children:[p.jsx(pe,{ta:"center",fz:"md",fw:500,c:"gray.0",children:"Hero Points"}),p.jsx(Ae,{justify:"center",children:p.jsx(y_t,{count:3,size:"md",emptySymbol:p.jsx(bt,{variant:"transparent","aria-label":"Hero Point Empty",size:"xs",children:p.jsx(zIe,{size:"1rem"})}),fullSymbol:p.jsx(bt,{variant:"transparent","aria-label":"Hero Point Full",size:"xs",children:p.jsx(BIe,{size:"1rem"})})})})]})]})]})})})}function oTt(){Ja();const e=ht();return Ct(an),Ct(Sr),p.jsx(ns,{blur:10,children:p.jsx(Z,{pt:"xs",pb:5,px:"xs",style:{borderTopLeftRadius:e.radius.md,borderTopRightRadius:e.radius.md,position:"relative"},h:"100%",children:p.jsx(fm,{cols:2,spacing:"sm",verticalSpacing:"sm",children:cu().map((t,n)=>p.jsxs(mt.Group,{children:[p.jsx(QO,{size:"compact-xs",fw:400,children:Ts(t)}),p.jsx(mt,{radius:"xl",variant:"light",color:"dark.5",size:"compact-xs",w:35,children:Wse(t.name,{c:"gray.0",ta:"center",fz:"xs"})})]},n))})})})}function sTt(){Ja();const e=ht();return Ct(an),Ct(Sr),p.jsx(ns,{blur:10,children:p.jsx(Z,{pt:"xs",pb:5,px:"xs",style:{borderTopLeftRadius:e.radius.md,borderTopRightRadius:e.radius.md,position:"relative"},h:"100%",children:p.jsxs(Ae,{wrap:"nowrap",gap:5,justify:"space-between",children:[p.jsxs(Ae,{wrap:"nowrap",gap:0,justify:"center",children:[p.jsxs(Z,{style:{position:"relative"},children:[p.jsx(YMt,{size:85,color:"#dee2e625"}),p.jsxs(it,{gap:0,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[p.jsx(pe,{ta:"center",fz:"lg",c:"gray.0",fw:500,lh:"1.1em",children:"25"}),p.jsx(pe,{ta:"center",c:"gray.5",fz:"xs",children:"AC"})]})]}),p.jsxs(Z,{style:{position:"relative"},children:[p.jsx(JMt,{size:85,color:"#dee2e625"}),p.jsxs(it,{gap:0,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[p.jsx(pe,{ta:"center",fz:"lg",c:"gray.0",fw:500,lh:"1.1em",pr:5,children:"+2"}),p.jsx(pe,{ta:"center",fz:8,style:{whiteSpace:"nowrap"},children:"Hardness 5"}),p.jsx(ta,{children:p.jsx(_7,{size:30,thickness:3,sections:[{value:40,color:"guide"}],label:p.jsx(pe,{fz:8,ta:"center",style:{pointerEvents:"none"},children:"HP"})})})]})]})]}),p.jsx(it,{gap:"sm",children:Mse().map((t,n)=>p.jsxs(mt.Group,{children:[p.jsx(QO,{size:"compact-xs",fw:400,children:Ts(t)}),p.jsxs(mt,{radius:"xl",variant:"light",color:"dark.5",size:"compact-xs",w:50,style:{position:"relative"},children:[p.jsx(pe,{c:"gray.0",fz:"xs",pr:15,children:La(t.name)}),p.jsx(ft,{size:"xs",variant:"light",color:"dark.0",style:{position:"absolute",top:"50%",left:"80%",transform:"translate(-50%, -50%)"},children:t==null?void 0:t.value.value})]})]},n))})]})})})}function lTt(){Ja();const e=ht();return Ct(an),Ct(Sr),p.jsx(ns,{blur:10,children:p.jsx(Z,{pt:"xs",pb:5,px:"xs",style:{borderTopLeftRadius:e.radius.md,borderTopRightRadius:e.radius.md,position:"relative"},h:"100%",children:p.jsxs(Ae,{wrap:"nowrap",gap:5,align:"flex-start",grow:!0,children:[p.jsxs(Z,{style:{position:"relative"},children:[p.jsx(Z,{style:{position:"absolute",top:"55%",left:"50%",transform:"translate(-50%, -50%)"},children:p.jsx(QMt,{size:80,color:"#dee2e625"})}),p.jsxs(it,{gap:10,children:[p.jsx(pe,{ta:"center",fz:"sm",fw:500,c:"gray.0",children:"Perception"}),p.jsx(pe,{ta:"center",fz:"lg",c:"gray.0",fw:500,lh:"1.5em",children:La("PERCEPTION")}),p.jsx(pe,{fz:"xs",c:"gray.5",ta:"center",children:"Normal Vision"})]})]}),p.jsxs(Z,{style:{position:"relative"},children:[p.jsx(Z,{style:{position:"absolute",top:"60%",left:"50%",transform:"translate(-50%, -50%)"},children:p.jsx(XMt,{size:75,color:"#dee2e625"})}),p.jsxs(it,{gap:10,children:[p.jsx(pe,{ta:"center",fz:"sm",fw:500,c:"gray.0",children:"Speed"}),p.jsxs(pe,{ta:"center",fz:"lg",c:"gray.0",fw:500,lh:"1.5em",pl:15,children:[25,p.jsxs(pe,{fz:"xs",c:"gray.3",span:!0,children:[" ","ft."]})]}),p.jsx(pe,{fz:"xs",c:"gray.5",ta:"center",children:"And Others"})]})]}),p.jsxs(Z,{style:{position:"relative"},children:[p.jsx(Z,{style:{position:"absolute",top:"85%",left:"50%",transform:"translate(-50%, -50%)"},children:p.jsx(ZMt,{size:50,color:"#dee2e625"})}),p.jsxs(it,{gap:10,children:[p.jsx(pe,{ta:"center",fz:"sm",fw:500,c:"gray.0",children:"Class DC"}),p.jsx(pe,{ta:"center",fz:"lg",c:"gray.0",fw:500,lh:"1.5em",children:La("CLASS_DC",!0)})]})]})]})})})}function uTt(e){var h;const t=ht(),[n,r]=j.useState("skills-actions"),{hovered:i,ref:a}=Wn(),o=550,s={width:me(12),height:me(12)},l=["skills-actions","inventory","spells","feats-features","companions","details","notes","extras"],u=((h=Tt("PRIMARY_BUILDER_TABS"))==null?void 0:h.value)??[],c=l.filter(m=>!u.includes(m)),d=c.find(m=>m===n),f=m=>{switch(m){case"skills-actions":return p.jsx(sR,{style:s});case"inventory":return p.jsx(xre,{style:s});case"spells":return p.jsx(Nre,{style:s});case"feats-features":return p.jsx(Ere,{style:s});case"companions":return p.jsx(Bre,{style:s});case"details":return p.jsx(qIe,{style:s});case"notes":return p.jsx(jre,{style:s});case"extras":return p.jsx(Lre,{style:s});default:return null}};return p.jsx(ns,{blur:10,p:"sm",children:p.jsxs(kt,{color:"dark.6",variant:"pills",radius:"xl",keepMounted:!1,value:n,onChange:r,children:[p.jsxs(kt.List,{pb:10,grow:!0,children:[u.includes("skills-actions")&&p.jsx(kt.Tab,{value:"skills-actions",leftSection:f("skills-actions"),children:"Skills & Actions"}),u.includes("inventory")&&p.jsx(kt.Tab,{value:"inventory",leftSection:f("inventory"),children:"Inventory"}),u.includes("spells")&&p.jsx(kt.Tab,{value:"spells",leftSection:f("spells"),children:"Spells"}),u.includes("feats-features")&&p.jsx(kt.Tab,{value:"feats-features",leftSection:f("feats-features"),children:"Feats & Features"}),u.includes("companions")&&p.jsx(kt.Tab,{value:"companions",leftSection:f("companions"),children:"Companions"}),u.includes("details")&&p.jsx(kt.Tab,{value:"details",leftSection:f("details"),children:"Details"}),u.includes("notes")&&p.jsx(kt.Tab,{value:"notes",leftSection:f("notes"),children:"Notes"}),p.jsxs(je,{shadow:"md",width:160,trigger:"hover",openDelay:100,closeDelay:100,children:[p.jsx(je.Target,{children:p.jsx(bt,{variant:"subtle",color:"gray.4",size:"lg",radius:"xl","aria-label":"Tab Options",ref:a,style:{backgroundColor:i||d?t.colors.dark[6]:"transparent",color:d?t.colors.gray[0]:void 0},children:p.jsx(ia,{style:{width:"70%",height:"70%"},stroke:1.5})})}),p.jsxs(je.Dropdown,{children:[p.jsx(je.Label,{children:"Other sections"}),c.map(m=>p.jsx(je.Item,{leftSection:f(m),onClick:()=>{r(m)},style:{backgroundColor:n===m?t.colors.dark[4]:void 0,color:n===m?t.colors.gray[0]:void 0},children:hu(m)}))]})]})]}),p.jsx(kt.Panel,{value:"skills-actions",children:p.jsx(cTt,{content:e.content,panelHeight:o})}),p.jsx(kt.Panel,{value:"inventory",children:p.jsx(fTt,{panelHeight:o})}),p.jsx(kt.Panel,{value:"spells",children:p.jsx(hTt,{panelHeight:o})}),p.jsx(kt.Panel,{value:"feats-features",children:p.jsx(pTt,{panelHeight:o})}),p.jsx(kt.Panel,{value:"companions",children:p.jsx(mTt,{panelHeight:o})}),p.jsx(kt.Panel,{value:"details",children:p.jsx(gTt,{content:e.content,panelHeight:o})}),p.jsx(kt.Panel,{value:"notes",children:p.jsx(vTt,{panelHeight:o})}),p.jsx(kt.Panel,{value:"extras",children:p.jsx(yTt,{panelHeight:o})})]})})}function cTt(e){const t=ht(),[n,r]=j.useState(""),[i,a]=Ct(an),[o,s]=j.useState("ALL"),[l,u]=j.useState(null);return p.jsxs(Ae,{gap:10,align:"flex-start",style:{height:e.panelHeight},children:[p.jsx(Z,{style:{flexBasis:"calc(30% - 10px)"},h:"100%",children:p.jsxs(it,{gap:5,children:[p.jsx(sn,{style:{flex:1},leftSection:p.jsx(W0,{size:"0.9rem"}),placeholder:"Search skills",onChange:c=>r(c.target.value),styles:{input:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}}),p.jsx(Jn,{h:e.panelHeight-50,children:p.jsx(it,{gap:5,children:Gb().filter(c=>c.name!=="SKILL_LORE____").filter(c=>{var d;return Ts(c).toLowerCase().includes(n.toLowerCase().trim())||Yf(c.value.attribute??"").toLowerCase().endsWith(n.toLowerCase().trim())||((d=c.value.attribute)==null?void 0:d.toLowerCase().endsWith(n.toLowerCase().trim()))}).map((c,d)=>p.jsxs(Yn,{onClick:()=>{a({type:"stat-prof",data:{variableName:c.name}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:Ts(c)})}),p.jsxs(Ae,{children:[p.jsx(pe,{c:"gray.0",children:La(c.name)}),p.jsx(ft,{variant:"default",children:c==null?void 0:c.value.value})]})]},d))})})]})}),p.jsx(Z,{style:{flexBasis:"70%"},h:"100%",children:p.jsxs(it,{gap:5,children:[p.jsxs(Ae,{children:[p.jsx(sn,{style:{flex:1},leftSection:p.jsx(W0,{size:"0.9rem"}),placeholder:"Search actions & activities",onChange:c=>r(c.target.value),styles:{input:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}}),p.jsxs(Ae,{gap:5,children:[p.jsx(bt,{variant:"subtle",color:"dark",radius:"xl",size:"lg","aria-label":"Filter One Action",style:{backgroundColor:o==="ALL"?t.colors.dark[6]:void 0},onClick:()=>{s("ALL")},children:p.jsx(pe,{c:"gray.3",children:"All"})}),p.jsx(bt,{variant:"subtle",color:"dark",radius:"xl",size:"lg","aria-label":"Filter One Action",style:{backgroundColor:o==="ONE-ACTION"?t.colors.dark[6]:void 0},onClick:()=>{s("ONE-ACTION")},children:p.jsx(ei,{cost:"ONE-ACTION",size:"1.9rem"})}),p.jsx(bt,{variant:"subtle",color:"dark",radius:"xl",size:"lg","aria-label":"Filter Two Actions",style:{backgroundColor:o==="TWO-ACTIONS"?t.colors.dark[6]:void 0},onClick:()=>{s("TWO-ACTIONS")},children:p.jsx(ei,{cost:"TWO-ACTIONS",size:"1.9rem"})}),p.jsx(bt,{variant:"subtle",color:"dark",radius:"xl",size:"lg","aria-label":"Filter Three Actions",style:{backgroundColor:o==="THREE-ACTIONS"?t.colors.dark[6]:void 0},onClick:()=>{s("THREE-ACTIONS")},children:p.jsx(ei,{cost:"THREE-ACTIONS",size:"1.9rem"})}),p.jsx(bt,{variant:"subtle",color:"dark",radius:"xl",size:"lg","aria-label":"Filter Free Action",style:{backgroundColor:o==="FREE-ACTION"?t.colors.dark[6]:void 0},onClick:()=>{s("FREE-ACTION")},children:p.jsx(ei,{cost:"FREE-ACTION",size:"1.9rem"})}),p.jsx(bt,{variant:"subtle",color:"dark",radius:"xl",size:"lg","aria-label":"Filter Reaction",style:{backgroundColor:o==="REACTION"?t.colors.dark[6]:void 0},onClick:()=>{s("REACTION")},children:p.jsx(ei,{cost:"REACTION",size:"1.9rem"})})]})]}),p.jsx(Jn,{h:e.panelHeight-50,children:p.jsxs(nt,{value:l,onChange:u,variant:"filled",styles:{label:{paddingTop:5,paddingBottom:5},control:{paddingLeft:13,paddingRight:13},item:{marginTop:0,marginBottom:5}},children:[p.jsx(qd,{id:"weapon-attacks",title:"Weapon Attacks",opened:l==="weapon-attacks",actions:[]}),p.jsx(qd,{id:"feats",title:"Feats (with Actions)",opened:l==="feats",actions:[]}),p.jsx(qd,{id:"items",title:"Items (with Actions)",opened:l==="items",actions:[]}),p.jsx(qd,{id:"basic-actions",title:"Basic Actions",opened:l==="basic-actions",actions:[]}),p.jsx(qd,{id:"skill-actions",title:"Skill Actions",opened:l==="skill-actions",actions:[]}),p.jsx(qd,{id:"speciality-basic-actions",title:"Speciality Basics",opened:l==="speciality-basic-actions",actions:[]}),p.jsx(qd,{id:"exploration-activities",title:"Exploration Activities",opened:l==="exploration-activities",actions:[]}),p.jsx(qd,{id:"downtime-activities",title:"Downtime Activities",opened:l==="downtime-activities",actions:[]})]})})]})})]})}function qd(e){ht(),j.useState(null);const{hovered:t,ref:n}=Wn();return p.jsxs(nt.Item,{ref:n,value:e.id,style:{backgroundColor:t&&!e.opened?"rgba(0, 0, 0, 0.1)":void 0},children:[p.jsx(nt.Control,{children:p.jsxs(Ae,{wrap:"nowrap",justify:"space-between",gap:0,children:[p.jsx(pe,{c:"gray.5",fw:700,fz:"sm",children:e.title}),p.jsx(ft,{mr:"sm",variant:"outline",color:"gray.5",size:"xs",children:p.jsx(pe,{fz:"sm",c:"gray.5",span:!0,children:e.actions.length})})]})}),p.jsx(nt.Panel,{children:e.actions.map((r,i)=>p.jsx(dTt,{action:r,onClick:()=>{}},i))})]})}function dTt(e){const t=ht(),{hovered:n,ref:r}=Wn(),[i,a]=Ct(an);return p.jsxs(Ae,{ref:r,p:"sm",style:{cursor:"pointer",borderBottom:"1px solid "+t.colors.dark[6],backgroundColor:n?t.colors.dark[6]:"transparent",position:"relative"},onClick:()=>e.onClick(e.action),justify:"space-between",children:[e.action.level&&p.jsxs(pe,{fz:10,c:"dimmed",ta:"right",w:14,style:{position:"absolute",top:15,left:1},children:[e.action.level,"."]}),p.jsxs(Ae,{wrap:"nowrap",gap:5,children:[p.jsx(Z,{pl:8,children:p.jsx(pe,{fz:"sm",children:e.action.name})}),p.jsx(Z,{children:p.jsx(ei,{cost:e.action.cost})})]}),p.jsxs(Ae,{wrap:"nowrap",justify:"flex-end",style:{marginLeft:"auto"},children:[p.jsx(Z,{children:p.jsx(hi,{justify:"flex-end",size:"xs",traitIds:e.action.traits??[],rarity:e.action.rarity})}),p.jsx(Z,{w:50})]}),p.jsx(mt,{size:"compact-xs",variant:"subtle",style:{position:"absolute",top:12,right:10},onClick:o=>{o.stopPropagation(),a({type:"feat",data:{id:e.action.id}})},children:"Details"})]})}function fTt(e){return null}function hTt(e){return null}function pTt(e){return null}function mTt(e){return null}function gTt(e){var l,u,c,d,f,h,m,g,S,y,E,x,v,C,b,A,_,T,M,N,I,F,$,z,D,P,V,B,H,K,W,L,G,de,Q,ee,ne,se,ge,xe;const[t,n]=Ct(an),[r,i]=Ct(Sr),a=(((l=Tt("LANGUAGE_IDS"))==null?void 0:l.value)??[]).map(we=>e.content.languages.find(ze=>`${ze.id}`===we)),o=bQe(),s=wQe();return p.jsxs(Ae,{align:"flex-start",children:[p.jsx(Ha,{shadow:"sm",p:"sm",h:"100%",style:{backgroundColor:"rgba(0, 0, 0, 0.13)",flex:1},children:p.jsxs(it,{gap:10,children:[p.jsx(zt,{order:4,children:"Information"}),p.jsx(Jn,{h:e.panelHeight-60,children:p.jsx(Z,{w:280,children:p.jsxs(it,{gap:5,children:[p.jsx(sn,{label:"Organized Play ID",placeholder:"Organized Play ID",defaultValue:(c=(u=r==null?void 0:r.details)==null?void 0:u.info)==null?void 0:c.organized_play_id,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,organized_play_id:we.target.value}}})},rightSection:p.jsx(bt,{variant:"subtle",radius:"xl",color:"gray.5","aria-label":"Organized Play Website",component:"a",href:"https://paizo.com/organizedplay",target:"_blank",children:p.jsx(uR,{style:{width:"70%",height:"70%"},stroke:1.5})})}),p.jsx(Lt,{mt:"sm"}),p.jsx(yi,{label:"Appearance",placeholder:"Appearance",autosize:!0,defaultValue:(f=(d=r==null?void 0:r.details)==null?void 0:d.info)==null?void 0:f.appearance,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,appearance:we.target.value}}})}}),p.jsx(yi,{label:"Personality",placeholder:"Personality",autosize:!0,defaultValue:(m=(h=r==null?void 0:r.details)==null?void 0:h.info)==null?void 0:m.personality,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,personality:we.target.value}}})}}),p.jsx(yi,{label:"Alignment",placeholder:"Alignment",autosize:!0,defaultValue:(S=(g=r==null?void 0:r.details)==null?void 0:g.info)==null?void 0:S.alignment,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,alignment:we.target.value}}})}}),p.jsx(yi,{label:"Beliefs",placeholder:"Beliefs",autosize:!0,defaultValue:(E=(y=r==null?void 0:r.details)==null?void 0:y.info)==null?void 0:E.beliefs,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,beliefs:we.target.value}}})}}),p.jsx(Lt,{mt:"sm"}),p.jsx(sn,{label:"Age",placeholder:"Age",defaultValue:(v=(x=r==null?void 0:r.details)==null?void 0:x.info)==null?void 0:v.age,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,age:we.target.value}}})}}),p.jsx(sn,{label:"Height",placeholder:"Height",defaultValue:(b=(C=r==null?void 0:r.details)==null?void 0:C.info)==null?void 0:b.height,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,height:we.target.value}}})}}),p.jsx(sn,{label:"Weight",placeholder:"Weight",defaultValue:(_=(A=r==null?void 0:r.details)==null?void 0:A.info)==null?void 0:_.weight,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,weight:we.target.value}}})}}),p.jsx(sn,{label:"Gender",placeholder:"Gender",defaultValue:(M=(T=r==null?void 0:r.details)==null?void 0:T.info)==null?void 0:M.gender,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,gender:we.target.value}}})}}),p.jsx(sn,{label:"Pronouns",placeholder:"Pronouns",defaultValue:(I=(N=r==null?void 0:r.details)==null?void 0:N.info)==null?void 0:I.pronouns,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,pronouns:we.target.value}}})}}),p.jsx(Lt,{mt:"sm"}),p.jsx(sn,{label:"Faction",placeholder:"Faction",defaultValue:($=(F=r==null?void 0:r.details)==null?void 0:F.info)==null?void 0:$.faction,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,faction:we.target.value}}})}}),p.jsx(sn,{label:"Ethnicity",placeholder:"Ethnicity",defaultValue:(D=(z=r==null?void 0:r.details)==null?void 0:z.info)==null?void 0:D.ethnicity,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,ethnicity:we.target.value}}})}}),p.jsx(sn,{label:"Nationality",placeholder:"Nationality",defaultValue:(V=(P=r==null?void 0:r.details)==null?void 0:P.info)==null?void 0:V.nationality,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,nationality:we.target.value}}})}}),p.jsx(sn,{label:"Birthplace",placeholder:"Birthplace",defaultValue:(H=(B=r==null?void 0:r.details)==null?void 0:B.info)==null?void 0:H.birthplace,onChange:we=>{var _e;r&&i({...r,details:{...r.details,info:{...(_e=r.details)==null?void 0:_e.info,birthplace:we.target.value}}})}})]})})})]})}),p.jsx(Ha,{shadow:"sm",p:"sm",h:"100%",style:{backgroundColor:"rgba(0, 0, 0, 0.13)"},children:p.jsxs(it,{gap:10,children:[p.jsx(zt,{order:4,children:"Languages"}),p.jsx(Jn,{h:e.panelHeight-60,children:p.jsx(Z,{w:280,children:p.jsx(Kp.Group,{children:a.map((we,_e)=>p.jsx(Kp,{size:"md",styles:{label:{cursor:"pointer"}},onClick:()=>{n({type:"language",data:{id:we==null?void 0:we.id}})},children:(we==null?void 0:we.name)??"Unknown"},_e))})})})]})}),p.jsx(Ha,{shadow:"sm",p:"sm",h:"100%",style:{backgroundColor:"rgba(0, 0, 0, 0.13)"},children:p.jsxs(it,{gap:10,children:[p.jsx(zt,{order:4,children:"Proficiencies"}),p.jsx(Jn,{h:e.panelHeight-60,children:p.jsx(Z,{w:280,children:p.jsxs(nt,{variant:"separated",styles:{label:{paddingTop:5,paddingBottom:5},control:{paddingLeft:13,paddingRight:13},item:{marginTop:0,marginBottom:5}},children:[p.jsxs(nt.Item,{className:nl.item,value:"attacks",w:"100%",children:[p.jsx(nt.Control,{children:p.jsx(pe,{c:"white",fz:"sm",children:"Attacks"})}),p.jsx(nt.Panel,{children:p.jsxs(it,{gap:5,children:[p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:"SIMPLE_WEAPONS"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Simple Weapons"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(K=Tt("SIMPLE_WEAPONS"))==null?void 0:K.value.value})})]}),p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:"MARTIAL_WEAPONS"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Martial Weapons"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(W=Tt("MARTIAL_WEAPONS"))==null?void 0:W.value.value})})]}),p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:"ADVANCED_WEAPONS"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Advanced Weapons"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(L=Tt("ADVANCED_WEAPONS"))==null?void 0:L.value.value})})]}),p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:"UNARMED_ATTACKS"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Unarmed Attacks"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(G=Tt("UNARMED_ATTACKS"))==null?void 0:G.value.value})})]})]})})]}),p.jsxs(nt.Item,{className:nl.item,value:"defenses",children:[p.jsx(nt.Control,{children:p.jsx(pe,{c:"white",fz:"sm",children:"Defenses"})}),p.jsx(nt.Panel,{children:p.jsxs(it,{gap:5,children:[p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:"LIGHT_ARMOR"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Light Armor"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(de=Tt("LIGHT_ARMOR"))==null?void 0:de.value.value})})]}),p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:"MEDIUM_ARMOR"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Medium Armor"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(Q=Tt("MEDIUM_ARMOR"))==null?void 0:Q.value.value})})]}),p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:"HEAVY_ARMOR"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Heavy Armor"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(ee=Tt("HEAVY_ARMOR"))==null?void 0:ee.value.value})})]}),p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:"UNARMORED_DEFENSE"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Unarmored Defense"})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:(ne=Tt("UNARMORED_DEFENSE"))==null?void 0:ne.value.value})})]})]})})]}),p.jsxs(nt.Item,{className:nl.item,value:"spellcasting",children:[p.jsx(nt.Control,{children:p.jsx(pe,{c:"white",fz:"sm",children:"Spellcasting"})}),p.jsx(nt.Panel,{children:p.jsxs(it,{gap:5,children:[p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:"SPELL_ATTACK"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Spell Attack"})}),p.jsxs(Ae,{children:[p.jsx(pe,{c:"gray.0",children:La("SPELL_ATTACK")}),p.jsx(ft,{variant:"default",children:(se=Tt("SPELL_ATTACK"))==null?void 0:se.value.value})]})]}),p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:"SPELL_DC"}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Spell DC"})}),p.jsxs(Ae,{children:[p.jsx(pe,{c:"gray.0",children:La("SPELL_DC")}),p.jsx(ft,{variant:"default",children:(ge=Tt("SPELL_DC"))==null?void 0:ge.value.value})]})]})]})})]}),p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:"CLASS_DC",isDC:!0}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:"Class DC"})}),p.jsxs(Ae,{children:[p.jsx(pe,{c:"gray.0",children:La("CLASS_DC",!0)}),p.jsx(ft,{variant:"default",children:(xe=Tt("CLASS_DC"))==null?void 0:xe.value.value})]})]}),o.length>0&&p.jsxs(nt.Item,{className:nl.item,value:"weapons",children:[p.jsx(nt.Control,{children:p.jsx(pe,{c:"white",fz:"sm",children:"Weapons"})}),p.jsx(nt.Panel,{children:p.jsx(it,{gap:5,children:o.map((we,_e)=>p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:we.name}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:Ts(we)})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:we.value.value})})]},_e))})})]}),s.length>0&&p.jsxs(nt.Item,{className:nl.item,value:"armor",children:[p.jsx(nt.Control,{children:p.jsx(pe,{c:"white",fz:"sm",children:"Armor"})}),p.jsx(nt.Panel,{children:p.jsx(it,{gap:5,children:s.map((we,_e)=>p.jsxs(Yn,{onClick:()=>{n({type:"stat-prof",data:{variableName:we.name}})},children:[p.jsx(Z,{children:p.jsx(pe,{c:"gray.0",fz:"sm",children:Ts(we)})}),p.jsx(Ae,{children:p.jsx(ft,{variant:"default",children:we.value.value})})]},_e))})})]})]})})})]})})]})}function vTt(e){var s,l,u;const[t,n]=j.useState("0"),[r,i]=Ct(Sr),a={name:"Notes",icon:"notebook",color:((l=(s=r==null?void 0:r.details)==null?void 0:s.sheet_theme)==null?void 0:l.color)||Xp,contents:null},o=((u=r==null?void 0:r.notes)==null?void 0:u.pages)??[Ze.cloneDeep(a)];return p.jsxs(kt,{orientation:"vertical",value:t,onChange:n,children:[p.jsxs(kt.List,{w:180,h:e.panelHeight,children:[o.map((c,d)=>p.jsx(kt.Tab,{value:`${d}`,leftSection:p.jsx(bt,{variant:"transparent","aria-label":`${c.name}`,color:c.color,size:"xs",children:p.jsx(_I,{name:c.icon,size:"1rem"})}),color:c.color,children:Ze.truncate(c.name,{length:16})},d)),p.jsx(kt.Tab,{value:"add_page",mt:"auto",leftSection:p.jsx(bt,{variant:"transparent",size:"xs",color:"gray.5",children:p.jsx(cR,{size:"1rem"})}),onClick:c=>{if(!r)return;c.stopPropagation(),c.preventDefault();const d=Ze.cloneDeep(o);d.push(Ze.cloneDeep(a)),i({...r,notes:{...r.notes,pages:d}}),n(`${d.length-1}`)},children:"Add Page"})]}),o.map((c,d)=>p.jsx(kt.Panel,{value:`${d}`,style:{position:"relative"},children:p.jsxs(Jn,{h:e.panelHeight,children:[p.jsx(ud,{placeholder:"Your notes...",value:c.contents,onChange:(f,h)=>{if(!r)return;const m=Ze.cloneDeep(o);m[d].contents=h,i({...r,notes:{...r.notes,pages:m}})}}),p.jsx(bt,{variant:"subtle","aria-label":"Page Settings",size:"md",radius:"xl",color:"gray.5",style:{position:"absolute",top:10,right:10},onClick:()=>{Zp({modal:"updateNotePage",title:p.jsx(zt,{order:3,children:"Update Page"}),innerProps:{page:c,onUpdate:(f,h,m)=>{if(!r)return;const g=Ze.cloneDeep(o);g[d]={...g[d],name:f,icon:h,color:m},i({...r,notes:{...r.notes,pages:g}})},onDelete:()=>{if(!r)return;const f=Ze.cloneDeep(o);f.splice(d,1),i({...r,notes:{...r.notes,pages:f}}),n("0")}}})},children:p.jsx(dR,{size:"1.2rem"})})]})},d))]})}function yTt(e){return null}const bTt=new _Fe,o2=iLe("https://fdrjqcyjklatdrmjdnys.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZkcmpxY3lqa2xhdGRybWpkbnlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTY5NjQ4MzksImV4cCI6MjAxMjU0MDgzOX0.XICGVXHUzO0qz8wHKlZgy1fn1VBSZWWoaDrWUl_BKaU");(async()=>{const e=await caches.keys();for(const t of e)caches.delete(t);"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(async t=>{await t.unregister()})})();const wTt=S6e([{path:"/",element:p.jsx(PZe,{}),errorElement:p.jsx(UZe,{}),children:[{path:"",element:p.jsx(VZe,{})},{path:"characters",element:p.jsx(Yx,{page:p.jsx(h_t,{})})},{path:"admin",element:p.jsx(Yx,{page:p.jsx(gEt,{})})},{path:"builder/:characterId",element:p.jsx(Yx,{page:p.jsx(i_t,{})}),loader:async({params:e})=>({characterId:e.characterId})},{path:"sheet/:characterId",element:p.jsx(Yx,{page:p.jsx(tTt,{})}),loader:async({params:e})=>({characterId:e.characterId})},{path:"login",element:p.jsx(ttt,{})},{path:"*",element:p.jsx(LZe,{})}]}]),xTt=w_.createRoot(document.getElementById("root"));xTt.render(p.jsx(O.StrictMode,{children:p.jsx(UFe,{client:bTt,children:p.jsx(v7e,{children:p.jsx(g6e,{router:wTt})})})}));
